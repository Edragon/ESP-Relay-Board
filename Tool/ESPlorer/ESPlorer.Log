<?xml version="1.0" encoding="GBK" standalone="no"?>
<!DOCTYPE log SYSTEM "logger.dtd">
<log>
<record>
  <date>2016-11-11T01:44:21</date>
  <millis>1478799861277</millis>
  <sequence>6</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Set new color theme: Success.</message>
</record>
<record>
  <date>2016-11-11T01:44:21</date>
  <millis>1478799861284</millis>
  <sequence>7</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Load saved settings: DONE.</message>
</record>
<record>
  <date>2016-11-11T01:44:21</date>
  <millis>1478799861287</millis>
  <sequence>8</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Snippets (LUA): loading...</message>
</record>
<record>
  <date>2016-11-11T01:44:21</date>
  <millis>1478799861292</millis>
  <sequence>9</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Snippets (LUA) load: Success.</message>
</record>
<record>
  <date>2016-11-11T01:44:21</date>
  <millis>1478799861724</millis>
  <sequence>10</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Scan system...</message>
</record>
<record>
  <date>2016-11-11T01:44:21</date>
  <millis>1478799861729</millis>
  <sequence>11</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>found COM11</message>
</record>
<record>
  <date>2016-11-11T01:44:21</date>
  <millis>1478799861732</millis>
  <sequence>12</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Scan done.</message>
</record>
<record>
  <date>2016-11-11T01:44:44</date>
  <millis>1478799884023</millis>
  <sequence>13</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Serial port COM11 save as default.</message>
</record>
<record>
  <date>2016-11-11T01:44:44</date>
  <millis>1478799884024</millis>
  <sequence>14</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Baud rate 9600 save as default.</message>
</record>
<record>
  <date>2016-11-11T01:44:44</date>
  <millis>1478799884026</millis>
  <sequence>15</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to open port COM11, baud 9600, 8N1</message>
</record>
<record>
  <date>2016-11-11T01:44:44</date>
  <millis>1478799884256</millis>
  <sequence>16</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Open port COM11 - Success.</message>
</record>
<record>
  <date>2016-11-11T01:44:44</date>
  <millis>1478799884297</millis>
  <sequence>17</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T01:44:44</date>
  <millis>1478799884578</millis>
  <sequence>18</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T01:44:44</date>
  <millis>1478799884878</millis>
  <sequence>19</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T01:44:45</date>
  <millis>1478799885179</millis>
  <sequence>20</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T01:44:45</date>
  <millis>1478799885481</millis>
  <sequence>21</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T01:44:45</date>
  <millis>1478799885781</millis>
  <sequence>22</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T01:44:46</date>
  <millis>1478799886097</millis>
  <sequence>23</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T01:44:46</date>
  <millis>1478799886179</millis>
  <sequence>24</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:=node.heap()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T01:44:46</date>
  <millis>1478799886383</millis>
  <sequence>25</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T01:44:46</date>
  <millis>1478799886683</millis>
  <sequence>26</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T01:44:46</date>
  <millis>1478799886985</millis>
  <sequence>27</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T01:44:47</date>
  <millis>1478799887285</millis>
  <sequence>28</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T01:44:47</date>
  <millis>1478799887586</millis>
  <sequence>29</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T01:44:47</date>
  <millis>1478799887886</millis>
  <sequence>30</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T01:44:48</date>
  <millis>1478799888187</millis>
  <sequence>31</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T01:44:48</date>
  <millis>1478799888491</millis>
  <sequence>32</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T01:44:48</date>
  <millis>1478799888791</millis>
  <sequence>33</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T01:44:49</date>
  <millis>1478799889092</millis>
  <sequence>34</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T01:44:49</date>
  <millis>1478799889392</millis>
  <sequence>35</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T01:44:49</date>
  <millis>1478799889693</millis>
  <sequence>36</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T01:44:49</date>
  <millis>1478799889994</millis>
  <sequence>37</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T01:44:50</date>
  <millis>1478799890294</millis>
  <sequence>38</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T01:44:50</date>
  <millis>1478799890594</millis>
  <sequence>39</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T01:44:50</date>
  <millis>1478799890896</millis>
  <sequence>40</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T01:44:51</date>
  <millis>1478799891196</millis>
  <sequence>41</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T01:44:51</date>
  <millis>1478799891497</millis>
  <sequence>42</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T01:44:51</date>
  <millis>1478799891798</millis>
  <sequence>43</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T01:44:52</date>
  <millis>1478799892098</millis>
  <sequence>44</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T01:44:52</date>
  <millis>1478799892401</millis>
  <sequence>45</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T01:44:52</date>
  <millis>1478799892704</millis>
  <sequence>46</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T01:44:53</date>
  <millis>1478799893005</millis>
  <sequence>47</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T01:44:53</date>
  <millis>1478799893305</millis>
  <sequence>48</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T01:44:53</date>
  <millis>1478799893605</millis>
  <sequence>49</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T01:44:53</date>
  <millis>1478799893907</millis>
  <sequence>50</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T01:44:54</date>
  <millis>1478799894208</millis>
  <sequence>51</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T01:44:54</date>
  <millis>1478799894511</millis>
  <sequence>52</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T01:44:54</date>
  <millis>1478799894812</millis>
  <sequence>53</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T01:44:55</date>
  <millis>1478799895112</millis>
  <sequence>54</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T01:44:55</date>
  <millis>1478799895412</millis>
  <sequence>55</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T01:44:55</date>
  <millis>1478799895713</millis>
  <sequence>56</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T01:44:56</date>
  <millis>1478799896013</millis>
  <sequence>57</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T01:44:56</date>
  <millis>1478799896313</millis>
  <sequence>58</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T01:44:56</date>
  <millis>1478799896617</millis>
  <sequence>59</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T01:44:56</date>
  <millis>1478799896917</millis>
  <sequence>60</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T01:44:57</date>
  <millis>1478799897217</millis>
  <sequence>61</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T01:44:57</date>
  <millis>1478799897517</millis>
  <sequence>62</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T01:44:57</date>
  <millis>1478799897819</millis>
  <sequence>63</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T01:44:58</date>
  <millis>1478799898120</millis>
  <sequence>64</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T01:44:58</date>
  <millis>1478799898421</millis>
  <sequence>65</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T01:44:58</date>
  <millis>1478799898512</millis>
  <sequence>66</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>24</thread>
  <message>
Communication with MCU established.</message>
</record>
<record>
  <date>2016-11-11T01:45:01</date>
  <millis>1478799901165</millis>
  <sequence>67</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:=node.heap()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T01:45:01</date>
  <millis>1478799901883</millis>
  <sequence>68</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:=node.heap()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T01:45:05</date>
  <millis>1478799905846</millis>
  <sequence>69</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:=node.flashid()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T01:45:35</date>
  <millis>1478799935431</millis>
  <sequence>70</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with baud 115200...</message>
</record>
<record>
  <date>2016-11-11T01:45:35</date>
  <millis>1478799935432</millis>
  <sequence>71</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:print(uart.setup(0, 115200, 8, 0, 1, 1 ))&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T01:45:35</date>
  <millis>1478799935698</millis>
  <sequence>72</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success.</message>
</record>
<record>
  <date>2016-11-11T01:45:35</date>
  <millis>1478799935765</millis>
  <sequence>73</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T01:45:35</date>
  <millis>1478799935769</millis>
  <sequence>74</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>24</thread>
  <message>
Communication with MCU established.</message>
</record>
<record>
  <date>2016-11-11T01:47:58</date>
  <millis>1478800078180</millis>
  <sequence>75</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to open file init.lua</message>
</record>
<record>
  <date>2016-11-11T01:47:58</date>
  <millis>1478800078181</millis>
  <sequence>76</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>File name: C:\Users\hechao\Dropbox\ED_work\6-Project\ESP\ESP Relay Board\R1\init.lua</message>
</record>
<record>
  <date>2016-11-11T01:47:58</date>
  <millis>1478800078184</millis>
  <sequence>77</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to load file init.lua</message>
</record>
<record>
  <date>2016-11-11T01:47:58</date>
  <millis>1478800078269</millis>
  <sequence>78</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Loading init.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T01:47:58</date>
  <millis>1478800078270</millis>
  <sequence>79</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Open "init.lua": Success.</message>
</record>
<record>
  <date>2016-11-11T01:47:59</date>
  <millis>1478800079429</millis>
  <sequence>80</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>We save known file init.lua</message>
</record>
<record>
  <date>2016-11-11T01:47:59</date>
  <millis>1478800079429</millis>
  <sequence>81</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to saving file init.lua ...</message>
</record>
<record>
  <date>2016-11-11T01:47:59</date>
  <millis>1478800079433</millis>
  <sequence>82</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Save file init.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T01:47:59</date>
  <millis>1478800079439</millis>
  <sequence>83</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP: Try to save file to ESP...</message>
</record>
<record>
  <date>2016-11-11T01:47:59</date>
  <millis>1478800079443</millis>
  <sequence>84</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Try to save file to ESP in Turbo Mode...</message>
</record>
<record>
  <date>2016-11-11T01:47:59</date>
  <millis>1478800079451</millis>
  <sequence>85</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>DataTurboSender: start "Smart Mode"</message>
</record>
<record>
  <date>2016-11-11T01:47:59</date>
  <millis>1478800079454</millis>
  <sequence>86</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Starting...</message>
</record>
<record>
  <date>2016-11-11T01:47:59</date>
  <millis>1478800079559</millis>
  <sequence>87</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local FILE="init.lua" file.remove(FILE) file.open(FILE,"w+") uart.setup(0,115200,8,0,1,0)</message>
</record>
<record>
  <date>2016-11-11T01:47:59</date>
  <millis>1478800079562</millis>
  <sequence>88</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>29</thread>
  <message>recv:loc</message>
</record>
<record>
  <date>2016-11-11T01:47:59</date>
  <millis>1478800079570</millis>
  <sequence>89</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>29</thread>
  <message>recv:al FILE="init.lua" file.remove(FILE) file.open(FILE,"w+") uart.setup(0,115200,8,0,1,0)&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T01:47:59</date>
  <millis>1478800079750</millis>
  <sequence>90</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>29</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T01:47:59</date>
  <millis>1478800079778</millis>
  <sequence>91</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_Receiver=function(rcvBuf) if string.match(rcvBuf,"^ESP_cmd_close")==nil then file.write(string.gsub(rcvBuf, '\r', '')) uart.write(0, "&gt; ") else uart.on("data") </message>
</record>
<record>
  <date>2016-11-11T01:47:59</date>
  <millis>1478800079806</millis>
  <sequence>92</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>29</thread>
  <message>recv:&gt;</message>
</record>
<record>
  <date>2016-11-11T01:47:59</date>
  <millis>1478800079807</millis>
  <sequence>93</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>29</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T01:47:59</date>
  <millis>1478800079825</millis>
  <sequence>94</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:file.flush() file.close() FILE=nil rcvBuf=nil ESP_Receiver=nil uart.setup(0,115200,8,0,1,1) str="\r\n--Done--\r\n&gt; " print(str) str=nil collectgarbage() end end uart.on("data",'\r',ESP_Receiver,0)</message>
</record>
<record>
  <date>2016-11-11T01:47:59</date>
  <millis>1478800079866</millis>
  <sequence>95</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>29</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T01:47:59</date>
  <millis>1478800079878</millis>
  <sequence>96</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:misc = require "misc"
control = require "control"

-- timer 1 = status, 2,3 = relay 

files = file.list()  -- Lists all files in the file system.

misc.button_press()  -- button press interrupt io3
--misc.button_rst()

control.status_LED(300) -- blink st</message>
</record>
<record>
  <date>2016-11-11T01:47:59</date>
  <millis>1478800079912</millis>
  <sequence>97</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>29</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T01:47:59</date>
  <millis>1478800079924</millis>
  <sequence>98</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:atus LED

wifi.setmode(wifi.STATION)
--wifi.sta.autoconnect(1)

if files["config.txt"] then
    misc.con_read()
    --tmr.delay(1000000)
    print(" Config exist, user&gt;".. user .. ", pass&gt;" .. password .. ", now set station mode and connect")
    
    wi</message>
</record>
<record>
  <date>2016-11-11T01:47:59</date>
  <millis>1478800079956</millis>
  <sequence>99</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>29</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T01:47:59</date>
  <millis>1478800079968</millis>
  <sequence>100</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:fi.sta.config(user, password)
    wifi.sta.connect()
    
    tmr.alarm(4, 5000, 1, function() 
        if wifi.sta.getip()== nil then
            print("IP unavailable.. if info correct then wait, else reconfig by press BTN1 to clean")
        else
    </message>
</record>
<record>
  <date>2016-11-11T01:47:59</date>
  <millis>1478800079999</millis>
  <sequence>101</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>29</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T01:48:00</date>
  <millis>1478800080011</millis>
  <sequence>102</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:        print("connected.. IP is: " .. wifi.sta.getip())
            tmr.stop(4)
            dofile("mqtt.lua")
        end
    end)
    
else
    print("  Config file NOT exists, starting smartconfig..")
    --wifi.setmode(wifi.STATION)

    -- test rel</message>
</record>
<record>
  <date>2016-11-11T01:48:00</date>
  <millis>1478800080046</millis>
  <sequence>103</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>29</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T01:48:00</date>
  <millis>1478800080059</millis>
  <sequence>104</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ay twice
    control.relay_6(2000, 0)
    control.relay_7(2000, 0)

    control.relay_6(2000, 0)
    control.relay_7(2000, 0)

    tmr.alarm(4, 5000, 1, function() 
        if wifi.sta.getip()== nil then
            wifi.startsmart(0,
            functio</message>
</record>
<record>
  <date>2016-11-11T01:48:00</date>
  <millis>1478800080090</millis>
  <sequence>105</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>29</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T01:48:00</date>
  <millis>1478800080102</millis>
  <sequence>106</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:n(ssid, password)
            print(string.format("Success. SSID: %s ; PASSWORD: %s", ssid, password)) 
            misc.con_write(ssid, password)
            end)
        else 
            tmr.stop(1)
            tmr.stop(2)
            tmr.stop(3)
    </message>
</record>
<record>
  <date>2016-11-11T01:48:00</date>
  <millis>1478800080134</millis>
  <sequence>107</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>29</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T01:48:00</date>
  <millis>1478800080146</millis>
  <sequence>108</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:        tmr.stop(4)
            print("Config done, IP is "..wifi.sta.getip())
            wifi.stopsmart()

            --misc.con_read()
            --print (user .. password)
            dofile("mqtt.lua")
        end
    end)
        

end
</message>
</record>
<record>
  <date>2016-11-11T01:48:00</date>
  <millis>1478800080176</millis>
  <sequence>109</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>29</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T01:48:00</date>
  <millis>1478800080188</millis>
  <sequence>110</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_cmd_close</message>
</record>
<record>
  <date>2016-11-11T01:48:00</date>
  <millis>1478800080201</millis>
  <sequence>111</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>29</thread>
  <message>recv:&lt;CR&gt;</message>
</record>
<record>
  <date>2016-11-11T01:48:00</date>
  <millis>1478800080203</millis>
  <sequence>112</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>29</thread>
  <message>recv:&lt;LF&gt;--Done--&lt;CR&gt;&lt;LF&gt;&gt; &lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T01:48:00</date>
  <millis>1478800080231</millis>
  <sequence>113</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T01:48:00</date>
  <millis>1478800080234</millis>
  <sequence>114</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>29</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T01:48:00</date>
  <millis>1478800080237</millis>
  <sequence>115</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>29</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T01:48:00</date>
  <millis>1478800080316</millis>
  <sequence>116</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>29</thread>
  <message>Operation done. Duration = 872 ms</message>
</record>
<record>
  <date>2016-11-11T01:48:19</date>
  <millis>1478800099507</millis>
  <sequence>117</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:node.restart()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T01:48:19</date>
  <millis>1478800099511</millis>
  <sequence>118</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with saved baud 9600...</message>
</record>
<record>
  <date>2016-11-11T01:48:19</date>
  <millis>1478800099574</millis>
  <sequence>119</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success. Now we waiting for ESP reboot...</message>
</record>
<record>
  <date>2016-11-11T01:48:21</date>
  <millis>1478800101595</millis>
  <sequence>120</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T01:48:21</date>
  <millis>1478800101601</millis>
  <sequence>121</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>30</thread>
  <message>
Communication with MCU established.</message>
</record>
<record>
  <date>2016-11-11T01:48:34</date>
  <millis>1478800114750</millis>
  <sequence>122</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:node.restart()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T01:48:34</date>
  <millis>1478800114752</millis>
  <sequence>123</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with saved baud 9600...</message>
</record>
<record>
  <date>2016-11-11T01:48:34</date>
  <millis>1478800114818</millis>
  <sequence>124</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success. Now we waiting for ESP reboot...</message>
</record>
<record>
  <date>2016-11-11T01:48:36</date>
  <millis>1478800116355</millis>
  <sequence>125</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:node.restart()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T01:48:36</date>
  <millis>1478800116357</millis>
  <sequence>126</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with saved baud 9600...</message>
</record>
<record>
  <date>2016-11-11T01:48:36</date>
  <millis>1478800116420</millis>
  <sequence>127</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success. Now we waiting for ESP reboot...</message>
</record>
<record>
  <date>2016-11-11T01:48:36</date>
  <millis>1478800116834</millis>
  <sequence>128</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T01:48:36</date>
  <millis>1478800116838</millis>
  <sequence>129</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>30</thread>
  <message>
Communication with MCU established.</message>
</record>
<record>
  <date>2016-11-11T01:48:38</date>
  <millis>1478800118436</millis>
  <sequence>130</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T01:48:38</date>
  <millis>1478800118446</millis>
  <sequence>131</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>30</thread>
  <message>
Communication with MCU established.</message>
</record>
<record>
  <date>2016-11-11T01:49:27</date>
  <millis>1478800167483</millis>
  <sequence>132</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Close port COM11 - Success.</message>
</record>
<record>
  <date>2016-11-11T01:49:28</date>
  <millis>1478800168252</millis>
  <sequence>133</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Serial port COM11 save as default.</message>
</record>
<record>
  <date>2016-11-11T01:49:28</date>
  <millis>1478800168253</millis>
  <sequence>134</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Baud rate 115200 save as default.</message>
</record>
<record>
  <date>2016-11-11T01:49:28</date>
  <millis>1478800168256</millis>
  <sequence>135</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to open port COM11, baud 115200, 8N1</message>
</record>
<record>
  <date>2016-11-11T01:49:28</date>
  <millis>1478800168463</millis>
  <sequence>136</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Open port COM11 - Success.</message>
</record>
<record>
  <date>2016-11-11T01:49:28</date>
  <millis>1478800168500</millis>
  <sequence>137</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T01:49:28</date>
  <millis>1478800168562</millis>
  <sequence>138</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>32</thread>
  <message>
Communication with MCU established.</message>
</record>
<record>
  <date>2016-11-11T01:50:28</date>
  <millis>1478800228980</millis>
  <sequence>139</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>We save known file init.lua</message>
</record>
<record>
  <date>2016-11-11T01:50:28</date>
  <millis>1478800228983</millis>
  <sequence>140</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to saving file init.lua ...</message>
</record>
<record>
  <date>2016-11-11T01:50:28</date>
  <millis>1478800228987</millis>
  <sequence>141</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Save file init.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T01:50:29</date>
  <millis>1478800229004</millis>
  <sequence>142</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP: Try to save file to ESP...</message>
</record>
<record>
  <date>2016-11-11T01:50:29</date>
  <millis>1478800229006</millis>
  <sequence>143</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Try to save file to ESP in Turbo Mode...</message>
</record>
<record>
  <date>2016-11-11T01:50:29</date>
  <millis>1478800229018</millis>
  <sequence>144</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>DataTurboSender: start "Smart Mode"</message>
</record>
<record>
  <date>2016-11-11T01:50:29</date>
  <millis>1478800229019</millis>
  <sequence>145</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Starting...</message>
</record>
<record>
  <date>2016-11-11T01:50:29</date>
  <millis>1478800229166</millis>
  <sequence>146</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local FILE="init.lua" file.remove(FILE) file.open(FILE,"w+") uart.setup(0,115200,8,0,1,0)</message>
</record>
<record>
  <date>2016-11-11T01:50:29</date>
  <millis>1478800229176</millis>
  <sequence>147</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>33</thread>
  <message>recv:lo</message>
</record>
<record>
  <date>2016-11-11T01:50:29</date>
  <millis>1478800229180</millis>
  <sequence>148</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>33</thread>
  <message>recv:cal FILE="init.lua" file.remove(FILE) file.op</message>
</record>
<record>
  <date>2016-11-11T01:50:29</date>
  <millis>1478800229184</millis>
  <sequence>149</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>33</thread>
  <message>recv:en(FILE,"w+") uart.setup(0,115200,8,0,1,0)&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T01:50:29</date>
  <millis>1478800229365</millis>
  <sequence>150</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>33</thread>
  <message>recv:&gt;</message>
</record>
<record>
  <date>2016-11-11T01:50:29</date>
  <millis>1478800229369</millis>
  <sequence>151</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>33</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T01:50:29</date>
  <millis>1478800229399</millis>
  <sequence>152</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_Receiver=function(rcvBuf) if string.match(rcvBuf,"^ESP_cmd_close")==nil then file.write(string.gsub(rcvBuf, '\r', '')) uart.write(0, "&gt; ") else uart.on("data") </message>
</record>
<record>
  <date>2016-11-11T01:50:29</date>
  <millis>1478800229428</millis>
  <sequence>153</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>33</thread>
  <message>recv:&gt;&gt;</message>
</record>
<record>
  <date>2016-11-11T01:50:29</date>
  <millis>1478800229429</millis>
  <sequence>154</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>33</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T01:50:29</date>
  <millis>1478800229449</millis>
  <sequence>155</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:file.flush() file.close() FILE=nil rcvBuf=nil ESP_Receiver=nil uart.setup(0,115200,8,0,1,1) str="\r\n--Done--\r\n&gt; " print(str) str=nil collectgarbage() end end uart.on("data",'\r',ESP_Receiver,0)</message>
</record>
<record>
  <date>2016-11-11T01:50:29</date>
  <millis>1478800229489</millis>
  <sequence>156</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>33</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T01:50:29</date>
  <millis>1478800229502</millis>
  <sequence>157</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:misc = require "misc"
control = require "control"

-- timer 1 = status, 2,3 = relay 

files = file.list()  -- Lists all files in the file system.

misc.button_press()  -- button press interrupt io3
--misc.button_rst()

control.status_LED(300) -- blink st</message>
</record>
<record>
  <date>2016-11-11T01:50:29</date>
  <millis>1478800229532</millis>
  <sequence>158</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>33</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T01:50:29</date>
  <millis>1478800229550</millis>
  <sequence>159</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:atus LED

wifi.setmode(wifi.STATION)
wifi.sta.autoconnect(0) -- auto connect

if files["config.txt"] then
    misc.con_read()
    --tmr.delay(1000000)
    print(" Config exist, user&gt;".. user .. ", pass&gt;" .. password .. ", now set station mode and connect</message>
</record>
<record>
  <date>2016-11-11T01:50:29</date>
  <millis>1478800229581</millis>
  <sequence>160</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>33</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T01:50:29</date>
  <millis>1478800229596</millis>
  <sequence>161</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:")
    
    wifi.sta.config(user, password)
    wifi.sta.connect()
    
    tmr.alarm(4, 5000, 1, function() 
        if wifi.sta.getip()== nil then
            print("IP unavailable.. if info correct then wait, else reconfig by press BTN1 to clean")
   </message>
</record>
<record>
  <date>2016-11-11T01:50:29</date>
  <millis>1478800229629</millis>
  <sequence>162</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>33</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T01:50:29</date>
  <millis>1478800229645</millis>
  <sequence>163</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:     else
            print("connected.. IP is: " .. wifi.sta.getip())
            tmr.stop(4)
            dofile("mqtt.lua")
        end
    end)
    
else
    print("  Config file NOT exists, starting smartconfig..")
    --wifi.setmode(wifi.STATION)

 </message>
</record>
<record>
  <date>2016-11-11T01:50:29</date>
  <millis>1478800229676</millis>
  <sequence>164</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>33</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T01:50:29</date>
  <millis>1478800229689</millis>
  <sequence>165</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:   -- test relay twice
    control.relay_6(2000, 0)
    control.relay_7(2000, 0)

    control.relay_6(2000, 0)
    control.relay_7(2000, 0)

    tmr.alarm(4, 5000, 1, function() 
        if wifi.sta.getip()== nil then
            wifi.startsmart(0,
     </message>
</record>
<record>
  <date>2016-11-11T01:50:29</date>
  <millis>1478800229721</millis>
  <sequence>166</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>33</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T01:50:29</date>
  <millis>1478800229734</millis>
  <sequence>167</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:       function(ssid, password)
            print(string.format("Success. SSID: %s ; PASSWORD: %s", ssid, password)) 
            misc.con_write(ssid, password)
            end)
        else 
            tmr.stop(1)
            tmr.stop(2)
            tm</message>
</record>
<record>
  <date>2016-11-11T01:50:29</date>
  <millis>1478800229766</millis>
  <sequence>168</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>33</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T01:50:29</date>
  <millis>1478800229779</millis>
  <sequence>169</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:r.stop(3)
            tmr.stop(4)
            print("Config done, IP is "..wifi.sta.getip())
            wifi.stopsmart()

            --misc.con_read()
            --print (user .. password)
            dofile("mqtt.lua")
        end
    end)
        

</message>
</record>
<record>
  <date>2016-11-11T01:50:29</date>
  <millis>1478800229810</millis>
  <sequence>170</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>33</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T01:50:29</date>
  <millis>1478800229825</millis>
  <sequence>171</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:end
</message>
</record>
<record>
  <date>2016-11-11T01:50:29</date>
  <millis>1478800229834</millis>
  <sequence>172</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>33</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T01:50:29</date>
  <millis>1478800229849</millis>
  <sequence>173</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_cmd_close</message>
</record>
<record>
  <date>2016-11-11T01:50:29</date>
  <millis>1478800229861</millis>
  <sequence>174</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>33</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;-</message>
</record>
<record>
  <date>2016-11-11T01:50:29</date>
  <millis>1478800229864</millis>
  <sequence>175</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>33</thread>
  <message>recv:-Done--&lt;CR&gt;&lt;LF&gt;&gt; &lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T01:50:29</date>
  <millis>1478800229888</millis>
  <sequence>176</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T01:50:29</date>
  <millis>1478800229890</millis>
  <sequence>177</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>33</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T01:50:29</date>
  <millis>1478800229894</millis>
  <sequence>178</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>33</thread>
  <message>recv:&gt; &lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T01:50:29</date>
  <millis>1478800229932</millis>
  <sequence>179</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:dofile("init.lua")</message>
</record>
<record>
  <date>2016-11-11T01:50:29</date>
  <millis>1478800229934</millis>
  <sequence>180</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>33</thread>
  <message>recv:do</message>
</record>
<record>
  <date>2016-11-11T01:50:29</date>
  <millis>1478800229938</millis>
  <sequence>181</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>33</thread>
  <message>recv:file("init.lua")&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T01:50:30</date>
  <millis>1478800230136</millis>
  <sequence>182</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>33</thread>
  <message>recv:  Con</message>
</record>
<record>
  <date>2016-11-11T01:50:30</date>
  <millis>1478800230137</millis>
  <sequence>183</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>33</thread>
  <message>recv:fig file NOT e</message>
</record>
<record>
  <date>2016-11-11T01:50:30</date>
  <millis>1478800230142</millis>
  <sequence>184</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>33</thread>
  <message>recv:xists, starting smartconfig..&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T01:50:30</date>
  <millis>1478800230150</millis>
  <sequence>185</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>33</thread>
  <message>recv:&gt;</message>
</record>
<record>
  <date>2016-11-11T01:50:30</date>
  <millis>1478800230151</millis>
  <sequence>186</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>33</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T01:50:30</date>
  <millis>1478800230214</millis>
  <sequence>187</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>33</thread>
  <message>Operation done. Duration = 1206 ms</message>
</record>
<record>
  <date>2016-11-11T01:50:37</date>
  <millis>1478800237604</millis>
  <sequence>188</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:node.restart()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T01:50:37</date>
  <millis>1478800237605</millis>
  <sequence>189</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with saved baud 115200...</message>
</record>
<record>
  <date>2016-11-11T01:50:37</date>
  <millis>1478800237669</millis>
  <sequence>190</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success. Now we waiting for ESP reboot...</message>
</record>
<record>
  <date>2016-11-11T01:50:39</date>
  <millis>1478800239671</millis>
  <sequence>191</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with baud 115200...</message>
</record>
<record>
  <date>2016-11-11T01:50:39</date>
  <millis>1478800239673</millis>
  <sequence>192</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:print(uart.setup(0, 115200, 8, 0, 1, 1 ))&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T01:50:39</date>
  <millis>1478800239938</millis>
  <sequence>193</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success.</message>
</record>
<record>
  <date>2016-11-11T01:50:40</date>
  <millis>1478800240001</millis>
  <sequence>194</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T01:50:40</date>
  <millis>1478800240003</millis>
  <sequence>195</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>34</thread>
  <message>
Communication with MCU established.</message>
</record>
<record>
  <date>2016-11-11T01:51:44</date>
  <millis>1478800304213</millis>
  <sequence>196</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>File reload: File changed. Ask before reloading.</message>
</record>
<record>
  <date>2016-11-11T01:51:47</date>
  <millis>1478800307172</millis>
  <sequence>197</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>File reload: Reload anyway by user choice.</message>
</record>
<record>
  <date>2016-11-11T01:51:47</date>
  <millis>1478800307174</millis>
  <sequence>198</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to load file init.lua</message>
</record>
<record>
  <date>2016-11-11T01:51:47</date>
  <millis>1478800307200</millis>
  <sequence>199</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Loading init.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T01:51:47</date>
  <millis>1478800307201</millis>
  <sequence>200</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>File reload: Success.</message>
</record>
<record>
  <date>2016-11-11T01:51:50</date>
  <millis>1478800310351</millis>
  <sequence>201</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>We save known file init.lua</message>
</record>
<record>
  <date>2016-11-11T01:51:50</date>
  <millis>1478800310352</millis>
  <sequence>202</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to saving file init.lua ...</message>
</record>
<record>
  <date>2016-11-11T01:51:50</date>
  <millis>1478800310356</millis>
  <sequence>203</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Save file init.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T01:51:50</date>
  <millis>1478800310362</millis>
  <sequence>204</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP: Try to save file to ESP...</message>
</record>
<record>
  <date>2016-11-11T01:51:50</date>
  <millis>1478800310365</millis>
  <sequence>205</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Try to save file to ESP in Turbo Mode...</message>
</record>
<record>
  <date>2016-11-11T01:51:50</date>
  <millis>1478800310375</millis>
  <sequence>206</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>DataTurboSender: start "Smart Mode"</message>
</record>
<record>
  <date>2016-11-11T01:51:50</date>
  <millis>1478800310376</millis>
  <sequence>207</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Starting...</message>
</record>
<record>
  <date>2016-11-11T01:51:50</date>
  <millis>1478800310514</millis>
  <sequence>208</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local FILE="init.lua" file.remove(FILE) file.open(FILE,"w+") uart.setup(0,115200,8,0,1,0)</message>
</record>
<record>
  <date>2016-11-11T01:51:50</date>
  <millis>1478800310517</millis>
  <sequence>209</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>37</thread>
  <message>recv:l</message>
</record>
<record>
  <date>2016-11-11T01:51:50</date>
  <millis>1478800310520</millis>
  <sequence>210</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>37</thread>
  <message>recv:ocal FILE="init.lua" file.remove(FILE)</message>
</record>
<record>
  <date>2016-11-11T01:51:50</date>
  <millis>1478800310523</millis>
  <sequence>211</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>37</thread>
  <message>recv: file.open(FILE,"w+") ua</message>
</record>
<record>
  <date>2016-11-11T01:51:50</date>
  <millis>1478800310524</millis>
  <sequence>212</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>37</thread>
  <message>recv:rt.setup(0,115200</message>
</record>
<record>
  <date>2016-11-11T01:51:50</date>
  <millis>1478800310526</millis>
  <sequence>213</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>37</thread>
  <message>recv:,8,0,1,0)&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T01:51:50</date>
  <millis>1478800310710</millis>
  <sequence>214</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>37</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T01:51:50</date>
  <millis>1478800310753</millis>
  <sequence>215</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_Receiver=function(rcvBuf) if string.match(rcvBuf,"^ESP_cmd_close")==nil then file.write(string.gsub(rcvBuf, '\r', '')) uart.write(0, "&gt; ") else uart.on("data") </message>
</record>
<record>
  <date>2016-11-11T01:51:50</date>
  <millis>1478800310779</millis>
  <sequence>216</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>37</thread>
  <message>recv:&gt;&gt;</message>
</record>
<record>
  <date>2016-11-11T01:51:50</date>
  <millis>1478800310780</millis>
  <sequence>217</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>37</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T01:51:50</date>
  <millis>1478800310803</millis>
  <sequence>218</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:file.flush() file.close() FILE=nil rcvBuf=nil ESP_Receiver=nil uart.setup(0,115200,8,0,1,1) str="\r\n--Done--\r\n&gt; " print(str) str=nil collectgarbage() end end uart.on("data",'\r',ESP_Receiver,0)</message>
</record>
<record>
  <date>2016-11-11T01:51:50</date>
  <millis>1478800310843</millis>
  <sequence>219</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>37</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T01:51:50</date>
  <millis>1478800310857</millis>
  <sequence>220</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:misc = require "misc"
control = require "control"

-- timer 1 = status, 2,3 = relay 

files = file.list()  -- Lists all files in the file system.

misc.button_press()  -- button press interrupt io3
--misc.button_rst()

control.status_LED(300) -- blink st</message>
</record>
<record>
  <date>2016-11-11T01:51:50</date>
  <millis>1478800310886</millis>
  <sequence>221</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>37</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T01:51:50</date>
  <millis>1478800310901</millis>
  <sequence>222</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:atus LED

wifi.setmode(wifi.STATION)
wifi.sta.autoconnect(0) -- auto connect

if files["config.txt"] then
    misc.con_read()
    --tmr.delay(1000000)
    print(" Config exist, user&gt;".. user .. ", pass&gt;" .. password .. ", now set station mode and connect</message>
</record>
<record>
  <date>2016-11-11T01:51:50</date>
  <millis>1478800310933</millis>
  <sequence>223</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>37</thread>
  <message>recv:&gt;</message>
</record>
<record>
  <date>2016-11-11T01:51:50</date>
  <millis>1478800310935</millis>
  <sequence>224</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>37</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T01:51:50</date>
  <millis>1478800310955</millis>
  <sequence>225</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:")
    
    wifi.sta.config(user, password)
    wifi.sta.connect()
    
    tmr.alarm(4, 5000, 1, function() 
        if wifi.sta.getip()== nil then
            print("IP unavailable.. if info correct then wait, else reconfig by press BTN1 to clean")
   </message>
</record>
<record>
  <date>2016-11-11T01:51:50</date>
  <millis>1478800310988</millis>
  <sequence>226</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>37</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T01:51:51</date>
  <millis>1478800311001</millis>
  <sequence>227</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:     else
            print("connected.. IP is: " .. wifi.sta.getip())
            tmr.stop(4)
            dofile("mqtt.lua")
        end
    end)
    
else
    print("  Config file NOT exists, starting smartconfig..")
    --wifi.setmode(wifi.STATION)

 </message>
</record>
<record>
  <date>2016-11-11T01:51:51</date>
  <millis>1478800311032</millis>
  <sequence>228</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>37</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T01:51:51</date>
  <millis>1478800311052</millis>
  <sequence>229</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:   -- test relay twice
    control.relay_6(2000, 2)
    control.relay_7(2000, 2)

    control.relay_6(2000, 2)
    control.relay_7(2000, 2)

    tmr.alarm(4, 5000, 1, function() 
        if wifi.sta.getip()== nil then
            wifi.startsmart(0,
     </message>
</record>
<record>
  <date>2016-11-11T01:51:51</date>
  <millis>1478800311083</millis>
  <sequence>230</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>37</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T01:51:51</date>
  <millis>1478800311096</millis>
  <sequence>231</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:       function(ssid, password)
            print(string.format("Success. SSID: %s ; PASSWORD: %s", ssid, password)) 
            misc.con_write(ssid, password)
            end)
        else 
            tmr.stop(1)
            tmr.stop(2)
            tm</message>
</record>
<record>
  <date>2016-11-11T01:51:51</date>
  <millis>1478800311128</millis>
  <sequence>232</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>37</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T01:51:51</date>
  <millis>1478800311145</millis>
  <sequence>233</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:r.stop(3)
            tmr.stop(4)
            print("Config done, IP is "..wifi.sta.getip())
            wifi.stopsmart()

            --misc.con_read()
            --print (user .. password)
            dofile("mqtt.lua")
        end
    end)
        

</message>
</record>
<record>
  <date>2016-11-11T01:51:51</date>
  <millis>1478800311177</millis>
  <sequence>234</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>37</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T01:51:51</date>
  <millis>1478800311190</millis>
  <sequence>235</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:end
</message>
</record>
<record>
  <date>2016-11-11T01:51:51</date>
  <millis>1478800311198</millis>
  <sequence>236</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>37</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T01:51:51</date>
  <millis>1478800311215</millis>
  <sequence>237</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_cmd_close</message>
</record>
<record>
  <date>2016-11-11T01:51:51</date>
  <millis>1478800311228</millis>
  <sequence>238</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>37</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;-</message>
</record>
<record>
  <date>2016-11-11T01:51:51</date>
  <millis>1478800311230</millis>
  <sequence>239</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>37</thread>
  <message>recv:-Done--&lt;CR&gt;&lt;LF&gt;&gt; &lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T01:51:51</date>
  <millis>1478800311256</millis>
  <sequence>240</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T01:51:51</date>
  <millis>1478800311258</millis>
  <sequence>241</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>37</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T01:51:51</date>
  <millis>1478800311261</millis>
  <sequence>242</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>37</thread>
  <message>recv:&gt; &lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T01:51:51</date>
  <millis>1478800311299</millis>
  <sequence>243</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:dofile("init.lua")</message>
</record>
<record>
  <date>2016-11-11T01:51:51</date>
  <millis>1478800311301</millis>
  <sequence>244</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>37</thread>
  <message>recv:dof</message>
</record>
<record>
  <date>2016-11-11T01:51:51</date>
  <millis>1478800311305</millis>
  <sequence>245</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>37</thread>
  <message>recv:ile("init.lua")&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T01:51:51</date>
  <millis>1478800311428</millis>
  <sequence>246</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>37</thread>
  <message>recv:  Con</message>
</record>
<record>
  <date>2016-11-11T01:51:51</date>
  <millis>1478800311434</millis>
  <sequence>247</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>37</thread>
  <message>recv:fig file NOT exists, starting smartconfig..&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T01:51:51</date>
  <millis>1478800311441</millis>
  <sequence>248</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>37</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T01:51:51</date>
  <millis>1478800311495</millis>
  <sequence>249</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>37</thread>
  <message>Operation done. Duration = 1128 ms</message>
</record>
<record>
  <date>2016-11-11T01:53:00</date>
  <millis>1478800380500</millis>
  <sequence>250</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to load file init.lua</message>
</record>
<record>
  <date>2016-11-11T01:53:00</date>
  <millis>1478800380642</millis>
  <sequence>251</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Loading init.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T01:53:00</date>
  <millis>1478800380643</millis>
  <sequence>252</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>File reload: Success.</message>
</record>
<record>
  <date>2016-11-11T01:53:02</date>
  <millis>1478800382804</millis>
  <sequence>253</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>We save known file init.lua</message>
</record>
<record>
  <date>2016-11-11T01:53:02</date>
  <millis>1478800382806</millis>
  <sequence>254</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to saving file init.lua ...</message>
</record>
<record>
  <date>2016-11-11T01:53:02</date>
  <millis>1478800382810</millis>
  <sequence>255</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Save file init.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T01:53:02</date>
  <millis>1478800382821</millis>
  <sequence>256</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP: Try to save file to ESP...</message>
</record>
<record>
  <date>2016-11-11T01:53:02</date>
  <millis>1478800382822</millis>
  <sequence>257</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Try to save file to ESP in Turbo Mode...</message>
</record>
<record>
  <date>2016-11-11T01:53:02</date>
  <millis>1478800382833</millis>
  <sequence>258</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>DataTurboSender: start "Smart Mode"</message>
</record>
<record>
  <date>2016-11-11T01:53:02</date>
  <millis>1478800382833</millis>
  <sequence>259</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Starting...</message>
</record>
<record>
  <date>2016-11-11T01:53:02</date>
  <millis>1478800382974</millis>
  <sequence>260</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local FILE="init.lua" file.remove(FILE) file.open(FILE,"w+") uart.setup(0,115200,8,0,1,0)</message>
</record>
<record>
  <date>2016-11-11T01:53:02</date>
  <millis>1478800382976</millis>
  <sequence>261</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>39</thread>
  <message>recv:lo</message>
</record>
<record>
  <date>2016-11-11T01:53:02</date>
  <millis>1478800382981</millis>
  <sequence>262</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>39</thread>
  <message>recv:cal FILE="init.lua" file.remove(FILE) file.open(FILE,"w+") uart.se</message>
</record>
<record>
  <date>2016-11-11T01:53:02</date>
  <millis>1478800382982</millis>
  <sequence>263</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>39</thread>
  <message>recv:tup(0,115200,</message>
</record>
<record>
  <date>2016-11-11T01:53:02</date>
  <millis>1478800382984</millis>
  <sequence>264</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>39</thread>
  <message>recv:8,0,1,0)&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T01:53:03</date>
  <millis>1478800383170</millis>
  <sequence>265</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>39</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T01:53:03</date>
  <millis>1478800383205</millis>
  <sequence>266</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_Receiver=function(rcvBuf) if string.match(rcvBuf,"^ESP_cmd_close")==nil then file.write(string.gsub(rcvBuf, '\r', '')) uart.write(0, "&gt; ") else uart.on("data") </message>
</record>
<record>
  <date>2016-11-11T01:53:03</date>
  <millis>1478800383235</millis>
  <sequence>267</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>39</thread>
  <message>recv:&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T01:53:03</date>
  <millis>1478800383248</millis>
  <sequence>268</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:file.flush() file.close() FILE=nil rcvBuf=nil ESP_Receiver=nil uart.setup(0,115200,8,0,1,1) str="\r\n--Done--\r\n&gt; " print(str) str=nil collectgarbage() end end uart.on("data",'\r',ESP_Receiver,0)</message>
</record>
<record>
  <date>2016-11-11T01:53:03</date>
  <millis>1478800383287</millis>
  <sequence>269</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>39</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T01:53:03</date>
  <millis>1478800383300</millis>
  <sequence>270</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:misc = require "misc"
control = require "control"

-- timer 1 = status, 2,3 = relay 

files = file.list()  -- Lists all files in the file system.

misc.button_press()  -- button press interrupt io3
--misc.button_rst()

control.status_LED(300) -- blink st</message>
</record>
<record>
  <date>2016-11-11T01:53:03</date>
  <millis>1478800383329</millis>
  <sequence>271</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>39</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T01:53:03</date>
  <millis>1478800383344</millis>
  <sequence>272</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:atus LED

wifi.setmode(wifi.STATION)
wifi.sta.autoconnect(0) -- auto connect

if files["config.txt"] then
    misc.con_read()
    --tmr.delay(1000000)
    print(" Config exist, user&gt;".. user .. ", pass&gt;" .. password .. ", now set station mode and connect</message>
</record>
<record>
  <date>2016-11-11T01:53:03</date>
  <millis>1478800383375</millis>
  <sequence>273</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>39</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T01:53:03</date>
  <millis>1478800383388</millis>
  <sequence>274</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:")
    
    wifi.sta.config(user, password)
    wifi.sta.connect()
    
    tmr.alarm(4, 5000, 1, function() 
        if wifi.sta.getip()== nil then
            print("IP unavailable.. if info correct then wait, else reconfig by press BTN1 to clean")
   </message>
</record>
<record>
  <date>2016-11-11T01:53:03</date>
  <millis>1478800383419</millis>
  <sequence>275</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>39</thread>
  <message>recv:&gt;</message>
</record>
<record>
  <date>2016-11-11T01:53:03</date>
  <millis>1478800383420</millis>
  <sequence>276</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>39</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T01:53:03</date>
  <millis>1478800383438</millis>
  <sequence>277</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:     else
            print("connected.. IP is: " .. wifi.sta.getip())
            tmr.stop(4)
            dofile("mqtt.lua")
        end
    end)
    
else
    print("  Config file NOT exists, starting smartconfig..")
    --wifi.setmode(wifi.STATION)

 </message>
</record>
<record>
  <date>2016-11-11T01:53:03</date>
  <millis>1478800383469</millis>
  <sequence>278</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>39</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T01:53:03</date>
  <millis>1478800383481</millis>
  <sequence>279</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:   -- test relay twice
    control.relay_6(2000, tmr.ALARM_SINGLE)
    control.relay_7(2000, tmr.ALARM_SINGLE)

    control.relay_6(2000, tmr.ALARM_SINGLE)
    control.relay_7(2000, tmr.ALARM_SINGLE)

    tmr.alarm(4, 5000, 1, function() 
        if wifi</message>
</record>
<record>
  <date>2016-11-11T01:53:03</date>
  <millis>1478800383512</millis>
  <sequence>280</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>39</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T01:53:03</date>
  <millis>1478800383530</millis>
  <sequence>281</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:.sta.getip()== nil then
            wifi.startsmart(0,
            function(ssid, password)
            print(string.format("Success. SSID: %s ; PASSWORD: %s", ssid, password)) 
            misc.con_write(ssid, password)
            end)
        else 
  </message>
</record>
<record>
  <date>2016-11-11T01:53:03</date>
  <millis>1478800383561</millis>
  <sequence>282</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>39</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T01:53:03</date>
  <millis>1478800383573</millis>
  <sequence>283</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:          tmr.stop(1)
            tmr.stop(2)
            tmr.stop(3)
            tmr.stop(4)
            print("Config done, IP is "..wifi.sta.getip())
            wifi.stopsmart()

            --misc.con_read()
            --print (user .. password)
  </message>
</record>
<record>
  <date>2016-11-11T01:53:03</date>
  <millis>1478800383605</millis>
  <sequence>284</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>39</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T01:53:03</date>
  <millis>1478800383619</millis>
  <sequence>285</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:          dofile("mqtt.lua")
        end
    end)
        

end
</message>
</record>
<record>
  <date>2016-11-11T01:53:03</date>
  <millis>1478800383633</millis>
  <sequence>286</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>39</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T01:53:03</date>
  <millis>1478800383650</millis>
  <sequence>287</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_cmd_close</message>
</record>
<record>
  <date>2016-11-11T01:53:03</date>
  <millis>1478800383662</millis>
  <sequence>288</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>39</thread>
  <message>recv:&lt;CR&gt;</message>
</record>
<record>
  <date>2016-11-11T01:53:03</date>
  <millis>1478800383663</millis>
  <sequence>289</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>39</thread>
  <message>recv:&lt;LF&gt;--Done--&lt;CR&gt;&lt;LF&gt;&gt; &lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T01:53:03</date>
  <millis>1478800383694</millis>
  <sequence>290</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T01:53:03</date>
  <millis>1478800383696</millis>
  <sequence>291</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>39</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T01:53:03</date>
  <millis>1478800383698</millis>
  <sequence>292</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>39</thread>
  <message>recv:&gt; &lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T01:53:03</date>
  <millis>1478800383732</millis>
  <sequence>293</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:dofile("init.lua")</message>
</record>
<record>
  <date>2016-11-11T01:53:03</date>
  <millis>1478800383733</millis>
  <sequence>294</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>39</thread>
  <message>recv:dof</message>
</record>
<record>
  <date>2016-11-11T01:53:03</date>
  <millis>1478800383736</millis>
  <sequence>295</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>39</thread>
  <message>recv:ile("init.lua")&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T01:53:03</date>
  <millis>1478800383865</millis>
  <sequence>296</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>39</thread>
  <message>recv:  Config </message>
</record>
<record>
  <date>2016-11-11T01:53:03</date>
  <millis>1478800383868</millis>
  <sequence>297</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>39</thread>
  <message>recv:file NOT exists, starting smartcon</message>
</record>
<record>
  <date>2016-11-11T01:53:03</date>
  <millis>1478800383873</millis>
  <sequence>298</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>39</thread>
  <message>recv:fig..&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T01:53:03</date>
  <millis>1478800383878</millis>
  <sequence>299</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>39</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T01:53:03</date>
  <millis>1478800383936</millis>
  <sequence>300</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>39</thread>
  <message>Operation done. Duration = 1110 ms</message>
</record>
<record>
  <date>2016-11-11T01:53:06</date>
  <millis>1478800386675</millis>
  <sequence>301</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:node.restart()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T01:53:06</date>
  <millis>1478800386676</millis>
  <sequence>302</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with saved baud 115200...</message>
</record>
<record>
  <date>2016-11-11T01:53:06</date>
  <millis>1478800386738</millis>
  <sequence>303</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success. Now we waiting for ESP reboot...</message>
</record>
<record>
  <date>2016-11-11T01:53:08</date>
  <millis>1478800388741</millis>
  <sequence>304</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with baud 115200...</message>
</record>
<record>
  <date>2016-11-11T01:53:08</date>
  <millis>1478800388745</millis>
  <sequence>305</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:print(uart.setup(0, 115200, 8, 0, 1, 1 ))&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T01:53:09</date>
  <millis>1478800389009</millis>
  <sequence>306</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success.</message>
</record>
<record>
  <date>2016-11-11T01:53:09</date>
  <millis>1478800389055</millis>
  <sequence>307</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T01:53:09</date>
  <millis>1478800389057</millis>
  <sequence>308</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>40</thread>
  <message>
Communication with MCU established.</message>
</record>
<record>
  <date>2016-11-11T01:53:12</date>
  <millis>1478800392962</millis>
  <sequence>309</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Close port COM11 - Success.</message>
</record>
<record>
  <date>2016-11-11T01:53:16</date>
  <millis>1478800396623</millis>
  <sequence>310</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Serial port COM11 save as default.</message>
</record>
<record>
  <date>2016-11-11T01:53:16</date>
  <millis>1478800396624</millis>
  <sequence>311</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Baud rate 115200 save as default.</message>
</record>
<record>
  <date>2016-11-11T01:53:16</date>
  <millis>1478800396628</millis>
  <sequence>312</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to open port COM11, baud 115200, 8N1</message>
</record>
<record>
  <date>2016-11-11T01:53:16</date>
  <millis>1478800396836</millis>
  <sequence>313</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Open port COM11 - Success.</message>
</record>
<record>
  <date>2016-11-11T01:53:16</date>
  <millis>1478800396898</millis>
  <sequence>314</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T01:53:16</date>
  <millis>1478800396979</millis>
  <sequence>315</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>42</thread>
  <message>
Communication with MCU established.</message>
</record>
<record>
  <date>2016-11-11T01:53:16</date>
  <millis>1478800396981</millis>
  <sequence>316</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>42</thread>
  <message>sending:=node.heap()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T01:54:33</date>
  <millis>1478800473701</millis>
  <sequence>317</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to load file init.lua</message>
</record>
<record>
  <date>2016-11-11T01:54:33</date>
  <millis>1478800473735</millis>
  <sequence>318</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Loading init.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T01:54:33</date>
  <millis>1478800473736</millis>
  <sequence>319</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>File reload: Success.</message>
</record>
<record>
  <date>2016-11-11T01:54:34</date>
  <millis>1478800474499</millis>
  <sequence>320</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>We save known file init.lua</message>
</record>
<record>
  <date>2016-11-11T01:54:34</date>
  <millis>1478800474500</millis>
  <sequence>321</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to saving file init.lua ...</message>
</record>
<record>
  <date>2016-11-11T01:54:34</date>
  <millis>1478800474503</millis>
  <sequence>322</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Save file init.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T01:54:34</date>
  <millis>1478800474508</millis>
  <sequence>323</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP: Try to save file to ESP...</message>
</record>
<record>
  <date>2016-11-11T01:54:34</date>
  <millis>1478800474510</millis>
  <sequence>324</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Try to save file to ESP in Turbo Mode...</message>
</record>
<record>
  <date>2016-11-11T01:54:34</date>
  <millis>1478800474517</millis>
  <sequence>325</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>DataTurboSender: start "Smart Mode"</message>
</record>
<record>
  <date>2016-11-11T01:54:34</date>
  <millis>1478800474520</millis>
  <sequence>326</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Starting...</message>
</record>
<record>
  <date>2016-11-11T01:54:34</date>
  <millis>1478800474643</millis>
  <sequence>327</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local FILE="init.lua" file.remove(FILE) file.open(FILE,"w+") uart.setup(0,115200,8,0,1,0)</message>
</record>
<record>
  <date>2016-11-11T01:54:34</date>
  <millis>1478800474646</millis>
  <sequence>328</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>43</thread>
  <message>recv:lo</message>
</record>
<record>
  <date>2016-11-11T01:54:34</date>
  <millis>1478800474651</millis>
  <sequence>329</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>43</thread>
  <message>recv:cal FILE="init.lua" file.remove(FILE) file.open(FILE,"w+") uar</message>
</record>
<record>
  <date>2016-11-11T01:54:34</date>
  <millis>1478800474654</millis>
  <sequence>330</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>43</thread>
  <message>recv:t.setup(0,115200,8,0,1,0)&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T01:54:34</date>
  <millis>1478800474842</millis>
  <sequence>331</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>43</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T01:54:34</date>
  <millis>1478800474858</millis>
  <sequence>332</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_Receiver=function(rcvBuf) if string.match(rcvBuf,"^ESP_cmd_close")==nil then file.write(string.gsub(rcvBuf, '\r', '')) uart.write(0, "&gt; ") else uart.on("data") </message>
</record>
<record>
  <date>2016-11-11T01:54:34</date>
  <millis>1478800474885</millis>
  <sequence>333</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>43</thread>
  <message>recv:&gt;&gt;</message>
</record>
<record>
  <date>2016-11-11T01:54:34</date>
  <millis>1478800474887</millis>
  <sequence>334</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>43</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T01:54:34</date>
  <millis>1478800474907</millis>
  <sequence>335</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:file.flush() file.close() FILE=nil rcvBuf=nil ESP_Receiver=nil uart.setup(0,115200,8,0,1,1) str="\r\n--Done--\r\n&gt; " print(str) str=nil collectgarbage() end end uart.on("data",'\r',ESP_Receiver,0)</message>
</record>
<record>
  <date>2016-11-11T01:54:34</date>
  <millis>1478800474947</millis>
  <sequence>336</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>43</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T01:54:34</date>
  <millis>1478800474959</millis>
  <sequence>337</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:misc = require "misc"
control = require "control"

-- timer 1 = status, 2,3 = relay 

files = file.list()  -- Lists all files in the file system.

misc.button_press()  -- button press interrupt io3
--misc.button_rst()

control.status_LED(300) -- blink st</message>
</record>
<record>
  <date>2016-11-11T01:54:34</date>
  <millis>1478800474989</millis>
  <sequence>338</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>43</thread>
  <message>recv:&gt;</message>
</record>
<record>
  <date>2016-11-11T01:54:34</date>
  <millis>1478800474990</millis>
  <sequence>339</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>43</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T01:54:35</date>
  <millis>1478800475009</millis>
  <sequence>340</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:atus LED

wifi.setmode(wifi.STATION)
wifi.sta.autoconnect(0) -- auto connect

if files["config.txt"] then
    misc.con_read()
    --tmr.delay(1000000)
    print(" Config exist, user&gt;".. user .. ", pass&gt;" .. password .. ", now set station mode and connect</message>
</record>
<record>
  <date>2016-11-11T01:54:35</date>
  <millis>1478800475040</millis>
  <sequence>341</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>43</thread>
  <message>recv:&gt;</message>
</record>
<record>
  <date>2016-11-11T01:54:35</date>
  <millis>1478800475042</millis>
  <sequence>342</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>43</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T01:54:35</date>
  <millis>1478800475062</millis>
  <sequence>343</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:")
    
    wifi.sta.config(user, password)
    wifi.sta.connect()
    
    tmr.alarm(4, 5000, 1, function() 
        if wifi.sta.getip()== nil then
            print("IP unavailable.. if info correct then wait, else reconfig by press BTN1 to clean")
   </message>
</record>
<record>
  <date>2016-11-11T01:54:35</date>
  <millis>1478800475094</millis>
  <sequence>344</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>43</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T01:54:35</date>
  <millis>1478800475116</millis>
  <sequence>345</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:     else
            print("connected.. IP is: " .. wifi.sta.getip())
            tmr.stop(4)
            dofile("mqtt.lua")
        end
    end)
    
else
    print("  Config file NOT exists, starting smartconfig..")
    --wifi.setmode(wifi.STATION)

 </message>
</record>
<record>
  <date>2016-11-11T01:54:35</date>
  <millis>1478800475147</millis>
  <sequence>346</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>43</thread>
  <message>recv:&gt;</message>
</record>
<record>
  <date>2016-11-11T01:54:35</date>
  <millis>1478800475148</millis>
  <sequence>347</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>43</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T01:54:35</date>
  <millis>1478800475166</millis>
  <sequence>348</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:   -- test relay twice
    control.relay_6(2000, 0)
    control.relay_7(2000, 0)
    control.relay_6(2000, 0)
    control.relay_7(2000, 0)
    tmr.stop(2)
    tmr.stop(3)

    tmr.alarm(4, 5000, 1, function() 
        if wifi.sta.getip()== nil then
     </message>
</record>
<record>
  <date>2016-11-11T01:54:35</date>
  <millis>1478800475197</millis>
  <sequence>349</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>43</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T01:54:35</date>
  <millis>1478800475210</millis>
  <sequence>350</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:       wifi.startsmart(0,
            function(ssid, password)
            print(string.format("Success. SSID: %s ; PASSWORD: %s", ssid, password)) 
            misc.con_write(ssid, password)
            end)
        else 
            tmr.stop(1)

      </message>
</record>
<record>
  <date>2016-11-11T01:54:35</date>
  <millis>1478800475241</millis>
  <sequence>351</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>43</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T01:54:35</date>
  <millis>1478800475258</millis>
  <sequence>352</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:      tmr.stop(4)
            print("Config done, IP is "..wifi.sta.getip())
            wifi.stopsmart()

            --misc.con_read()
            --print (user .. password)
            dofile("mqtt.lua")
        end
    end)
        

end
</message>
</record>
<record>
  <date>2016-11-11T01:54:35</date>
  <millis>1478800475289</millis>
  <sequence>353</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>43</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T01:54:35</date>
  <millis>1478800475306</millis>
  <sequence>354</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_cmd_close</message>
</record>
<record>
  <date>2016-11-11T01:54:35</date>
  <millis>1478800475319</millis>
  <sequence>355</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>43</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;--D</message>
</record>
<record>
  <date>2016-11-11T01:54:35</date>
  <millis>1478800475322</millis>
  <sequence>356</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>43</thread>
  <message>recv:one--&lt;CR&gt;&lt;LF&gt;&gt; &lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T01:54:35</date>
  <millis>1478800475345</millis>
  <sequence>357</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T01:54:35</date>
  <millis>1478800475347</millis>
  <sequence>358</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>43</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T01:54:35</date>
  <millis>1478800475350</millis>
  <sequence>359</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>43</thread>
  <message>recv:&gt; &lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T01:54:35</date>
  <millis>1478800475390</millis>
  <sequence>360</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:dofile("init.lua")</message>
</record>
<record>
  <date>2016-11-11T01:54:35</date>
  <millis>1478800475391</millis>
  <sequence>361</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>43</thread>
  <message>recv:dof</message>
</record>
<record>
  <date>2016-11-11T01:54:35</date>
  <millis>1478800475394</millis>
  <sequence>362</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>43</thread>
  <message>recv:ile("init.lua")&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T01:54:35</date>
  <millis>1478800475520</millis>
  <sequence>363</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>43</thread>
  <message>recv:  C</message>
</record>
<record>
  <date>2016-11-11T01:54:35</date>
  <millis>1478800475524</millis>
  <sequence>364</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>43</thread>
  <message>recv:onfig file NOT exists, starting smartconfig..</message>
</record>
<record>
  <date>2016-11-11T01:54:35</date>
  <millis>1478800475534</millis>
  <sequence>365</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>43</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T01:54:35</date>
  <millis>1478800475562</millis>
  <sequence>366</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>43</thread>
  <message>Operation done. Duration = 1049 ms</message>
</record>
<record>
  <date>2016-11-11T01:56:51</date>
  <millis>1478800611071</millis>
  <sequence>367</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to load file init.lua</message>
</record>
<record>
  <date>2016-11-11T01:56:51</date>
  <millis>1478800611083</millis>
  <sequence>368</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Loading init.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T01:56:51</date>
  <millis>1478800611084</millis>
  <sequence>369</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>File reload: Success.</message>
</record>
<record>
  <date>2016-11-11T01:56:56</date>
  <millis>1478800616027</millis>
  <sequence>370</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>We save known file init.lua</message>
</record>
<record>
  <date>2016-11-11T01:56:56</date>
  <millis>1478800616028</millis>
  <sequence>371</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to saving file init.lua ...</message>
</record>
<record>
  <date>2016-11-11T01:56:56</date>
  <millis>1478800616031</millis>
  <sequence>372</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Save file init.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T01:56:56</date>
  <millis>1478800616037</millis>
  <sequence>373</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP: Try to save file to ESP...</message>
</record>
<record>
  <date>2016-11-11T01:56:56</date>
  <millis>1478800616038</millis>
  <sequence>374</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Try to save file to ESP in Turbo Mode...</message>
</record>
<record>
  <date>2016-11-11T01:56:56</date>
  <millis>1478800616046</millis>
  <sequence>375</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>DataTurboSender: start "Smart Mode"</message>
</record>
<record>
  <date>2016-11-11T01:56:56</date>
  <millis>1478800616047</millis>
  <sequence>376</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Starting...</message>
</record>
<record>
  <date>2016-11-11T01:56:56</date>
  <millis>1478800616186</millis>
  <sequence>377</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local FILE="init.lua" file.remove(FILE) file.open(FILE,"w+") uart.setup(0,115200,8,0,1,0)</message>
</record>
<record>
  <date>2016-11-11T01:56:56</date>
  <millis>1478800616190</millis>
  <sequence>378</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>45</thread>
  <message>recv:lo</message>
</record>
<record>
  <date>2016-11-11T01:56:56</date>
  <millis>1478800616194</millis>
  <sequence>379</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>45</thread>
  <message>recv:cal FILE="init.lua" file.remove(FILE) file.open(FILE,"w+</message>
</record>
<record>
  <date>2016-11-11T01:56:56</date>
  <millis>1478800616196</millis>
  <sequence>380</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>45</thread>
  <message>recv:") uart.setup(0,1152</message>
</record>
<record>
  <date>2016-11-11T01:56:56</date>
  <millis>1478800616198</millis>
  <sequence>381</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>45</thread>
  <message>recv:00,8,0,1,0)&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T01:56:56</date>
  <millis>1478800616386</millis>
  <sequence>382</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>45</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T01:56:56</date>
  <millis>1478800616405</millis>
  <sequence>383</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_Receiver=function(rcvBuf) if string.match(rcvBuf,"^ESP_cmd_close")==nil then file.write(string.gsub(rcvBuf, '\r', '')) uart.write(0, "&gt; ") else uart.on("data") </message>
</record>
<record>
  <date>2016-11-11T01:56:56</date>
  <millis>1478800616431</millis>
  <sequence>384</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>45</thread>
  <message>recv:&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T01:56:56</date>
  <millis>1478800616452</millis>
  <sequence>385</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:file.flush() file.close() FILE=nil rcvBuf=nil ESP_Receiver=nil uart.setup(0,115200,8,0,1,1) str="\r\n--Done--\r\n&gt; " print(str) str=nil collectgarbage() end end uart.on("data",'\r',ESP_Receiver,0)</message>
</record>
<record>
  <date>2016-11-11T01:56:56</date>
  <millis>1478800616492</millis>
  <sequence>386</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>45</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T01:56:56</date>
  <millis>1478800616505</millis>
  <sequence>387</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:misc = require "misc"
control = require "control"

-- timer 1 = status, 2,3 = relay 

files = file.list()  -- Lists all files in the file system.

misc.button_press()  -- button press interrupt io3
--misc.button_rst()

control.status_LED(300) -- blink st</message>
</record>
<record>
  <date>2016-11-11T01:56:56</date>
  <millis>1478800616534</millis>
  <sequence>388</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>45</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T01:56:56</date>
  <millis>1478800616548</millis>
  <sequence>389</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:atus LED

wifi.setmode(wifi.STATION)
wifi.sta.autoconnect(0) -- auto connect

if files["config.txt"] then
    misc.con_read()
    --tmr.delay(1000000)
    print(" Config exist, user&gt;".. user .. ", pass&gt;" .. password .. ", now set station mode and connect</message>
</record>
<record>
  <date>2016-11-11T01:56:56</date>
  <millis>1478800616578</millis>
  <sequence>390</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>45</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T01:56:56</date>
  <millis>1478800616594</millis>
  <sequence>391</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:")
    
    wifi.sta.config(user, password)
    wifi.sta.connect()
    
    tmr.alarm(4, 5000, 1, function() 
        if wifi.sta.getip()== nil then
            print("IP unavailable.. if info correct then wait, else reconfig by press BTN1 to clean")
   </message>
</record>
<record>
  <date>2016-11-11T01:56:56</date>
  <millis>1478800616628</millis>
  <sequence>392</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>45</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T01:56:56</date>
  <millis>1478800616642</millis>
  <sequence>393</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:     else
            print("connected.. IP is: " .. wifi.sta.getip())
            tmr.stop(4)
            dofile("mqtt.lua")
        end
    end)
    
else
    print("  Config file NOT exists, starting smartconfig..")
    --wifi.setmode(wifi.STATION)


</message>
</record>
<record>
  <date>2016-11-11T01:56:56</date>
  <millis>1478800616673</millis>
  <sequence>394</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>45</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T01:56:56</date>
  <millis>1478800616690</millis>
  <sequence>395</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:    control.relay_6(2000, 0)
    control.relay_7(2000, 0)
    --control.relay_6(2000, 1)
    --control.relay_7(2000, 1)
    tmr.alarm(5, 1000, tmr.ALARM_SINGLE, function() print("hey there") end)
    --tmr.stop(2)
    --tmr.stop(3)

    tmr.alarm(4, 5000</message>
</record>
<record>
  <date>2016-11-11T01:56:56</date>
  <millis>1478800616721</millis>
  <sequence>396</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>45</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T01:56:56</date>
  <millis>1478800616733</millis>
  <sequence>397</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:, 1, function() 
        if wifi.sta.getip()== nil then
            wifi.startsmart(0,
            function(ssid, password)
            print(string.format("Success. SSID: %s ; PASSWORD: %s", ssid, password)) 
            misc.con_write(ssid, password)
 </message>
</record>
<record>
  <date>2016-11-11T01:56:56</date>
  <millis>1478800616764</millis>
  <sequence>398</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>45</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T01:56:56</date>
  <millis>1478800616777</millis>
  <sequence>399</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:           end)
        else 
            tmr.stop(1)

            tmr.stop(4)
            print("Config done, IP is "..wifi.sta.getip())
            wifi.stopsmart()

            --misc.con_read()
            --print (user .. password)
            dofil</message>
</record>
<record>
  <date>2016-11-11T01:56:56</date>
  <millis>1478800616808</millis>
  <sequence>400</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>45</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T01:56:56</date>
  <millis>1478800616822</millis>
  <sequence>401</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:e("mqtt.lua")
        end
    end)
        

end
</message>
</record>
<record>
  <date>2016-11-11T01:56:56</date>
  <millis>1478800616833</millis>
  <sequence>402</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>45</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T01:56:56</date>
  <millis>1478800616859</millis>
  <sequence>403</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_cmd_close</message>
</record>
<record>
  <date>2016-11-11T01:56:56</date>
  <millis>1478800616871</millis>
  <sequence>404</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>45</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;-</message>
</record>
<record>
  <date>2016-11-11T01:56:56</date>
  <millis>1478800616873</millis>
  <sequence>405</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>45</thread>
  <message>recv:-Done--&lt;CR&gt;&lt;LF&gt;&gt; &lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T01:56:56</date>
  <millis>1478800616906</millis>
  <sequence>406</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T01:56:56</date>
  <millis>1478800616907</millis>
  <sequence>407</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>45</thread>
  <message>recv:&lt;CR&gt;</message>
</record>
<record>
  <date>2016-11-11T01:56:56</date>
  <millis>1478800616912</millis>
  <sequence>408</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>45</thread>
  <message>recv:&lt;LF&gt;&gt; &lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T01:56:56</date>
  <millis>1478800616946</millis>
  <sequence>409</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:dofile("init.lua")</message>
</record>
<record>
  <date>2016-11-11T01:56:56</date>
  <millis>1478800616947</millis>
  <sequence>410</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>45</thread>
  <message>recv:do</message>
</record>
<record>
  <date>2016-11-11T01:56:56</date>
  <millis>1478800616950</millis>
  <sequence>411</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>45</thread>
  <message>recv:file("init.lua")&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T01:56:57</date>
  <millis>1478800617070</millis>
  <sequence>412</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>45</thread>
  <message>recv:  </message>
</record>
<record>
  <date>2016-11-11T01:56:57</date>
  <millis>1478800617071</millis>
  <sequence>413</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>45</thread>
  <message>recv:Config file NOT exis</message>
</record>
<record>
  <date>2016-11-11T01:56:57</date>
  <millis>1478800617075</millis>
  <sequence>414</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>45</thread>
  <message>recv:ts, starting smartconfig..&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T01:56:57</date>
  <millis>1478800617080</millis>
  <sequence>415</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>45</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T01:56:57</date>
  <millis>1478800617131</millis>
  <sequence>416</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>45</thread>
  <message>Operation done. Duration = 1089 ms</message>
</record>
<record>
  <date>2016-11-11T02:00:57</date>
  <millis>1478800857566</millis>
  <sequence>417</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to load file init.lua</message>
</record>
<record>
  <date>2016-11-11T02:00:57</date>
  <millis>1478800857604</millis>
  <sequence>418</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Loading init.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T02:00:57</date>
  <millis>1478800857605</millis>
  <sequence>419</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>File reload: Success.</message>
</record>
<record>
  <date>2016-11-11T02:00:58</date>
  <millis>1478800858315</millis>
  <sequence>420</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>We save known file init.lua</message>
</record>
<record>
  <date>2016-11-11T02:00:58</date>
  <millis>1478800858319</millis>
  <sequence>421</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to saving file init.lua ...</message>
</record>
<record>
  <date>2016-11-11T02:00:58</date>
  <millis>1478800858321</millis>
  <sequence>422</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Save file init.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T02:00:58</date>
  <millis>1478800858338</millis>
  <sequence>423</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP: Try to save file to ESP...</message>
</record>
<record>
  <date>2016-11-11T02:00:58</date>
  <millis>1478800858342</millis>
  <sequence>424</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Try to save file to ESP in Turbo Mode...</message>
</record>
<record>
  <date>2016-11-11T02:00:58</date>
  <millis>1478800858350</millis>
  <sequence>425</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>DataTurboSender: start "Smart Mode"</message>
</record>
<record>
  <date>2016-11-11T02:00:58</date>
  <millis>1478800858351</millis>
  <sequence>426</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Starting...</message>
</record>
<record>
  <date>2016-11-11T02:00:58</date>
  <millis>1478800858498</millis>
  <sequence>427</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local FILE="init.lua" file.remove(FILE) file.open(FILE,"w+") uart.setup(0,115200,8,0,1,0)</message>
</record>
<record>
  <date>2016-11-11T02:00:58</date>
  <millis>1478800858500</millis>
  <sequence>428</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>47</thread>
  <message>recv:local</message>
</record>
<record>
  <date>2016-11-11T02:00:58</date>
  <millis>1478800858504</millis>
  <sequence>429</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>47</thread>
  <message>recv: FILE="init.lua" file.remove(FILE) file.open</message>
</record>
<record>
  <date>2016-11-11T02:00:58</date>
  <millis>1478800858506</millis>
  <sequence>430</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>47</thread>
  <message>recv:(FILE,"w+") uart.setup</message>
</record>
<record>
  <date>2016-11-11T02:00:58</date>
  <millis>1478800858509</millis>
  <sequence>431</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>47</thread>
  <message>recv:(0,115200,8,0,1,0)&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:00:58</date>
  <millis>1478800858689</millis>
  <sequence>432</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>47</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:00:58</date>
  <millis>1478800858703</millis>
  <sequence>433</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_Receiver=function(rcvBuf) if string.match(rcvBuf,"^ESP_cmd_close")==nil then file.write(string.gsub(rcvBuf, '\r', '')) uart.write(0, "&gt; ") else uart.on("data") </message>
</record>
<record>
  <date>2016-11-11T02:00:58</date>
  <millis>1478800858732</millis>
  <sequence>434</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>47</thread>
  <message>recv:&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T02:00:58</date>
  <millis>1478800858747</millis>
  <sequence>435</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:file.flush() file.close() FILE=nil rcvBuf=nil ESP_Receiver=nil uart.setup(0,115200,8,0,1,1) str="\r\n--Done--\r\n&gt; " print(str) str=nil collectgarbage() end end uart.on("data",'\r',ESP_Receiver,0)</message>
</record>
<record>
  <date>2016-11-11T02:00:58</date>
  <millis>1478800858786</millis>
  <sequence>436</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>47</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:00:58</date>
  <millis>1478800858803</millis>
  <sequence>437</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:misc = require "misc"
control = require "control"

-- timer 1 = status, 2,3 = relay 

files = file.list()  -- Lists all files in the file system.

misc.button_press()  -- button press interrupt io3
--misc.button_rst()

control.status_LED(300) -- blink st</message>
</record>
<record>
  <date>2016-11-11T02:00:58</date>
  <millis>1478800858840</millis>
  <sequence>438</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>47</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:00:58</date>
  <millis>1478800858854</millis>
  <sequence>439</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:atus LED

wifi.setmode(wifi.STATION)
wifi.sta.autoconnect(0) -- auto connect

if files["config.txt"] then
    misc.con_read()
    --tmr.delay(1000000)
    print(" Config exist, user&gt;".. user .. ", pass&gt;" .. password .. ", now set station mode and connect</message>
</record>
<record>
  <date>2016-11-11T02:00:58</date>
  <millis>1478800858885</millis>
  <sequence>440</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>47</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:00:58</date>
  <millis>1478800858902</millis>
  <sequence>441</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:")
    
    wifi.sta.config(user, password)
    wifi.sta.connect()
    
    tmr.alarm(4, 5000, 1, function() 
        if wifi.sta.getip()== nil then
            print("IP unavailable.. if info correct then wait, else reconfig by press BTN1 to clean")
   </message>
</record>
<record>
  <date>2016-11-11T02:00:58</date>
  <millis>1478800858934</millis>
  <sequence>442</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>47</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:00:58</date>
  <millis>1478800858950</millis>
  <sequence>443</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:     else
            print("connected.. IP is: " .. wifi.sta.getip())
            tmr.stop(4)
            dofile("mqtt.lua")
        end
    end)
    
else
    print("  Config file NOT exists, starting smartconfig..")
    --wifi.setmode(wifi.STATION)


</message>
</record>
<record>
  <date>2016-11-11T02:00:58</date>
  <millis>1478800858981</millis>
  <sequence>444</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>47</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:00:58</date>
  <millis>1478800858995</millis>
  <sequence>445</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:    control.relay_6(2000, 0)
    control.relay_7(2000, 0)
    --control.relay_6(2000, 1)
    --control.relay_7(2000, 1)
    if not tmr.alarm(5, 1000, tmr.ALARM_SINGLE, function() print("hey there") end) then print("whoopsie") end
    --tmr.stop(2)
    --</message>
</record>
<record>
  <date>2016-11-11T02:00:59</date>
  <millis>1478800859026</millis>
  <sequence>446</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>47</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:00:59</date>
  <millis>1478800859039</millis>
  <sequence>447</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:tmr.stop(3)

    tmr.alarm(4, 5000, 1, function() 
        if wifi.sta.getip()== nil then
            wifi.startsmart(0,
            function(ssid, password)
            print(string.format("Success. SSID: %s ; PASSWORD: %s", ssid, password)) 
          </message>
</record>
<record>
  <date>2016-11-11T02:00:59</date>
  <millis>1478800859069</millis>
  <sequence>448</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>47</thread>
  <message>recv:&gt;</message>
</record>
<record>
  <date>2016-11-11T02:00:59</date>
  <millis>1478800859072</millis>
  <sequence>449</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>47</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T02:00:59</date>
  <millis>1478800859095</millis>
  <sequence>450</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:  misc.con_write(ssid, password)
            end)
        else 
            tmr.stop(1)

            tmr.stop(4)
            print("Config done, IP is "..wifi.sta.getip())
            wifi.stopsmart()

            --misc.con_read()
            --print (u</message>
</record>
<record>
  <date>2016-11-11T02:00:59</date>
  <millis>1478800859127</millis>
  <sequence>451</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>47</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:00:59</date>
  <millis>1478800859141</millis>
  <sequence>452</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ser .. password)
            dofile("mqtt.lua")
        end
    end)
        

end
</message>
</record>
<record>
  <date>2016-11-11T02:00:59</date>
  <millis>1478800859157</millis>
  <sequence>453</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>47</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:00:59</date>
  <millis>1478800859169</millis>
  <sequence>454</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_cmd_close</message>
</record>
<record>
  <date>2016-11-11T02:00:59</date>
  <millis>1478800859182</millis>
  <sequence>455</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>47</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;-</message>
</record>
<record>
  <date>2016-11-11T02:00:59</date>
  <millis>1478800859184</millis>
  <sequence>456</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>47</thread>
  <message>recv:-Done--&lt;CR&gt;&lt;LF&gt;&gt; &lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:00:59</date>
  <millis>1478800859213</millis>
  <sequence>457</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:00:59</date>
  <millis>1478800859215</millis>
  <sequence>458</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>47</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:00:59</date>
  <millis>1478800859220</millis>
  <sequence>459</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>47</thread>
  <message>recv:&gt; &lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T02:00:59</date>
  <millis>1478800859260</millis>
  <sequence>460</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:dofile("init.lua")</message>
</record>
<record>
  <date>2016-11-11T02:00:59</date>
  <millis>1478800859262</millis>
  <sequence>461</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>47</thread>
  <message>recv:do</message>
</record>
<record>
  <date>2016-11-11T02:00:59</date>
  <millis>1478800859265</millis>
  <sequence>462</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>47</thread>
  <message>recv:file("init.lua")&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:00:59</date>
  <millis>1478800859393</millis>
  <sequence>463</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>47</thread>
  <message>recv:  Config file NOT exis</message>
</record>
<record>
  <date>2016-11-11T02:00:59</date>
  <millis>1478800859407</millis>
  <sequence>464</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>47</thread>
  <message>recv:ts, starting smartconfig..&lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T02:00:59</date>
  <millis>1478800859467</millis>
  <sequence>465</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>47</thread>
  <message>Operation done. Duration = 1123 ms</message>
</record>
<record>
  <date>2016-11-11T02:01:34</date>
  <millis>1478800894947</millis>
  <sequence>466</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to load file init.lua</message>
</record>
<record>
  <date>2016-11-11T02:01:34</date>
  <millis>1478800894962</millis>
  <sequence>467</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Loading init.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T02:01:34</date>
  <millis>1478800894963</millis>
  <sequence>468</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>File reload: Success.</message>
</record>
<record>
  <date>2016-11-11T02:01:35</date>
  <millis>1478800895807</millis>
  <sequence>469</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>We save known file init.lua</message>
</record>
<record>
  <date>2016-11-11T02:01:35</date>
  <millis>1478800895808</millis>
  <sequence>470</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to saving file init.lua ...</message>
</record>
<record>
  <date>2016-11-11T02:01:35</date>
  <millis>1478800895811</millis>
  <sequence>471</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Save file init.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T02:01:35</date>
  <millis>1478800895816</millis>
  <sequence>472</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP: Try to save file to ESP...</message>
</record>
<record>
  <date>2016-11-11T02:01:35</date>
  <millis>1478800895817</millis>
  <sequence>473</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Try to save file to ESP in Turbo Mode...</message>
</record>
<record>
  <date>2016-11-11T02:01:35</date>
  <millis>1478800895824</millis>
  <sequence>474</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>DataTurboSender: start "Smart Mode"</message>
</record>
<record>
  <date>2016-11-11T02:01:35</date>
  <millis>1478800895825</millis>
  <sequence>475</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Starting...</message>
</record>
<record>
  <date>2016-11-11T02:01:35</date>
  <millis>1478800895960</millis>
  <sequence>476</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local FILE="init.lua" file.remove(FILE) file.open(FILE,"w+") uart.setup(0,115200,8,0,1,0)</message>
</record>
<record>
  <date>2016-11-11T02:01:35</date>
  <millis>1478800895962</millis>
  <sequence>477</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>49</thread>
  <message>recv:lo</message>
</record>
<record>
  <date>2016-11-11T02:01:35</date>
  <millis>1478800895966</millis>
  <sequence>478</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>49</thread>
  <message>recv:cal FILE="init.lua" file.remove(FILE) file</message>
</record>
<record>
  <date>2016-11-11T02:01:35</date>
  <millis>1478800895969</millis>
  <sequence>479</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>49</thread>
  <message>recv:.open(FILE,"w+") uart.setup(0,115200</message>
</record>
<record>
  <date>2016-11-11T02:01:35</date>
  <millis>1478800895973</millis>
  <sequence>480</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>49</thread>
  <message>recv:,8,0,1,0)&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:01:36</date>
  <millis>1478800896151</millis>
  <sequence>481</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>49</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:01:36</date>
  <millis>1478800896179</millis>
  <sequence>482</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_Receiver=function(rcvBuf) if string.match(rcvBuf,"^ESP_cmd_close")==nil then file.write(string.gsub(rcvBuf, '\r', '')) uart.write(0, "&gt; ") else uart.on("data") </message>
</record>
<record>
  <date>2016-11-11T02:01:36</date>
  <millis>1478800896206</millis>
  <sequence>483</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>49</thread>
  <message>recv:&gt;</message>
</record>
<record>
  <date>2016-11-11T02:01:36</date>
  <millis>1478800896207</millis>
  <sequence>484</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>49</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:01:36</date>
  <millis>1478800896228</millis>
  <sequence>485</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:file.flush() file.close() FILE=nil rcvBuf=nil ESP_Receiver=nil uart.setup(0,115200,8,0,1,1) str="\r\n--Done--\r\n&gt; " print(str) str=nil collectgarbage() end end uart.on("data",'\r',ESP_Receiver,0)</message>
</record>
<record>
  <date>2016-11-11T02:01:36</date>
  <millis>1478800896268</millis>
  <sequence>486</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>49</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:01:36</date>
  <millis>1478800896284</millis>
  <sequence>487</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:misc = require "misc"
control = require "control"

-- timer 1 = status, 2,3 = relay 

files = file.list()  -- Lists all files in the file system.

misc.button_press()  -- button press interrupt io3
--misc.button_rst()

control.status_LED(300) -- blink st</message>
</record>
<record>
  <date>2016-11-11T02:01:36</date>
  <millis>1478800896314</millis>
  <sequence>488</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>49</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:01:36</date>
  <millis>1478800896326</millis>
  <sequence>489</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:atus LED

wifi.setmode(wifi.STATION)
wifi.sta.autoconnect(0) -- auto connect

if files["config.txt"] then
    misc.con_read()
    --tmr.delay(1000000)
    print(" Config exist, user&gt;".. user .. ", pass&gt;" .. password .. ", now set station mode and connect</message>
</record>
<record>
  <date>2016-11-11T02:01:36</date>
  <millis>1478800896358</millis>
  <sequence>490</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>49</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:01:36</date>
  <millis>1478800896372</millis>
  <sequence>491</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:")
    
    wifi.sta.config(user, password)
    wifi.sta.connect()
    
    tmr.alarm(4, 5000, 1, function() 
        if wifi.sta.getip()== nil then
            print("IP unavailable.. if info correct then wait, else reconfig by press BTN1 to clean")
   </message>
</record>
<record>
  <date>2016-11-11T02:01:36</date>
  <millis>1478800896403</millis>
  <sequence>492</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>49</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:01:36</date>
  <millis>1478800896422</millis>
  <sequence>493</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:     else
            print("connected.. IP is: " .. wifi.sta.getip())
            tmr.stop(4)
            dofile("mqtt.lua")
        end
    end)
    
else
    print("  Config file NOT exists, starting smartconfig..")
    --wifi.setmode(wifi.STATION)


</message>
</record>
<record>
  <date>2016-11-11T02:01:36</date>
  <millis>1478800896453</millis>
  <sequence>494</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>49</thread>
  <message>recv:&gt;</message>
</record>
<record>
  <date>2016-11-11T02:01:36</date>
  <millis>1478800896455</millis>
  <sequence>495</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>49</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T02:01:36</date>
  <millis>1478800896474</millis>
  <sequence>496</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:    control.relay_6(2000, tmr.ALARM_SINGLE)
    control.relay_7(2000, tmr.ALARM_SINGLE)
    --control.relay_6(2000, 1)
    --control.relay_7(2000, 1)
    --if not tmr.alarm(5, 1000, tmr.ALARM_SINGLE, function() print("hey there") end) then print("whoopsi</message>
</record>
<record>
  <date>2016-11-11T02:01:36</date>
  <millis>1478800896505</millis>
  <sequence>497</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>49</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:01:36</date>
  <millis>1478800896519</millis>
  <sequence>498</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:e") end
    --tmr.stop(2)
    --tmr.stop(3)

    tmr.alarm(4, 5000, 1, function() 
        if wifi.sta.getip()== nil then
            wifi.startsmart(0,
            function(ssid, password)
            print(string.format("Success. SSID: %s ; PASSWORD: %</message>
</record>
<record>
  <date>2016-11-11T02:01:36</date>
  <millis>1478800896551</millis>
  <sequence>499</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>49</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:01:36</date>
  <millis>1478800896568</millis>
  <sequence>500</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:s", ssid, password)) 
            misc.con_write(ssid, password)
            end)
        else 
            tmr.stop(1)

            tmr.stop(4)
            print("Config done, IP is "..wifi.sta.getip())
            wifi.stopsmart()

            --misc.c</message>
</record>
<record>
  <date>2016-11-11T02:01:36</date>
  <millis>1478800896600</millis>
  <sequence>501</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>49</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:01:36</date>
  <millis>1478800896617</millis>
  <sequence>502</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:on_read()
            --print (user .. password)
            dofile("mqtt.lua")
        end
    end)
        

end
</message>
</record>
<record>
  <date>2016-11-11T02:01:36</date>
  <millis>1478800896636</millis>
  <sequence>503</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>49</thread>
  <message>recv:&gt;</message>
</record>
<record>
  <date>2016-11-11T02:01:36</date>
  <millis>1478800896638</millis>
  <sequence>504</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>49</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T02:01:36</date>
  <millis>1478800896656</millis>
  <sequence>505</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_cmd_close</message>
</record>
<record>
  <date>2016-11-11T02:01:36</date>
  <millis>1478800896669</millis>
  <sequence>506</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>49</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:01:36</date>
  <millis>1478800896671</millis>
  <sequence>507</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>49</thread>
  <message>recv:--Done--&lt;CR&gt;&lt;LF&gt;&gt; &lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:01:36</date>
  <millis>1478800896699</millis>
  <sequence>508</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:01:36</date>
  <millis>1478800896701</millis>
  <sequence>509</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>49</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;&gt; &lt;CR&gt;&lt;LF&gt;&gt;</message>
</record>
<record>
  <date>2016-11-11T02:01:36</date>
  <millis>1478800896705</millis>
  <sequence>510</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>49</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T02:01:36</date>
  <millis>1478800896747</millis>
  <sequence>511</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:dofile("init.lua")</message>
</record>
<record>
  <date>2016-11-11T02:01:36</date>
  <millis>1478800896748</millis>
  <sequence>512</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>49</thread>
  <message>recv:dof</message>
</record>
<record>
  <date>2016-11-11T02:01:36</date>
  <millis>1478800896752</millis>
  <sequence>513</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>49</thread>
  <message>recv:ile("init.lua")&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:01:36</date>
  <millis>1478800896871</millis>
  <sequence>514</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>49</thread>
  <message>recv:  </message>
</record>
<record>
  <date>2016-11-11T02:01:36</date>
  <millis>1478800896887</millis>
  <sequence>515</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>49</thread>
  <message>recv:Config file NOT exists, starting smartconfig..&lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T02:01:36</date>
  <millis>1478800896907</millis>
  <sequence>516</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>49</thread>
  <message>Operation done. Duration = 1090 ms</message>
</record>
<record>
  <date>2016-11-11T02:01:49</date>
  <millis>1478800909978</millis>
  <sequence>517</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to open file control.lua</message>
</record>
<record>
  <date>2016-11-11T02:01:49</date>
  <millis>1478800909984</millis>
  <sequence>518</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>File name: C:\Users\hechao\Dropbox\ED_work\6-Project\ESP\ESP Relay Board\R1\control.lua</message>
</record>
<record>
  <date>2016-11-11T02:01:49</date>
  <millis>1478800909985</millis>
  <sequence>519</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to load file control.lua</message>
</record>
<record>
  <date>2016-11-11T02:01:50</date>
  <millis>1478800910015</millis>
  <sequence>520</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Loading control.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T02:01:50</date>
  <millis>1478800910016</millis>
  <sequence>521</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Open "control.lua": Success.</message>
</record>
<record>
  <date>2016-11-11T02:05:00</date>
  <millis>1478801100071</millis>
  <sequence>522</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to load file control.lua</message>
</record>
<record>
  <date>2016-11-11T02:05:00</date>
  <millis>1478801100084</millis>
  <sequence>523</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Loading control.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T02:05:00</date>
  <millis>1478801100085</millis>
  <sequence>524</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>File reload: Success.</message>
</record>
<record>
  <date>2016-11-11T02:05:00</date>
  <millis>1478801100907</millis>
  <sequence>525</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>We save known file control.lua</message>
</record>
<record>
  <date>2016-11-11T02:05:00</date>
  <millis>1478801100908</millis>
  <sequence>526</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to saving file control.lua ...</message>
</record>
<record>
  <date>2016-11-11T02:05:00</date>
  <millis>1478801100911</millis>
  <sequence>527</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Save file control.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T02:05:00</date>
  <millis>1478801100916</millis>
  <sequence>528</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP: Try to save file to ESP...</message>
</record>
<record>
  <date>2016-11-11T02:05:00</date>
  <millis>1478801100916</millis>
  <sequence>529</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Try to save file to ESP in Turbo Mode...</message>
</record>
<record>
  <date>2016-11-11T02:05:00</date>
  <millis>1478801100925</millis>
  <sequence>530</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>DataTurboSender: start "Smart Mode"</message>
</record>
<record>
  <date>2016-11-11T02:05:00</date>
  <millis>1478801100926</millis>
  <sequence>531</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Starting...</message>
</record>
<record>
  <date>2016-11-11T02:05:01</date>
  <millis>1478801101036</millis>
  <sequence>532</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local FILE="control.lua" file.remove(FILE) file.open(FILE,"w+") uart.setup(0,115200,8,0,1,0)</message>
</record>
<record>
  <date>2016-11-11T02:05:01</date>
  <millis>1478801101039</millis>
  <sequence>533</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>53</thread>
  <message>recv:loca</message>
</record>
<record>
  <date>2016-11-11T02:05:01</date>
  <millis>1478801101043</millis>
  <sequence>534</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>53</thread>
  <message>recv:l FILE="control.lua" file.remove(FILE) file.</message>
</record>
<record>
  <date>2016-11-11T02:05:01</date>
  <millis>1478801101045</millis>
  <sequence>535</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>53</thread>
  <message>recv:open(FILE,"w+") uart.setup(0,1152</message>
</record>
<record>
  <date>2016-11-11T02:05:01</date>
  <millis>1478801101047</millis>
  <sequence>536</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>53</thread>
  <message>recv:00,8,0,1,0)&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:05:01</date>
  <millis>1478801101318</millis>
  <sequence>537</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>53</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:05:01</date>
  <millis>1478801101336</millis>
  <sequence>538</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_Receiver=function(rcvBuf) if string.match(rcvBuf,"^ESP_cmd_close")==nil then file.write(string.gsub(rcvBuf, '\r', '')) uart.write(0, "&gt; ") else uart.on("data") </message>
</record>
<record>
  <date>2016-11-11T02:05:01</date>
  <millis>1478801101362</millis>
  <sequence>539</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>53</thread>
  <message>recv:&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T02:05:01</date>
  <millis>1478801101380</millis>
  <sequence>540</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:file.flush() file.close() FILE=nil rcvBuf=nil ESP_Receiver=nil uart.setup(0,115200,8,0,1,1) str="\r\n--Done--\r\n&gt; " print(str) str=nil collectgarbage() end end uart.on("data",'\r',ESP_Receiver,0)</message>
</record>
<record>
  <date>2016-11-11T02:05:01</date>
  <millis>1478801101419</millis>
  <sequence>541</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>53</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:05:01</date>
  <millis>1478801101431</millis>
  <sequence>542</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local M = {}

-- status pin = 0, alarm 1
-- relay pin = 6 and 7, alarm 2, 3

function M.status_LED(delay)
    gpio.mode(0, gpio.OUTPUT)
    status0 = 0
        
    tmr.alarm(1, delay, 1, function()
        if status0 == 0 then
            status0 = 1
  </message>
</record>
<record>
  <date>2016-11-11T02:05:01</date>
  <millis>1478801101460</millis>
  <sequence>543</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>53</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:05:01</date>
  <millis>1478801101472</millis>
  <sequence>544</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:          gpio.write(0, gpio.HIGH)
        else
            status0 = 0
            gpio.write(0, gpio.LOW)
        end 
    end)
      
end

-- One on/off relay
function M.relay_onoff()
    gpio.mode(6, gpio.OUTPUT)
    gpio.mode(7, gpio.OUTPUT)
    gpi</message>
</record>
<record>
  <date>2016-11-11T02:05:01</date>
  <millis>1478801101503</millis>
  <sequence>545</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>53</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:05:01</date>
  <millis>1478801101514</millis>
  <sequence>546</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:o.write(6, gpio.HIGH)
    gpio.write(7, gpio.HIGH)
        
    tmr.alarm(2, 1000, tmr.ALARM_SINGLE, function()
    gpio.write(6, gpio.LOW)
    gpio.write(7, gpio.LOW)
    end)
      
end


-- loop relay
function M.relay_6(delay, mode)
    gpio.mode(6, g</message>
</record>
<record>
  <date>2016-11-11T02:05:01</date>
  <millis>1478801101546</millis>
  <sequence>547</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>53</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:05:01</date>
  <millis>1478801101558</millis>
  <sequence>548</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:pio.OUTPUT)
    status1 = 0
        
    tmr.alarm(2, delay, mode, function()
        if status1 == 0 then
            status1 = 1
            gpio.write(6, gpio.HIGH)
        else
            status1 = 0
            gpio.write(6, gpio.LOW)
        end 
</message>
</record>
<record>
  <date>2016-11-11T02:05:01</date>
  <millis>1478801101588</millis>
  <sequence>549</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>53</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:05:01</date>
  <millis>1478801101601</millis>
  <sequence>550</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:    end)
      
end


function M.relay_7(delay, mode)
    gpio.mode(7, gpio.OUTPUT)
    status2 = 0
        
    tmr.alarm(3, delay, mode, function()
        if status2 == 0 then
            status2 = 1
            gpio.write(7, gpio.HIGH)
        else
 </message>
</record>
<record>
  <date>2016-11-11T02:05:01</date>
  <millis>1478801101632</millis>
  <sequence>551</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>53</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:05:01</date>
  <millis>1478801101644</millis>
  <sequence>552</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:           status2 = 0
            gpio.write(7, gpio.LOW)
        end 
    end)
      
end
return M
</message>
</record>
<record>
  <date>2016-11-11T02:05:01</date>
  <millis>1478801101661</millis>
  <sequence>553</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>53</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:05:01</date>
  <millis>1478801101673</millis>
  <sequence>554</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_cmd_close</message>
</record>
<record>
  <date>2016-11-11T02:05:01</date>
  <millis>1478801101685</millis>
  <sequence>555</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>53</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:05:01</date>
  <millis>1478801101687</millis>
  <sequence>556</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>53</thread>
  <message>recv:--Done--&lt;CR&gt;&lt;LF&gt;&gt; &lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:05:01</date>
  <millis>1478801101714</millis>
  <sequence>557</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:05:01</date>
  <millis>1478801101716</millis>
  <sequence>558</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>53</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:05:01</date>
  <millis>1478801101720</millis>
  <sequence>559</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>53</thread>
  <message>recv:&gt; &lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T02:05:01</date>
  <millis>1478801101742</millis>
  <sequence>560</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:dofile("control.lua")</message>
</record>
<record>
  <date>2016-11-11T02:05:01</date>
  <millis>1478801101744</millis>
  <sequence>561</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>53</thread>
  <message>recv:dof</message>
</record>
<record>
  <date>2016-11-11T02:05:01</date>
  <millis>1478801101748</millis>
  <sequence>562</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>53</thread>
  <message>recv:ile("control.lua")&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:05:01</date>
  <millis>1478801101802</millis>
  <sequence>563</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>53</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:05:01</date>
  <millis>1478801101873</millis>
  <sequence>564</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>53</thread>
  <message>Operation done. Duration = 956 ms</message>
</record>
<record>
  <date>2016-11-11T02:05:03</date>
  <millis>1478801103795</millis>
  <sequence>565</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to load file init.lua</message>
</record>
<record>
  <date>2016-11-11T02:05:03</date>
  <millis>1478801103807</millis>
  <sequence>566</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Loading init.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T02:05:03</date>
  <millis>1478801103807</millis>
  <sequence>567</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>File reload: Success.</message>
</record>
<record>
  <date>2016-11-11T02:05:04</date>
  <millis>1478801104531</millis>
  <sequence>568</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>We save known file init.lua</message>
</record>
<record>
  <date>2016-11-11T02:05:04</date>
  <millis>1478801104532</millis>
  <sequence>569</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to saving file init.lua ...</message>
</record>
<record>
  <date>2016-11-11T02:05:04</date>
  <millis>1478801104535</millis>
  <sequence>570</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Save file init.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T02:05:04</date>
  <millis>1478801104539</millis>
  <sequence>571</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP: Try to save file to ESP...</message>
</record>
<record>
  <date>2016-11-11T02:05:04</date>
  <millis>1478801104540</millis>
  <sequence>572</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Try to save file to ESP in Turbo Mode...</message>
</record>
<record>
  <date>2016-11-11T02:05:04</date>
  <millis>1478801104550</millis>
  <sequence>573</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>DataTurboSender: start "Smart Mode"</message>
</record>
<record>
  <date>2016-11-11T02:05:04</date>
  <millis>1478801104551</millis>
  <sequence>574</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Starting...</message>
</record>
<record>
  <date>2016-11-11T02:05:04</date>
  <millis>1478801104646</millis>
  <sequence>575</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local FILE="init.lua" file.remove(FILE) file.open(FILE,"w+") uart.setup(0,115200,8,0,1,0)</message>
</record>
<record>
  <date>2016-11-11T02:05:04</date>
  <millis>1478801104649</millis>
  <sequence>576</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>55</thread>
  <message>recv:local </message>
</record>
<record>
  <date>2016-11-11T02:05:04</date>
  <millis>1478801104654</millis>
  <sequence>577</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>55</thread>
  <message>recv:FILE="init.lua" file.remove(FILE) file.open(FILE,"w+") uart.set</message>
</record>
<record>
  <date>2016-11-11T02:05:04</date>
  <millis>1478801104657</millis>
  <sequence>578</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>55</thread>
  <message>recv:up(0,115200,8,0,1,0)&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:05:04</date>
  <millis>1478801104937</millis>
  <sequence>579</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>55</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:05:04</date>
  <millis>1478801104951</millis>
  <sequence>580</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_Receiver=function(rcvBuf) if string.match(rcvBuf,"^ESP_cmd_close")==nil then file.write(string.gsub(rcvBuf, '\r', '')) uart.write(0, "&gt; ") else uart.on("data") </message>
</record>
<record>
  <date>2016-11-11T02:05:04</date>
  <millis>1478801104978</millis>
  <sequence>581</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>55</thread>
  <message>recv:&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T02:05:04</date>
  <millis>1478801104991</millis>
  <sequence>582</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:file.flush() file.close() FILE=nil rcvBuf=nil ESP_Receiver=nil uart.setup(0,115200,8,0,1,1) str="\r\n--Done--\r\n&gt; " print(str) str=nil collectgarbage() end end uart.on("data",'\r',ESP_Receiver,0)</message>
</record>
<record>
  <date>2016-11-11T02:05:05</date>
  <millis>1478801105029</millis>
  <sequence>583</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>55</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:05:05</date>
  <millis>1478801105042</millis>
  <sequence>584</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:misc = require "misc"
control = require "control"

-- timer 1 = status, 2,3 = relay 

files = file.list()  -- Lists all files in the file system.

misc.button_press()  -- button press interrupt io3
--misc.button_rst()

control.status_LED(300) -- blink st</message>
</record>
<record>
  <date>2016-11-11T02:05:05</date>
  <millis>1478801105071</millis>
  <sequence>585</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>55</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:05:05</date>
  <millis>1478801105086</millis>
  <sequence>586</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:atus LED

wifi.setmode(wifi.STATION)
wifi.sta.autoconnect(0) -- auto connect

if files["config.txt"] then
    misc.con_read()
    --tmr.delay(1000000)
    print(" Config exist, user&gt;".. user .. ", pass&gt;" .. password .. ", now set station mode and connect</message>
</record>
<record>
  <date>2016-11-11T02:05:05</date>
  <millis>1478801105118</millis>
  <sequence>587</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>55</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:05:05</date>
  <millis>1478801105131</millis>
  <sequence>588</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:")
    
    wifi.sta.config(user, password)
    wifi.sta.connect()
    
    tmr.alarm(4, 5000, 1, function() 
        if wifi.sta.getip()== nil then
            print("IP unavailable.. if info correct then wait, else reconfig by press BTN1 to clean")
   </message>
</record>
<record>
  <date>2016-11-11T02:05:05</date>
  <millis>1478801105162</millis>
  <sequence>589</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>55</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:05:05</date>
  <millis>1478801105175</millis>
  <sequence>590</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:     else
            print("connected.. IP is: " .. wifi.sta.getip())
            tmr.stop(4)
            dofile("mqtt.lua")
        end
    end)
    
else
    print("  Config file NOT exists, starting smartconfig..")
    --wifi.setmode(wifi.STATION)

 </message>
</record>
<record>
  <date>2016-11-11T02:05:05</date>
  <millis>1478801105206</millis>
  <sequence>591</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>55</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:05:05</date>
  <millis>1478801105221</millis>
  <sequence>592</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:   relay_onoff()
    --control.relay_6(2000)
    --control.relay_7(2000)
    --control.relay_6(2000, 1)
    --control.relay_7(2000, 1)
    --if not tmr.alarm(5, 1000, tmr.ALARM_SINGLE, function() print("hey there") end) then print("whoopsie") end
    --t</message>
</record>
<record>
  <date>2016-11-11T02:05:05</date>
  <millis>1478801105260</millis>
  <sequence>593</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>55</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:05:05</date>
  <millis>1478801105273</millis>
  <sequence>594</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:mr.stop(2)
    --tmr.stop(3)

    tmr.alarm(4, 5000, 1, function() 
        if wifi.sta.getip()== nil then
            wifi.startsmart(0,
            function(ssid, password)
            print(string.format("Success. SSID: %s ; PASSWORD: %s", ssid, passw</message>
</record>
<record>
  <date>2016-11-11T02:05:05</date>
  <millis>1478801105304</millis>
  <sequence>595</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>55</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:05:05</date>
  <millis>1478801105316</millis>
  <sequence>596</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ord)) 
            misc.con_write(ssid, password)
            end)
        else 
            tmr.stop(1)

            tmr.stop(4)
            print("Config done, IP is "..wifi.sta.getip())
            wifi.stopsmart()

            --misc.con_read()
     </message>
</record>
<record>
  <date>2016-11-11T02:05:05</date>
  <millis>1478801105346</millis>
  <sequence>597</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>55</thread>
  <message>recv:&gt;</message>
</record>
<record>
  <date>2016-11-11T02:05:05</date>
  <millis>1478801105347</millis>
  <sequence>598</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>55</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T02:05:05</date>
  <millis>1478801105362</millis>
  <sequence>599</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:       --print (user .. password)
            dofile("mqtt.lua")
        end
    end)
        

end
</message>
</record>
<record>
  <date>2016-11-11T02:05:05</date>
  <millis>1478801105378</millis>
  <sequence>600</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>55</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:05:05</date>
  <millis>1478801105391</millis>
  <sequence>601</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_cmd_close</message>
</record>
<record>
  <date>2016-11-11T02:05:05</date>
  <millis>1478801105402</millis>
  <sequence>602</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>55</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:05:05</date>
  <millis>1478801105404</millis>
  <sequence>603</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>55</thread>
  <message>recv:--Done--&lt;CR&gt;&lt;LF&gt;&gt; &lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:05:05</date>
  <millis>1478801105422</millis>
  <sequence>604</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:05:05</date>
  <millis>1478801105424</millis>
  <sequence>605</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>55</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;&gt;</message>
</record>
<record>
  <date>2016-11-11T02:05:05</date>
  <millis>1478801105428</millis>
  <sequence>606</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>55</thread>
  <message>recv: &lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T02:05:05</date>
  <millis>1478801105451</millis>
  <sequence>607</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:dofile("init.lua")</message>
</record>
<record>
  <date>2016-11-11T02:05:05</date>
  <millis>1478801105453</millis>
  <sequence>608</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>55</thread>
  <message>recv:dof</message>
</record>
<record>
  <date>2016-11-11T02:05:05</date>
  <millis>1478801105457</millis>
  <sequence>609</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>55</thread>
  <message>recv:ile("init.lua")&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:05:05</date>
  <millis>1478801105579</millis>
  <sequence>610</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>55</thread>
  <message>recv:  </message>
</record>
<record>
  <date>2016-11-11T02:05:05</date>
  <millis>1478801105580</millis>
  <sequence>611</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>55</thread>
  <message>recv:Config file NOT</message>
</record>
<record>
  <date>2016-11-11T02:05:05</date>
  <millis>1478801105582</millis>
  <sequence>612</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>55</thread>
  <message>recv: exists, starting smartco</message>
</record>
<record>
  <date>2016-11-11T02:05:05</date>
  <millis>1478801105584</millis>
  <sequence>613</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>55</thread>
  <message>recv:nfig..&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:05:05</date>
  <millis>1478801105639</millis>
  <sequence>614</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>55</thread>
  <message>recv:init.l</message>
</record>
<record>
  <date>2016-11-11T02:05:05</date>
  <millis>1478801105640</millis>
  <sequence>615</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>55</thread>
  <message>recv:ua:38: attempt </message>
</record>
<record>
  <date>2016-11-11T02:05:05</date>
  <millis>1478801105643</millis>
  <sequence>616</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>55</thread>
  <message>recv:to call global 'relay_onoff' (a nil val</message>
</record>
<record>
  <date>2016-11-11T02:05:05</date>
  <millis>1478801105646</millis>
  <sequence>617</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>55</thread>
  <message>recv:ue)&lt;CR&gt;&lt;LF&gt;stack traceback:&lt;CR&gt;&lt;LF&gt;	init.lua</message>
</record>
<record>
  <date>2016-11-11T02:05:05</date>
  <millis>1478801105647</millis>
  <sequence>618</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>55</thread>
  <message>recv::38: in main chu</message>
</record>
<record>
  <date>2016-11-11T02:05:05</date>
  <millis>1478801105648</millis>
  <sequence>619</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>55</thread>
  <message>recv:nk&lt;CR&gt;&lt;LF&gt;	[C]: i</message>
</record>
<record>
  <date>2016-11-11T02:05:05</date>
  <millis>1478801105653</millis>
  <sequence>620</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>55</thread>
  <message>recv:n function 'dofile'&lt;CR&gt;&lt;LF&gt;	stdin:1: in main chunk&lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T02:05:05</date>
  <millis>1478801105708</millis>
  <sequence>621</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>55</thread>
  <message>Operation done. Duration = 1167 ms</message>
</record>
<record>
  <date>2016-11-11T02:05:19</date>
  <millis>1478801119071</millis>
  <sequence>622</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:node.restart()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:05:19</date>
  <millis>1478801119072</millis>
  <sequence>623</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with saved baud 115200...</message>
</record>
<record>
  <date>2016-11-11T02:05:19</date>
  <millis>1478801119134</millis>
  <sequence>624</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success. Now we waiting for ESP reboot...</message>
</record>
<record>
  <date>2016-11-11T02:05:21</date>
  <millis>1478801121136</millis>
  <sequence>625</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with baud 115200...</message>
</record>
<record>
  <date>2016-11-11T02:05:21</date>
  <millis>1478801121138</millis>
  <sequence>626</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:print(uart.setup(0, 115200, 8, 0, 1, 1 ))&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:05:21</date>
  <millis>1478801121403</millis>
  <sequence>627</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success.</message>
</record>
<record>
  <date>2016-11-11T02:05:21</date>
  <millis>1478801121427</millis>
  <sequence>628</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:05:21</date>
  <millis>1478801121430</millis>
  <sequence>629</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>56</thread>
  <message>
Communication with MCU established.</message>
</record>
<record>
  <date>2016-11-11T02:05:34</date>
  <millis>1478801134681</millis>
  <sequence>630</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to load file control.lua</message>
</record>
<record>
  <date>2016-11-11T02:05:34</date>
  <millis>1478801134691</millis>
  <sequence>631</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Loading control.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T02:05:34</date>
  <millis>1478801134692</millis>
  <sequence>632</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>File reload: Success.</message>
</record>
<record>
  <date>2016-11-11T02:05:36</date>
  <millis>1478801136930</millis>
  <sequence>633</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to load file init.lua</message>
</record>
<record>
  <date>2016-11-11T02:05:36</date>
  <millis>1478801136940</millis>
  <sequence>634</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Loading init.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T02:05:36</date>
  <millis>1478801136940</millis>
  <sequence>635</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>File reload: Success.</message>
</record>
<record>
  <date>2016-11-11T02:05:37</date>
  <millis>1478801137827</millis>
  <sequence>636</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>We save known file init.lua</message>
</record>
<record>
  <date>2016-11-11T02:05:37</date>
  <millis>1478801137828</millis>
  <sequence>637</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to saving file init.lua ...</message>
</record>
<record>
  <date>2016-11-11T02:05:37</date>
  <millis>1478801137831</millis>
  <sequence>638</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Save file init.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T02:05:37</date>
  <millis>1478801137836</millis>
  <sequence>639</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP: Try to save file to ESP...</message>
</record>
<record>
  <date>2016-11-11T02:05:37</date>
  <millis>1478801137836</millis>
  <sequence>640</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Try to save file to ESP in Turbo Mode...</message>
</record>
<record>
  <date>2016-11-11T02:05:37</date>
  <millis>1478801137845</millis>
  <sequence>641</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>DataTurboSender: start "Smart Mode"</message>
</record>
<record>
  <date>2016-11-11T02:05:37</date>
  <millis>1478801137845</millis>
  <sequence>642</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Starting...</message>
</record>
<record>
  <date>2016-11-11T02:05:37</date>
  <millis>1478801137945</millis>
  <sequence>643</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local FILE="init.lua" file.remove(FILE) file.open(FILE,"w+") uart.setup(0,115200,8,0,1,0)</message>
</record>
<record>
  <date>2016-11-11T02:05:37</date>
  <millis>1478801137947</millis>
  <sequence>644</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>57</thread>
  <message>recv:lo</message>
</record>
<record>
  <date>2016-11-11T02:05:37</date>
  <millis>1478801137951</millis>
  <sequence>645</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>57</thread>
  <message>recv:cal FILE="init.lua" file.remove(FILE) file</message>
</record>
<record>
  <date>2016-11-11T02:05:37</date>
  <millis>1478801137953</millis>
  <sequence>646</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>57</thread>
  <message>recv:.open(FILE,"w+") uart.setup(0,11</message>
</record>
<record>
  <date>2016-11-11T02:05:37</date>
  <millis>1478801137956</millis>
  <sequence>647</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>57</thread>
  <message>recv:5200,8,0,1,0)&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:05:38</date>
  <millis>1478801138134</millis>
  <sequence>648</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>57</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:05:38</date>
  <millis>1478801138150</millis>
  <sequence>649</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_Receiver=function(rcvBuf) if string.match(rcvBuf,"^ESP_cmd_close")==nil then file.write(string.gsub(rcvBuf, '\r', '')) uart.write(0, "&gt; ") else uart.on("data") </message>
</record>
<record>
  <date>2016-11-11T02:05:38</date>
  <millis>1478801138181</millis>
  <sequence>650</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>57</thread>
  <message>recv:&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T02:05:38</date>
  <millis>1478801138209</millis>
  <sequence>651</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:file.flush() file.close() FILE=nil rcvBuf=nil ESP_Receiver=nil uart.setup(0,115200,8,0,1,1) str="\r\n--Done--\r\n&gt; " print(str) str=nil collectgarbage() end end uart.on("data",'\r',ESP_Receiver,0)</message>
</record>
<record>
  <date>2016-11-11T02:05:38</date>
  <millis>1478801138247</millis>
  <sequence>652</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>57</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:05:38</date>
  <millis>1478801138259</millis>
  <sequence>653</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:misc = require "misc"
control = require "control"

-- timer 1 = status, 2,3 = relay 

files = file.list()  -- Lists all files in the file system.

misc.button_press()  -- button press interrupt io3
--misc.button_rst()

control.status_LED(300) -- blink st</message>
</record>
<record>
  <date>2016-11-11T02:05:38</date>
  <millis>1478801138288</millis>
  <sequence>654</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>57</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:05:38</date>
  <millis>1478801138299</millis>
  <sequence>655</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:atus LED

wifi.setmode(wifi.STATION)
wifi.sta.autoconnect(0) -- auto connect

if files["config.txt"] then
    misc.con_read()
    --tmr.delay(1000000)
    print(" Config exist, user&gt;".. user .. ", pass&gt;" .. password .. ", now set station mode and connect</message>
</record>
<record>
  <date>2016-11-11T02:05:38</date>
  <millis>1478801138330</millis>
  <sequence>656</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>57</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:05:38</date>
  <millis>1478801138349</millis>
  <sequence>657</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:")
    
    wifi.sta.config(user, password)
    wifi.sta.connect()
    
    tmr.alarm(4, 5000, 1, function() 
        if wifi.sta.getip()== nil then
            print("IP unavailable.. if info correct then wait, else reconfig by press BTN1 to clean")
   </message>
</record>
<record>
  <date>2016-11-11T02:05:38</date>
  <millis>1478801138380</millis>
  <sequence>658</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>57</thread>
  <message>recv:&gt;</message>
</record>
<record>
  <date>2016-11-11T02:05:38</date>
  <millis>1478801138382</millis>
  <sequence>659</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>57</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T02:05:38</date>
  <millis>1478801138397</millis>
  <sequence>660</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:     else
            print("connected.. IP is: " .. wifi.sta.getip())
            tmr.stop(4)
            dofile("mqtt.lua")
        end
    end)
    
else
    print("  Config file NOT exists, starting smartconfig..")
    --wifi.setmode(wifi.STATION)

 </message>
</record>
<record>
  <date>2016-11-11T02:05:38</date>
  <millis>1478801138428</millis>
  <sequence>661</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>57</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:05:38</date>
  <millis>1478801138441</millis>
  <sequence>662</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:   control.relay_onoff()
    --control.relay_6(2000)
    --control.relay_7(2000)
    --control.relay_6(2000, 1)
    --control.relay_7(2000, 1)
    --if not tmr.alarm(5, 1000, tmr.ALARM_SINGLE, function() print("hey there") end) then print("whoopsie") end</message>
</record>
<record>
  <date>2016-11-11T02:05:38</date>
  <millis>1478801138471</millis>
  <sequence>663</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>57</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:05:38</date>
  <millis>1478801138483</millis>
  <sequence>664</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:
    --tmr.stop(2)
    --tmr.stop(3)

    tmr.alarm(4, 5000, 1, function() 
        if wifi.sta.getip()== nil then
            wifi.startsmart(0,
            function(ssid, password)
            print(string.format("Success. SSID: %s ; PASSWORD: %s", ssi</message>
</record>
<record>
  <date>2016-11-11T02:05:38</date>
  <millis>1478801138514</millis>
  <sequence>665</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>57</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:05:38</date>
  <millis>1478801138526</millis>
  <sequence>666</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:d, password)) 
            misc.con_write(ssid, password)
            end)
        else 
            tmr.stop(1)

            tmr.stop(4)
            print("Config done, IP is "..wifi.sta.getip())
            wifi.stopsmart()

            --misc.con_read</message>
</record>
<record>
  <date>2016-11-11T02:05:38</date>
  <millis>1478801138556</millis>
  <sequence>667</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>57</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:05:38</date>
  <millis>1478801138568</millis>
  <sequence>668</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:()
            --print (user .. password)
            dofile("mqtt.lua")
        end
    end)
        

end
</message>
</record>
<record>
  <date>2016-11-11T02:05:38</date>
  <millis>1478801138585</millis>
  <sequence>669</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>57</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:05:38</date>
  <millis>1478801138596</millis>
  <sequence>670</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_cmd_close</message>
</record>
<record>
  <date>2016-11-11T02:05:38</date>
  <millis>1478801138608</millis>
  <sequence>671</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>57</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;--D</message>
</record>
<record>
  <date>2016-11-11T02:05:38</date>
  <millis>1478801138609</millis>
  <sequence>672</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>57</thread>
  <message>recv:one--&lt;CR&gt;&lt;LF&gt;&gt; &lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:05:38</date>
  <millis>1478801138626</millis>
  <sequence>673</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:05:38</date>
  <millis>1478801138628</millis>
  <sequence>674</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>57</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:05:38</date>
  <millis>1478801138629</millis>
  <sequence>675</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>57</thread>
  <message>recv:&gt; &lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T02:05:38</date>
  <millis>1478801138651</millis>
  <sequence>676</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:dofile("init.lua")</message>
</record>
<record>
  <date>2016-11-11T02:05:38</date>
  <millis>1478801138652</millis>
  <sequence>677</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>57</thread>
  <message>recv:dof</message>
</record>
<record>
  <date>2016-11-11T02:05:38</date>
  <millis>1478801138654</millis>
  <sequence>678</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>57</thread>
  <message>recv:ile("init.lua")</message>
</record>
<record>
  <date>2016-11-11T02:05:38</date>
  <millis>1478801138656</millis>
  <sequence>679</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>57</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:05:38</date>
  <millis>1478801138774</millis>
  <sequence>680</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>57</thread>
  <message>recv:  Con</message>
</record>
<record>
  <date>2016-11-11T02:05:38</date>
  <millis>1478801138776</millis>
  <sequence>681</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>57</thread>
  <message>recv:fig file NOT exists</message>
</record>
<record>
  <date>2016-11-11T02:05:38</date>
  <millis>1478801138779</millis>
  <sequence>682</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>57</thread>
  <message>recv:, starting smartconfig..&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:05:38</date>
  <millis>1478801138781</millis>
  <sequence>683</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>57</thread>
  <message>recv:&gt;</message>
</record>
<record>
  <date>2016-11-11T02:05:38</date>
  <millis>1478801138783</millis>
  <sequence>684</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>57</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T02:05:38</date>
  <millis>1478801138837</millis>
  <sequence>685</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>57</thread>
  <message>Operation done. Duration = 1000 ms</message>
</record>
<record>
  <date>2016-11-11T02:06:17</date>
  <millis>1478801177089</millis>
  <sequence>686</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to load file control.lua</message>
</record>
<record>
  <date>2016-11-11T02:06:17</date>
  <millis>1478801177099</millis>
  <sequence>687</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Loading control.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T02:06:17</date>
  <millis>1478801177100</millis>
  <sequence>688</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>File reload: Success.</message>
</record>
<record>
  <date>2016-11-11T02:06:18</date>
  <millis>1478801178033</millis>
  <sequence>689</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>We save known file control.lua</message>
</record>
<record>
  <date>2016-11-11T02:06:18</date>
  <millis>1478801178034</millis>
  <sequence>690</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to saving file control.lua ...</message>
</record>
<record>
  <date>2016-11-11T02:06:18</date>
  <millis>1478801178036</millis>
  <sequence>691</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Save file control.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T02:06:18</date>
  <millis>1478801178041</millis>
  <sequence>692</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP: Try to save file to ESP...</message>
</record>
<record>
  <date>2016-11-11T02:06:18</date>
  <millis>1478801178042</millis>
  <sequence>693</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Try to save file to ESP in Turbo Mode...</message>
</record>
<record>
  <date>2016-11-11T02:06:18</date>
  <millis>1478801178049</millis>
  <sequence>694</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>DataTurboSender: start "Smart Mode"</message>
</record>
<record>
  <date>2016-11-11T02:06:18</date>
  <millis>1478801178050</millis>
  <sequence>695</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Starting...</message>
</record>
<record>
  <date>2016-11-11T02:06:18</date>
  <millis>1478801178155</millis>
  <sequence>696</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local FILE="control.lua" file.remove(FILE) file.open(FILE,"w+") uart.setup(0,115200,8,0,1,0)</message>
</record>
<record>
  <date>2016-11-11T02:06:18</date>
  <millis>1478801178159</millis>
  <sequence>697</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>59</thread>
  <message>recv:lo</message>
</record>
<record>
  <date>2016-11-11T02:06:18</date>
  <millis>1478801178163</millis>
  <sequence>698</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>59</thread>
  <message>recv:cal FILE="control.lua" file.remove(FILE) fi</message>
</record>
<record>
  <date>2016-11-11T02:06:18</date>
  <millis>1478801178165</millis>
  <sequence>699</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>59</thread>
  <message>recv:le.open(FILE,"w+") uart.se</message>
</record>
<record>
  <date>2016-11-11T02:06:18</date>
  <millis>1478801178167</millis>
  <sequence>700</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>59</thread>
  <message>recv:tup(0,115200,8,0,1,0)&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:06:18</date>
  <millis>1478801178450</millis>
  <sequence>701</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>59</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:06:18</date>
  <millis>1478801178478</millis>
  <sequence>702</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_Receiver=function(rcvBuf) if string.match(rcvBuf,"^ESP_cmd_close")==nil then file.write(string.gsub(rcvBuf, '\r', '')) uart.write(0, "&gt; ") else uart.on("data") </message>
</record>
<record>
  <date>2016-11-11T02:06:18</date>
  <millis>1478801178505</millis>
  <sequence>703</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>59</thread>
  <message>recv:&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T02:06:18</date>
  <millis>1478801178516</millis>
  <sequence>704</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:file.flush() file.close() FILE=nil rcvBuf=nil ESP_Receiver=nil uart.setup(0,115200,8,0,1,1) str="\r\n--Done--\r\n&gt; " print(str) str=nil collectgarbage() end end uart.on("data",'\r',ESP_Receiver,0)</message>
</record>
<record>
  <date>2016-11-11T02:06:18</date>
  <millis>1478801178554</millis>
  <sequence>705</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>59</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:06:18</date>
  <millis>1478801178566</millis>
  <sequence>706</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local M = {}

-- status pin = 0, alarm 1
-- relay pin = 6 and 7, alarm 2, 3

function M.status_LED(delay)
    gpio.mode(0, gpio.OUTPUT)
    status0 = 0
        
    tmr.alarm(1, delay, 1, function()
        if status0 == 0 then
            status0 = 1
  </message>
</record>
<record>
  <date>2016-11-11T02:06:18</date>
  <millis>1478801178595</millis>
  <sequence>707</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>59</thread>
  <message>recv:&gt;</message>
</record>
<record>
  <date>2016-11-11T02:06:18</date>
  <millis>1478801178596</millis>
  <sequence>708</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>59</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T02:06:18</date>
  <millis>1478801178610</millis>
  <sequence>709</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:          gpio.write(0, gpio.HIGH)
        else
            status0 = 0
            gpio.write(0, gpio.LOW)
        end 
    end)
      
end

-- One on/off relay
function M.relay_onoff()
    gpio.mode(6, gpio.OUTPUT)
    gpio.mode(7, gpio.OUTPUT)
    gpi</message>
</record>
<record>
  <date>2016-11-11T02:06:18</date>
  <millis>1478801178640</millis>
  <sequence>710</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>59</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:06:18</date>
  <millis>1478801178652</millis>
  <sequence>711</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:o.write(6, gpio.HIGH)
    gpio.write(7, gpio.HIGH)
        
    tmr.alarm(2, 1000, tmr.ALARM_SINGLE, function()
    gpio.write(6, gpio.LOW)
    gpio.write(7, gpio.LOW)
    end)

    gpio.write(6, gpio.HIGH)
    gpio.write(7, gpio.HIGH)

    tmr.alarm(2, </message>
</record>
<record>
  <date>2016-11-11T02:06:18</date>
  <millis>1478801178684</millis>
  <sequence>712</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>59</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:06:18</date>
  <millis>1478801178697</millis>
  <sequence>713</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:1000, tmr.ALARM_SINGLE, function()
    gpio.write(6, gpio.LOW)
    gpio.write(7, gpio.LOW)
    end)
      
end


-- loop relay
function M.relay_6(delay, mode)
    gpio.mode(6, gpio.OUTPUT)
    status1 = 0
        
    tmr.alarm(2, delay, mode, function()</message>
</record>
<record>
  <date>2016-11-11T02:06:18</date>
  <millis>1478801178727</millis>
  <sequence>714</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>59</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:06:18</date>
  <millis>1478801178739</millis>
  <sequence>715</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:
        if status1 == 0 then
            status1 = 1
            gpio.write(6, gpio.HIGH)
        else
            status1 = 0
            gpio.write(6, gpio.LOW)
        end 
    end)
      
end


function M.relay_7(delay, mode)
    gpio.mode(7, gpio.O</message>
</record>
<record>
  <date>2016-11-11T02:06:18</date>
  <millis>1478801178769</millis>
  <sequence>716</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>59</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:06:18</date>
  <millis>1478801178781</millis>
  <sequence>717</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:UTPUT)
    status2 = 0
        
    tmr.alarm(3, delay, mode, function()
        if status2 == 0 then
            status2 = 1
            gpio.write(7, gpio.HIGH)
        else
            status2 = 0
            gpio.write(7, gpio.LOW)
        end 
    e</message>
</record>
<record>
  <date>2016-11-11T02:06:18</date>
  <millis>1478801178812</millis>
  <sequence>718</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>59</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:06:18</date>
  <millis>1478801178826</millis>
  <sequence>719</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:nd)
      
end
return M
</message>
</record>
<record>
  <date>2016-11-11T02:06:18</date>
  <millis>1478801178836</millis>
  <sequence>720</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>59</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:06:18</date>
  <millis>1478801178849</millis>
  <sequence>721</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_cmd_close</message>
</record>
<record>
  <date>2016-11-11T02:06:18</date>
  <millis>1478801178860</millis>
  <sequence>722</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>59</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:06:18</date>
  <millis>1478801178861</millis>
  <sequence>723</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>59</thread>
  <message>recv:--Done--&lt;CR&gt;&lt;LF&gt;&gt; &lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:06:18</date>
  <millis>1478801178875</millis>
  <sequence>724</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:06:18</date>
  <millis>1478801178877</millis>
  <sequence>725</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>59</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;&gt;</message>
</record>
<record>
  <date>2016-11-11T02:06:18</date>
  <millis>1478801178879</millis>
  <sequence>726</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>59</thread>
  <message>recv: &lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T02:06:18</date>
  <millis>1478801178904</millis>
  <sequence>727</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:dofile("control.lua")</message>
</record>
<record>
  <date>2016-11-11T02:06:18</date>
  <millis>1478801178906</millis>
  <sequence>728</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>59</thread>
  <message>recv:d</message>
</record>
<record>
  <date>2016-11-11T02:06:18</date>
  <millis>1478801178910</millis>
  <sequence>729</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>59</thread>
  <message>recv:ofile("control.lua")&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:06:18</date>
  <millis>1478801178970</millis>
  <sequence>730</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>59</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:06:19</date>
  <millis>1478801179048</millis>
  <sequence>731</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>59</thread>
  <message>Operation done. Duration = 1005 ms</message>
</record>
<record>
  <date>2016-11-11T02:06:20</date>
  <millis>1478801180668</millis>
  <sequence>732</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:node.restart()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:06:20</date>
  <millis>1478801180669</millis>
  <sequence>733</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with saved baud 115200...</message>
</record>
<record>
  <date>2016-11-11T02:06:20</date>
  <millis>1478801180733</millis>
  <sequence>734</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success. Now we waiting for ESP reboot...</message>
</record>
<record>
  <date>2016-11-11T02:06:22</date>
  <millis>1478801182735</millis>
  <sequence>735</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with baud 115200...</message>
</record>
<record>
  <date>2016-11-11T02:06:22</date>
  <millis>1478801182736</millis>
  <sequence>736</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:print(uart.setup(0, 115200, 8, 0, 1, 1 ))&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:06:23</date>
  <millis>1478801183001</millis>
  <sequence>737</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success.</message>
</record>
<record>
  <date>2016-11-11T02:06:23</date>
  <millis>1478801183028</millis>
  <sequence>738</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:06:23</date>
  <millis>1478801183030</millis>
  <sequence>739</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>java.lang.NullPointerException</message>
</record>
<record>
  <date>2016-11-11T02:06:23</date>
  <millis>1478801183030</millis>
  <sequence>740</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>60</thread>
  <message>
Communication with MCU established.</message>
</record>
<record>
  <date>2016-11-11T02:06:39</date>
  <millis>1478801199546</millis>
  <sequence>741</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to load file control.lua</message>
</record>
<record>
  <date>2016-11-11T02:06:39</date>
  <millis>1478801199560</millis>
  <sequence>742</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Loading control.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T02:06:39</date>
  <millis>1478801199561</millis>
  <sequence>743</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>File reload: Success.</message>
</record>
<record>
  <date>2016-11-11T02:06:41</date>
  <millis>1478801201248</millis>
  <sequence>744</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>We save known file control.lua</message>
</record>
<record>
  <date>2016-11-11T02:06:41</date>
  <millis>1478801201249</millis>
  <sequence>745</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to saving file control.lua ...</message>
</record>
<record>
  <date>2016-11-11T02:06:41</date>
  <millis>1478801201251</millis>
  <sequence>746</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Save file control.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T02:06:41</date>
  <millis>1478801201257</millis>
  <sequence>747</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP: Try to save file to ESP...</message>
</record>
<record>
  <date>2016-11-11T02:06:41</date>
  <millis>1478801201260</millis>
  <sequence>748</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Try to save file to ESP in Turbo Mode...</message>
</record>
<record>
  <date>2016-11-11T02:06:41</date>
  <millis>1478801201269</millis>
  <sequence>749</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>DataTurboSender: start "Smart Mode"</message>
</record>
<record>
  <date>2016-11-11T02:06:41</date>
  <millis>1478801201273</millis>
  <sequence>750</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Starting...</message>
</record>
<record>
  <date>2016-11-11T02:06:41</date>
  <millis>1478801201392</millis>
  <sequence>751</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local FILE="control.lua" file.remove(FILE) file.open(FILE,"w+") uart.setup(0,115200,8,0,1,0)</message>
</record>
<record>
  <date>2016-11-11T02:06:41</date>
  <millis>1478801201394</millis>
  <sequence>752</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>61</thread>
  <message>recv:l</message>
</record>
<record>
  <date>2016-11-11T02:06:41</date>
  <millis>1478801201401</millis>
  <sequence>753</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>61</thread>
  <message>recv:ocal FILE="control.lua" file.remove(FILE) file.open(FILE,"w+") uart.setup(0</message>
</record>
<record>
  <date>2016-11-11T02:06:41</date>
  <millis>1478801201402</millis>
  <sequence>754</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>61</thread>
  <message>recv:,115200,8,0,1,0)&lt;CR&gt;</message>
</record>
<record>
  <date>2016-11-11T02:06:41</date>
  <millis>1478801201404</millis>
  <sequence>755</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>61</thread>
  <message>recv:&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:06:41</date>
  <millis>1478801201585</millis>
  <sequence>756</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>61</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:06:41</date>
  <millis>1478801201601</millis>
  <sequence>757</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_Receiver=function(rcvBuf) if string.match(rcvBuf,"^ESP_cmd_close")==nil then file.write(string.gsub(rcvBuf, '\r', '')) uart.write(0, "&gt; ") else uart.on("data") </message>
</record>
<record>
  <date>2016-11-11T02:06:41</date>
  <millis>1478801201629</millis>
  <sequence>758</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>61</thread>
  <message>recv:&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T02:06:41</date>
  <millis>1478801201642</millis>
  <sequence>759</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:file.flush() file.close() FILE=nil rcvBuf=nil ESP_Receiver=nil uart.setup(0,115200,8,0,1,1) str="\r\n--Done--\r\n&gt; " print(str) str=nil collectgarbage() end end uart.on("data",'\r',ESP_Receiver,0)</message>
</record>
<record>
  <date>2016-11-11T02:06:41</date>
  <millis>1478801201682</millis>
  <sequence>760</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>61</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:06:41</date>
  <millis>1478801201694</millis>
  <sequence>761</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local M = {}

-- status pin = 0, alarm 1
-- relay pin = 6 and 7, alarm 2, 3

function M.status_LED(delay)
    gpio.mode(0, gpio.OUTPUT)
    status0 = 0
        
    tmr.alarm(1, delay, 1, function()
        if status0 == 0 then
            status0 = 1
  </message>
</record>
<record>
  <date>2016-11-11T02:06:41</date>
  <millis>1478801201723</millis>
  <sequence>762</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>61</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:06:41</date>
  <millis>1478801201735</millis>
  <sequence>763</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:          gpio.write(0, gpio.HIGH)
        else
            status0 = 0
            gpio.write(0, gpio.LOW)
        end 
    end)
      
end

-- One on/off relay
function M.relay_onoff()
    gpio.mode(6, gpio.OUTPUT)
    gpio.mode(7, gpio.OUTPUT)
    gpi</message>
</record>
<record>
  <date>2016-11-11T02:06:41</date>
  <millis>1478801201766</millis>
  <sequence>764</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>61</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:06:41</date>
  <millis>1478801201779</millis>
  <sequence>765</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:o.write(6, gpio.HIGH)
    gpio.write(7, gpio.HIGH)
        
    tmr.alarm(2, 1000, tmr.ALARM_SINGLE, function()
    gpio.write(6, gpio.LOW)
    gpio.write(7, gpio.LOW)
    end)

    gpio.write(6, gpio.HIGH)
    gpio.write(7, gpio.HIGH)

    tmr.alarm(2, </message>
</record>
<record>
  <date>2016-11-11T02:06:41</date>
  <millis>1478801201811</millis>
  <sequence>766</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>61</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:06:41</date>
  <millis>1478801201825</millis>
  <sequence>767</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:1000, tmr.ALARM_SINGLE, function()
    gpio.write(6, gpio.LOW)
    gpio.write(7, gpio.LOW)
    end)

     gpio.write(6, gpio.HIGH)
    gpio.write(7, gpio.HIGH)

    tmr.alarm(2, 1000, tmr.ALARM_SINGLE, function()
    gpio.write(6, gpio.LOW)
    gpio.writ</message>
</record>
<record>
  <date>2016-11-11T02:06:41</date>
  <millis>1478801201856</millis>
  <sequence>768</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>61</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:06:41</date>
  <millis>1478801201868</millis>
  <sequence>769</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:e(7, gpio.LOW)
    end)
         
end


-- loop relay
function M.relay_6(delay, mode)
    gpio.mode(6, gpio.OUTPUT)
    status1 = 0
        
    tmr.alarm(2, delay, mode, function()
        if status1 == 0 then
            status1 = 1
            gpio.wr</message>
</record>
<record>
  <date>2016-11-11T02:06:41</date>
  <millis>1478801201899</millis>
  <sequence>770</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>61</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:06:41</date>
  <millis>1478801201912</millis>
  <sequence>771</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ite(6, gpio.HIGH)
        else
            status1 = 0
            gpio.write(6, gpio.LOW)
        end 
    end)
      
end


function M.relay_7(delay, mode)
    gpio.mode(7, gpio.OUTPUT)
    status2 = 0
        
    tmr.alarm(3, delay, mode, function()
</message>
</record>
<record>
  <date>2016-11-11T02:06:41</date>
  <millis>1478801201943</millis>
  <sequence>772</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>61</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:06:41</date>
  <millis>1478801201955</millis>
  <sequence>773</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:        if status2 == 0 then
            status2 = 1
            gpio.write(7, gpio.HIGH)
        else
            status2 = 0
            gpio.write(7, gpio.LOW)
        end 
    end)
      
end
return M
</message>
</record>
<record>
  <date>2016-11-11T02:06:41</date>
  <millis>1478801201982</millis>
  <sequence>774</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>61</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:06:41</date>
  <millis>1478801201995</millis>
  <sequence>775</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_cmd_close</message>
</record>
<record>
  <date>2016-11-11T02:06:42</date>
  <millis>1478801202008</millis>
  <sequence>776</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>61</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:06:42</date>
  <millis>1478801202009</millis>
  <sequence>777</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>61</thread>
  <message>recv:--Done--&lt;CR&gt;&lt;LF&gt;&gt; &lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:06:42</date>
  <millis>1478801202028</millis>
  <sequence>778</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:06:42</date>
  <millis>1478801202031</millis>
  <sequence>779</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>61</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;&gt; &lt;CR&gt;&lt;LF&gt;&gt;</message>
</record>
<record>
  <date>2016-11-11T02:06:42</date>
  <millis>1478801202036</millis>
  <sequence>780</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>61</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T02:06:42</date>
  <millis>1478801202060</millis>
  <sequence>781</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:dofile("control.lua")</message>
</record>
<record>
  <date>2016-11-11T02:06:42</date>
  <millis>1478801202062</millis>
  <sequence>782</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>61</thread>
  <message>recv:dofi</message>
</record>
<record>
  <date>2016-11-11T02:06:42</date>
  <millis>1478801202066</millis>
  <sequence>783</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>61</thread>
  <message>recv:le("control.lua")&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:06:42</date>
  <millis>1478801202129</millis>
  <sequence>784</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>61</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:06:42</date>
  <millis>1478801202154</millis>
  <sequence>785</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>61</thread>
  <message>Operation done. Duration = 891 ms</message>
</record>
<record>
  <date>2016-11-11T02:06:43</date>
  <millis>1478801203610</millis>
  <sequence>786</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:node.restart()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:06:43</date>
  <millis>1478801203613</millis>
  <sequence>787</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with saved baud 115200...</message>
</record>
<record>
  <date>2016-11-11T02:06:43</date>
  <millis>1478801203678</millis>
  <sequence>788</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success. Now we waiting for ESP reboot...</message>
</record>
<record>
  <date>2016-11-11T02:06:45</date>
  <millis>1478801205681</millis>
  <sequence>789</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with baud 115200...</message>
</record>
<record>
  <date>2016-11-11T02:06:45</date>
  <millis>1478801205685</millis>
  <sequence>790</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:print(uart.setup(0, 115200, 8, 0, 1, 1 ))&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:06:45</date>
  <millis>1478801205949</millis>
  <sequence>791</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success.</message>
</record>
<record>
  <date>2016-11-11T02:06:45</date>
  <millis>1478801205968</millis>
  <sequence>792</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:06:45</date>
  <millis>1478801205971</millis>
  <sequence>793</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>62</thread>
  <message>
Communication with MCU established.</message>
</record>
<record>
  <date>2016-11-11T02:06:45</date>
  <millis>1478801205976</millis>
  <sequence>794</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>62</thread>
  <message>sending:=node.heap()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:07:38</date>
  <millis>1478801258214</millis>
  <sequence>795</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to load file control.lua</message>
</record>
<record>
  <date>2016-11-11T02:07:38</date>
  <millis>1478801258230</millis>
  <sequence>796</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Loading control.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T02:07:38</date>
  <millis>1478801258232</millis>
  <sequence>797</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>File reload: Success.</message>
</record>
<record>
  <date>2016-11-11T02:07:38</date>
  <millis>1478801258972</millis>
  <sequence>798</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>We save known file control.lua</message>
</record>
<record>
  <date>2016-11-11T02:07:38</date>
  <millis>1478801258972</millis>
  <sequence>799</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to saving file control.lua ...</message>
</record>
<record>
  <date>2016-11-11T02:07:38</date>
  <millis>1478801258975</millis>
  <sequence>800</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Save file control.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T02:07:38</date>
  <millis>1478801258982</millis>
  <sequence>801</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP: Try to save file to ESP...</message>
</record>
<record>
  <date>2016-11-11T02:07:38</date>
  <millis>1478801258985</millis>
  <sequence>802</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Try to save file to ESP in Turbo Mode...</message>
</record>
<record>
  <date>2016-11-11T02:07:38</date>
  <millis>1478801258992</millis>
  <sequence>803</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>DataTurboSender: start "Smart Mode"</message>
</record>
<record>
  <date>2016-11-11T02:07:38</date>
  <millis>1478801258994</millis>
  <sequence>804</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Starting...</message>
</record>
<record>
  <date>2016-11-11T02:07:39</date>
  <millis>1478801259107</millis>
  <sequence>805</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local FILE="control.lua" file.remove(FILE) file.open(FILE,"w+") uart.setup(0,115200,8,0,1,0)</message>
</record>
<record>
  <date>2016-11-11T02:07:39</date>
  <millis>1478801259109</millis>
  <sequence>806</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>63</thread>
  <message>recv:loca</message>
</record>
<record>
  <date>2016-11-11T02:07:39</date>
  <millis>1478801259114</millis>
  <sequence>807</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>63</thread>
  <message>recv:l FILE="control.lua" file.remove(FILE) file.open(FILE,"w+") uart</message>
</record>
<record>
  <date>2016-11-11T02:07:39</date>
  <millis>1478801259118</millis>
  <sequence>808</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>63</thread>
  <message>recv:.setup(0,115200,8,0,1,0)&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:07:39</date>
  <millis>1478801259303</millis>
  <sequence>809</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>63</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:07:39</date>
  <millis>1478801259316</millis>
  <sequence>810</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_Receiver=function(rcvBuf) if string.match(rcvBuf,"^ESP_cmd_close")==nil then file.write(string.gsub(rcvBuf, '\r', '')) uart.write(0, "&gt; ") else uart.on("data") </message>
</record>
<record>
  <date>2016-11-11T02:07:39</date>
  <millis>1478801259343</millis>
  <sequence>811</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>63</thread>
  <message>recv:&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T02:07:39</date>
  <millis>1478801259354</millis>
  <sequence>812</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:file.flush() file.close() FILE=nil rcvBuf=nil ESP_Receiver=nil uart.setup(0,115200,8,0,1,1) str="\r\n--Done--\r\n&gt; " print(str) str=nil collectgarbage() end end uart.on("data",'\r',ESP_Receiver,0)</message>
</record>
<record>
  <date>2016-11-11T02:07:39</date>
  <millis>1478801259393</millis>
  <sequence>813</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>63</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:07:39</date>
  <millis>1478801259406</millis>
  <sequence>814</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local M = {}

-- status pin = 0, alarm 1
-- relay pin = 6 and 7, alarm 2, 3

function M.status_LED(delay)
    gpio.mode(0, gpio.OUTPUT)
    status0 = 0
        
    tmr.alarm(1, delay, 1, function()
        if status0 == 0 then
            status0 = 1
  </message>
</record>
<record>
  <date>2016-11-11T02:07:39</date>
  <millis>1478801259435</millis>
  <sequence>815</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>63</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:07:39</date>
  <millis>1478801259447</millis>
  <sequence>816</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:          gpio.write(0, gpio.HIGH)
        else
            status0 = 0
            gpio.write(0, gpio.LOW)
        end 
    end)
      
end

-- One on/off relay
function M.relay_onoff()
    gpio.mode(6, gpio.OUTPUT)
    gpio.mode(7, gpio.OUTPUT)
    gpi</message>
</record>
<record>
  <date>2016-11-11T02:07:39</date>
  <millis>1478801259478</millis>
  <sequence>817</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>63</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:07:39</date>
  <millis>1478801259491</millis>
  <sequence>818</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:o.write(6, gpio.HIGH)
    gpio.write(7, gpio.HIGH)
        
    tmr.alarm(2, 1000, 0, function()
    gpio.write(6, gpio.LOW)
    gpio.write(7, gpio.LOW)
    end)

    tmr.alarm(2, 1000, 0, function()
    gpio.write(6, gpio.HIGH)
    gpio.write(7, gpio.HI</message>
</record>
<record>
  <date>2016-11-11T02:07:39</date>
  <millis>1478801259522</millis>
  <sequence>819</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>63</thread>
  <message>recv:&gt;</message>
</record>
<record>
  <date>2016-11-11T02:07:39</date>
  <millis>1478801259523</millis>
  <sequence>820</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>63</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T02:07:39</date>
  <millis>1478801259536</millis>
  <sequence>821</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:GH)
    end)


end


-- loop relay
function M.relay_6(delay, mode)
    gpio.mode(6, gpio.OUTPUT)
    status1 = 0
        
    tmr.alarm(2, delay, mode, function()
        if status1 == 0 then
            status1 = 1
            gpio.write(6, gpio.HIGH)
 </message>
</record>
<record>
  <date>2016-11-11T02:07:39</date>
  <millis>1478801259570</millis>
  <sequence>822</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>63</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:07:39</date>
  <millis>1478801259583</millis>
  <sequence>823</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:       else
            status1 = 0
            gpio.write(6, gpio.LOW)
        end 
    end)
      
end


function M.relay_7(delay, mode)
    gpio.mode(7, gpio.OUTPUT)
    status2 = 0
        
    tmr.alarm(3, delay, mode, function()
        if status2 </message>
</record>
<record>
  <date>2016-11-11T02:07:39</date>
  <millis>1478801259615</millis>
  <sequence>824</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>63</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:07:39</date>
  <millis>1478801259627</millis>
  <sequence>825</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:== 0 then
            status2 = 1
            gpio.write(7, gpio.HIGH)
        else
            status2 = 0
            gpio.write(7, gpio.LOW)
        end 
    end)
      
end
return M
</message>
</record>
<record>
  <date>2016-11-11T02:07:39</date>
  <millis>1478801259651</millis>
  <sequence>826</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>63</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:07:39</date>
  <millis>1478801259663</millis>
  <sequence>827</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_cmd_close</message>
</record>
<record>
  <date>2016-11-11T02:07:39</date>
  <millis>1478801259676</millis>
  <sequence>828</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>63</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;--</message>
</record>
<record>
  <date>2016-11-11T02:07:39</date>
  <millis>1478801259677</millis>
  <sequence>829</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>63</thread>
  <message>recv:Done--&lt;CR&gt;&lt;LF&gt;&gt; &lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:07:39</date>
  <millis>1478801259693</millis>
  <sequence>830</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:07:39</date>
  <millis>1478801259694</millis>
  <sequence>831</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>63</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;&gt;</message>
</record>
<record>
  <date>2016-11-11T02:07:39</date>
  <millis>1478801259704</millis>
  <sequence>832</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>63</thread>
  <message>recv: &lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T02:07:39</date>
  <millis>1478801259721</millis>
  <sequence>833</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:dofile("control.lua")</message>
</record>
<record>
  <date>2016-11-11T02:07:39</date>
  <millis>1478801259722</millis>
  <sequence>834</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>63</thread>
  <message>recv:do</message>
</record>
<record>
  <date>2016-11-11T02:07:39</date>
  <millis>1478801259725</millis>
  <sequence>835</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>63</thread>
  <message>recv:file("control.lua")&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:07:39</date>
  <millis>1478801259782</millis>
  <sequence>836</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>63</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:07:39</date>
  <millis>1478801259845</millis>
  <sequence>837</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>63</thread>
  <message>Operation done. Duration = 859 ms</message>
</record>
<record>
  <date>2016-11-11T02:07:40</date>
  <millis>1478801260686</millis>
  <sequence>838</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:node.restart()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:07:40</date>
  <millis>1478801260687</millis>
  <sequence>839</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with saved baud 115200...</message>
</record>
<record>
  <date>2016-11-11T02:07:40</date>
  <millis>1478801260749</millis>
  <sequence>840</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success. Now we waiting for ESP reboot...</message>
</record>
<record>
  <date>2016-11-11T02:07:42</date>
  <millis>1478801262750</millis>
  <sequence>841</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with baud 115200...</message>
</record>
<record>
  <date>2016-11-11T02:07:42</date>
  <millis>1478801262752</millis>
  <sequence>842</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:print(uart.setup(0, 115200, 8, 0, 1, 1 ))&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:07:43</date>
  <millis>1478801263019</millis>
  <sequence>843</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success.</message>
</record>
<record>
  <date>2016-11-11T02:07:43</date>
  <millis>1478801263048</millis>
  <sequence>844</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:07:43</date>
  <millis>1478801263051</millis>
  <sequence>845</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>64</thread>
  <message>
Communication with MCU established.</message>
</record>
<record>
  <date>2016-11-11T02:07:43</date>
  <millis>1478801263055</millis>
  <sequence>846</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>64</thread>
  <message>sending:=node.heap()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:08:07</date>
  <millis>1478801287258</millis>
  <sequence>847</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to load file control.lua</message>
</record>
<record>
  <date>2016-11-11T02:08:07</date>
  <millis>1478801287275</millis>
  <sequence>848</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Loading control.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T02:08:07</date>
  <millis>1478801287275</millis>
  <sequence>849</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>File reload: Success.</message>
</record>
<record>
  <date>2016-11-11T02:08:07</date>
  <millis>1478801287985</millis>
  <sequence>850</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>We save known file control.lua</message>
</record>
<record>
  <date>2016-11-11T02:08:07</date>
  <millis>1478801287986</millis>
  <sequence>851</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to saving file control.lua ...</message>
</record>
<record>
  <date>2016-11-11T02:08:07</date>
  <millis>1478801287989</millis>
  <sequence>852</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Save file control.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T02:08:07</date>
  <millis>1478801287994</millis>
  <sequence>853</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP: Try to save file to ESP...</message>
</record>
<record>
  <date>2016-11-11T02:08:07</date>
  <millis>1478801287995</millis>
  <sequence>854</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Try to save file to ESP in Turbo Mode...</message>
</record>
<record>
  <date>2016-11-11T02:08:08</date>
  <millis>1478801288003</millis>
  <sequence>855</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>DataTurboSender: start "Smart Mode"</message>
</record>
<record>
  <date>2016-11-11T02:08:08</date>
  <millis>1478801288003</millis>
  <sequence>856</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Starting...</message>
</record>
<record>
  <date>2016-11-11T02:08:08</date>
  <millis>1478801288101</millis>
  <sequence>857</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local FILE="control.lua" file.remove(FILE) file.open(FILE,"w+") uart.setup(0,115200,8,0,1,0)</message>
</record>
<record>
  <date>2016-11-11T02:08:08</date>
  <millis>1478801288108</millis>
  <sequence>858</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>65</thread>
  <message>recv:loc</message>
</record>
<record>
  <date>2016-11-11T02:08:08</date>
  <millis>1478801288109</millis>
  <sequence>859</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>65</thread>
  <message>recv:al FILE="control.lua</message>
</record>
<record>
  <date>2016-11-11T02:08:08</date>
  <millis>1478801288112</millis>
  <sequence>860</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>65</thread>
  <message>recv:" file.remove(FILE) file</message>
</record>
<record>
  <date>2016-11-11T02:08:08</date>
  <millis>1478801288123</millis>
  <sequence>861</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>65</thread>
  <message>recv:.open(FILE,"w+") uart.setup(0,115200,8,0,1,0)&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:08:08</date>
  <millis>1478801288298</millis>
  <sequence>862</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>65</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:08:08</date>
  <millis>1478801288311</millis>
  <sequence>863</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_Receiver=function(rcvBuf) if string.match(rcvBuf,"^ESP_cmd_close")==nil then file.write(string.gsub(rcvBuf, '\r', '')) uart.write(0, "&gt; ") else uart.on("data") </message>
</record>
<record>
  <date>2016-11-11T02:08:08</date>
  <millis>1478801288339</millis>
  <sequence>864</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>65</thread>
  <message>recv:&gt;</message>
</record>
<record>
  <date>2016-11-11T02:08:08</date>
  <millis>1478801288339</millis>
  <sequence>865</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>65</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:08:08</date>
  <millis>1478801288353</millis>
  <sequence>866</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:file.flush() file.close() FILE=nil rcvBuf=nil ESP_Receiver=nil uart.setup(0,115200,8,0,1,1) str="\r\n--Done--\r\n&gt; " print(str) str=nil collectgarbage() end end uart.on("data",'\r',ESP_Receiver,0)</message>
</record>
<record>
  <date>2016-11-11T02:08:08</date>
  <millis>1478801288392</millis>
  <sequence>867</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>65</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:08:08</date>
  <millis>1478801288404</millis>
  <sequence>868</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local M = {}

-- status pin = 0, alarm 1
-- relay pin = 6 and 7, alarm 2, 3

function M.status_LED(delay)
    gpio.mode(0, gpio.OUTPUT)
    status0 = 0
        
    tmr.alarm(1, delay, 1, function()
        if status0 == 0 then
            status0 = 1
  </message>
</record>
<record>
  <date>2016-11-11T02:08:08</date>
  <millis>1478801288433</millis>
  <sequence>869</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>65</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:08:08</date>
  <millis>1478801288444</millis>
  <sequence>870</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:          gpio.write(0, gpio.HIGH)
        else
            status0 = 0
            gpio.write(0, gpio.LOW)
        end 
    end)
      
end

-- One on/off relay
function M.relay_onoff()
    gpio.mode(6, gpio.OUTPUT)
    gpio.mode(7, gpio.OUTPUT)
    gpi</message>
</record>
<record>
  <date>2016-11-11T02:08:08</date>
  <millis>1478801288475</millis>
  <sequence>871</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>65</thread>
  <message>recv:&gt;</message>
</record>
<record>
  <date>2016-11-11T02:08:08</date>
  <millis>1478801288476</millis>
  <sequence>872</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>65</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T02:08:08</date>
  <millis>1478801288492</millis>
  <sequence>873</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:o.write(6, gpio.HIGH)
    gpio.write(7, gpio.HIGH)
        
    tmr.alarm(2, 1000, 2, function()
    gpio.write(6, gpio.LOW)
    gpio.write(7, gpio.LOW)
    end)

    tmr.alarm(2, 1000, 2, function()
    gpio.write(6, gpio.HIGH)
    gpio.write(7, gpio.HI</message>
</record>
<record>
  <date>2016-11-11T02:08:08</date>
  <millis>1478801288523</millis>
  <sequence>874</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>65</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:08:08</date>
  <millis>1478801288536</millis>
  <sequence>875</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:GH)
    end)


end


-- loop relay
function M.relay_6(delay, mode)
    gpio.mode(6, gpio.OUTPUT)
    status1 = 0
        
    tmr.alarm(2, delay, mode, function()
        if status1 == 0 then
            status1 = 1
            gpio.write(6, gpio.HIGH)
 </message>
</record>
<record>
  <date>2016-11-11T02:08:08</date>
  <millis>1478801288567</millis>
  <sequence>876</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>65</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:08:08</date>
  <millis>1478801288579</millis>
  <sequence>877</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:       else
            status1 = 0
            gpio.write(6, gpio.LOW)
        end 
    end)
      
end


function M.relay_7(delay, mode)
    gpio.mode(7, gpio.OUTPUT)
    status2 = 0
        
    tmr.alarm(3, delay, mode, function()
        if status2 </message>
</record>
<record>
  <date>2016-11-11T02:08:08</date>
  <millis>1478801288610</millis>
  <sequence>878</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>65</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:08:08</date>
  <millis>1478801288622</millis>
  <sequence>879</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:== 0 then
            status2 = 1
            gpio.write(7, gpio.HIGH)
        else
            status2 = 0
            gpio.write(7, gpio.LOW)
        end 
    end)
      
end
return M
</message>
</record>
<record>
  <date>2016-11-11T02:08:08</date>
  <millis>1478801288647</millis>
  <sequence>880</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>65</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:08:08</date>
  <millis>1478801288659</millis>
  <sequence>881</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_cmd_close</message>
</record>
<record>
  <date>2016-11-11T02:08:08</date>
  <millis>1478801288671</millis>
  <sequence>882</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>65</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:08:08</date>
  <millis>1478801288672</millis>
  <sequence>883</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>65</thread>
  <message>recv:--Done--&lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T02:08:08</date>
  <millis>1478801288673</millis>
  <sequence>884</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>65</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:08:08</date>
  <millis>1478801288688</millis>
  <sequence>885</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:08:08</date>
  <millis>1478801288689</millis>
  <sequence>886</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>65</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:08:08</date>
  <millis>1478801288692</millis>
  <sequence>887</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>65</thread>
  <message>recv:&gt; &lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T02:08:08</date>
  <millis>1478801288715</millis>
  <sequence>888</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:dofile("control.lua")</message>
</record>
<record>
  <date>2016-11-11T02:08:08</date>
  <millis>1478801288717</millis>
  <sequence>889</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>65</thread>
  <message>recv:do</message>
</record>
<record>
  <date>2016-11-11T02:08:08</date>
  <millis>1478801288722</millis>
  <sequence>890</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>65</thread>
  <message>recv:file("control.lua")&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:08:08</date>
  <millis>1478801288777</millis>
  <sequence>891</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>65</thread>
  <message>recv:&gt;</message>
</record>
<record>
  <date>2016-11-11T02:08:08</date>
  <millis>1478801288778</millis>
  <sequence>892</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>65</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T02:08:08</date>
  <millis>1478801288841</millis>
  <sequence>893</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>65</thread>
  <message>Operation done. Duration = 846 ms</message>
</record>
<record>
  <date>2016-11-11T02:08:09</date>
  <millis>1478801289629</millis>
  <sequence>894</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:node.restart()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:08:09</date>
  <millis>1478801289631</millis>
  <sequence>895</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with saved baud 115200...</message>
</record>
<record>
  <date>2016-11-11T02:08:09</date>
  <millis>1478801289694</millis>
  <sequence>896</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success. Now we waiting for ESP reboot...</message>
</record>
<record>
  <date>2016-11-11T02:08:11</date>
  <millis>1478801291695</millis>
  <sequence>897</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with baud 115200...</message>
</record>
<record>
  <date>2016-11-11T02:08:11</date>
  <millis>1478801291701</millis>
  <sequence>898</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:print(uart.setup(0, 115200, 8, 0, 1, 1 ))&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:08:11</date>
  <millis>1478801291964</millis>
  <sequence>899</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success.</message>
</record>
<record>
  <date>2016-11-11T02:08:11</date>
  <millis>1478801291991</millis>
  <sequence>900</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:08:11</date>
  <millis>1478801291994</millis>
  <sequence>901</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>66</thread>
  <message>
Communication with MCU established.</message>
</record>
<record>
  <date>2016-11-11T02:08:12</date>
  <millis>1478801292003</millis>
  <sequence>902</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>66</thread>
  <message>sending:=node.heap()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:09:06</date>
  <millis>1478801346413</millis>
  <sequence>903</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to load file control.lua</message>
</record>
<record>
  <date>2016-11-11T02:09:06</date>
  <millis>1478801346424</millis>
  <sequence>904</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Loading control.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T02:09:06</date>
  <millis>1478801346425</millis>
  <sequence>905</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>File reload: Success.</message>
</record>
<record>
  <date>2016-11-11T02:09:07</date>
  <millis>1478801347157</millis>
  <sequence>906</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>We save known file control.lua</message>
</record>
<record>
  <date>2016-11-11T02:09:07</date>
  <millis>1478801347158</millis>
  <sequence>907</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to saving file control.lua ...</message>
</record>
<record>
  <date>2016-11-11T02:09:07</date>
  <millis>1478801347161</millis>
  <sequence>908</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Save file control.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T02:09:07</date>
  <millis>1478801347165</millis>
  <sequence>909</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP: Try to save file to ESP...</message>
</record>
<record>
  <date>2016-11-11T02:09:07</date>
  <millis>1478801347166</millis>
  <sequence>910</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Try to save file to ESP in Turbo Mode...</message>
</record>
<record>
  <date>2016-11-11T02:09:07</date>
  <millis>1478801347174</millis>
  <sequence>911</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>DataTurboSender: start "Smart Mode"</message>
</record>
<record>
  <date>2016-11-11T02:09:07</date>
  <millis>1478801347175</millis>
  <sequence>912</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Starting...</message>
</record>
<record>
  <date>2016-11-11T02:09:07</date>
  <millis>1478801347269</millis>
  <sequence>913</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local FILE="control.lua" file.remove(FILE) file.open(FILE,"w+") uart.setup(0,115200,8,0,1,0)</message>
</record>
<record>
  <date>2016-11-11T02:09:07</date>
  <millis>1478801347272</millis>
  <sequence>914</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>67</thread>
  <message>recv:loca</message>
</record>
<record>
  <date>2016-11-11T02:09:07</date>
  <millis>1478801347279</millis>
  <sequence>915</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>67</thread>
  <message>recv:l FILE="control.lua" file.remove(FILE) file.open(FILE,"w+") uart.setup(0,115200,8,0,1</message>
</record>
<record>
  <date>2016-11-11T02:09:07</date>
  <millis>1478801347280</millis>
  <sequence>916</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>67</thread>
  <message>recv:,0)&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:09:07</date>
  <millis>1478801347460</millis>
  <sequence>917</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>67</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:09:07</date>
  <millis>1478801347474</millis>
  <sequence>918</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_Receiver=function(rcvBuf) if string.match(rcvBuf,"^ESP_cmd_close")==nil then file.write(string.gsub(rcvBuf, '\r', '')) uart.write(0, "&gt; ") else uart.on("data") </message>
</record>
<record>
  <date>2016-11-11T02:09:07</date>
  <millis>1478801347502</millis>
  <sequence>919</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>67</thread>
  <message>recv:&gt;&gt;</message>
</record>
<record>
  <date>2016-11-11T02:09:07</date>
  <millis>1478801347503</millis>
  <sequence>920</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>67</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T02:09:07</date>
  <millis>1478801347519</millis>
  <sequence>921</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:file.flush() file.close() FILE=nil rcvBuf=nil ESP_Receiver=nil uart.setup(0,115200,8,0,1,1) str="\r\n--Done--\r\n&gt; " print(str) str=nil collectgarbage() end end uart.on("data",'\r',ESP_Receiver,0)</message>
</record>
<record>
  <date>2016-11-11T02:09:07</date>
  <millis>1478801347559</millis>
  <sequence>922</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>67</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:09:07</date>
  <millis>1478801347571</millis>
  <sequence>923</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local M = {}

-- status pin = 0, alarm 1
-- relay pin = 6 and 7, alarm 2, 3

function M.status_LED(delay)
    gpio.mode(0, gpio.OUTPUT)
    status0 = 0
        
    tmr.alarm(1, delay, 1, function()
        if status0 == 0 then
            status0 = 1
  </message>
</record>
<record>
  <date>2016-11-11T02:09:07</date>
  <millis>1478801347600</millis>
  <sequence>924</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>67</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:09:07</date>
  <millis>1478801347613</millis>
  <sequence>925</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:          gpio.write(0, gpio.HIGH)
        else
            status0 = 0
            gpio.write(0, gpio.LOW)
        end 
    end)
      
end

-- One on/off relay
function M.relay_onoff()
    gpio.mode(6, gpio.OUTPUT)
    gpio.mode(7, gpio.OUTPUT)
    gpi</message>
</record>
<record>
  <date>2016-11-11T02:09:07</date>
  <millis>1478801347644</millis>
  <sequence>926</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>67</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:09:07</date>
  <millis>1478801347656</millis>
  <sequence>927</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:o.write(6, gpio.HIGH)
    gpio.write(7, gpio.HIGH)
        
    tmr.alarm(2, 1000, 0, function()
    gpio.write(6, gpio.LOW)
    gpio.write(7, gpio.LOW)
    end)
    tmr.stop(2)

    tmr.alarm(2, 1000, 0, function()
    gpio.write(6, gpio.HIGH)
    gpio.</message>
</record>
<record>
  <date>2016-11-11T02:09:07</date>
  <millis>1478801347688</millis>
  <sequence>928</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>67</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:09:07</date>
  <millis>1478801347699</millis>
  <sequence>929</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:write(7, gpio.HIGH)
    end)
    tmr.stop(2)

end


-- loop relay
function M.relay_6(delay, mode)
    gpio.mode(6, gpio.OUTPUT)
    status1 = 0
        
    tmr.alarm(2, delay, mode, function()
        if status1 == 0 then
            status1 = 1
       </message>
</record>
<record>
  <date>2016-11-11T02:09:07</date>
  <millis>1478801347730</millis>
  <sequence>930</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>67</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:09:07</date>
  <millis>1478801347743</millis>
  <sequence>931</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:     gpio.write(6, gpio.HIGH)
        else
            status1 = 0
            gpio.write(6, gpio.LOW)
        end 
    end)
      
end


function M.relay_7(delay, mode)
    gpio.mode(7, gpio.OUTPUT)
    status2 = 0
        
    tmr.alarm(3, delay, mode,</message>
</record>
<record>
  <date>2016-11-11T02:09:07</date>
  <millis>1478801347773</millis>
  <sequence>932</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>67</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:09:07</date>
  <millis>1478801347785</millis>
  <sequence>933</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending: function()
        if status2 == 0 then
            status2 = 1
            gpio.write(7, gpio.HIGH)
        else
            status2 = 0
            gpio.write(7, gpio.LOW)
        end 
    end)
      
end
return M
</message>
</record>
<record>
  <date>2016-11-11T02:09:07</date>
  <millis>1478801347813</millis>
  <sequence>934</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>67</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:09:07</date>
  <millis>1478801347825</millis>
  <sequence>935</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_cmd_close</message>
</record>
<record>
  <date>2016-11-11T02:09:07</date>
  <millis>1478801347837</millis>
  <sequence>936</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>67</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;--</message>
</record>
<record>
  <date>2016-11-11T02:09:07</date>
  <millis>1478801347837</millis>
  <sequence>937</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>67</thread>
  <message>recv:Done--&lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T02:09:07</date>
  <millis>1478801347840</millis>
  <sequence>938</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>67</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:09:07</date>
  <millis>1478801347856</millis>
  <sequence>939</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:09:07</date>
  <millis>1478801347857</millis>
  <sequence>940</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>67</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;&gt;</message>
</record>
<record>
  <date>2016-11-11T02:09:07</date>
  <millis>1478801347861</millis>
  <sequence>941</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>67</thread>
  <message>recv: &lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T02:09:07</date>
  <millis>1478801347889</millis>
  <sequence>942</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:dofile("control.lua")</message>
</record>
<record>
  <date>2016-11-11T02:09:07</date>
  <millis>1478801347891</millis>
  <sequence>943</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>67</thread>
  <message>recv:d</message>
</record>
<record>
  <date>2016-11-11T02:09:07</date>
  <millis>1478801347895</millis>
  <sequence>944</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>67</thread>
  <message>recv:ofile("control.lua")&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:09:07</date>
  <millis>1478801347952</millis>
  <sequence>945</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>67</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:09:08</date>
  <millis>1478801348042</millis>
  <sequence>946</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>67</thread>
  <message>Operation done. Duration = 876 ms</message>
</record>
<record>
  <date>2016-11-11T02:09:09</date>
  <millis>1478801349104</millis>
  <sequence>947</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:node.restart()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:09:09</date>
  <millis>1478801349106</millis>
  <sequence>948</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with saved baud 115200...</message>
</record>
<record>
  <date>2016-11-11T02:09:09</date>
  <millis>1478801349169</millis>
  <sequence>949</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success. Now we waiting for ESP reboot...</message>
</record>
<record>
  <date>2016-11-11T02:09:11</date>
  <millis>1478801351170</millis>
  <sequence>950</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with baud 115200...</message>
</record>
<record>
  <date>2016-11-11T02:09:11</date>
  <millis>1478801351175</millis>
  <sequence>951</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:print(uart.setup(0, 115200, 8, 0, 1, 1 ))&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:09:11</date>
  <millis>1478801351440</millis>
  <sequence>952</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success.</message>
</record>
<record>
  <date>2016-11-11T02:09:11</date>
  <millis>1478801351469</millis>
  <sequence>953</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:09:11</date>
  <millis>1478801351472</millis>
  <sequence>954</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>68</thread>
  <message>
Communication with MCU established.</message>
</record>
<record>
  <date>2016-11-11T02:09:11</date>
  <millis>1478801351477</millis>
  <sequence>955</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>68</thread>
  <message>sending:=node.heap()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:09:36</date>
  <millis>1478801376744</millis>
  <sequence>956</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:node.restart()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:09:36</date>
  <millis>1478801376745</millis>
  <sequence>957</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with saved baud 115200...</message>
</record>
<record>
  <date>2016-11-11T02:09:36</date>
  <millis>1478801376809</millis>
  <sequence>958</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success. Now we waiting for ESP reboot...</message>
</record>
<record>
  <date>2016-11-11T02:09:38</date>
  <millis>1478801378212</millis>
  <sequence>959</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:node.restart()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:09:38</date>
  <millis>1478801378212</millis>
  <sequence>960</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with saved baud 115200...</message>
</record>
<record>
  <date>2016-11-11T02:09:38</date>
  <millis>1478801378276</millis>
  <sequence>961</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success. Now we waiting for ESP reboot...</message>
</record>
<record>
  <date>2016-11-11T02:09:38</date>
  <millis>1478801378811</millis>
  <sequence>962</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with baud 115200...</message>
</record>
<record>
  <date>2016-11-11T02:09:38</date>
  <millis>1478801378812</millis>
  <sequence>963</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:print(uart.setup(0, 115200, 8, 0, 1, 1 ))&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:09:39</date>
  <millis>1478801379075</millis>
  <sequence>964</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success.</message>
</record>
<record>
  <date>2016-11-11T02:09:39</date>
  <millis>1478801379103</millis>
  <sequence>965</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:09:39</date>
  <millis>1478801379379</millis>
  <sequence>966</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:09:39</date>
  <millis>1478801379679</millis>
  <sequence>967</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:09:39</date>
  <millis>1478801379981</millis>
  <sequence>968</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:09:40</date>
  <millis>1478801380278</millis>
  <sequence>969</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>ERROR: Communication with MCU not established.</message>
</record>
<record>
  <date>2016-11-11T02:09:40</date>
  <millis>1478801380283</millis>
  <sequence>970</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:09:40</date>
  <millis>1478801380584</millis>
  <sequence>971</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:09:40</date>
  <millis>1478801380885</millis>
  <sequence>972</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:09:41</date>
  <millis>1478801381186</millis>
  <sequence>973</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:09:41</date>
  <millis>1478801381486</millis>
  <sequence>974</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:09:41</date>
  <millis>1478801381787</millis>
  <sequence>975</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:09:42</date>
  <millis>1478801382088</millis>
  <sequence>976</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:09:42</date>
  <millis>1478801382268</millis>
  <sequence>977</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>68</thread>
  <message>
Communication with MCU established.</message>
</record>
<record>
  <date>2016-11-11T02:10:24</date>
  <millis>1478801424530</millis>
  <sequence>978</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:node.restart()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:10:24</date>
  <millis>1478801424531</millis>
  <sequence>979</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with saved baud 115200...</message>
</record>
<record>
  <date>2016-11-11T02:10:24</date>
  <millis>1478801424596</millis>
  <sequence>980</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success. Now we waiting for ESP reboot...</message>
</record>
<record>
  <date>2016-11-11T02:10:26</date>
  <millis>1478801426599</millis>
  <sequence>981</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with baud 115200...</message>
</record>
<record>
  <date>2016-11-11T02:10:26</date>
  <millis>1478801426600</millis>
  <sequence>982</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:print(uart.setup(0, 115200, 8, 0, 1, 1 ))&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:10:26</date>
  <millis>1478801426863</millis>
  <sequence>983</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success.</message>
</record>
<record>
  <date>2016-11-11T02:10:26</date>
  <millis>1478801426883</millis>
  <sequence>984</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:10:26</date>
  <millis>1478801426885</millis>
  <sequence>985</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>68</thread>
  <message>
Communication with MCU established.</message>
</record>
<record>
  <date>2016-11-11T02:10:26</date>
  <millis>1478801426889</millis>
  <sequence>986</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>68</thread>
  <message>sending:=node.heap()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:10:32</date>
  <millis>1478801432744</millis>
  <sequence>987</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to load file control.lua</message>
</record>
<record>
  <date>2016-11-11T02:10:32</date>
  <millis>1478801432757</millis>
  <sequence>988</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Loading control.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T02:10:32</date>
  <millis>1478801432757</millis>
  <sequence>989</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>File reload: Success.</message>
</record>
<record>
  <date>2016-11-11T02:10:34</date>
  <millis>1478801434392</millis>
  <sequence>990</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>We save known file control.lua</message>
</record>
<record>
  <date>2016-11-11T02:10:34</date>
  <millis>1478801434392</millis>
  <sequence>991</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to saving file control.lua ...</message>
</record>
<record>
  <date>2016-11-11T02:10:34</date>
  <millis>1478801434396</millis>
  <sequence>992</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Save file control.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T02:10:34</date>
  <millis>1478801434401</millis>
  <sequence>993</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP: Try to save file to ESP...</message>
</record>
<record>
  <date>2016-11-11T02:10:34</date>
  <millis>1478801434402</millis>
  <sequence>994</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Try to save file to ESP in Turbo Mode...</message>
</record>
<record>
  <date>2016-11-11T02:10:34</date>
  <millis>1478801434410</millis>
  <sequence>995</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>DataTurboSender: start "Smart Mode"</message>
</record>
<record>
  <date>2016-11-11T02:10:34</date>
  <millis>1478801434411</millis>
  <sequence>996</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Starting...</message>
</record>
<record>
  <date>2016-11-11T02:10:34</date>
  <millis>1478801434514</millis>
  <sequence>997</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local FILE="control.lua" file.remove(FILE) file.open(FILE,"w+") uart.setup(0,115200,8,0,1,0)</message>
</record>
<record>
  <date>2016-11-11T02:10:34</date>
  <millis>1478801434517</millis>
  <sequence>998</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>69</thread>
  <message>recv:loc</message>
</record>
<record>
  <date>2016-11-11T02:10:34</date>
  <millis>1478801434520</millis>
  <sequence>999</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>69</thread>
  <message>recv:al FILE="control.lua" file.remove(FILE) f</message>
</record>
<record>
  <date>2016-11-11T02:10:34</date>
  <millis>1478801434524</millis>
  <sequence>1000</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>69</thread>
  <message>recv:ile.open(FILE,"w+") uart.setup(0,1</message>
</record>
<record>
  <date>2016-11-11T02:10:34</date>
  <millis>1478801434540</millis>
  <sequence>1001</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>69</thread>
  <message>recv:15</message>
</record>
<record>
  <date>2016-11-11T02:10:34</date>
  <millis>1478801434541</millis>
  <sequence>1002</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>69</thread>
  <message>recv:200,8,0,1,</message>
</record>
<record>
  <date>2016-11-11T02:10:34</date>
  <millis>1478801434554</millis>
  <sequence>1003</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>69</thread>
  <message>recv:0)&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:10:34</date>
  <millis>1478801434722</millis>
  <sequence>1004</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>69</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:10:34</date>
  <millis>1478801434746</millis>
  <sequence>1005</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_Receiver=function(rcvBuf) if string.match(rcvBuf,"^ESP_cmd_close")==nil then file.write(string.gsub(rcvBuf, '\r', '')) uart.write(0, "&gt; ") else uart.on("data") </message>
</record>
<record>
  <date>2016-11-11T02:10:34</date>
  <millis>1478801434774</millis>
  <sequence>1006</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>69</thread>
  <message>recv:&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T02:10:34</date>
  <millis>1478801434788</millis>
  <sequence>1007</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:file.flush() file.close() FILE=nil rcvBuf=nil ESP_Receiver=nil uart.setup(0,115200,8,0,1,1) str="\r\n--Done--\r\n&gt; " print(str) str=nil collectgarbage() end end uart.on("data",'\r',ESP_Receiver,0)</message>
</record>
<record>
  <date>2016-11-11T02:10:34</date>
  <millis>1478801434827</millis>
  <sequence>1008</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>69</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:10:34</date>
  <millis>1478801434839</millis>
  <sequence>1009</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local M = {}

-- status pin = 0, alarm 1
-- relay pin = 6 and 7, alarm 2, 3

function M.status_LED(delay)
    gpio.mode(0, gpio.OUTPUT)
    status0 = 0
        
    tmr.alarm(1, delay, 1, function()
        if status0 == 0 then
            status0 = 1
  </message>
</record>
<record>
  <date>2016-11-11T02:10:34</date>
  <millis>1478801434868</millis>
  <sequence>1010</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>69</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:10:34</date>
  <millis>1478801434880</millis>
  <sequence>1011</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:          gpio.write(0, gpio.HIGH)
        else
            status0 = 0
            gpio.write(0, gpio.LOW)
        end 
    end)
      
end

-- One on/off relay
function M.relay_onoff()
    gpio.mode(6, gpio.OUTPUT)
    gpio.mode(7, gpio.OUTPUT)
    gpi</message>
</record>
<record>
  <date>2016-11-11T02:10:34</date>
  <millis>1478801434912</millis>
  <sequence>1012</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>69</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:10:34</date>
  <millis>1478801434925</millis>
  <sequence>1013</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:o.write(6, gpio.HIGH)
    gpio.write(7, gpio.HIGH)
        
    tmr.alarm(2, 1000, 0, function()
    gpio.write(6, gpio.LOW)
    gpio.write(7, gpio.LOW)
    end)
    --tmr.stop(2)

    --tmr.alarm(2, 1000, 0, function()
    --gpio.write(6, gpio.HIGH)
   </message>
</record>
<record>
  <date>2016-11-11T02:10:34</date>
  <millis>1478801434956</millis>
  <sequence>1014</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>69</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:10:34</date>
  <millis>1478801434970</millis>
  <sequence>1015</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending: --gpio.write(7, gpio.HIGH)
    --end)
    --tmr.stop(2)

end


-- loop relay
function M.relay_6(delay, mode)
    gpio.mode(6, gpio.OUTPUT)
    status1 = 0
        
    tmr.alarm(2, delay, mode, function()
        if status1 == 0 then
            status1</message>
</record>
<record>
  <date>2016-11-11T02:10:35</date>
  <millis>1478801435001</millis>
  <sequence>1016</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>69</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:10:35</date>
  <millis>1478801435013</millis>
  <sequence>1017</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending: = 1
            gpio.write(6, gpio.HIGH)
        else
            status1 = 0
            gpio.write(6, gpio.LOW)
        end 
    end)
      
end


function M.relay_7(delay, mode)
    gpio.mode(7, gpio.OUTPUT)
    status2 = 0
        
    tmr.alarm(3, </message>
</record>
<record>
  <date>2016-11-11T02:10:35</date>
  <millis>1478801435044</millis>
  <sequence>1018</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>69</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:10:35</date>
  <millis>1478801435055</millis>
  <sequence>1019</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:delay, mode, function()
        if status2 == 0 then
            status2 = 1
            gpio.write(7, gpio.HIGH)
        else
            status2 = 0
            gpio.write(7, gpio.LOW)
        end 
    end)
      
end
return M
</message>
</record>
<record>
  <date>2016-11-11T02:10:35</date>
  <millis>1478801435084</millis>
  <sequence>1020</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>69</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:10:35</date>
  <millis>1478801435096</millis>
  <sequence>1021</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_cmd_close</message>
</record>
<record>
  <date>2016-11-11T02:10:35</date>
  <millis>1478801435108</millis>
  <sequence>1022</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>69</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;-</message>
</record>
<record>
  <date>2016-11-11T02:10:35</date>
  <millis>1478801435109</millis>
  <sequence>1023</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>69</thread>
  <message>recv:-Done--&lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T02:10:35</date>
  <millis>1478801435110</millis>
  <sequence>1024</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>69</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:10:35</date>
  <millis>1478801435127</millis>
  <sequence>1025</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:10:35</date>
  <millis>1478801435129</millis>
  <sequence>1026</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>69</thread>
  <message>recv:&lt;CR&gt;</message>
</record>
<record>
  <date>2016-11-11T02:10:35</date>
  <millis>1478801435133</millis>
  <sequence>1027</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>69</thread>
  <message>recv:&lt;LF&gt;&gt; &lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T02:10:35</date>
  <millis>1478801435155</millis>
  <sequence>1028</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:dofile("control.lua")</message>
</record>
<record>
  <date>2016-11-11T02:10:35</date>
  <millis>1478801435158</millis>
  <sequence>1029</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>69</thread>
  <message>recv:dofi</message>
</record>
<record>
  <date>2016-11-11T02:10:35</date>
  <millis>1478801435161</millis>
  <sequence>1030</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>69</thread>
  <message>recv:le("control.lua")&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:10:35</date>
  <millis>1478801435216</millis>
  <sequence>1031</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>69</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:10:35</date>
  <millis>1478801435287</millis>
  <sequence>1032</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>69</thread>
  <message>Operation done. Duration = 883 ms</message>
</record>
<record>
  <date>2016-11-11T02:10:37</date>
  <millis>1478801437209</millis>
  <sequence>1033</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:node.restart()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:10:37</date>
  <millis>1478801437211</millis>
  <sequence>1034</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with saved baud 115200...</message>
</record>
<record>
  <date>2016-11-11T02:10:37</date>
  <millis>1478801437273</millis>
  <sequence>1035</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success. Now we waiting for ESP reboot...</message>
</record>
<record>
  <date>2016-11-11T02:10:39</date>
  <millis>1478801439275</millis>
  <sequence>1036</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with baud 115200...</message>
</record>
<record>
  <date>2016-11-11T02:10:39</date>
  <millis>1478801439276</millis>
  <sequence>1037</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:print(uart.setup(0, 115200, 8, 0, 1, 1 ))&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:10:39</date>
  <millis>1478801439540</millis>
  <sequence>1038</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success.</message>
</record>
<record>
  <date>2016-11-11T02:10:39</date>
  <millis>1478801439566</millis>
  <sequence>1039</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:10:39</date>
  <millis>1478801439570</millis>
  <sequence>1040</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>70</thread>
  <message>
Communication with MCU established.</message>
</record>
<record>
  <date>2016-11-11T02:10:39</date>
  <millis>1478801439573</millis>
  <sequence>1041</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>70</thread>
  <message>sending:=node.heap()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:10:57</date>
  <millis>1478801457334</millis>
  <sequence>1042</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to load file control.lua</message>
</record>
<record>
  <date>2016-11-11T02:10:57</date>
  <millis>1478801457345</millis>
  <sequence>1043</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Loading control.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T02:10:57</date>
  <millis>1478801457345</millis>
  <sequence>1044</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>File reload: Success.</message>
</record>
<record>
  <date>2016-11-11T02:10:58</date>
  <millis>1478801458215</millis>
  <sequence>1045</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>We save known file control.lua</message>
</record>
<record>
  <date>2016-11-11T02:10:58</date>
  <millis>1478801458216</millis>
  <sequence>1046</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to saving file control.lua ...</message>
</record>
<record>
  <date>2016-11-11T02:10:58</date>
  <millis>1478801458219</millis>
  <sequence>1047</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Save file control.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T02:10:58</date>
  <millis>1478801458223</millis>
  <sequence>1048</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP: Try to save file to ESP...</message>
</record>
<record>
  <date>2016-11-11T02:10:58</date>
  <millis>1478801458224</millis>
  <sequence>1049</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Try to save file to ESP in Turbo Mode...</message>
</record>
<record>
  <date>2016-11-11T02:10:58</date>
  <millis>1478801458232</millis>
  <sequence>1050</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>DataTurboSender: start "Smart Mode"</message>
</record>
<record>
  <date>2016-11-11T02:10:58</date>
  <millis>1478801458232</millis>
  <sequence>1051</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Starting...</message>
</record>
<record>
  <date>2016-11-11T02:10:58</date>
  <millis>1478801458335</millis>
  <sequence>1052</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local FILE="control.lua" file.remove(FILE) file.open(FILE,"w+") uart.setup(0,115200,8,0,1,0)</message>
</record>
<record>
  <date>2016-11-11T02:10:58</date>
  <millis>1478801458337</millis>
  <sequence>1053</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>71</thread>
  <message>recv:lo</message>
</record>
<record>
  <date>2016-11-11T02:10:58</date>
  <millis>1478801458343</millis>
  <sequence>1054</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>71</thread>
  <message>recv:cal FILE="control.lua" file.remove(FILE) file.open(FILE,</message>
</record>
<record>
  <date>2016-11-11T02:10:58</date>
  <millis>1478801458344</millis>
  <sequence>1055</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>71</thread>
  <message>recv:"w+") uart.setup</message>
</record>
<record>
  <date>2016-11-11T02:10:58</date>
  <millis>1478801458346</millis>
  <sequence>1056</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>71</thread>
  <message>recv:(0,115200,8,0,1,0)&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:10:58</date>
  <millis>1478801458530</millis>
  <sequence>1057</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>71</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:10:58</date>
  <millis>1478801458543</millis>
  <sequence>1058</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_Receiver=function(rcvBuf) if string.match(rcvBuf,"^ESP_cmd_close")==nil then file.write(string.gsub(rcvBuf, '\r', '')) uart.write(0, "&gt; ") else uart.on("data") </message>
</record>
<record>
  <date>2016-11-11T02:10:58</date>
  <millis>1478801458569</millis>
  <sequence>1059</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>71</thread>
  <message>recv:&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T02:10:58</date>
  <millis>1478801458581</millis>
  <sequence>1060</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:file.flush() file.close() FILE=nil rcvBuf=nil ESP_Receiver=nil uart.setup(0,115200,8,0,1,1) str="\r\n--Done--\r\n&gt; " print(str) str=nil collectgarbage() end end uart.on("data",'\r',ESP_Receiver,0)</message>
</record>
<record>
  <date>2016-11-11T02:10:58</date>
  <millis>1478801458620</millis>
  <sequence>1061</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>71</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:10:58</date>
  <millis>1478801458638</millis>
  <sequence>1062</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local M = {}

-- status pin = 0, alarm 1
-- relay pin = 6 and 7, alarm 2, 3

function M.status_LED(delay)
    gpio.mode(0, gpio.OUTPUT)
    status0 = 0
        
    tmr.alarm(1, delay, 1, function()
        if status0 == 0 then
            status0 = 1
  </message>
</record>
<record>
  <date>2016-11-11T02:10:58</date>
  <millis>1478801458668</millis>
  <sequence>1063</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>71</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:10:58</date>
  <millis>1478801458680</millis>
  <sequence>1064</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:          gpio.write(0, gpio.HIGH)
        else
            status0 = 0
            gpio.write(0, gpio.LOW)
        end 
    end)
      
end

-- One on/off relay
function M.relay_onoff()
    gpio.mode(6, gpio.OUTPUT)
    gpio.mode(7, gpio.OUTPUT)
    gpi</message>
</record>
<record>
  <date>2016-11-11T02:10:58</date>
  <millis>1478801458710</millis>
  <sequence>1065</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>71</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:10:58</date>
  <millis>1478801458723</millis>
  <sequence>1066</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:o.write(6, gpio.HIGH)
    gpio.write(7, gpio.HIGH)
        
    tmr.alarm(2, 1000, 0, function()
    gpio.write(6, gpio.LOW)
    gpio.write(7, gpio.LOW)
    end)
    tmr.stop(2)

    tmr.alarm(2, 1000, 0, function()
    gpio.write(6, gpio.HIGH)
    gpio.</message>
</record>
<record>
  <date>2016-11-11T02:10:58</date>
  <millis>1478801458754</millis>
  <sequence>1067</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>71</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:10:58</date>
  <millis>1478801458767</millis>
  <sequence>1068</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:write(7, gpio.HIGH)
    end)
    tmr.stop(2)

end


-- loop relay
function M.relay_6(delay, mode)
    gpio.mode(6, gpio.OUTPUT)
    status1 = 0
        
    tmr.alarm(2, delay, mode, function()
        if status1 == 0 then
            status1 = 1
       </message>
</record>
<record>
  <date>2016-11-11T02:10:58</date>
  <millis>1478801458798</millis>
  <sequence>1069</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>71</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:10:58</date>
  <millis>1478801458809</millis>
  <sequence>1070</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:     gpio.write(6, gpio.HIGH)
        else
            status1 = 0
            gpio.write(6, gpio.LOW)
        end 
    end)
      
end


function M.relay_7(delay, mode)
    gpio.mode(7, gpio.OUTPUT)
    status2 = 0
        
    tmr.alarm(3, delay, mode,</message>
</record>
<record>
  <date>2016-11-11T02:10:58</date>
  <millis>1478801458851</millis>
  <sequence>1071</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>71</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:10:58</date>
  <millis>1478801458863</millis>
  <sequence>1072</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending: function()
        if status2 == 0 then
            status2 = 1
            gpio.write(7, gpio.HIGH)
        else
            status2 = 0
            gpio.write(7, gpio.LOW)
        end 
    end)
      
end
return M
</message>
</record>
<record>
  <date>2016-11-11T02:10:58</date>
  <millis>1478801458891</millis>
  <sequence>1073</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>71</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:10:58</date>
  <millis>1478801458903</millis>
  <sequence>1074</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_cmd_close</message>
</record>
<record>
  <date>2016-11-11T02:10:58</date>
  <millis>1478801458916</millis>
  <sequence>1075</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>71</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;--</message>
</record>
<record>
  <date>2016-11-11T02:10:58</date>
  <millis>1478801458917</millis>
  <sequence>1076</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>71</thread>
  <message>recv:Done--&lt;CR&gt;&lt;LF&gt;&gt; &lt;CR&gt;</message>
</record>
<record>
  <date>2016-11-11T02:10:58</date>
  <millis>1478801458921</millis>
  <sequence>1077</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>71</thread>
  <message>recv:&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:10:58</date>
  <millis>1478801458938</millis>
  <sequence>1078</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:10:58</date>
  <millis>1478801458939</millis>
  <sequence>1079</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>71</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:10:58</date>
  <millis>1478801458941</millis>
  <sequence>1080</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>71</thread>
  <message>recv:&gt; &lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T02:10:58</date>
  <millis>1478801458965</millis>
  <sequence>1081</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:dofile("control.lua")</message>
</record>
<record>
  <date>2016-11-11T02:10:58</date>
  <millis>1478801458968</millis>
  <sequence>1082</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>71</thread>
  <message>recv:dof</message>
</record>
<record>
  <date>2016-11-11T02:10:58</date>
  <millis>1478801458972</millis>
  <sequence>1083</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>71</thread>
  <message>recv:ile("control.lua")&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:10:59</date>
  <millis>1478801459028</millis>
  <sequence>1084</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>71</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:10:59</date>
  <millis>1478801459116</millis>
  <sequence>1085</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>71</thread>
  <message>Operation done. Duration = 891 ms</message>
</record>
<record>
  <date>2016-11-11T02:11:03</date>
  <millis>1478801463191</millis>
  <sequence>1086</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:node.restart()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:11:03</date>
  <millis>1478801463194</millis>
  <sequence>1087</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with saved baud 115200...</message>
</record>
<record>
  <date>2016-11-11T02:11:03</date>
  <millis>1478801463257</millis>
  <sequence>1088</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success. Now we waiting for ESP reboot...</message>
</record>
<record>
  <date>2016-11-11T02:11:05</date>
  <millis>1478801465259</millis>
  <sequence>1089</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with baud 115200...</message>
</record>
<record>
  <date>2016-11-11T02:11:05</date>
  <millis>1478801465260</millis>
  <sequence>1090</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:print(uart.setup(0, 115200, 8, 0, 1, 1 ))&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:11:05</date>
  <millis>1478801465524</millis>
  <sequence>1091</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success.</message>
</record>
<record>
  <date>2016-11-11T02:11:05</date>
  <millis>1478801465555</millis>
  <sequence>1092</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:11:05</date>
  <millis>1478801465558</millis>
  <sequence>1093</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>72</thread>
  <message>
Communication with MCU established.</message>
</record>
<record>
  <date>2016-11-11T02:11:05</date>
  <millis>1478801465560</millis>
  <sequence>1094</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>72</thread>
  <message>sending:=node.heap()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:11:11</date>
  <millis>1478801471330</millis>
  <sequence>1095</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:node.restart()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:11:11</date>
  <millis>1478801471331</millis>
  <sequence>1096</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with saved baud 115200...</message>
</record>
<record>
  <date>2016-11-11T02:11:11</date>
  <millis>1478801471394</millis>
  <sequence>1097</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success. Now we waiting for ESP reboot...</message>
</record>
<record>
  <date>2016-11-11T02:11:13</date>
  <millis>1478801473395</millis>
  <sequence>1098</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with baud 115200...</message>
</record>
<record>
  <date>2016-11-11T02:11:13</date>
  <millis>1478801473396</millis>
  <sequence>1099</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:print(uart.setup(0, 115200, 8, 0, 1, 1 ))&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:11:13</date>
  <millis>1478801473659</millis>
  <sequence>1100</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success.</message>
</record>
<record>
  <date>2016-11-11T02:11:13</date>
  <millis>1478801473692</millis>
  <sequence>1101</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:11:13</date>
  <millis>1478801473695</millis>
  <sequence>1102</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>72</thread>
  <message>
Communication with MCU established.</message>
</record>
<record>
  <date>2016-11-11T02:11:13</date>
  <millis>1478801473703</millis>
  <sequence>1103</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>72</thread>
  <message>sending:=node.heap()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:11:45</date>
  <millis>1478801505102</millis>
  <sequence>1104</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to load file control.lua</message>
</record>
<record>
  <date>2016-11-11T02:11:45</date>
  <millis>1478801505115</millis>
  <sequence>1105</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Loading control.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T02:11:45</date>
  <millis>1478801505116</millis>
  <sequence>1106</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>File reload: Success.</message>
</record>
<record>
  <date>2016-11-11T02:11:45</date>
  <millis>1478801505883</millis>
  <sequence>1107</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>We save known file control.lua</message>
</record>
<record>
  <date>2016-11-11T02:11:45</date>
  <millis>1478801505884</millis>
  <sequence>1108</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to saving file control.lua ...</message>
</record>
<record>
  <date>2016-11-11T02:11:45</date>
  <millis>1478801505887</millis>
  <sequence>1109</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Save file control.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T02:11:45</date>
  <millis>1478801505893</millis>
  <sequence>1110</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP: Try to save file to ESP...</message>
</record>
<record>
  <date>2016-11-11T02:11:45</date>
  <millis>1478801505895</millis>
  <sequence>1111</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Try to save file to ESP in Turbo Mode...</message>
</record>
<record>
  <date>2016-11-11T02:11:45</date>
  <millis>1478801505902</millis>
  <sequence>1112</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>DataTurboSender: start "Smart Mode"</message>
</record>
<record>
  <date>2016-11-11T02:11:45</date>
  <millis>1478801505903</millis>
  <sequence>1113</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Starting...</message>
</record>
<record>
  <date>2016-11-11T02:11:46</date>
  <millis>1478801506008</millis>
  <sequence>1114</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local FILE="control.lua" file.remove(FILE) file.open(FILE,"w+") uart.setup(0,115200,8,0,1,0)</message>
</record>
<record>
  <date>2016-11-11T02:11:46</date>
  <millis>1478801506010</millis>
  <sequence>1115</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>73</thread>
  <message>recv:l</message>
</record>
<record>
  <date>2016-11-11T02:11:46</date>
  <millis>1478801506013</millis>
  <sequence>1116</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>73</thread>
  <message>recv:ocal FILE="control.lua" file.remove(FI</message>
</record>
<record>
  <date>2016-11-11T02:11:46</date>
  <millis>1478801506014</millis>
  <sequence>1117</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>73</thread>
  <message>recv:LE) file.open(F</message>
</record>
<record>
  <date>2016-11-11T02:11:46</date>
  <millis>1478801506019</millis>
  <sequence>1118</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>73</thread>
  <message>recv:ILE,"w+") uart.setup(0,115200,8,0,1,0)&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:11:46</date>
  <millis>1478801506200</millis>
  <sequence>1119</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>73</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:11:46</date>
  <millis>1478801506216</millis>
  <sequence>1120</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_Receiver=function(rcvBuf) if string.match(rcvBuf,"^ESP_cmd_close")==nil then file.write(string.gsub(rcvBuf, '\r', '')) uart.write(0, "&gt; ") else uart.on("data") </message>
</record>
<record>
  <date>2016-11-11T02:11:46</date>
  <millis>1478801506243</millis>
  <sequence>1121</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>73</thread>
  <message>recv:&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T02:11:46</date>
  <millis>1478801506256</millis>
  <sequence>1122</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:file.flush() file.close() FILE=nil rcvBuf=nil ESP_Receiver=nil uart.setup(0,115200,8,0,1,1) str="\r\n--Done--\r\n&gt; " print(str) str=nil collectgarbage() end end uart.on("data",'\r',ESP_Receiver,0)</message>
</record>
<record>
  <date>2016-11-11T02:11:46</date>
  <millis>1478801506296</millis>
  <sequence>1123</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>73</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:11:46</date>
  <millis>1478801506309</millis>
  <sequence>1124</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local M = {}

-- status pin = 0, alarm 1
-- relay pin = 6 and 7, alarm 2, 3

function M.status_LED(delay)
    gpio.mode(0, gpio.OUTPUT)
    status0 = 0
        
    tmr.alarm(1, delay, 1, function()
        if status0 == 0 then
            status0 = 1
  </message>
</record>
<record>
  <date>2016-11-11T02:11:46</date>
  <millis>1478801506338</millis>
  <sequence>1125</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>73</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:11:46</date>
  <millis>1478801506351</millis>
  <sequence>1126</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:          gpio.write(0, gpio.HIGH)
        else
            status0 = 0
            gpio.write(0, gpio.LOW)
        end 
    end)
      
end

-- One on/off relay
function M.relay_onoff()
    gpio.mode(6, gpio.OUTPUT)
    gpio.mode(7, gpio.OUTPUT)
    gpi</message>
</record>
<record>
  <date>2016-11-11T02:11:46</date>
  <millis>1478801506382</millis>
  <sequence>1127</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>73</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:11:46</date>
  <millis>1478801506399</millis>
  <sequence>1128</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:o.write(6, gpio.LOW)
    gpio.write(7, gpio.LOW)
        
    tmr.alarm(2, 1000, 0, function()
    gpio.write(6, gpio.HIGH)
    gpio.write(7, gpio.HIGH)
    end)
    tmr.stop(2)

    tmr.alarm(2, 1000, 0, function()
    gpio.write(6, gpio.LOW)
    gpio.w</message>
</record>
<record>
  <date>2016-11-11T02:11:46</date>
  <millis>1478801506431</millis>
  <sequence>1129</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>73</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:11:46</date>
  <millis>1478801506442</millis>
  <sequence>1130</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:rite(7, gpio.LOW)
    end)
    tmr.stop(2)

end


-- loop relay
function M.relay_6(delay, mode)
    gpio.mode(6, gpio.OUTPUT)
    status1 = 0
        
    tmr.alarm(2, delay, mode, function()
        if status1 == 0 then
            status1 = 1
         </message>
</record>
<record>
  <date>2016-11-11T02:11:46</date>
  <millis>1478801506473</millis>
  <sequence>1131</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>73</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:11:46</date>
  <millis>1478801506485</millis>
  <sequence>1132</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:   gpio.write(6, gpio.HIGH)
        else
            status1 = 0
            gpio.write(6, gpio.LOW)
        end 
    end)
      
end


function M.relay_7(delay, mode)
    gpio.mode(7, gpio.OUTPUT)
    status2 = 0
        
    tmr.alarm(3, delay, mode, f</message>
</record>
<record>
  <date>2016-11-11T02:11:46</date>
  <millis>1478801506516</millis>
  <sequence>1133</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>73</thread>
  <message>recv:&gt;</message>
</record>
<record>
  <date>2016-11-11T02:11:46</date>
  <millis>1478801506517</millis>
  <sequence>1134</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>73</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T02:11:46</date>
  <millis>1478801506532</millis>
  <sequence>1135</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:unction()
        if status2 == 0 then
            status2 = 1
            gpio.write(7, gpio.HIGH)
        else
            status2 = 0
            gpio.write(7, gpio.LOW)
        end 
    end)
      
end
return M
</message>
</record>
<record>
  <date>2016-11-11T02:11:46</date>
  <millis>1478801506559</millis>
  <sequence>1136</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>73</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:11:46</date>
  <millis>1478801506572</millis>
  <sequence>1137</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_cmd_close</message>
</record>
<record>
  <date>2016-11-11T02:11:46</date>
  <millis>1478801506584</millis>
  <sequence>1138</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>73</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;--D</message>
</record>
<record>
  <date>2016-11-11T02:11:46</date>
  <millis>1478801506586</millis>
  <sequence>1139</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>73</thread>
  <message>recv:one--&lt;CR&gt;&lt;LF&gt;&gt; &lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:11:46</date>
  <millis>1478801506609</millis>
  <sequence>1140</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:11:46</date>
  <millis>1478801506611</millis>
  <sequence>1141</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>73</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;&gt;</message>
</record>
<record>
  <date>2016-11-11T02:11:46</date>
  <millis>1478801506616</millis>
  <sequence>1142</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>73</thread>
  <message>recv: &lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T02:11:46</date>
  <millis>1478801506634</millis>
  <sequence>1143</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:dofile("control.lua")</message>
</record>
<record>
  <date>2016-11-11T02:11:46</date>
  <millis>1478801506636</millis>
  <sequence>1144</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>73</thread>
  <message>recv:dofi</message>
</record>
<record>
  <date>2016-11-11T02:11:46</date>
  <millis>1478801506641</millis>
  <sequence>1145</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>73</thread>
  <message>recv:le("control.lua")&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:11:46</date>
  <millis>1478801506696</millis>
  <sequence>1146</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>73</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:11:46</date>
  <millis>1478801506785</millis>
  <sequence>1147</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>73</thread>
  <message>Operation done. Duration = 889 ms</message>
</record>
<record>
  <date>2016-11-11T02:12:29</date>
  <millis>1478801549980</millis>
  <sequence>1148</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to load file control.lua</message>
</record>
<record>
  <date>2016-11-11T02:12:29</date>
  <millis>1478801549996</millis>
  <sequence>1149</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Loading control.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T02:12:29</date>
  <millis>1478801549998</millis>
  <sequence>1150</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>File reload: Success.</message>
</record>
<record>
  <date>2016-11-11T02:12:30</date>
  <millis>1478801550591</millis>
  <sequence>1151</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>We save known file control.lua</message>
</record>
<record>
  <date>2016-11-11T02:12:30</date>
  <millis>1478801550596</millis>
  <sequence>1152</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to saving file control.lua ...</message>
</record>
<record>
  <date>2016-11-11T02:12:30</date>
  <millis>1478801550598</millis>
  <sequence>1153</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Save file control.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T02:12:30</date>
  <millis>1478801550604</millis>
  <sequence>1154</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP: Try to save file to ESP...</message>
</record>
<record>
  <date>2016-11-11T02:12:30</date>
  <millis>1478801550609</millis>
  <sequence>1155</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Try to save file to ESP in Turbo Mode...</message>
</record>
<record>
  <date>2016-11-11T02:12:30</date>
  <millis>1478801550616</millis>
  <sequence>1156</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>DataTurboSender: start "Smart Mode"</message>
</record>
<record>
  <date>2016-11-11T02:12:30</date>
  <millis>1478801550619</millis>
  <sequence>1157</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Starting...</message>
</record>
<record>
  <date>2016-11-11T02:12:30</date>
  <millis>1478801550724</millis>
  <sequence>1158</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local FILE="control.lua" file.remove(FILE) file.open(FILE,"w+") uart.setup(0,115200,8,0,1,0)</message>
</record>
<record>
  <date>2016-11-11T02:12:30</date>
  <millis>1478801550727</millis>
  <sequence>1159</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>75</thread>
  <message>recv:local</message>
</record>
<record>
  <date>2016-11-11T02:12:30</date>
  <millis>1478801550736</millis>
  <sequence>1160</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>75</thread>
  <message>recv: FILE="control.lua" file.remove(FILE) file.open(FILE,"w+") uart.setup(0,115200,8,0,1,0)&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:12:30</date>
  <millis>1478801550958</millis>
  <sequence>1161</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>75</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:12:30</date>
  <millis>1478801550970</millis>
  <sequence>1162</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_Receiver=function(rcvBuf) if string.match(rcvBuf,"^ESP_cmd_close")==nil then file.write(string.gsub(rcvBuf, '\r', '')) uart.write(0, "&gt; ") else uart.on("data") </message>
</record>
<record>
  <date>2016-11-11T02:12:30</date>
  <millis>1478801550998</millis>
  <sequence>1163</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>75</thread>
  <message>recv:&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T02:12:31</date>
  <millis>1478801551010</millis>
  <sequence>1164</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:file.flush() file.close() FILE=nil rcvBuf=nil ESP_Receiver=nil uart.setup(0,115200,8,0,1,1) str="\r\n--Done--\r\n&gt; " print(str) str=nil collectgarbage() end end uart.on("data",'\r',ESP_Receiver,0)</message>
</record>
<record>
  <date>2016-11-11T02:12:31</date>
  <millis>1478801551050</millis>
  <sequence>1165</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>75</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:12:31</date>
  <millis>1478801551061</millis>
  <sequence>1166</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local M = {}

-- status pin = 0, alarm 1
-- relay pin = 6 and 7, alarm 2, 3

function M.status_LED(delay)
    gpio.mode(0, gpio.OUTPUT)
    status0 = 0
        
    tmr.alarm(1, delay, 1, function()
        if status0 == 0 then
            status0 = 1
  </message>
</record>
<record>
  <date>2016-11-11T02:12:31</date>
  <millis>1478801551090</millis>
  <sequence>1167</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>75</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:12:31</date>
  <millis>1478801551102</millis>
  <sequence>1168</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:          gpio.write(0, gpio.HIGH)
        else
            status0 = 0
            gpio.write(0, gpio.LOW)
        end 
    end)
      
end

-- One on/off relay
function M.relay_onoff()
    gpio.mode(6, gpio.OUTPUT)
    gpio.mode(7, gpio.OUTPUT)
    gpi</message>
</record>
<record>
  <date>2016-11-11T02:12:31</date>
  <millis>1478801551133</millis>
  <sequence>1169</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>75</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:12:31</date>
  <millis>1478801551146</millis>
  <sequence>1170</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:o.write(6, gpio.LOW)
    gpio.write(7, gpio.LOW)
        
    tmr.alarm(2, 1000, 0, function()
    gpio.write(6, gpio.HIGH)
    gpio.write(7, gpio.HIGH)
    end)
    --tmr.stop(2)

    tmr.alarm(3, 1000, 0, function()
    gpio.write(6, gpio.LOW)
    gpio</message>
</record>
<record>
  <date>2016-11-11T02:12:31</date>
  <millis>1478801551178</millis>
  <sequence>1171</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>75</thread>
  <message>recv:&gt;</message>
</record>
<record>
  <date>2016-11-11T02:12:31</date>
  <millis>1478801551180</millis>
  <sequence>1172</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>75</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T02:12:31</date>
  <millis>1478801551199</millis>
  <sequence>1173</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:.write(7, gpio.LOW)
    end)
    --tmr.stop(2)

end


-- loop relay
function M.relay_6(delay, mode)
    gpio.mode(6, gpio.OUTPUT)
    status1 = 0
        
    tmr.alarm(2, delay, mode, function()
        if status1 == 0 then
            status1 = 1
     </message>
</record>
<record>
  <date>2016-11-11T02:12:31</date>
  <millis>1478801551230</millis>
  <sequence>1174</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>75</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:12:31</date>
  <millis>1478801551242</millis>
  <sequence>1175</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:       gpio.write(6, gpio.HIGH)
        else
            status1 = 0
            gpio.write(6, gpio.LOW)
        end 
    end)
      
end


function M.relay_7(delay, mode)
    gpio.mode(7, gpio.OUTPUT)
    status2 = 0
        
    tmr.alarm(3, delay, mod</message>
</record>
<record>
  <date>2016-11-11T02:12:31</date>
  <millis>1478801551272</millis>
  <sequence>1176</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>75</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:12:31</date>
  <millis>1478801551285</millis>
  <sequence>1177</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:e, function()
        if status2 == 0 then
            status2 = 1
            gpio.write(7, gpio.HIGH)
        else
            status2 = 0
            gpio.write(7, gpio.LOW)
        end 
    end)
      
end
return M
</message>
</record>
<record>
  <date>2016-11-11T02:12:31</date>
  <millis>1478801551313</millis>
  <sequence>1178</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>75</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:12:31</date>
  <millis>1478801551324</millis>
  <sequence>1179</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_cmd_close</message>
</record>
<record>
  <date>2016-11-11T02:12:31</date>
  <millis>1478801551337</millis>
  <sequence>1180</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>75</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;-</message>
</record>
<record>
  <date>2016-11-11T02:12:31</date>
  <millis>1478801551337</millis>
  <sequence>1181</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>75</thread>
  <message>recv:-Done--&lt;CR&gt;&lt;LF&gt;&gt; &lt;CR&gt;</message>
</record>
<record>
  <date>2016-11-11T02:12:31</date>
  <millis>1478801551339</millis>
  <sequence>1182</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>75</thread>
  <message>recv:&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:12:31</date>
  <millis>1478801551355</millis>
  <sequence>1183</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:12:31</date>
  <millis>1478801551357</millis>
  <sequence>1184</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>75</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;&gt; &lt;CR&gt;</message>
</record>
<record>
  <date>2016-11-11T02:12:31</date>
  <millis>1478801551359</millis>
  <sequence>1185</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>75</thread>
  <message>recv:&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T02:12:31</date>
  <millis>1478801551418</millis>
  <sequence>1186</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>75</thread>
  <message>Operation done. Duration = 807 ms</message>
</record>
<record>
  <date>2016-11-11T02:12:32</date>
  <millis>1478801552276</millis>
  <sequence>1187</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:node.restart()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:12:32</date>
  <millis>1478801552277</millis>
  <sequence>1188</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with saved baud 115200...</message>
</record>
<record>
  <date>2016-11-11T02:12:32</date>
  <millis>1478801552339</millis>
  <sequence>1189</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success. Now we waiting for ESP reboot...</message>
</record>
<record>
  <date>2016-11-11T02:12:34</date>
  <millis>1478801554342</millis>
  <sequence>1190</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with baud 115200...</message>
</record>
<record>
  <date>2016-11-11T02:12:34</date>
  <millis>1478801554343</millis>
  <sequence>1191</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:print(uart.setup(0, 115200, 8, 0, 1, 1 ))&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:12:34</date>
  <millis>1478801554607</millis>
  <sequence>1192</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success.</message>
</record>
<record>
  <date>2016-11-11T02:12:34</date>
  <millis>1478801554649</millis>
  <sequence>1193</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:12:34</date>
  <millis>1478801554654</millis>
  <sequence>1194</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>76</thread>
  <message>
Communication with MCU established.</message>
</record>
<record>
  <date>2016-11-11T02:12:34</date>
  <millis>1478801554658</millis>
  <sequence>1195</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>76</thread>
  <message>sending:=node.heap()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:13:00</date>
  <millis>1478801580991</millis>
  <sequence>1196</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to load file control.lua</message>
</record>
<record>
  <date>2016-11-11T02:13:01</date>
  <millis>1478801581004</millis>
  <sequence>1197</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Loading control.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T02:13:01</date>
  <millis>1478801581005</millis>
  <sequence>1198</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>File reload: Success.</message>
</record>
<record>
  <date>2016-11-11T02:13:01</date>
  <millis>1478801581689</millis>
  <sequence>1199</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>We save known file control.lua</message>
</record>
<record>
  <date>2016-11-11T02:13:01</date>
  <millis>1478801581690</millis>
  <sequence>1200</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to saving file control.lua ...</message>
</record>
<record>
  <date>2016-11-11T02:13:01</date>
  <millis>1478801581693</millis>
  <sequence>1201</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Save file control.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T02:13:01</date>
  <millis>1478801581698</millis>
  <sequence>1202</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP: Try to save file to ESP...</message>
</record>
<record>
  <date>2016-11-11T02:13:01</date>
  <millis>1478801581699</millis>
  <sequence>1203</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Try to save file to ESP in Turbo Mode...</message>
</record>
<record>
  <date>2016-11-11T02:13:01</date>
  <millis>1478801581709</millis>
  <sequence>1204</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>DataTurboSender: start "Smart Mode"</message>
</record>
<record>
  <date>2016-11-11T02:13:01</date>
  <millis>1478801581709</millis>
  <sequence>1205</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Starting...</message>
</record>
<record>
  <date>2016-11-11T02:13:01</date>
  <millis>1478801581795</millis>
  <sequence>1206</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local FILE="control.lua" file.remove(FILE) file.open(FILE,"w+") uart.setup(0,115200,8,0,1,0)</message>
</record>
<record>
  <date>2016-11-11T02:13:01</date>
  <millis>1478801581797</millis>
  <sequence>1207</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>77</thread>
  <message>recv:lo</message>
</record>
<record>
  <date>2016-11-11T02:13:01</date>
  <millis>1478801581805</millis>
  <sequence>1208</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>77</thread>
  <message>recv:cal FILE="control.lua" file.remove(FILE) file.open(FILE,"w+") uart.setup(0,115200,8,0,1,0)&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:13:01</date>
  <millis>1478801581986</millis>
  <sequence>1209</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>77</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:13:02</date>
  <millis>1478801582000</millis>
  <sequence>1210</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_Receiver=function(rcvBuf) if string.match(rcvBuf,"^ESP_cmd_close")==nil then file.write(string.gsub(rcvBuf, '\r', '')) uart.write(0, "&gt; ") else uart.on("data") </message>
</record>
<record>
  <date>2016-11-11T02:13:02</date>
  <millis>1478801582027</millis>
  <sequence>1211</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>77</thread>
  <message>recv:&gt;</message>
</record>
<record>
  <date>2016-11-11T02:13:02</date>
  <millis>1478801582028</millis>
  <sequence>1212</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>77</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:13:02</date>
  <millis>1478801582042</millis>
  <sequence>1213</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:file.flush() file.close() FILE=nil rcvBuf=nil ESP_Receiver=nil uart.setup(0,115200,8,0,1,1) str="\r\n--Done--\r\n&gt; " print(str) str=nil collectgarbage() end end uart.on("data",'\r',ESP_Receiver,0)</message>
</record>
<record>
  <date>2016-11-11T02:13:02</date>
  <millis>1478801582081</millis>
  <sequence>1214</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>77</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:13:02</date>
  <millis>1478801582094</millis>
  <sequence>1215</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local M = {}

-- status pin = 0, alarm 1
-- relay pin = 6 and 7, alarm 2, 3

function M.status_LED(delay)
    gpio.mode(0, gpio.OUTPUT)
    status0 = 0
        
    tmr.alarm(1, delay, 1, function()
        if status0 == 0 then
            status0 = 1
  </message>
</record>
<record>
  <date>2016-11-11T02:13:02</date>
  <millis>1478801582123</millis>
  <sequence>1216</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>77</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:13:02</date>
  <millis>1478801582136</millis>
  <sequence>1217</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:          gpio.write(0, gpio.HIGH)
        else
            status0 = 0
            gpio.write(0, gpio.LOW)
        end 
    end)
      
end

-- One on/off relay
function M.relay_onoff()
    gpio.mode(6, gpio.OUTPUT)
    gpio.mode(7, gpio.OUTPUT)
    gpi</message>
</record>
<record>
  <date>2016-11-11T02:13:02</date>
  <millis>1478801582166</millis>
  <sequence>1218</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>77</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:13:02</date>
  <millis>1478801582179</millis>
  <sequence>1219</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:o.write(6, gpio.LOW)
    gpio.write(7, gpio.LOW)
        
    tmr.alarm(2, 10000, 0, function()
    gpio.write(6, gpio.HIGH)
    gpio.write(7, gpio.HIGH)
    end)
    --tmr.stop(2)

    tmr.alarm(3, 10000, 0, function()
    gpio.write(6, gpio.LOW)
    gp</message>
</record>
<record>
  <date>2016-11-11T02:13:02</date>
  <millis>1478801582210</millis>
  <sequence>1220</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>77</thread>
  <message>recv:&gt;</message>
</record>
<record>
  <date>2016-11-11T02:13:02</date>
  <millis>1478801582211</millis>
  <sequence>1221</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>77</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T02:13:02</date>
  <millis>1478801582229</millis>
  <sequence>1222</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:io.write(7, gpio.LOW)
    end)
    --tmr.stop(2)

end


-- loop relay
function M.relay_6(delay, mode)
    gpio.mode(6, gpio.OUTPUT)
    status1 = 0
        
    tmr.alarm(2, delay, mode, function()
        if status1 == 0 then
            status1 = 1
   </message>
</record>
<record>
  <date>2016-11-11T02:13:02</date>
  <millis>1478801582260</millis>
  <sequence>1223</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>77</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:13:02</date>
  <millis>1478801582272</millis>
  <sequence>1224</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:         gpio.write(6, gpio.HIGH)
        else
            status1 = 0
            gpio.write(6, gpio.LOW)
        end 
    end)
      
end


function M.relay_7(delay, mode)
    gpio.mode(7, gpio.OUTPUT)
    status2 = 0
        
    tmr.alarm(3, delay, m</message>
</record>
<record>
  <date>2016-11-11T02:13:02</date>
  <millis>1478801582302</millis>
  <sequence>1225</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>77</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:13:02</date>
  <millis>1478801582314</millis>
  <sequence>1226</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ode, function()
        if status2 == 0 then
            status2 = 1
            gpio.write(7, gpio.HIGH)
        else
            status2 = 0
            gpio.write(7, gpio.LOW)
        end 
    end)
      
end
return M
</message>
</record>
<record>
  <date>2016-11-11T02:13:02</date>
  <millis>1478801582342</millis>
  <sequence>1227</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>77</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:13:02</date>
  <millis>1478801582354</millis>
  <sequence>1228</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_cmd_close</message>
</record>
<record>
  <date>2016-11-11T02:13:02</date>
  <millis>1478801582366</millis>
  <sequence>1229</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>77</thread>
  <message>recv:&lt;CR&gt;</message>
</record>
<record>
  <date>2016-11-11T02:13:02</date>
  <millis>1478801582368</millis>
  <sequence>1230</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>77</thread>
  <message>recv:&lt;LF&gt;--Done--&lt;CR&gt;&lt;LF&gt;&gt; &lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:13:02</date>
  <millis>1478801582392</millis>
  <sequence>1231</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:13:02</date>
  <millis>1478801582394</millis>
  <sequence>1232</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>77</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T02:13:02</date>
  <millis>1478801582397</millis>
  <sequence>1233</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>77</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T02:13:02</date>
  <millis>1478801582470</millis>
  <sequence>1234</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>77</thread>
  <message>Operation done. Duration = 768 ms</message>
</record>
<record>
  <date>2016-11-11T02:13:06</date>
  <millis>1478801586347</millis>
  <sequence>1235</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:node.restart()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:13:06</date>
  <millis>1478801586350</millis>
  <sequence>1236</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with saved baud 115200...</message>
</record>
<record>
  <date>2016-11-11T02:13:06</date>
  <millis>1478801586412</millis>
  <sequence>1237</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success. Now we waiting for ESP reboot...</message>
</record>
<record>
  <date>2016-11-11T02:13:08</date>
  <millis>1478801588413</millis>
  <sequence>1238</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with baud 115200...</message>
</record>
<record>
  <date>2016-11-11T02:13:08</date>
  <millis>1478801588414</millis>
  <sequence>1239</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:print(uart.setup(0, 115200, 8, 0, 1, 1 ))&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:13:08</date>
  <millis>1478801588679</millis>
  <sequence>1240</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success.</message>
</record>
<record>
  <date>2016-11-11T02:13:08</date>
  <millis>1478801588714</millis>
  <sequence>1241</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:13:08</date>
  <millis>1478801588719</millis>
  <sequence>1242</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>78</thread>
  <message>
Communication with MCU established.</message>
</record>
<record>
  <date>2016-11-11T02:13:08</date>
  <millis>1478801588727</millis>
  <sequence>1243</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>78</thread>
  <message>sending:=node.heap()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:13:49</date>
  <millis>1478801629945</millis>
  <sequence>1244</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to load file control.lua</message>
</record>
<record>
  <date>2016-11-11T02:13:49</date>
  <millis>1478801629959</millis>
  <sequence>1245</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Loading control.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T02:13:49</date>
  <millis>1478801629960</millis>
  <sequence>1246</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>File reload: Success.</message>
</record>
<record>
  <date>2016-11-11T02:13:50</date>
  <millis>1478801630536</millis>
  <sequence>1247</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>We save known file control.lua</message>
</record>
<record>
  <date>2016-11-11T02:13:50</date>
  <millis>1478801630536</millis>
  <sequence>1248</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to saving file control.lua ...</message>
</record>
<record>
  <date>2016-11-11T02:13:50</date>
  <millis>1478801630540</millis>
  <sequence>1249</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Save file control.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T02:13:50</date>
  <millis>1478801630544</millis>
  <sequence>1250</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP: Try to save file to ESP...</message>
</record>
<record>
  <date>2016-11-11T02:13:50</date>
  <millis>1478801630546</millis>
  <sequence>1251</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Try to save file to ESP in Turbo Mode...</message>
</record>
<record>
  <date>2016-11-11T02:13:50</date>
  <millis>1478801630554</millis>
  <sequence>1252</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>DataTurboSender: start "Smart Mode"</message>
</record>
<record>
  <date>2016-11-11T02:13:50</date>
  <millis>1478801630557</millis>
  <sequence>1253</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Starting...</message>
</record>
<record>
  <date>2016-11-11T02:13:50</date>
  <millis>1478801630668</millis>
  <sequence>1254</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local FILE="control.lua" file.remove(FILE) file.open(FILE,"w+") uart.setup(0,115200,8,0,1,0)</message>
</record>
<record>
  <date>2016-11-11T02:13:50</date>
  <millis>1478801630670</millis>
  <sequence>1255</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>79</thread>
  <message>recv:loc</message>
</record>
<record>
  <date>2016-11-11T02:13:50</date>
  <millis>1478801630675</millis>
  <sequence>1256</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>79</thread>
  <message>recv:al FILE="control.lua" file.remove(FILE) file.open(FILE,"w+</message>
</record>
<record>
  <date>2016-11-11T02:13:50</date>
  <millis>1478801630681</millis>
  <sequence>1257</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>79</thread>
  <message>recv:") uart.setup(0,115200,8,0,1,0)&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:13:50</date>
  <millis>1478801630860</millis>
  <sequence>1258</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>79</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:13:50</date>
  <millis>1478801630876</millis>
  <sequence>1259</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_Receiver=function(rcvBuf) if string.match(rcvBuf,"^ESP_cmd_close")==nil then file.write(string.gsub(rcvBuf, '\r', '')) uart.write(0, "&gt; ") else uart.on("data") </message>
</record>
<record>
  <date>2016-11-11T02:13:50</date>
  <millis>1478801630903</millis>
  <sequence>1260</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>79</thread>
  <message>recv:&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T02:13:50</date>
  <millis>1478801630915</millis>
  <sequence>1261</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:file.flush() file.close() FILE=nil rcvBuf=nil ESP_Receiver=nil uart.setup(0,115200,8,0,1,1) str="\r\n--Done--\r\n&gt; " print(str) str=nil collectgarbage() end end uart.on("data",'\r',ESP_Receiver,0)</message>
</record>
<record>
  <date>2016-11-11T02:13:50</date>
  <millis>1478801630954</millis>
  <sequence>1262</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>79</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:13:50</date>
  <millis>1478801630966</millis>
  <sequence>1263</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local M = {}

-- status pin = 0, alarm 1
-- relay pin = 6 and 7, alarm 2, 3

function M.status_LED(delay)
    gpio.mode(0, gpio.OUTPUT)
    status0 = 0
        
    tmr.alarm(1, delay, 1, function()
        if status0 == 0 then
            status0 = 1
  </message>
</record>
<record>
  <date>2016-11-11T02:13:50</date>
  <millis>1478801630996</millis>
  <sequence>1264</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>79</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:13:51</date>
  <millis>1478801631008</millis>
  <sequence>1265</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:          gpio.write(0, gpio.HIGH)
        else
            status0 = 0
            gpio.write(0, gpio.LOW)
        end 
    end)
      
end

-- One on/off relay
function M.relay_onoff()
    gpio.mode(6, gpio.OUTPUT)
    gpio.mode(7, gpio.OUTPUT)
    gpi</message>
</record>
<record>
  <date>2016-11-11T02:13:51</date>
  <millis>1478801631039</millis>
  <sequence>1266</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>79</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:13:51</date>
  <millis>1478801631051</millis>
  <sequence>1267</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:o.write(6, gpio.LOW)
    gpio.write(7, gpio.LOW)
        
    tmr.alarm(2, 1000, 0, function()
    gpio.write(6, gpio.HIGH)
    gpio.write(7, gpio.HIGH)
    end)
    gpio.write(6, gpio.LOW)
    gpio.write(7, gpio.LOW)

end


-- loop relay
function M.rela</message>
</record>
<record>
  <date>2016-11-11T02:13:51</date>
  <millis>1478801631083</millis>
  <sequence>1268</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>79</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:13:51</date>
  <millis>1478801631095</millis>
  <sequence>1269</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:y_6(delay, mode)
    gpio.mode(6, gpio.OUTPUT)
    status1 = 0
        
    tmr.alarm(2, delay, mode, function()
        if status1 == 0 then
            status1 = 1
            gpio.write(6, gpio.HIGH)
        else
            status1 = 0
            gp</message>
</record>
<record>
  <date>2016-11-11T02:13:51</date>
  <millis>1478801631126</millis>
  <sequence>1270</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>79</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:13:51</date>
  <millis>1478801631138</millis>
  <sequence>1271</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:io.write(6, gpio.LOW)
        end 
    end)
      
end


function M.relay_7(delay, mode)
    gpio.mode(7, gpio.OUTPUT)
    status2 = 0
        
    tmr.alarm(3, delay, mode, function()
        if status2 == 0 then
            status2 = 1
            gpio</message>
</record>
<record>
  <date>2016-11-11T02:13:51</date>
  <millis>1478801631169</millis>
  <sequence>1272</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>79</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:13:51</date>
  <millis>1478801631181</millis>
  <sequence>1273</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:.write(7, gpio.HIGH)
        else
            status2 = 0
            gpio.write(7, gpio.LOW)
        end 
    end)
      
end
return M
</message>
</record>
<record>
  <date>2016-11-11T02:13:51</date>
  <millis>1478801631200</millis>
  <sequence>1274</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>79</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:13:51</date>
  <millis>1478801631212</millis>
  <sequence>1275</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_cmd_close</message>
</record>
<record>
  <date>2016-11-11T02:13:51</date>
  <millis>1478801631225</millis>
  <sequence>1276</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>79</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;-</message>
</record>
<record>
  <date>2016-11-11T02:13:51</date>
  <millis>1478801631226</millis>
  <sequence>1277</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>79</thread>
  <message>recv:-Done--&lt;CR&gt;&lt;LF&gt;&gt; &lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:13:51</date>
  <millis>1478801631243</millis>
  <sequence>1278</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:13:51</date>
  <millis>1478801631245</millis>
  <sequence>1279</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>79</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;&gt;</message>
</record>
<record>
  <date>2016-11-11T02:13:51</date>
  <millis>1478801631248</millis>
  <sequence>1280</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>79</thread>
  <message>recv: &lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T02:13:51</date>
  <millis>1478801631271</millis>
  <sequence>1281</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:dofile("control.lua")</message>
</record>
<record>
  <date>2016-11-11T02:13:51</date>
  <millis>1478801631272</millis>
  <sequence>1282</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>79</thread>
  <message>recv:dofi</message>
</record>
<record>
  <date>2016-11-11T02:13:51</date>
  <millis>1478801631278</millis>
  <sequence>1283</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>79</thread>
  <message>recv:le("control.lua")&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:13:51</date>
  <millis>1478801631331</millis>
  <sequence>1284</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>79</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:13:51</date>
  <millis>1478801631383</millis>
  <sequence>1285</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>79</thread>
  <message>Operation done. Duration = 836 ms</message>
</record>
<record>
  <date>2016-11-11T02:13:51</date>
  <millis>1478801631886</millis>
  <sequence>1286</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:node.restart()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:13:51</date>
  <millis>1478801631887</millis>
  <sequence>1287</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with saved baud 115200...</message>
</record>
<record>
  <date>2016-11-11T02:13:51</date>
  <millis>1478801631951</millis>
  <sequence>1288</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success. Now we waiting for ESP reboot...</message>
</record>
<record>
  <date>2016-11-11T02:13:53</date>
  <millis>1478801633953</millis>
  <sequence>1289</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with baud 115200...</message>
</record>
<record>
  <date>2016-11-11T02:13:53</date>
  <millis>1478801633954</millis>
  <sequence>1290</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:print(uart.setup(0, 115200, 8, 0, 1, 1 ))&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:13:54</date>
  <millis>1478801634220</millis>
  <sequence>1291</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success.</message>
</record>
<record>
  <date>2016-11-11T02:13:54</date>
  <millis>1478801634250</millis>
  <sequence>1292</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:13:54</date>
  <millis>1478801634253</millis>
  <sequence>1293</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>80</thread>
  <message>
Communication with MCU established.</message>
</record>
<record>
  <date>2016-11-11T02:13:54</date>
  <millis>1478801634259</millis>
  <sequence>1294</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>80</thread>
  <message>sending:=node.heap()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:14:31</date>
  <millis>1478801671833</millis>
  <sequence>1295</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to load file init.lua</message>
</record>
<record>
  <date>2016-11-11T02:14:31</date>
  <millis>1478801671846</millis>
  <sequence>1296</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Loading init.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T02:14:31</date>
  <millis>1478801671849</millis>
  <sequence>1297</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>File reload: Success.</message>
</record>
<record>
  <date>2016-11-11T02:14:32</date>
  <millis>1478801672508</millis>
  <sequence>1298</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>We save known file init.lua</message>
</record>
<record>
  <date>2016-11-11T02:14:32</date>
  <millis>1478801672508</millis>
  <sequence>1299</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to saving file init.lua ...</message>
</record>
<record>
  <date>2016-11-11T02:14:32</date>
  <millis>1478801672512</millis>
  <sequence>1300</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Save file init.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T02:14:32</date>
  <millis>1478801672517</millis>
  <sequence>1301</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP: Try to save file to ESP...</message>
</record>
<record>
  <date>2016-11-11T02:14:32</date>
  <millis>1478801672517</millis>
  <sequence>1302</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Try to save file to ESP in Turbo Mode...</message>
</record>
<record>
  <date>2016-11-11T02:14:32</date>
  <millis>1478801672524</millis>
  <sequence>1303</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>DataTurboSender: start "Smart Mode"</message>
</record>
<record>
  <date>2016-11-11T02:14:32</date>
  <millis>1478801672525</millis>
  <sequence>1304</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Starting...</message>
</record>
<record>
  <date>2016-11-11T02:14:32</date>
  <millis>1478801672655</millis>
  <sequence>1305</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local FILE="init.lua" file.remove(FILE) file.open(FILE,"w+") uart.setup(0,115200,8,0,1,0)</message>
</record>
<record>
  <date>2016-11-11T02:14:32</date>
  <millis>1478801672657</millis>
  <sequence>1306</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>81</thread>
  <message>recv:loc</message>
</record>
<record>
  <date>2016-11-11T02:14:32</date>
  <millis>1478801672661</millis>
  <sequence>1307</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>81</thread>
  <message>recv:al FILE="init.lua" file.remove(FILE) file.ope</message>
</record>
<record>
  <date>2016-11-11T02:14:32</date>
  <millis>1478801672663</millis>
  <sequence>1308</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>81</thread>
  <message>recv:n(FILE,"w+") uart.setup(0,1</message>
</record>
<record>
  <date>2016-11-11T02:14:32</date>
  <millis>1478801672667</millis>
  <sequence>1309</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>81</thread>
  <message>recv:15200,8,0,1,0)&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:14:32</date>
  <millis>1478801672945</millis>
  <sequence>1310</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>81</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:14:32</date>
  <millis>1478801672969</millis>
  <sequence>1311</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_Receiver=function(rcvBuf) if string.match(rcvBuf,"^ESP_cmd_close")==nil then file.write(string.gsub(rcvBuf, '\r', '')) uart.write(0, "&gt; ") else uart.on("data") </message>
</record>
<record>
  <date>2016-11-11T02:14:32</date>
  <millis>1478801672997</millis>
  <sequence>1312</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>81</thread>
  <message>recv:&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T02:14:33</date>
  <millis>1478801673010</millis>
  <sequence>1313</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:file.flush() file.close() FILE=nil rcvBuf=nil ESP_Receiver=nil uart.setup(0,115200,8,0,1,1) str="\r\n--Done--\r\n&gt; " print(str) str=nil collectgarbage() end end uart.on("data",'\r',ESP_Receiver,0)</message>
</record>
<record>
  <date>2016-11-11T02:14:33</date>
  <millis>1478801673049</millis>
  <sequence>1314</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>81</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:14:33</date>
  <millis>1478801673062</millis>
  <sequence>1315</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:misc = require "misc"
control = require "control"

-- timer 1 = status, 2,3 = relay 

files = file.list()  -- Lists all files in the file system.

misc.button_press()  -- button press interrupt io3
--misc.button_rst()

control.status_LED(300) -- blink st</message>
</record>
<record>
  <date>2016-11-11T02:14:33</date>
  <millis>1478801673092</millis>
  <sequence>1316</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>81</thread>
  <message>recv:&gt;</message>
</record>
<record>
  <date>2016-11-11T02:14:33</date>
  <millis>1478801673093</millis>
  <sequence>1317</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>81</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T02:14:33</date>
  <millis>1478801673108</millis>
  <sequence>1318</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:atus LED

wifi.setmode(wifi.STATION)
wifi.sta.autoconnect(0) -- auto connect

if files["config.txt"] then
    misc.con_read()
    --tmr.delay(1000000)
    print(" Config exist, user&gt;".. user .. ", pass&gt;" .. password .. ", now set station mode and connect</message>
</record>
<record>
  <date>2016-11-11T02:14:33</date>
  <millis>1478801673140</millis>
  <sequence>1319</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>81</thread>
  <message>recv:&gt;</message>
</record>
<record>
  <date>2016-11-11T02:14:33</date>
  <millis>1478801673141</millis>
  <sequence>1320</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>81</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T02:14:33</date>
  <millis>1478801673156</millis>
  <sequence>1321</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:")
    
    wifi.sta.config(user, password)
    wifi.sta.connect()
    
    tmr.alarm(4, 5000, 1, function() 
        if wifi.sta.getip()== nil then
            print("IP unavailable.. if info correct then wait, else reconfig by press BTN1 to clean")
   </message>
</record>
<record>
  <date>2016-11-11T02:14:33</date>
  <millis>1478801673187</millis>
  <sequence>1322</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>81</thread>
  <message>recv:&gt;</message>
</record>
<record>
  <date>2016-11-11T02:14:33</date>
  <millis>1478801673188</millis>
  <sequence>1323</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>81</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T02:14:33</date>
  <millis>1478801673201</millis>
  <sequence>1324</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:     else
            print("connected.. IP is: " .. wifi.sta.getip())
            tmr.stop(4)
            dofile("mqtt.lua")
        end
    end)
    
else
    --wifi.setmode(wifi.STATION)

    control.relay_onoff()
    --control.relay_6(2000)
    --con</message>
</record>
<record>
  <date>2016-11-11T02:14:33</date>
  <millis>1478801673232</millis>
  <sequence>1325</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>81</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:14:33</date>
  <millis>1478801673244</millis>
  <sequence>1326</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:trol.relay_7(2000)
    --control.relay_6(2000, 1)
    --control.relay_7(2000, 1)
    --if not tmr.alarm(5, 1000, tmr.ALARM_SINGLE, function() print("hey there") end) then print("whoopsie") end
    --tmr.stop(2)
    --tmr.stop(3)

    tmr.alarm(4, 5000, 1</message>
</record>
<record>
  <date>2016-11-11T02:14:33</date>
  <millis>1478801673274</millis>
  <sequence>1327</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>81</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:14:33</date>
  <millis>1478801673287</millis>
  <sequence>1328</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:, function() 
        if wifi.sta.getip()== nil then
            print("  Config file NOT exists, starting smartconfig..")
            wifi.startsmart(0,
            function(ssid, password)
            print(string.format("Success. SSID: %s ; PASSWORD: </message>
</record>
<record>
  <date>2016-11-11T02:14:33</date>
  <millis>1478801673317</millis>
  <sequence>1329</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>81</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:14:33</date>
  <millis>1478801673329</millis>
  <sequence>1330</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:%s", ssid, password)) 
            misc.con_write(ssid, password)
            end)
        else 
            tmr.stop(1)

            tmr.stop(4)
            print("Config done, IP is "..wifi.sta.getip())
            wifi.stopsmart()

            --misc.</message>
</record>
<record>
  <date>2016-11-11T02:14:33</date>
  <millis>1478801673360</millis>
  <sequence>1331</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>81</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:14:33</date>
  <millis>1478801673371</millis>
  <sequence>1332</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:con_read()
            --print (user .. password)
            dofile("mqtt.lua")
        end
    end)
        

end
</message>
</record>
<record>
  <date>2016-11-11T02:14:33</date>
  <millis>1478801673389</millis>
  <sequence>1333</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>81</thread>
  <message>recv:&gt;</message>
</record>
<record>
  <date>2016-11-11T02:14:33</date>
  <millis>1478801673390</millis>
  <sequence>1334</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>81</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T02:14:33</date>
  <millis>1478801673406</millis>
  <sequence>1335</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_cmd_close</message>
</record>
<record>
  <date>2016-11-11T02:14:33</date>
  <millis>1478801673419</millis>
  <sequence>1336</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>81</thread>
  <message>recv:&lt;CR&gt;</message>
</record>
<record>
  <date>2016-11-11T02:14:33</date>
  <millis>1478801673419</millis>
  <sequence>1337</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>81</thread>
  <message>recv:&lt;LF&gt;--Done--&lt;CR&gt;&lt;LF&gt;&gt;</message>
</record>
<record>
  <date>2016-11-11T02:14:33</date>
  <millis>1478801673421</millis>
  <sequence>1338</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>81</thread>
  <message>recv: &lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:14:33</date>
  <millis>1478801673436</millis>
  <sequence>1339</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:14:33</date>
  <millis>1478801673438</millis>
  <sequence>1340</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>81</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;&gt;</message>
</record>
<record>
  <date>2016-11-11T02:14:33</date>
  <millis>1478801673443</millis>
  <sequence>1341</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>81</thread>
  <message>recv: &lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T02:14:33</date>
  <millis>1478801673461</millis>
  <sequence>1342</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:dofile("init.lua")</message>
</record>
<record>
  <date>2016-11-11T02:14:33</date>
  <millis>1478801673464</millis>
  <sequence>1343</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>81</thread>
  <message>recv:dofil</message>
</record>
<record>
  <date>2016-11-11T02:14:33</date>
  <millis>1478801673467</millis>
  <sequence>1344</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>81</thread>
  <message>recv:e("init.lua")&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:14:33</date>
  <millis>1478801673594</millis>
  <sequence>1345</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>81</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:14:33</date>
  <millis>1478801673667</millis>
  <sequence>1346</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>81</thread>
  <message>Operation done. Duration = 1149 ms</message>
</record>
<record>
  <date>2016-11-11T02:14:54</date>
  <millis>1478801694029</millis>
  <sequence>1347</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to load file init.lua</message>
</record>
<record>
  <date>2016-11-11T02:14:54</date>
  <millis>1478801694040</millis>
  <sequence>1348</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Loading init.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T02:14:54</date>
  <millis>1478801694041</millis>
  <sequence>1349</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>File reload: Success.</message>
</record>
<record>
  <date>2016-11-11T02:14:55</date>
  <millis>1478801695405</millis>
  <sequence>1350</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>We save known file init.lua</message>
</record>
<record>
  <date>2016-11-11T02:14:55</date>
  <millis>1478801695406</millis>
  <sequence>1351</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to saving file init.lua ...</message>
</record>
<record>
  <date>2016-11-11T02:14:55</date>
  <millis>1478801695409</millis>
  <sequence>1352</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Save file init.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T02:14:55</date>
  <millis>1478801695414</millis>
  <sequence>1353</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP: Try to save file to ESP...</message>
</record>
<record>
  <date>2016-11-11T02:14:55</date>
  <millis>1478801695416</millis>
  <sequence>1354</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Try to save file to ESP in Turbo Mode...</message>
</record>
<record>
  <date>2016-11-11T02:14:55</date>
  <millis>1478801695426</millis>
  <sequence>1355</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>DataTurboSender: start "Smart Mode"</message>
</record>
<record>
  <date>2016-11-11T02:14:55</date>
  <millis>1478801695427</millis>
  <sequence>1356</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Starting...</message>
</record>
<record>
  <date>2016-11-11T02:14:55</date>
  <millis>1478801695528</millis>
  <sequence>1357</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local FILE="init.lua" file.remove(FILE) file.open(FILE,"w+") uart.setup(0,115200,8,0,1,0)</message>
</record>
<record>
  <date>2016-11-11T02:14:55</date>
  <millis>1478801695530</millis>
  <sequence>1358</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>83</thread>
  <message>recv:lo</message>
</record>
<record>
  <date>2016-11-11T02:14:55</date>
  <millis>1478801695536</millis>
  <sequence>1359</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>83</thread>
  <message>recv:cal FILE="init.lua" file.remove(FILE) file.open(FILE,"w+") uart.set</message>
</record>
<record>
  <date>2016-11-11T02:14:55</date>
  <millis>1478801695537</millis>
  <sequence>1360</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>83</thread>
  <message>recv:up(0,115200,</message>
</record>
<record>
  <date>2016-11-11T02:14:55</date>
  <millis>1478801695539</millis>
  <sequence>1361</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>83</thread>
  <message>recv:8,0,1,0)&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:14:55</date>
  <millis>1478801695718</millis>
  <sequence>1362</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>83</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:14:55</date>
  <millis>1478801695732</millis>
  <sequence>1363</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_Receiver=function(rcvBuf) if string.match(rcvBuf,"^ESP_cmd_close")==nil then file.write(string.gsub(rcvBuf, '\r', '')) uart.write(0, "&gt; ") else uart.on("data") </message>
</record>
<record>
  <date>2016-11-11T02:14:55</date>
  <millis>1478801695760</millis>
  <sequence>1364</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>83</thread>
  <message>recv:&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T02:14:55</date>
  <millis>1478801695773</millis>
  <sequence>1365</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:file.flush() file.close() FILE=nil rcvBuf=nil ESP_Receiver=nil uart.setup(0,115200,8,0,1,1) str="\r\n--Done--\r\n&gt; " print(str) str=nil collectgarbage() end end uart.on("data",'\r',ESP_Receiver,0)</message>
</record>
<record>
  <date>2016-11-11T02:14:55</date>
  <millis>1478801695813</millis>
  <sequence>1366</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>83</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:14:55</date>
  <millis>1478801695825</millis>
  <sequence>1367</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:misc = require "misc"
control = require "control"

-- timer 1 = status, 2,3 = relay 

files = file.list()  -- Lists all files in the file system.

misc.button_press()  -- button press interrupt io3
--misc.button_rst()

control.status_LED(300) -- blink st</message>
</record>
<record>
  <date>2016-11-11T02:14:55</date>
  <millis>1478801695854</millis>
  <sequence>1368</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>83</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:14:55</date>
  <millis>1478801695866</millis>
  <sequence>1369</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:atus LED

wifi.setmode(wifi.STATION)
wifi.sta.autoconnect(0) -- auto connect

if files["config.txt"] then
    misc.con_read()
    --tmr.delay(1000000)
    print(" Config exist, user&gt;".. user .. ", pass&gt;" .. password .. ", now set station mode and connect</message>
</record>
<record>
  <date>2016-11-11T02:14:55</date>
  <millis>1478801695897</millis>
  <sequence>1370</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>83</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:14:55</date>
  <millis>1478801695918</millis>
  <sequence>1371</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:")
    
    wifi.sta.config(user, password)
    wifi.sta.connect()
    
    tmr.alarm(4, 5000, 1, function() 
        if wifi.sta.getip()== nil then
            print("IP unavailable.. if info correct then wait, else reconfig by press BTN1 to clean")
   </message>
</record>
<record>
  <date>2016-11-11T02:14:55</date>
  <millis>1478801695949</millis>
  <sequence>1372</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>83</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:14:55</date>
  <millis>1478801695962</millis>
  <sequence>1373</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:     else
            print("connected.. IP is: " .. wifi.sta.getip())
            tmr.stop(4)
            dofile("mqtt.lua")
        end
    end)
    
else
    --wifi.setmode(wifi.STATION)

    control.relay_onoff()
    control.relay_onoff()
    --contr</message>
</record>
<record>
  <date>2016-11-11T02:14:55</date>
  <millis>1478801695995</millis>
  <sequence>1374</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>83</thread>
  <message>recv:&gt;</message>
</record>
<record>
  <date>2016-11-11T02:14:55</date>
  <millis>1478801695996</millis>
  <sequence>1375</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>83</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T02:14:56</date>
  <millis>1478801696010</millis>
  <sequence>1376</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ol.relay_6(2000)
    --control.relay_7(2000)
    --control.relay_6(2000, 1)
    --control.relay_7(2000, 1)
    --if not tmr.alarm(5, 1000, tmr.ALARM_SINGLE, function() print("hey there") end) then print("whoopsie") end
    --tmr.stop(2)
    --tmr.stop(3)</message>
</record>
<record>
  <date>2016-11-11T02:14:56</date>
  <millis>1478801696040</millis>
  <sequence>1377</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>83</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:14:56</date>
  <millis>1478801696052</millis>
  <sequence>1378</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:

    tmr.alarm(4, 5000, 1, function() 
        if wifi.sta.getip()== nil then
            print("  Config file NOT exists, starting smartconfig..")
            wifi.startsmart(0,
            function(ssid, password)
            print(string.format("Succ</message>
</record>
<record>
  <date>2016-11-11T02:14:56</date>
  <millis>1478801696083</millis>
  <sequence>1379</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>83</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:14:56</date>
  <millis>1478801696096</millis>
  <sequence>1380</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ess. SSID: %s ; PASSWORD: %s", ssid, password)) 
            misc.con_write(ssid, password)
            end)
        else 
            tmr.stop(1)

            tmr.stop(4)
            print("Config done, IP is "..wifi.sta.getip())
            wifi.stopsm</message>
</record>
<record>
  <date>2016-11-11T02:14:56</date>
  <millis>1478801696127</millis>
  <sequence>1381</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>83</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:14:56</date>
  <millis>1478801696140</millis>
  <sequence>1382</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:art()

            --misc.con_read()
            --print (user .. password)
            dofile("mqtt.lua")
        end
    end)
        

end
</message>
</record>
<record>
  <date>2016-11-11T02:14:56</date>
  <millis>1478801696162</millis>
  <sequence>1383</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>83</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:14:56</date>
  <millis>1478801696177</millis>
  <sequence>1384</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_cmd_close</message>
</record>
<record>
  <date>2016-11-11T02:14:56</date>
  <millis>1478801696190</millis>
  <sequence>1385</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>83</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;--Do</message>
</record>
<record>
  <date>2016-11-11T02:14:56</date>
  <millis>1478801696192</millis>
  <sequence>1386</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>83</thread>
  <message>recv:ne--&lt;CR&gt;&lt;LF&gt;&gt; &lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:14:56</date>
  <millis>1478801696221</millis>
  <sequence>1387</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:14:56</date>
  <millis>1478801696223</millis>
  <sequence>1388</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>83</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;&gt;</message>
</record>
<record>
  <date>2016-11-11T02:14:56</date>
  <millis>1478801696227</millis>
  <sequence>1389</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>83</thread>
  <message>recv: &lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T02:14:56</date>
  <millis>1478801696255</millis>
  <sequence>1390</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:dofile("init.lua")</message>
</record>
<record>
  <date>2016-11-11T02:14:56</date>
  <millis>1478801696257</millis>
  <sequence>1391</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>83</thread>
  <message>recv:dof</message>
</record>
<record>
  <date>2016-11-11T02:14:56</date>
  <millis>1478801696259</millis>
  <sequence>1392</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>83</thread>
  <message>recv:ile("init.lua")&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:14:56</date>
  <millis>1478801696386</millis>
  <sequence>1393</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>83</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:14:56</date>
  <millis>1478801696452</millis>
  <sequence>1394</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>83</thread>
  <message>Operation done. Duration = 1031 ms</message>
</record>
<record>
  <date>2016-11-11T02:15:30</date>
  <millis>1478801730516</millis>
  <sequence>1395</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to load file control.lua</message>
</record>
<record>
  <date>2016-11-11T02:15:30</date>
  <millis>1478801730545</millis>
  <sequence>1396</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Loading control.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T02:15:30</date>
  <millis>1478801730545</millis>
  <sequence>1397</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>File reload: Success.</message>
</record>
<record>
  <date>2016-11-11T02:15:31</date>
  <millis>1478801731251</millis>
  <sequence>1398</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>We save known file control.lua</message>
</record>
<record>
  <date>2016-11-11T02:15:31</date>
  <millis>1478801731252</millis>
  <sequence>1399</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to saving file control.lua ...</message>
</record>
<record>
  <date>2016-11-11T02:15:31</date>
  <millis>1478801731256</millis>
  <sequence>1400</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Save file control.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T02:15:31</date>
  <millis>1478801731271</millis>
  <sequence>1401</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP: Try to save file to ESP...</message>
</record>
<record>
  <date>2016-11-11T02:15:31</date>
  <millis>1478801731271</millis>
  <sequence>1402</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Try to save file to ESP in Turbo Mode...</message>
</record>
<record>
  <date>2016-11-11T02:15:31</date>
  <millis>1478801731281</millis>
  <sequence>1403</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>DataTurboSender: start "Smart Mode"</message>
</record>
<record>
  <date>2016-11-11T02:15:31</date>
  <millis>1478801731281</millis>
  <sequence>1404</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Starting...</message>
</record>
<record>
  <date>2016-11-11T02:15:31</date>
  <millis>1478801731387</millis>
  <sequence>1405</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>85</thread>
  <message>recv:  C</message>
</record>
<record>
  <date>2016-11-11T02:15:31</date>
  <millis>1478801731392</millis>
  <sequence>1406</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local FILE="control.lua" file.remove(FILE) file.open(FILE,"w+") uart.setup(0,115200,8,0,1,0)</message>
</record>
<record>
  <date>2016-11-11T02:15:31</date>
  <millis>1478801731392</millis>
  <sequence>1407</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>85</thread>
  <message>recv:onfig file NOT exists, starting smartconfig..&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:15:31</date>
  <millis>1478801731396</millis>
  <sequence>1408</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>85</thread>
  <message>recv:loca</message>
</record>
<record>
  <date>2016-11-11T02:15:31</date>
  <millis>1478801731400</millis>
  <sequence>1409</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>85</thread>
  <message>recv:l FILE="control.lua" file.remove(FIL</message>
</record>
<record>
  <date>2016-11-11T02:15:31</date>
  <millis>1478801731411</millis>
  <sequence>1410</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>85</thread>
  <message>recv:E) file.open(FILE,"w+") uart.setup(0,115200,8,0,1,0)&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:15:31</date>
  <millis>1478801731676</millis>
  <sequence>1411</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>85</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:15:31</date>
  <millis>1478801731692</millis>
  <sequence>1412</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_Receiver=function(rcvBuf) if string.match(rcvBuf,"^ESP_cmd_close")==nil then file.write(string.gsub(rcvBuf, '\r', '')) uart.write(0, "&gt; ") else uart.on("data") </message>
</record>
<record>
  <date>2016-11-11T02:15:31</date>
  <millis>1478801731721</millis>
  <sequence>1413</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>85</thread>
  <message>recv:&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T02:15:31</date>
  <millis>1478801731734</millis>
  <sequence>1414</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:file.flush() file.close() FILE=nil rcvBuf=nil ESP_Receiver=nil uart.setup(0,115200,8,0,1,1) str="\r\n--Done--\r\n&gt; " print(str) str=nil collectgarbage() end end uart.on("data",'\r',ESP_Receiver,0)</message>
</record>
<record>
  <date>2016-11-11T02:15:31</date>
  <millis>1478801731774</millis>
  <sequence>1415</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>85</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:15:31</date>
  <millis>1478801731785</millis>
  <sequence>1416</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local M = {}

-- status pin = 0, alarm 1
-- relay pin = 6 and 7, alarm 2, 3

function M.status_LED(delay)
    gpio.mode(0, gpio.OUTPUT)
    status0 = 0
        
    tmr.alarm(1, delay, 1, function()
        if status0 == 0 then
            status0 = 1
  </message>
</record>
<record>
  <date>2016-11-11T02:15:31</date>
  <millis>1478801731817</millis>
  <sequence>1417</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>85</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:15:31</date>
  <millis>1478801731835</millis>
  <sequence>1418</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:          gpio.write(0, gpio.HIGH)
        else
            status0 = 0
            gpio.write(0, gpio.LOW)
        end 
    end)
      
end

-- One on/off relay
function M.relay_onoff()
    gpio.mode(6, gpio.OUTPUT)
    gpio.mode(7, gpio.OUTPUT)
    gpi</message>
</record>
<record>
  <date>2016-11-11T02:15:31</date>
  <millis>1478801731867</millis>
  <sequence>1419</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>85</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:15:31</date>
  <millis>1478801731880</millis>
  <sequence>1420</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:o.write(6, gpio.LOW)
    gpio.write(7, gpio.LOW)
        
    tmr.alarm(2, 1000, tmr.ALARM_SINGLE, function()
    gpio.write(6, gpio.HIGH)
    gpio.write(7, gpio.HIGH)
    end)
    tmr.stop(2)
    gpio.write(6, gpio.LOW)
    gpio.write(7, gpio.LOW)

end
</message>
</record>
<record>
  <date>2016-11-11T02:15:31</date>
  <millis>1478801731911</millis>
  <sequence>1421</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>85</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:15:31</date>
  <millis>1478801731923</millis>
  <sequence>1422</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:

-- loop relay
function M.relay_6(delay, mode)
    gpio.mode(6, gpio.OUTPUT)
    status1 = 0
        
    tmr.alarm(2, delay, mode, function()
        if status1 == 0 then
            status1 = 1
            gpio.write(6, gpio.HIGH)
        else
       </message>
</record>
<record>
  <date>2016-11-11T02:15:31</date>
  <millis>1478801731954</millis>
  <sequence>1423</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>85</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:15:31</date>
  <millis>1478801731965</millis>
  <sequence>1424</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:     status1 = 0
            gpio.write(6, gpio.LOW)
        end 
    end)
      
end


function M.relay_7(delay, mode)
    gpio.mode(7, gpio.OUTPUT)
    status2 = 0
        
    tmr.alarm(3, delay, mode, function()
        if status2 == 0 then
         </message>
</record>
<record>
  <date>2016-11-11T02:15:31</date>
  <millis>1478801731996</millis>
  <sequence>1425</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>85</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:15:32</date>
  <millis>1478801732008</millis>
  <sequence>1426</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:   status2 = 1
            gpio.write(7, gpio.HIGH)
        else
            status2 = 0
            gpio.write(7, gpio.LOW)
        end 
    end)
      
end
return M
</message>
</record>
<record>
  <date>2016-11-11T02:15:32</date>
  <millis>1478801732031</millis>
  <sequence>1427</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>85</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:15:32</date>
  <millis>1478801732042</millis>
  <sequence>1428</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_cmd_close</message>
</record>
<record>
  <date>2016-11-11T02:15:32</date>
  <millis>1478801732055</millis>
  <sequence>1429</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>85</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;-</message>
</record>
<record>
  <date>2016-11-11T02:15:32</date>
  <millis>1478801732056</millis>
  <sequence>1430</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>85</thread>
  <message>recv:-Done--&lt;CR&gt;&lt;LF&gt;&gt; &lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:15:32</date>
  <millis>1478801732077</millis>
  <sequence>1431</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:15:32</date>
  <millis>1478801732079</millis>
  <sequence>1432</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>85</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;&gt;</message>
</record>
<record>
  <date>2016-11-11T02:15:32</date>
  <millis>1478801732084</millis>
  <sequence>1433</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>85</thread>
  <message>recv: &lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T02:15:32</date>
  <millis>1478801732108</millis>
  <sequence>1434</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:dofile("control.lua")</message>
</record>
<record>
  <date>2016-11-11T02:15:32</date>
  <millis>1478801732110</millis>
  <sequence>1435</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>85</thread>
  <message>recv:dofi</message>
</record>
<record>
  <date>2016-11-11T02:15:32</date>
  <millis>1478801732114</millis>
  <sequence>1436</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>85</thread>
  <message>recv:le("control.lua")&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:15:32</date>
  <millis>1478801732168</millis>
  <sequence>1437</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>85</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:15:32</date>
  <millis>1478801732269</millis>
  <sequence>1438</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>85</thread>
  <message>Operation done. Duration = 996 ms</message>
</record>
<record>
  <date>2016-11-11T02:15:34</date>
  <millis>1478801734990</millis>
  <sequence>1439</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:node.restart()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:15:34</date>
  <millis>1478801734991</millis>
  <sequence>1440</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with saved baud 115200...</message>
</record>
<record>
  <date>2016-11-11T02:15:35</date>
  <millis>1478801735054</millis>
  <sequence>1441</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success. Now we waiting for ESP reboot...</message>
</record>
<record>
  <date>2016-11-11T02:15:37</date>
  <millis>1478801737056</millis>
  <sequence>1442</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with baud 115200...</message>
</record>
<record>
  <date>2016-11-11T02:15:37</date>
  <millis>1478801737057</millis>
  <sequence>1443</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:print(uart.setup(0, 115200, 8, 0, 1, 1 ))&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:15:37</date>
  <millis>1478801737323</millis>
  <sequence>1444</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success.</message>
</record>
<record>
  <date>2016-11-11T02:15:37</date>
  <millis>1478801737347</millis>
  <sequence>1445</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:15:37</date>
  <millis>1478801737350</millis>
  <sequence>1446</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>86</thread>
  <message>
Communication with MCU established.</message>
</record>
<record>
  <date>2016-11-11T02:15:37</date>
  <millis>1478801737353</millis>
  <sequence>1447</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>86</thread>
  <message>sending:=node.heap()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:16:12</date>
  <millis>1478801772280</millis>
  <sequence>1448</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to load file control.lua</message>
</record>
<record>
  <date>2016-11-11T02:16:12</date>
  <millis>1478801772326</millis>
  <sequence>1449</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Loading control.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T02:16:12</date>
  <millis>1478801772328</millis>
  <sequence>1450</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>File reload: Success.</message>
</record>
<record>
  <date>2016-11-11T02:16:13</date>
  <millis>1478801773077</millis>
  <sequence>1451</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>We save known file control.lua</message>
</record>
<record>
  <date>2016-11-11T02:16:13</date>
  <millis>1478801773078</millis>
  <sequence>1452</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to saving file control.lua ...</message>
</record>
<record>
  <date>2016-11-11T02:16:13</date>
  <millis>1478801773082</millis>
  <sequence>1453</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Save file control.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T02:16:13</date>
  <millis>1478801773096</millis>
  <sequence>1454</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP: Try to save file to ESP...</message>
</record>
<record>
  <date>2016-11-11T02:16:13</date>
  <millis>1478801773097</millis>
  <sequence>1455</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Try to save file to ESP in Turbo Mode...</message>
</record>
<record>
  <date>2016-11-11T02:16:13</date>
  <millis>1478801773106</millis>
  <sequence>1456</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>DataTurboSender: start "Smart Mode"</message>
</record>
<record>
  <date>2016-11-11T02:16:13</date>
  <millis>1478801773107</millis>
  <sequence>1457</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Starting...</message>
</record>
<record>
  <date>2016-11-11T02:16:13</date>
  <millis>1478801773208</millis>
  <sequence>1458</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local FILE="control.lua" file.remove(FILE) file.open(FILE,"w+") uart.setup(0,115200,8,0,1,0)</message>
</record>
<record>
  <date>2016-11-11T02:16:13</date>
  <millis>1478801773210</millis>
  <sequence>1459</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>87</thread>
  <message>recv:loca</message>
</record>
<record>
  <date>2016-11-11T02:16:13</date>
  <millis>1478801773217</millis>
  <sequence>1460</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>87</thread>
  <message>recv:l FILE="control.lua" file.remove(FILE) file.open(FILE,"w+") uart.setup(0,11</message>
</record>
<record>
  <date>2016-11-11T02:16:13</date>
  <millis>1478801773221</millis>
  <sequence>1461</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>87</thread>
  <message>recv:5200,8,0,1,0)&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:16:13</date>
  <millis>1478801773499</millis>
  <sequence>1462</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>87</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:16:13</date>
  <millis>1478801773515</millis>
  <sequence>1463</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_Receiver=function(rcvBuf) if string.match(rcvBuf,"^ESP_cmd_close")==nil then file.write(string.gsub(rcvBuf, '\r', '')) uart.write(0, "&gt; ") else uart.on("data") </message>
</record>
<record>
  <date>2016-11-11T02:16:13</date>
  <millis>1478801773544</millis>
  <sequence>1464</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>87</thread>
  <message>recv:&gt;&gt;</message>
</record>
<record>
  <date>2016-11-11T02:16:13</date>
  <millis>1478801773546</millis>
  <sequence>1465</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>87</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T02:16:13</date>
  <millis>1478801773562</millis>
  <sequence>1466</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:file.flush() file.close() FILE=nil rcvBuf=nil ESP_Receiver=nil uart.setup(0,115200,8,0,1,1) str="\r\n--Done--\r\n&gt; " print(str) str=nil collectgarbage() end end uart.on("data",'\r',ESP_Receiver,0)</message>
</record>
<record>
  <date>2016-11-11T02:16:13</date>
  <millis>1478801773601</millis>
  <sequence>1467</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>87</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:16:13</date>
  <millis>1478801773618</millis>
  <sequence>1468</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local M = {}

-- status pin = 0, alarm 1
-- relay pin = 6 and 7, alarm 2, 3

function M.status_LED(delay)
    gpio.mode(0, gpio.OUTPUT)
    status0 = 0
        
    tmr.alarm(1, delay, 1, function()
        if status0 == 0 then
            status0 = 1
  </message>
</record>
<record>
  <date>2016-11-11T02:16:13</date>
  <millis>1478801773648</millis>
  <sequence>1469</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>87</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:16:13</date>
  <millis>1478801773660</millis>
  <sequence>1470</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:          gpio.write(0, gpio.HIGH)
        else
            status0 = 0
            gpio.write(0, gpio.LOW)
        end 
    end)
      
end

-- One on/off relay
function M.relay_onoff()
    gpio.mode(6, gpio.OUTPUT)
    gpio.mode(7, gpio.OUTPUT)
    gpi</message>
</record>
<record>
  <date>2016-11-11T02:16:13</date>
  <millis>1478801773692</millis>
  <sequence>1471</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>87</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:16:13</date>
  <millis>1478801773707</millis>
  <sequence>1472</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:o.write(6, gpio.LOW)
    gpio.write(7, gpio.LOW)
        
    tmr.alarm(2, 1000, tmr.ALARM_SINGLE, function()
    gpio.write(6, gpio.HIGH)
    gpio.write(7, gpio.HIGH)
    end)
    --tmr.stop(2)
    gpio.write(6, gpio.LOW)
    gpio.write(7, gpio.LOW)

en</message>
</record>
<record>
  <date>2016-11-11T02:16:13</date>
  <millis>1478801773739</millis>
  <sequence>1473</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>87</thread>
  <message>recv:&gt;</message>
</record>
<record>
  <date>2016-11-11T02:16:13</date>
  <millis>1478801773741</millis>
  <sequence>1474</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>87</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T02:16:13</date>
  <millis>1478801773756</millis>
  <sequence>1475</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:d


-- loop relay
function M.relay_6(delay, mode)
    gpio.mode(6, gpio.OUTPUT)
    status1 = 0
        
    tmr.alarm(2, delay, mode, function()
        if status1 == 0 then
            status1 = 1
            gpio.write(6, gpio.HIGH)
        else
     </message>
</record>
<record>
  <date>2016-11-11T02:16:13</date>
  <millis>1478801773787</millis>
  <sequence>1476</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>87</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:16:13</date>
  <millis>1478801773800</millis>
  <sequence>1477</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:       status1 = 0
            gpio.write(6, gpio.LOW)
        end 
    end)
      
end


function M.relay_7(delay, mode)
    gpio.mode(7, gpio.OUTPUT)
    status2 = 0
        
    tmr.alarm(3, delay, mode, function()
        if status2 == 0 then
       </message>
</record>
<record>
  <date>2016-11-11T02:16:13</date>
  <millis>1478801773831</millis>
  <sequence>1478</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>87</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:16:13</date>
  <millis>1478801773843</millis>
  <sequence>1479</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:     status2 = 1
            gpio.write(7, gpio.HIGH)
        else
            status2 = 0
            gpio.write(7, gpio.LOW)
        end 
    end)
      
end
return M
</message>
</record>
<record>
  <date>2016-11-11T02:16:13</date>
  <millis>1478801773866</millis>
  <sequence>1480</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>87</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:16:13</date>
  <millis>1478801773878</millis>
  <sequence>1481</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_cmd_close</message>
</record>
<record>
  <date>2016-11-11T02:16:13</date>
  <millis>1478801773890</millis>
  <sequence>1482</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>87</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;-</message>
</record>
<record>
  <date>2016-11-11T02:16:13</date>
  <millis>1478801773891</millis>
  <sequence>1483</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>87</thread>
  <message>recv:-Done--&lt;CR&gt;&lt;LF&gt;&gt; &lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:16:13</date>
  <millis>1478801773908</millis>
  <sequence>1484</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:16:13</date>
  <millis>1478801773910</millis>
  <sequence>1485</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>87</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;&gt;</message>
</record>
<record>
  <date>2016-11-11T02:16:13</date>
  <millis>1478801773912</millis>
  <sequence>1486</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>87</thread>
  <message>recv: &lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T02:16:13</date>
  <millis>1478801773936</millis>
  <sequence>1487</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:dofile("control.lua")</message>
</record>
<record>
  <date>2016-11-11T02:16:13</date>
  <millis>1478801773938</millis>
  <sequence>1488</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>87</thread>
  <message>recv:do</message>
</record>
<record>
  <date>2016-11-11T02:16:13</date>
  <millis>1478801773943</millis>
  <sequence>1489</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>87</thread>
  <message>recv:file("control.lua")&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:16:13</date>
  <millis>1478801773998</millis>
  <sequence>1490</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>87</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:16:14</date>
  <millis>1478801774083</millis>
  <sequence>1491</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>87</thread>
  <message>Operation done. Duration = 984 ms</message>
</record>
<record>
  <date>2016-11-11T02:16:14</date>
  <millis>1478801774814</millis>
  <sequence>1492</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to load file init.lua</message>
</record>
<record>
  <date>2016-11-11T02:16:14</date>
  <millis>1478801774842</millis>
  <sequence>1493</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Loading init.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T02:16:14</date>
  <millis>1478801774842</millis>
  <sequence>1494</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>File reload: Success.</message>
</record>
<record>
  <date>2016-11-11T02:16:15</date>
  <millis>1478801775465</millis>
  <sequence>1495</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>We save known file init.lua</message>
</record>
<record>
  <date>2016-11-11T02:16:15</date>
  <millis>1478801775469</millis>
  <sequence>1496</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to saving file init.lua ...</message>
</record>
<record>
  <date>2016-11-11T02:16:15</date>
  <millis>1478801775471</millis>
  <sequence>1497</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Save file init.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T02:16:15</date>
  <millis>1478801775486</millis>
  <sequence>1498</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP: Try to save file to ESP...</message>
</record>
<record>
  <date>2016-11-11T02:16:15</date>
  <millis>1478801775496</millis>
  <sequence>1499</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Try to save file to ESP in Turbo Mode...</message>
</record>
<record>
  <date>2016-11-11T02:16:15</date>
  <millis>1478801775502</millis>
  <sequence>1500</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>DataTurboSender: start "Smart Mode"</message>
</record>
<record>
  <date>2016-11-11T02:16:15</date>
  <millis>1478801775509</millis>
  <sequence>1501</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Starting...</message>
</record>
<record>
  <date>2016-11-11T02:16:15</date>
  <millis>1478801775615</millis>
  <sequence>1502</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local FILE="init.lua" file.remove(FILE) file.open(FILE,"w+") uart.setup(0,115200,8,0,1,0)</message>
</record>
<record>
  <date>2016-11-11T02:16:15</date>
  <millis>1478801775616</millis>
  <sequence>1503</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>89</thread>
  <message>recv:lo</message>
</record>
<record>
  <date>2016-11-11T02:16:15</date>
  <millis>1478801775622</millis>
  <sequence>1504</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>89</thread>
  <message>recv:cal FILE="init.lua" file.remove(FILE) file.open(FILE,"w+") uart</message>
</record>
<record>
  <date>2016-11-11T02:16:15</date>
  <millis>1478801775627</millis>
  <sequence>1505</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>89</thread>
  <message>recv:.setup(0,115200,8,0,1,0)&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:16:15</date>
  <millis>1478801775896</millis>
  <sequence>1506</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>89</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:16:15</date>
  <millis>1478801775915</millis>
  <sequence>1507</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_Receiver=function(rcvBuf) if string.match(rcvBuf,"^ESP_cmd_close")==nil then file.write(string.gsub(rcvBuf, '\r', '')) uart.write(0, "&gt; ") else uart.on("data") </message>
</record>
<record>
  <date>2016-11-11T02:16:15</date>
  <millis>1478801775943</millis>
  <sequence>1508</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>89</thread>
  <message>recv:&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T02:16:15</date>
  <millis>1478801775955</millis>
  <sequence>1509</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:file.flush() file.close() FILE=nil rcvBuf=nil ESP_Receiver=nil uart.setup(0,115200,8,0,1,1) str="\r\n--Done--\r\n&gt; " print(str) str=nil collectgarbage() end end uart.on("data",'\r',ESP_Receiver,0)</message>
</record>
<record>
  <date>2016-11-11T02:16:15</date>
  <millis>1478801775995</millis>
  <sequence>1510</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>89</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:16:16</date>
  <millis>1478801776007</millis>
  <sequence>1511</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:misc = require "misc"
control = require "control"

-- timer 1 = status, 2,3 = relay 

files = file.list()  -- Lists all files in the file system.

misc.button_press()  -- button press interrupt io3
--misc.button_rst()

control.status_LED(300) -- blink st</message>
</record>
<record>
  <date>2016-11-11T02:16:16</date>
  <millis>1478801776037</millis>
  <sequence>1512</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>89</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:16:16</date>
  <millis>1478801776050</millis>
  <sequence>1513</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:atus LED

wifi.setmode(wifi.STATION)
wifi.sta.autoconnect(0) -- auto connect

if files["config.txt"] then
    misc.con_read()
    --tmr.delay(1000000)
    print(" Config exist, user&gt;".. user .. ", pass&gt;" .. password .. ", now set station mode and connect</message>
</record>
<record>
  <date>2016-11-11T02:16:16</date>
  <millis>1478801776081</millis>
  <sequence>1514</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>89</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:16:16</date>
  <millis>1478801776093</millis>
  <sequence>1515</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:")
    
    wifi.sta.config(user, password)
    wifi.sta.connect()
    
    tmr.alarm(4, 5000, 1, function() 
        if wifi.sta.getip()== nil then
            print("IP unavailable.. if info correct then wait, else reconfig by press BTN1 to clean")
   </message>
</record>
<record>
  <date>2016-11-11T02:16:16</date>
  <millis>1478801776124</millis>
  <sequence>1516</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>89</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:16:16</date>
  <millis>1478801776136</millis>
  <sequence>1517</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:     else
            print("connected.. IP is: " .. wifi.sta.getip())
            tmr.stop(4)
            dofile("mqtt.lua")
        end
    end)
    
else
    --wifi.setmode(wifi.STATION)

    control.relay_onoff()
    --control.relay_onoff()
    --con</message>
</record>
<record>
  <date>2016-11-11T02:16:16</date>
  <millis>1478801776167</millis>
  <sequence>1518</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>89</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:16:16</date>
  <millis>1478801776180</millis>
  <sequence>1519</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:trol.relay_6(2000)
    --control.relay_7(2000)
    --control.relay_6(2000, 1)
    --control.relay_7(2000, 1)
    --if not tmr.alarm(5, 1000, tmr.ALARM_SINGLE, function() print("hey there") end) then print("whoopsie") end
    --tmr.stop(2)
    --tmr.stop(</message>
</record>
<record>
  <date>2016-11-11T02:16:16</date>
  <millis>1478801776212</millis>
  <sequence>1520</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>89</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:16:16</date>
  <millis>1478801776225</millis>
  <sequence>1521</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:3)

    tmr.alarm(4, 5000, 1, function() 
        if wifi.sta.getip()== nil then
            print("  Config file NOT exists, starting smartconfig..")
            wifi.startsmart(0,
            function(ssid, password)
            print(string.format("Su</message>
</record>
<record>
  <date>2016-11-11T02:16:16</date>
  <millis>1478801776256</millis>
  <sequence>1522</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>89</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:16:16</date>
  <millis>1478801776268</millis>
  <sequence>1523</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ccess. SSID: %s ; PASSWORD: %s", ssid, password)) 
            misc.con_write(ssid, password)
            end)
        else 
            tmr.stop(1)

            tmr.stop(4)
            print("Config done, IP is "..wifi.sta.getip())
            wifi.stop</message>
</record>
<record>
  <date>2016-11-11T02:16:16</date>
  <millis>1478801776299</millis>
  <sequence>1524</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>89</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:16:16</date>
  <millis>1478801776312</millis>
  <sequence>1525</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:smart()

            --misc.con_read()
            --print (user .. password)
            dofile("mqtt.lua")
        end
    end)
        

end
</message>
</record>
<record>
  <date>2016-11-11T02:16:16</date>
  <millis>1478801776335</millis>
  <sequence>1526</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>89</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:16:16</date>
  <millis>1478801776349</millis>
  <sequence>1527</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_cmd_close</message>
</record>
<record>
  <date>2016-11-11T02:16:16</date>
  <millis>1478801776362</millis>
  <sequence>1528</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>89</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;--</message>
</record>
<record>
  <date>2016-11-11T02:16:16</date>
  <millis>1478801776363</millis>
  <sequence>1529</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>89</thread>
  <message>recv:Done--&lt;CR&gt;&lt;LF&gt;&gt; &lt;CR&gt;</message>
</record>
<record>
  <date>2016-11-11T02:16:16</date>
  <millis>1478801776364</millis>
  <sequence>1530</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>89</thread>
  <message>recv:&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:16:16</date>
  <millis>1478801776384</millis>
  <sequence>1531</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:16:16</date>
  <millis>1478801776385</millis>
  <sequence>1532</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>89</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T02:16:16</date>
  <millis>1478801776389</millis>
  <sequence>1533</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>89</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T02:16:16</date>
  <millis>1478801776457</millis>
  <sequence>1534</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>89</thread>
  <message>Operation done. Duration = 960 ms</message>
</record>
<record>
  <date>2016-11-11T02:16:18</date>
  <millis>1478801778330</millis>
  <sequence>1535</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:node.restart()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:16:18</date>
  <millis>1478801778331</millis>
  <sequence>1536</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with saved baud 115200...</message>
</record>
<record>
  <date>2016-11-11T02:16:18</date>
  <millis>1478801778395</millis>
  <sequence>1537</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success. Now we waiting for ESP reboot...</message>
</record>
<record>
  <date>2016-11-11T02:16:20</date>
  <millis>1478801780396</millis>
  <sequence>1538</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with baud 115200...</message>
</record>
<record>
  <date>2016-11-11T02:16:20</date>
  <millis>1478801780397</millis>
  <sequence>1539</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:print(uart.setup(0, 115200, 8, 0, 1, 1 ))&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:16:20</date>
  <millis>1478801780662</millis>
  <sequence>1540</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success.</message>
</record>
<record>
  <date>2016-11-11T02:16:20</date>
  <millis>1478801780690</millis>
  <sequence>1541</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:16:20</date>
  <millis>1478801780693</millis>
  <sequence>1542</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>90</thread>
  <message>
Communication with MCU established.</message>
</record>
<record>
  <date>2016-11-11T02:16:48</date>
  <millis>1478801808307</millis>
  <sequence>1543</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to load file control.lua</message>
</record>
<record>
  <date>2016-11-11T02:16:48</date>
  <millis>1478801808337</millis>
  <sequence>1544</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Loading control.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T02:16:48</date>
  <millis>1478801808339</millis>
  <sequence>1545</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>File reload: Success.</message>
</record>
<record>
  <date>2016-11-11T02:16:49</date>
  <millis>1478801809119</millis>
  <sequence>1546</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>We save known file control.lua</message>
</record>
<record>
  <date>2016-11-11T02:16:49</date>
  <millis>1478801809120</millis>
  <sequence>1547</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to saving file control.lua ...</message>
</record>
<record>
  <date>2016-11-11T02:16:49</date>
  <millis>1478801809122</millis>
  <sequence>1548</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Save file control.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T02:16:49</date>
  <millis>1478801809135</millis>
  <sequence>1549</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP: Try to save file to ESP...</message>
</record>
<record>
  <date>2016-11-11T02:16:49</date>
  <millis>1478801809135</millis>
  <sequence>1550</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Try to save file to ESP in Turbo Mode...</message>
</record>
<record>
  <date>2016-11-11T02:16:49</date>
  <millis>1478801809144</millis>
  <sequence>1551</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>DataTurboSender: start "Smart Mode"</message>
</record>
<record>
  <date>2016-11-11T02:16:49</date>
  <millis>1478801809145</millis>
  <sequence>1552</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Starting...</message>
</record>
<record>
  <date>2016-11-11T02:16:49</date>
  <millis>1478801809232</millis>
  <sequence>1553</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local FILE="control.lua" file.remove(FILE) file.open(FILE,"w+") uart.setup(0,115200,8,0,1,0)</message>
</record>
<record>
  <date>2016-11-11T02:16:49</date>
  <millis>1478801809235</millis>
  <sequence>1554</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>91</thread>
  <message>recv:l</message>
</record>
<record>
  <date>2016-11-11T02:16:49</date>
  <millis>1478801809239</millis>
  <sequence>1555</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>91</thread>
  <message>recv:ocal FILE="control.lua" file.remove(FILE) file.open(FILE,"w+</message>
</record>
<record>
  <date>2016-11-11T02:16:49</date>
  <millis>1478801809241</millis>
  <sequence>1556</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>91</thread>
  <message>recv:") uart.setup(</message>
</record>
<record>
  <date>2016-11-11T02:16:49</date>
  <millis>1478801809248</millis>
  <sequence>1557</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>91</thread>
  <message>recv:0,115200,8,0,1,0)&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:16:49</date>
  <millis>1478801809429</millis>
  <sequence>1558</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>91</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:16:49</date>
  <millis>1478801809443</millis>
  <sequence>1559</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_Receiver=function(rcvBuf) if string.match(rcvBuf,"^ESP_cmd_close")==nil then file.write(string.gsub(rcvBuf, '\r', '')) uart.write(0, "&gt; ") else uart.on("data") </message>
</record>
<record>
  <date>2016-11-11T02:16:49</date>
  <millis>1478801809470</millis>
  <sequence>1560</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>91</thread>
  <message>recv:&gt;&gt;</message>
</record>
<record>
  <date>2016-11-11T02:16:49</date>
  <millis>1478801809471</millis>
  <sequence>1561</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>91</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T02:16:49</date>
  <millis>1478801809488</millis>
  <sequence>1562</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:file.flush() file.close() FILE=nil rcvBuf=nil ESP_Receiver=nil uart.setup(0,115200,8,0,1,1) str="\r\n--Done--\r\n&gt; " print(str) str=nil collectgarbage() end end uart.on("data",'\r',ESP_Receiver,0)</message>
</record>
<record>
  <date>2016-11-11T02:16:49</date>
  <millis>1478801809526</millis>
  <sequence>1563</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>91</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:16:49</date>
  <millis>1478801809539</millis>
  <sequence>1564</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local M = {}

-- status pin = 0, alarm 1
-- relay pin = 6 and 7, alarm 2, 3

function M.status_LED(delay)
    gpio.mode(0, gpio.OUTPUT)
    status0 = 0
        
    tmr.alarm(1, delay, 1, function()
        if status0 == 0 then
            status0 = 1
  </message>
</record>
<record>
  <date>2016-11-11T02:16:49</date>
  <millis>1478801809568</millis>
  <sequence>1565</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>91</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:16:49</date>
  <millis>1478801809580</millis>
  <sequence>1566</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:          gpio.write(0, gpio.HIGH)
        else
            status0 = 0
            gpio.write(0, gpio.LOW)
        end 
    end)
      
end

-- One on/off relay
function M.relay_onoff()
    gpio.mode(6, gpio.OUTPUT)
    gpio.mode(7, gpio.OUTPUT)
    gpi</message>
</record>
<record>
  <date>2016-11-11T02:16:49</date>
  <millis>1478801809611</millis>
  <sequence>1567</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>91</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:16:49</date>
  <millis>1478801809623</millis>
  <sequence>1568</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:o.write(6, gpio.LOW)
    gpio.write(7, gpio.LOW)
        
    tmr.alarm(2, 1000, tmr.ALARM_SINGLE, function()
    gpio.write(6, gpio.HIGH)
    gpio.write(7, gpio.HIGH)
    end)
    tmr.stop(2)
    gpio.write(6, gpio.LOW)
    gpio.write(7, gpio.LOW)

end
</message>
</record>
<record>
  <date>2016-11-11T02:16:49</date>
  <millis>1478801809654</millis>
  <sequence>1569</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>91</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:16:49</date>
  <millis>1478801809666</millis>
  <sequence>1570</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:

-- loop relay
function M.relay_6(delay, mode)
    gpio.mode(6, gpio.OUTPUT)
    status1 = 0
        
    tmr.alarm(2, delay, mode, function()
        if status1 == 0 then
            status1 = 1
            gpio.write(6, gpio.HIGH)
        else
       </message>
</record>
<record>
  <date>2016-11-11T02:16:49</date>
  <millis>1478801809697</millis>
  <sequence>1571</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>91</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:16:49</date>
  <millis>1478801809713</millis>
  <sequence>1572</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:     status1 = 0
            gpio.write(6, gpio.LOW)
        end 
    end)
      
end


function M.relay_7(delay, mode)
    gpio.mode(7, gpio.OUTPUT)
    status2 = 0
        
    tmr.alarm(3, delay, mode, function()
        if status2 == 0 then
         </message>
</record>
<record>
  <date>2016-11-11T02:16:49</date>
  <millis>1478801809745</millis>
  <sequence>1573</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>91</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:16:49</date>
  <millis>1478801809758</millis>
  <sequence>1574</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:   status2 = 1
            gpio.write(7, gpio.HIGH)
        else
            status2 = 0
            gpio.write(7, gpio.LOW)
        end 
    end)
      
end
return M
</message>
</record>
<record>
  <date>2016-11-11T02:16:49</date>
  <millis>1478801809781</millis>
  <sequence>1575</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>91</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:16:49</date>
  <millis>1478801809794</millis>
  <sequence>1576</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_cmd_close</message>
</record>
<record>
  <date>2016-11-11T02:16:49</date>
  <millis>1478801809806</millis>
  <sequence>1577</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>91</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;-</message>
</record>
<record>
  <date>2016-11-11T02:16:49</date>
  <millis>1478801809807</millis>
  <sequence>1578</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>91</thread>
  <message>recv:-Done--&lt;CR&gt;&lt;LF&gt;&gt; &lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:16:49</date>
  <millis>1478801809823</millis>
  <sequence>1579</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:16:49</date>
  <millis>1478801809825</millis>
  <sequence>1580</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>91</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:16:49</date>
  <millis>1478801809830</millis>
  <sequence>1581</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>91</thread>
  <message>recv:&gt; &lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T02:16:49</date>
  <millis>1478801809853</millis>
  <sequence>1582</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:dofile("control.lua")</message>
</record>
<record>
  <date>2016-11-11T02:16:49</date>
  <millis>1478801809854</millis>
  <sequence>1583</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>91</thread>
  <message>recv:dofi</message>
</record>
<record>
  <date>2016-11-11T02:16:49</date>
  <millis>1478801809858</millis>
  <sequence>1584</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>91</thread>
  <message>recv:le("control.lua")&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:16:49</date>
  <millis>1478801809915</millis>
  <sequence>1585</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>91</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:16:50</date>
  <millis>1478801810010</millis>
  <sequence>1586</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>91</thread>
  <message>Operation done. Duration = 874 ms</message>
</record>
<record>
  <date>2016-11-11T02:16:51</date>
  <millis>1478801811244</millis>
  <sequence>1587</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:node.restart()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:16:51</date>
  <millis>1478801811245</millis>
  <sequence>1588</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with saved baud 115200...</message>
</record>
<record>
  <date>2016-11-11T02:16:51</date>
  <millis>1478801811312</millis>
  <sequence>1589</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success. Now we waiting for ESP reboot...</message>
</record>
<record>
  <date>2016-11-11T02:16:53</date>
  <millis>1478801813314</millis>
  <sequence>1590</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with baud 115200...</message>
</record>
<record>
  <date>2016-11-11T02:16:53</date>
  <millis>1478801813316</millis>
  <sequence>1591</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:print(uart.setup(0, 115200, 8, 0, 1, 1 ))&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:16:53</date>
  <millis>1478801813579</millis>
  <sequence>1592</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success.</message>
</record>
<record>
  <date>2016-11-11T02:16:53</date>
  <millis>1478801813607</millis>
  <sequence>1593</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:16:53</date>
  <millis>1478801813610</millis>
  <sequence>1594</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>92</thread>
  <message>
Communication with MCU established.</message>
</record>
<record>
  <date>2016-11-11T02:16:53</date>
  <millis>1478801813617</millis>
  <sequence>1595</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>92</thread>
  <message>sending:=node.heap()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:16:55</date>
  <millis>1478801815771</millis>
  <sequence>1596</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:node.restart()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:16:55</date>
  <millis>1478801815775</millis>
  <sequence>1597</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with saved baud 115200...</message>
</record>
<record>
  <date>2016-11-11T02:16:55</date>
  <millis>1478801815841</millis>
  <sequence>1598</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success. Now we waiting for ESP reboot...</message>
</record>
<record>
  <date>2016-11-11T02:16:57</date>
  <millis>1478801817844</millis>
  <sequence>1599</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with baud 115200...</message>
</record>
<record>
  <date>2016-11-11T02:16:57</date>
  <millis>1478801817845</millis>
  <sequence>1600</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:print(uart.setup(0, 115200, 8, 0, 1, 1 ))&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:16:58</date>
  <millis>1478801818110</millis>
  <sequence>1601</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success.</message>
</record>
<record>
  <date>2016-11-11T02:16:58</date>
  <millis>1478801818136</millis>
  <sequence>1602</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:16:58</date>
  <millis>1478801818138</millis>
  <sequence>1603</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>92</thread>
  <message>
Communication with MCU established.</message>
</record>
<record>
  <date>2016-11-11T02:17:41</date>
  <millis>1478801861007</millis>
  <sequence>1604</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:node.restart()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:17:41</date>
  <millis>1478801861008</millis>
  <sequence>1605</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with saved baud 115200...</message>
</record>
<record>
  <date>2016-11-11T02:17:41</date>
  <millis>1478801861071</millis>
  <sequence>1606</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success. Now we waiting for ESP reboot...</message>
</record>
<record>
  <date>2016-11-11T02:17:43</date>
  <millis>1478801863009</millis>
  <sequence>1607</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to load file control.lua</message>
</record>
<record>
  <date>2016-11-11T02:17:43</date>
  <millis>1478801863025</millis>
  <sequence>1608</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Loading control.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T02:17:43</date>
  <millis>1478801863026</millis>
  <sequence>1609</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>File reload: Success.</message>
</record>
<record>
  <date>2016-11-11T02:17:43</date>
  <millis>1478801863073</millis>
  <sequence>1610</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with baud 115200...</message>
</record>
<record>
  <date>2016-11-11T02:17:43</date>
  <millis>1478801863074</millis>
  <sequence>1611</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:print(uart.setup(0, 115200, 8, 0, 1, 1 ))&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:17:43</date>
  <millis>1478801863337</millis>
  <sequence>1612</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success.</message>
</record>
<record>
  <date>2016-11-11T02:17:43</date>
  <millis>1478801863363</millis>
  <sequence>1613</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:17:43</date>
  <millis>1478801863370</millis>
  <sequence>1614</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>92</thread>
  <message>
Communication with MCU established.</message>
</record>
<record>
  <date>2016-11-11T02:17:43</date>
  <millis>1478801863402</millis>
  <sequence>1615</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>92</thread>
  <message>sending:=node.heap()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:17:43</date>
  <millis>1478801863946</millis>
  <sequence>1616</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>We save known file control.lua</message>
</record>
<record>
  <date>2016-11-11T02:17:43</date>
  <millis>1478801863947</millis>
  <sequence>1617</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to saving file control.lua ...</message>
</record>
<record>
  <date>2016-11-11T02:17:43</date>
  <millis>1478801863950</millis>
  <sequence>1618</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Save file control.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T02:17:43</date>
  <millis>1478801863954</millis>
  <sequence>1619</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP: Try to save file to ESP...</message>
</record>
<record>
  <date>2016-11-11T02:17:43</date>
  <millis>1478801863955</millis>
  <sequence>1620</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Try to save file to ESP in Turbo Mode...</message>
</record>
<record>
  <date>2016-11-11T02:17:43</date>
  <millis>1478801863962</millis>
  <sequence>1621</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>DataTurboSender: start "Smart Mode"</message>
</record>
<record>
  <date>2016-11-11T02:17:43</date>
  <millis>1478801863963</millis>
  <sequence>1622</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Starting...</message>
</record>
<record>
  <date>2016-11-11T02:17:44</date>
  <millis>1478801864074</millis>
  <sequence>1623</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local FILE="control.lua" file.remove(FILE) file.open(FILE,"w+") uart.setup(0,115200,8,0,1,0)</message>
</record>
<record>
  <date>2016-11-11T02:17:44</date>
  <millis>1478801864076</millis>
  <sequence>1624</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>93</thread>
  <message>recv:loc</message>
</record>
<record>
  <date>2016-11-11T02:17:44</date>
  <millis>1478801864083</millis>
  <sequence>1625</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>93</thread>
  <message>recv:al FILE="control.lua" file.remove(FILE) file.open(FILE,"w+") uart.setup(0,115</message>
</record>
<record>
  <date>2016-11-11T02:17:44</date>
  <millis>1478801864085</millis>
  <sequence>1626</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>93</thread>
  <message>recv:200,8,0,1,0)&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:17:44</date>
  <millis>1478801864264</millis>
  <sequence>1627</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>93</thread>
  <message>recv:&gt;</message>
</record>
<record>
  <date>2016-11-11T02:17:44</date>
  <millis>1478801864265</millis>
  <sequence>1628</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>93</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T02:17:44</date>
  <millis>1478801864278</millis>
  <sequence>1629</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_Receiver=function(rcvBuf) if string.match(rcvBuf,"^ESP_cmd_close")==nil then file.write(string.gsub(rcvBuf, '\r', '')) uart.write(0, "&gt; ") else uart.on("data") </message>
</record>
<record>
  <date>2016-11-11T02:17:44</date>
  <millis>1478801864305</millis>
  <sequence>1630</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>93</thread>
  <message>recv:&gt;&gt;</message>
</record>
<record>
  <date>2016-11-11T02:17:44</date>
  <millis>1478801864306</millis>
  <sequence>1631</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>93</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T02:17:44</date>
  <millis>1478801864319</millis>
  <sequence>1632</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:file.flush() file.close() FILE=nil rcvBuf=nil ESP_Receiver=nil uart.setup(0,115200,8,0,1,1) str="\r\n--Done--\r\n&gt; " print(str) str=nil collectgarbage() end end uart.on("data",'\r',ESP_Receiver,0)</message>
</record>
<record>
  <date>2016-11-11T02:17:44</date>
  <millis>1478801864358</millis>
  <sequence>1633</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>93</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:17:44</date>
  <millis>1478801864369</millis>
  <sequence>1634</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local M = {}

-- status pin = 0, alarm 1
-- relay pin = 6 and 7, alarm 2, 3

function M.status_LED(delay)
    gpio.mode(0, gpio.OUTPUT)
    status0 = 0
        
    tmr.alarm(1, delay, 1, function()
        if status0 == 0 then
            status0 = 1
  </message>
</record>
<record>
  <date>2016-11-11T02:17:44</date>
  <millis>1478801864398</millis>
  <sequence>1635</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>93</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:17:44</date>
  <millis>1478801864410</millis>
  <sequence>1636</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:          gpio.write(0, gpio.HIGH)
        else
            status0 = 0
            gpio.write(0, gpio.LOW)
        end 
    end)
      
end

-- One on/off relay
function M.relay_onoff()
    gpio.mode(6, gpio.OUTPUT)
    gpio.mode(7, gpio.OUTPUT)
    gpi</message>
</record>
<record>
  <date>2016-11-11T02:17:44</date>
  <millis>1478801864441</millis>
  <sequence>1637</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>93</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:17:44</date>
  <millis>1478801864453</millis>
  <sequence>1638</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:o.write(6, gpio.LOW)
    gpio.write(7, gpio.LOW)
        
    tmr.alarm(2, 1000, tmr.ALARM_SINGLE, function()
    gpio.write(6, gpio.HIGH)
    end)
    tmr.alarm(3, 1000, tmr.ALARM_SINGLE, function()
    gpio.write(7, gpio.HIGH)
    end)
    gpio.write(6</message>
</record>
<record>
  <date>2016-11-11T02:17:44</date>
  <millis>1478801864483</millis>
  <sequence>1639</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>93</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:17:44</date>
  <millis>1478801864496</millis>
  <sequence>1640</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:, gpio.LOW)
    gpio.write(7, gpio.LOW)
end


-- loop relay
function M.relay_6(delay, mode)
    gpio.mode(6, gpio.OUTPUT)
    status1 = 0
        
    tmr.alarm(2, delay, mode, function()
        if status1 == 0 then
            status1 = 1
            g</message>
</record>
<record>
  <date>2016-11-11T02:17:44</date>
  <millis>1478801864526</millis>
  <sequence>1641</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>93</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:17:44</date>
  <millis>1478801864538</millis>
  <sequence>1642</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:pio.write(6, gpio.HIGH)
        else
            status1 = 0
            gpio.write(6, gpio.LOW)
        end 
    end)
      
end


function M.relay_7(delay, mode)
    gpio.mode(7, gpio.OUTPUT)
    status2 = 0
        
    tmr.alarm(3, delay, mode, funct</message>
</record>
<record>
  <date>2016-11-11T02:17:44</date>
  <millis>1478801864581</millis>
  <sequence>1643</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>93</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:17:44</date>
  <millis>1478801864593</millis>
  <sequence>1644</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ion()
        if status2 == 0 then
            status2 = 1
            gpio.write(7, gpio.HIGH)
        else
            status2 = 0
            gpio.write(7, gpio.LOW)
        end 
    end)
      
end
return M
</message>
</record>
<record>
  <date>2016-11-11T02:17:44</date>
  <millis>1478801864620</millis>
  <sequence>1645</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>93</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:17:44</date>
  <millis>1478801864632</millis>
  <sequence>1646</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_cmd_close</message>
</record>
<record>
  <date>2016-11-11T02:17:44</date>
  <millis>1478801864644</millis>
  <sequence>1647</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>93</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;-</message>
</record>
<record>
  <date>2016-11-11T02:17:44</date>
  <millis>1478801864646</millis>
  <sequence>1648</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>93</thread>
  <message>recv:-Done--&lt;CR&gt;&lt;LF&gt;&gt; &lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:17:44</date>
  <millis>1478801864660</millis>
  <sequence>1649</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:17:44</date>
  <millis>1478801864662</millis>
  <sequence>1650</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>93</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;&gt;</message>
</record>
<record>
  <date>2016-11-11T02:17:44</date>
  <millis>1478801864668</millis>
  <sequence>1651</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>93</thread>
  <message>recv: &lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T02:17:44</date>
  <millis>1478801864686</millis>
  <sequence>1652</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:dofile("control.lua")</message>
</record>
<record>
  <date>2016-11-11T02:17:44</date>
  <millis>1478801864690</millis>
  <sequence>1653</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>93</thread>
  <message>recv:do</message>
</record>
<record>
  <date>2016-11-11T02:17:44</date>
  <millis>1478801864692</millis>
  <sequence>1654</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>93</thread>
  <message>recv:file("control.lua")&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:17:44</date>
  <millis>1478801864747</millis>
  <sequence>1655</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>93</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:17:44</date>
  <millis>1478801864829</millis>
  <sequence>1656</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>93</thread>
  <message>Operation done. Duration = 873 ms</message>
</record>
<record>
  <date>2016-11-11T02:17:45</date>
  <millis>1478801865968</millis>
  <sequence>1657</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:node.restart()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:17:45</date>
  <millis>1478801865969</millis>
  <sequence>1658</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with saved baud 115200...</message>
</record>
<record>
  <date>2016-11-11T02:17:46</date>
  <millis>1478801866032</millis>
  <sequence>1659</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success. Now we waiting for ESP reboot...</message>
</record>
<record>
  <date>2016-11-11T02:17:48</date>
  <millis>1478801868034</millis>
  <sequence>1660</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with baud 115200...</message>
</record>
<record>
  <date>2016-11-11T02:17:48</date>
  <millis>1478801868036</millis>
  <sequence>1661</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:print(uart.setup(0, 115200, 8, 0, 1, 1 ))&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:17:48</date>
  <millis>1478801868300</millis>
  <sequence>1662</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success.</message>
</record>
<record>
  <date>2016-11-11T02:17:48</date>
  <millis>1478801868332</millis>
  <sequence>1663</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:17:48</date>
  <millis>1478801868335</millis>
  <sequence>1664</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>94</thread>
  <message>
Communication with MCU established.</message>
</record>
<record>
  <date>2016-11-11T02:17:48</date>
  <millis>1478801868339</millis>
  <sequence>1665</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>94</thread>
  <message>sending:=node.heap()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:18:39</date>
  <millis>1478801919479</millis>
  <sequence>1666</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to load file control.lua</message>
</record>
<record>
  <date>2016-11-11T02:18:39</date>
  <millis>1478801919500</millis>
  <sequence>1667</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Loading control.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T02:18:39</date>
  <millis>1478801919502</millis>
  <sequence>1668</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>File reload: Success.</message>
</record>
<record>
  <date>2016-11-11T02:18:40</date>
  <millis>1478801920383</millis>
  <sequence>1669</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>We save known file control.lua</message>
</record>
<record>
  <date>2016-11-11T02:18:40</date>
  <millis>1478801920384</millis>
  <sequence>1670</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to saving file control.lua ...</message>
</record>
<record>
  <date>2016-11-11T02:18:40</date>
  <millis>1478801920387</millis>
  <sequence>1671</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Save file control.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T02:18:40</date>
  <millis>1478801920392</millis>
  <sequence>1672</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP: Try to save file to ESP...</message>
</record>
<record>
  <date>2016-11-11T02:18:40</date>
  <millis>1478801920393</millis>
  <sequence>1673</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Try to save file to ESP in Turbo Mode...</message>
</record>
<record>
  <date>2016-11-11T02:18:40</date>
  <millis>1478801920400</millis>
  <sequence>1674</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>DataTurboSender: start "Smart Mode"</message>
</record>
<record>
  <date>2016-11-11T02:18:40</date>
  <millis>1478801920401</millis>
  <sequence>1675</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Starting...</message>
</record>
<record>
  <date>2016-11-11T02:18:40</date>
  <millis>1478801920490</millis>
  <sequence>1676</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local FILE="control.lua" file.remove(FILE) file.open(FILE,"w+") uart.setup(0,115200,8,0,1,0)</message>
</record>
<record>
  <date>2016-11-11T02:18:40</date>
  <millis>1478801920492</millis>
  <sequence>1677</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>95</thread>
  <message>recv:lo</message>
</record>
<record>
  <date>2016-11-11T02:18:40</date>
  <millis>1478801920499</millis>
  <sequence>1678</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>95</thread>
  <message>recv:cal FILE="control.lua" file.remove(FILE) file.open(FILE,"w+") uart.setup(0,1</message>
</record>
<record>
  <date>2016-11-11T02:18:40</date>
  <millis>1478801920500</millis>
  <sequence>1679</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>95</thread>
  <message>recv:15200,8,0,1,0)&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:18:40</date>
  <millis>1478801920684</millis>
  <sequence>1680</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>95</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:18:40</date>
  <millis>1478801920698</millis>
  <sequence>1681</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_Receiver=function(rcvBuf) if string.match(rcvBuf,"^ESP_cmd_close")==nil then file.write(string.gsub(rcvBuf, '\r', '')) uart.write(0, "&gt; ") else uart.on("data") </message>
</record>
<record>
  <date>2016-11-11T02:18:40</date>
  <millis>1478801920725</millis>
  <sequence>1682</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>95</thread>
  <message>recv:&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T02:18:40</date>
  <millis>1478801920737</millis>
  <sequence>1683</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:file.flush() file.close() FILE=nil rcvBuf=nil ESP_Receiver=nil uart.setup(0,115200,8,0,1,1) str="\r\n--Done--\r\n&gt; " print(str) str=nil collectgarbage() end end uart.on("data",'\r',ESP_Receiver,0)</message>
</record>
<record>
  <date>2016-11-11T02:18:40</date>
  <millis>1478801920775</millis>
  <sequence>1684</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>95</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:18:40</date>
  <millis>1478801920794</millis>
  <sequence>1685</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local M = {}

-- status pin = 0, alarm 1
-- relay pin = 6 and 7, alarm 2, 3

function M.status_LED(delay)
    gpio.mode(0, gpio.OUTPUT)
    status0 = 0
        
    tmr.alarm(1, delay, 1, function()
        if status0 == 0 then
            status0 = 1
  </message>
</record>
<record>
  <date>2016-11-11T02:18:40</date>
  <millis>1478801920823</millis>
  <sequence>1686</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>95</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:18:40</date>
  <millis>1478801920836</millis>
  <sequence>1687</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:          gpio.write(0, gpio.HIGH)
        else
            status0 = 0
            gpio.write(0, gpio.LOW)
        end 
    end)
      
end

-- One on/off relay
function M.relay_onoff()
    gpio.mode(6, gpio.OUTPUT)
    gpio.mode(7, gpio.OUTPUT)
    gpi</message>
</record>
<record>
  <date>2016-11-11T02:18:40</date>
  <millis>1478801920867</millis>
  <sequence>1688</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>95</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:18:40</date>
  <millis>1478801920881</millis>
  <sequence>1689</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:o.write(6, gpio.LOW)
    gpio.write(7, gpio.LOW)
        
    --tmr.alarm(2, 1000, tmr.ALARM_SINGLE, function() gpio.write(6, gpio.HIGH) end)
    --tmr.alarm(3, 1000, tmr.ALARM_SINGLE, function() gpio.write(7, gpio.HIGH) end)
    --gpio.write(6, gpio.LOW</message>
</record>
<record>
  <date>2016-11-11T02:18:40</date>
  <millis>1478801920912</millis>
  <sequence>1690</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>95</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:18:40</date>
  <millis>1478801920924</millis>
  <sequence>1691</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:)
    --gpio.write(7, gpio.LOW)
end


-- loop relay
function M.relay_6(delay, mode)
    gpio.mode(6, gpio.OUTPUT)
    status1 = 0
        
    tmr.alarm(2, delay, mode, function()
        if status1 == 0 then
            status1 = 1
            gpio.writ</message>
</record>
<record>
  <date>2016-11-11T02:18:40</date>
  <millis>1478801920955</millis>
  <sequence>1692</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>95</thread>
  <message>recv:&gt;</message>
</record>
<record>
  <date>2016-11-11T02:18:40</date>
  <millis>1478801920956</millis>
  <sequence>1693</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>95</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T02:18:40</date>
  <millis>1478801920970</millis>
  <sequence>1694</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:e(6, gpio.HIGH)
        else
            status1 = 0
            gpio.write(6, gpio.LOW)
        end 
    end)
      
end


function M.relay_7(delay, mode)
    gpio.mode(7, gpio.OUTPUT)
    status2 = 0
        
    tmr.alarm(3, delay, mode, function()
  </message>
</record>
<record>
  <date>2016-11-11T02:18:41</date>
  <millis>1478801921002</millis>
  <sequence>1695</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>95</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:18:41</date>
  <millis>1478801921016</millis>
  <sequence>1696</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:      if status2 == 0 then
            status2 = 1
            gpio.write(7, gpio.HIGH)
        else
            status2 = 0
            gpio.write(7, gpio.LOW)
        end 
    end)
      
end
return M
</message>
</record>
<record>
  <date>2016-11-11T02:18:41</date>
  <millis>1478801921042</millis>
  <sequence>1697</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>95</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:18:41</date>
  <millis>1478801921055</millis>
  <sequence>1698</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_cmd_close</message>
</record>
<record>
  <date>2016-11-11T02:18:41</date>
  <millis>1478801921067</millis>
  <sequence>1699</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>95</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;--D</message>
</record>
<record>
  <date>2016-11-11T02:18:41</date>
  <millis>1478801921068</millis>
  <sequence>1700</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>95</thread>
  <message>recv:one--&lt;CR&gt;&lt;LF&gt;&gt; &lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:18:41</date>
  <millis>1478801921089</millis>
  <sequence>1701</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:18:41</date>
  <millis>1478801921091</millis>
  <sequence>1702</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>95</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:18:41</date>
  <millis>1478801921100</millis>
  <sequence>1703</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>95</thread>
  <message>recv:&gt; &lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T02:18:41</date>
  <millis>1478801921122</millis>
  <sequence>1704</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:dofile("control.lua")</message>
</record>
<record>
  <date>2016-11-11T02:18:41</date>
  <millis>1478801921125</millis>
  <sequence>1705</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>95</thread>
  <message>recv:dof</message>
</record>
<record>
  <date>2016-11-11T02:18:41</date>
  <millis>1478801921128</millis>
  <sequence>1706</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>95</thread>
  <message>recv:ile("control.lua")&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:18:41</date>
  <millis>1478801921177</millis>
  <sequence>1707</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>95</thread>
  <message>recv:&gt;</message>
</record>
<record>
  <date>2016-11-11T02:18:41</date>
  <millis>1478801921179</millis>
  <sequence>1708</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>95</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T02:18:41</date>
  <millis>1478801921260</millis>
  <sequence>1709</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>95</thread>
  <message>Operation done. Duration = 866 ms</message>
</record>
<record>
  <date>2016-11-11T02:18:41</date>
  <millis>1478801921930</millis>
  <sequence>1710</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:node.restart()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:18:41</date>
  <millis>1478801921932</millis>
  <sequence>1711</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with saved baud 115200...</message>
</record>
<record>
  <date>2016-11-11T02:18:41</date>
  <millis>1478801921993</millis>
  <sequence>1712</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success. Now we waiting for ESP reboot...</message>
</record>
<record>
  <date>2016-11-11T02:18:43</date>
  <millis>1478801923994</millis>
  <sequence>1713</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with baud 115200...</message>
</record>
<record>
  <date>2016-11-11T02:18:43</date>
  <millis>1478801923995</millis>
  <sequence>1714</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:print(uart.setup(0, 115200, 8, 0, 1, 1 ))&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:18:44</date>
  <millis>1478801924260</millis>
  <sequence>1715</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success.</message>
</record>
<record>
  <date>2016-11-11T02:18:44</date>
  <millis>1478801924279</millis>
  <sequence>1716</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:18:44</date>
  <millis>1478801924282</millis>
  <sequence>1717</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>96</thread>
  <message>
Communication with MCU established.</message>
</record>
<record>
  <date>2016-11-11T02:18:44</date>
  <millis>1478801924284</millis>
  <sequence>1718</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>96</thread>
  <message>sending:=node.heap()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:18:58</date>
  <millis>1478801938752</millis>
  <sequence>1719</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to load file control.lua</message>
</record>
<record>
  <date>2016-11-11T02:18:58</date>
  <millis>1478801938764</millis>
  <sequence>1720</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Loading control.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T02:18:58</date>
  <millis>1478801938765</millis>
  <sequence>1721</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>File reload: Success.</message>
</record>
<record>
  <date>2016-11-11T02:19:00</date>
  <millis>1478801940044</millis>
  <sequence>1722</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>We save known file control.lua</message>
</record>
<record>
  <date>2016-11-11T02:19:00</date>
  <millis>1478801940044</millis>
  <sequence>1723</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to saving file control.lua ...</message>
</record>
<record>
  <date>2016-11-11T02:19:00</date>
  <millis>1478801940048</millis>
  <sequence>1724</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Save file control.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T02:19:00</date>
  <millis>1478801940052</millis>
  <sequence>1725</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP: Try to save file to ESP...</message>
</record>
<record>
  <date>2016-11-11T02:19:00</date>
  <millis>1478801940053</millis>
  <sequence>1726</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Try to save file to ESP in Turbo Mode...</message>
</record>
<record>
  <date>2016-11-11T02:19:00</date>
  <millis>1478801940065</millis>
  <sequence>1727</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>DataTurboSender: start "Smart Mode"</message>
</record>
<record>
  <date>2016-11-11T02:19:00</date>
  <millis>1478801940066</millis>
  <sequence>1728</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Starting...</message>
</record>
<record>
  <date>2016-11-11T02:19:00</date>
  <millis>1478801940166</millis>
  <sequence>1729</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local FILE="control.lua" file.remove(FILE) file.open(FILE,"w+") uart.setup(0,115200,8,0,1,0)</message>
</record>
<record>
  <date>2016-11-11T02:19:00</date>
  <millis>1478801940168</millis>
  <sequence>1730</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>97</thread>
  <message>recv:loca</message>
</record>
<record>
  <date>2016-11-11T02:19:00</date>
  <millis>1478801940175</millis>
  <sequence>1731</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>97</thread>
  <message>recv:l FILE="control.lua" file.remove(FILE) file.open(FILE,"w+") uart.setup(0,1</message>
</record>
<record>
  <date>2016-11-11T02:19:00</date>
  <millis>1478801940177</millis>
  <sequence>1732</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>97</thread>
  <message>recv:15200,8,0,1,0)&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:19:00</date>
  <millis>1478801940358</millis>
  <sequence>1733</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>97</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:19:00</date>
  <millis>1478801940373</millis>
  <sequence>1734</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_Receiver=function(rcvBuf) if string.match(rcvBuf,"^ESP_cmd_close")==nil then file.write(string.gsub(rcvBuf, '\r', '')) uart.write(0, "&gt; ") else uart.on("data") </message>
</record>
<record>
  <date>2016-11-11T02:19:00</date>
  <millis>1478801940406</millis>
  <sequence>1735</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>97</thread>
  <message>recv:&gt;&gt;</message>
</record>
<record>
  <date>2016-11-11T02:19:00</date>
  <millis>1478801940411</millis>
  <sequence>1736</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>97</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T02:19:00</date>
  <millis>1478801940427</millis>
  <sequence>1737</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:file.flush() file.close() FILE=nil rcvBuf=nil ESP_Receiver=nil uart.setup(0,115200,8,0,1,1) str="\r\n--Done--\r\n&gt; " print(str) str=nil collectgarbage() end end uart.on("data",'\r',ESP_Receiver,0)</message>
</record>
<record>
  <date>2016-11-11T02:19:00</date>
  <millis>1478801940467</millis>
  <sequence>1738</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>97</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:19:00</date>
  <millis>1478801940479</millis>
  <sequence>1739</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local M = {}

-- status pin = 0, alarm 1
-- relay pin = 6 and 7, alarm 2, 3

function M.status_LED(delay)
    gpio.mode(0, gpio.OUTPUT)
    status0 = 0
        
    tmr.alarm(1, delay, 1, function()
        if status0 == 0 then
            status0 = 1
  </message>
</record>
<record>
  <date>2016-11-11T02:19:00</date>
  <millis>1478801940508</millis>
  <sequence>1740</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>97</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:19:00</date>
  <millis>1478801940521</millis>
  <sequence>1741</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:          gpio.write(0, gpio.HIGH)
        else
            status0 = 0
            gpio.write(0, gpio.LOW)
        end 
    end)
      
end

-- One on/off relay
function M.relay_onoff()
    gpio.mode(6, gpio.OUTPUT)
    gpio.mode(7, gpio.OUTPUT)
    gpi</message>
</record>
<record>
  <date>2016-11-11T02:19:00</date>
  <millis>1478801940552</millis>
  <sequence>1742</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>97</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:19:00</date>
  <millis>1478801940564</millis>
  <sequence>1743</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:o.write(6, gpio.LOW)
    gpio.write(7, gpio.LOW)
        
    tmr.alarm(2, 5000, tmr.ALARM_SINGLE, function() gpio.write(6, gpio.HIGH) end)
    tmr.alarm(3, 5000, tmr.ALARM_SINGLE, function() gpio.write(7, gpio.HIGH) end)
    --gpio.write(6, gpio.LOW)
  </message>
</record>
<record>
  <date>2016-11-11T02:19:00</date>
  <millis>1478801940595</millis>
  <sequence>1744</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>97</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:19:00</date>
  <millis>1478801940607</millis>
  <sequence>1745</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:  --gpio.write(7, gpio.LOW)
end


-- loop relay
function M.relay_6(delay, mode)
    gpio.mode(6, gpio.OUTPUT)
    status1 = 0
        
    tmr.alarm(2, delay, mode, function()
        if status1 == 0 then
            status1 = 1
            gpio.write(6,</message>
</record>
<record>
  <date>2016-11-11T02:19:00</date>
  <millis>1478801940639</millis>
  <sequence>1746</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>97</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:19:00</date>
  <millis>1478801940655</millis>
  <sequence>1747</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending: gpio.HIGH)
        else
            status1 = 0
            gpio.write(6, gpio.LOW)
        end 
    end)
      
end


function M.relay_7(delay, mode)
    gpio.mode(7, gpio.OUTPUT)
    status2 = 0
        
    tmr.alarm(3, delay, mode, function()
      </message>
</record>
<record>
  <date>2016-11-11T02:19:00</date>
  <millis>1478801940686</millis>
  <sequence>1748</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>97</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:19:00</date>
  <millis>1478801940698</millis>
  <sequence>1749</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:  if status2 == 0 then
            status2 = 1
            gpio.write(7, gpio.HIGH)
        else
            status2 = 0
            gpio.write(7, gpio.LOW)
        end 
    end)
      
end
return M
</message>
</record>
<record>
  <date>2016-11-11T02:19:00</date>
  <millis>1478801940723</millis>
  <sequence>1750</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>97</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:19:00</date>
  <millis>1478801940735</millis>
  <sequence>1751</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_cmd_close</message>
</record>
<record>
  <date>2016-11-11T02:19:00</date>
  <millis>1478801940747</millis>
  <sequence>1752</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>97</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;-</message>
</record>
<record>
  <date>2016-11-11T02:19:00</date>
  <millis>1478801940749</millis>
  <sequence>1753</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>97</thread>
  <message>recv:-Done--&lt;CR&gt;&lt;LF&gt;&gt; &lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:19:00</date>
  <millis>1478801940764</millis>
  <sequence>1754</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:19:00</date>
  <millis>1478801940766</millis>
  <sequence>1755</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>97</thread>
  <message>recv:&lt;CR&gt;</message>
</record>
<record>
  <date>2016-11-11T02:19:00</date>
  <millis>1478801940767</millis>
  <sequence>1756</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>97</thread>
  <message>recv:&lt;LF&gt;&gt; &lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T02:19:00</date>
  <millis>1478801940788</millis>
  <sequence>1757</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:dofile("control.lua")</message>
</record>
<record>
  <date>2016-11-11T02:19:00</date>
  <millis>1478801940789</millis>
  <sequence>1758</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>97</thread>
  <message>recv:do</message>
</record>
<record>
  <date>2016-11-11T02:19:00</date>
  <millis>1478801940794</millis>
  <sequence>1759</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>97</thread>
  <message>recv:file("control.lua")&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:19:00</date>
  <millis>1478801940848</millis>
  <sequence>1760</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>97</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:19:00</date>
  <millis>1478801940911</millis>
  <sequence>1761</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>97</thread>
  <message>Operation done. Duration = 857 ms</message>
</record>
<record>
  <date>2016-11-11T02:19:01</date>
  <millis>1478801941811</millis>
  <sequence>1762</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:node.restart()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:19:01</date>
  <millis>1478801941813</millis>
  <sequence>1763</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with saved baud 115200...</message>
</record>
<record>
  <date>2016-11-11T02:19:01</date>
  <millis>1478801941876</millis>
  <sequence>1764</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success. Now we waiting for ESP reboot...</message>
</record>
<record>
  <date>2016-11-11T02:19:03</date>
  <millis>1478801943878</millis>
  <sequence>1765</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with baud 115200...</message>
</record>
<record>
  <date>2016-11-11T02:19:03</date>
  <millis>1478801943879</millis>
  <sequence>1766</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:print(uart.setup(0, 115200, 8, 0, 1, 1 ))&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:19:04</date>
  <millis>1478801944141</millis>
  <sequence>1767</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success.</message>
</record>
<record>
  <date>2016-11-11T02:19:04</date>
  <millis>1478801944159</millis>
  <sequence>1768</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:19:04</date>
  <millis>1478801944162</millis>
  <sequence>1769</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>98</thread>
  <message>
Communication with MCU established.</message>
</record>
<record>
  <date>2016-11-11T02:19:04</date>
  <millis>1478801944167</millis>
  <sequence>1770</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>98</thread>
  <message>sending:=node.heap()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:19:25</date>
  <millis>1478801965852</millis>
  <sequence>1771</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:node.restart()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:19:25</date>
  <millis>1478801965853</millis>
  <sequence>1772</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with saved baud 115200...</message>
</record>
<record>
  <date>2016-11-11T02:19:25</date>
  <millis>1478801965919</millis>
  <sequence>1773</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success. Now we waiting for ESP reboot...</message>
</record>
<record>
  <date>2016-11-11T02:19:27</date>
  <millis>1478801967920</millis>
  <sequence>1774</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with baud 115200...</message>
</record>
<record>
  <date>2016-11-11T02:19:27</date>
  <millis>1478801967921</millis>
  <sequence>1775</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:print(uart.setup(0, 115200, 8, 0, 1, 1 ))&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:19:28</date>
  <millis>1478801968186</millis>
  <sequence>1776</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success.</message>
</record>
<record>
  <date>2016-11-11T02:19:28</date>
  <millis>1478801968212</millis>
  <sequence>1777</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:19:28</date>
  <millis>1478801968215</millis>
  <sequence>1778</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>98</thread>
  <message>
Communication with MCU established.</message>
</record>
<record>
  <date>2016-11-11T02:19:28</date>
  <millis>1478801968219</millis>
  <sequence>1779</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>98</thread>
  <message>sending:=node.heap()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:19:50</date>
  <millis>1478801990154</millis>
  <sequence>1780</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to load file control.lua</message>
</record>
<record>
  <date>2016-11-11T02:19:50</date>
  <millis>1478801990164</millis>
  <sequence>1781</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Loading control.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T02:19:50</date>
  <millis>1478801990166</millis>
  <sequence>1782</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>File reload: Success.</message>
</record>
<record>
  <date>2016-11-11T02:19:51</date>
  <millis>1478801991076</millis>
  <sequence>1783</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>We save known file control.lua</message>
</record>
<record>
  <date>2016-11-11T02:19:51</date>
  <millis>1478801991076</millis>
  <sequence>1784</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to saving file control.lua ...</message>
</record>
<record>
  <date>2016-11-11T02:19:51</date>
  <millis>1478801991079</millis>
  <sequence>1785</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Save file control.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T02:19:51</date>
  <millis>1478801991085</millis>
  <sequence>1786</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP: Try to save file to ESP...</message>
</record>
<record>
  <date>2016-11-11T02:19:51</date>
  <millis>1478801991085</millis>
  <sequence>1787</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Try to save file to ESP in Turbo Mode...</message>
</record>
<record>
  <date>2016-11-11T02:19:51</date>
  <millis>1478801991093</millis>
  <sequence>1788</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>DataTurboSender: start "Smart Mode"</message>
</record>
<record>
  <date>2016-11-11T02:19:51</date>
  <millis>1478801991095</millis>
  <sequence>1789</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Starting...</message>
</record>
<record>
  <date>2016-11-11T02:19:51</date>
  <millis>1478801991205</millis>
  <sequence>1790</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local FILE="control.lua" file.remove(FILE) file.open(FILE,"w+") uart.setup(0,115200,8,0,1,0)</message>
</record>
<record>
  <date>2016-11-11T02:19:51</date>
  <millis>1478801991207</millis>
  <sequence>1791</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>99</thread>
  <message>recv:loc</message>
</record>
<record>
  <date>2016-11-11T02:19:51</date>
  <millis>1478801991210</millis>
  <sequence>1792</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>99</thread>
  <message>recv:al FILE="control.lua" file.remove(FILE) f</message>
</record>
<record>
  <date>2016-11-11T02:19:51</date>
  <millis>1478801991216</millis>
  <sequence>1793</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>99</thread>
  <message>recv:ile.open(FILE,"w+") uart.setup(0,115200,8,0,1,0)&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:19:51</date>
  <millis>1478801991398</millis>
  <sequence>1794</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>99</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:19:51</date>
  <millis>1478801991411</millis>
  <sequence>1795</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_Receiver=function(rcvBuf) if string.match(rcvBuf,"^ESP_cmd_close")==nil then file.write(string.gsub(rcvBuf, '\r', '')) uart.write(0, "&gt; ") else uart.on("data") </message>
</record>
<record>
  <date>2016-11-11T02:19:51</date>
  <millis>1478801991438</millis>
  <sequence>1796</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>99</thread>
  <message>recv:&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T02:19:51</date>
  <millis>1478801991449</millis>
  <sequence>1797</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:file.flush() file.close() FILE=nil rcvBuf=nil ESP_Receiver=nil uart.setup(0,115200,8,0,1,1) str="\r\n--Done--\r\n&gt; " print(str) str=nil collectgarbage() end end uart.on("data",'\r',ESP_Receiver,0)</message>
</record>
<record>
  <date>2016-11-11T02:19:51</date>
  <millis>1478801991505</millis>
  <sequence>1798</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>99</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:19:51</date>
  <millis>1478801991509</millis>
  <sequence>1799</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>99</thread>
  <message>recv:  Con</message>
</record>
<record>
  <date>2016-11-11T02:19:51</date>
  <millis>1478801991510</millis>
  <sequence>1800</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>99</thread>
  <message>recv:fig file NOT exi</message>
</record>
<record>
  <date>2016-11-11T02:19:51</date>
  <millis>1478801991513</millis>
  <sequence>1801</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>99</thread>
  <message>recv:sts, starting smartconfig..&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:19:51</date>
  <millis>1478801991526</millis>
  <sequence>1802</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local M = {}

-- status pin = 0, alarm 1
-- relay pin = 6 and 7, alarm 2, 3

function M.status_LED(delay)
    gpio.mode(0, gpio.OUTPUT)
    status0 = 0
        
    tmr.alarm(1, delay, 1, function()
        if status0 == 0 then
            status0 = 1
  </message>
</record>
<record>
  <date>2016-11-11T02:19:51</date>
  <millis>1478801991555</millis>
  <sequence>1803</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>99</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:19:51</date>
  <millis>1478801991571</millis>
  <sequence>1804</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:          gpio.write(0, gpio.HIGH)
        else
            status0 = 0
            gpio.write(0, gpio.LOW)
        end 
    end)
      
end

-- One on/off relay
function M.relay_onoff()
    gpio.mode(6, gpio.OUTPUT)
    gpio.mode(7, gpio.OUTPUT)
    gpi</message>
</record>
<record>
  <date>2016-11-11T02:19:51</date>
  <millis>1478801991601</millis>
  <sequence>1805</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>99</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:19:51</date>
  <millis>1478801991613</millis>
  <sequence>1806</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:o.write(6, gpio.LOW)
    gpio.write(7, gpio.LOW)
        
    tmr.alarm(2, 1000, tmr.ALARM_SINGLE, function() gpio.write(6, gpio.HIGH) end)
    tmr.alarm(3, 1000, tmr.ALARM_SINGLE, function() gpio.write(7, gpio.HIGH) end)
    tmr.alarm(2, 1000, tmr.ALARM</message>
</record>
<record>
  <date>2016-11-11T02:19:51</date>
  <millis>1478801991644</millis>
  <sequence>1807</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>99</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:19:51</date>
  <millis>1478801991656</millis>
  <sequence>1808</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:_SINGLE, function() gpio.write(6, gpio.LOW) end)
    tmr.alarm(3, 1000, tmr.ALARM_SINGLE, function() gpio.write(7, gpio.LOW) end)
end


-- loop relay
function M.relay_6(delay, mode)
    gpio.mode(6, gpio.OUTPUT)
    status1 = 0
        
    tmr.alarm(2, </message>
</record>
<record>
  <date>2016-11-11T02:19:51</date>
  <millis>1478801991687</millis>
  <sequence>1809</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>99</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:19:51</date>
  <millis>1478801991700</millis>
  <sequence>1810</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:delay, mode, function()
        if status1 == 0 then
            status1 = 1
            gpio.write(6, gpio.HIGH)
        else
            status1 = 0
            gpio.write(6, gpio.LOW)
        end 
    end)
      
end


function M.relay_7(delay, mode)
</message>
</record>
<record>
  <date>2016-11-11T02:19:51</date>
  <millis>1478801991731</millis>
  <sequence>1811</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>99</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:19:51</date>
  <millis>1478801991744</millis>
  <sequence>1812</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:    gpio.mode(7, gpio.OUTPUT)
    status2 = 0
        
    tmr.alarm(3, delay, mode, function()
        if status2 == 0 then
            status2 = 1
            gpio.write(7, gpio.HIGH)
        else
            status2 = 0
            gpio.write(7, gpio.</message>
</record>
<record>
  <date>2016-11-11T02:19:51</date>
  <millis>1478801991774</millis>
  <sequence>1813</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>99</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:19:51</date>
  <millis>1478801991786</millis>
  <sequence>1814</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:LOW)
        end 
    end)
      
end
return M
</message>
</record>
<record>
  <date>2016-11-11T02:19:51</date>
  <millis>1478801991798</millis>
  <sequence>1815</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>99</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:19:51</date>
  <millis>1478801991810</millis>
  <sequence>1816</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_cmd_close</message>
</record>
<record>
  <date>2016-11-11T02:19:51</date>
  <millis>1478801991822</millis>
  <sequence>1817</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>99</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:19:51</date>
  <millis>1478801991823</millis>
  <sequence>1818</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>99</thread>
  <message>recv:--Done--&lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T02:19:51</date>
  <millis>1478801991824</millis>
  <sequence>1819</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>99</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:19:51</date>
  <millis>1478801991843</millis>
  <sequence>1820</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:19:51</date>
  <millis>1478801991844</millis>
  <sequence>1821</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>99</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:19:51</date>
  <millis>1478801991845</millis>
  <sequence>1822</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>99</thread>
  <message>recv:&gt; &lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T02:19:51</date>
  <millis>1478801991871</millis>
  <sequence>1823</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:dofile("control.lua")</message>
</record>
<record>
  <date>2016-11-11T02:19:51</date>
  <millis>1478801991872</millis>
  <sequence>1824</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>99</thread>
  <message>recv:do</message>
</record>
<record>
  <date>2016-11-11T02:19:51</date>
  <millis>1478801991877</millis>
  <sequence>1825</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>99</thread>
  <message>recv:file("control.lua")&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:19:51</date>
  <millis>1478801991937</millis>
  <sequence>1826</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>99</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:19:52</date>
  <millis>1478801992023</millis>
  <sequence>1827</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>99</thread>
  <message>Operation done. Duration = 936 ms</message>
</record>
<record>
  <date>2016-11-11T02:19:52</date>
  <millis>1478801992580</millis>
  <sequence>1828</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:node.restart()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:19:52</date>
  <millis>1478801992581</millis>
  <sequence>1829</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with saved baud 115200...</message>
</record>
<record>
  <date>2016-11-11T02:19:52</date>
  <millis>1478801992644</millis>
  <sequence>1830</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success. Now we waiting for ESP reboot...</message>
</record>
<record>
  <date>2016-11-11T02:19:54</date>
  <millis>1478801994646</millis>
  <sequence>1831</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with baud 115200...</message>
</record>
<record>
  <date>2016-11-11T02:19:54</date>
  <millis>1478801994652</millis>
  <sequence>1832</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:print(uart.setup(0, 115200, 8, 0, 1, 1 ))&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:19:54</date>
  <millis>1478801994918</millis>
  <sequence>1833</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success.</message>
</record>
<record>
  <date>2016-11-11T02:19:54</date>
  <millis>1478801994942</millis>
  <sequence>1834</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:19:54</date>
  <millis>1478801994945</millis>
  <sequence>1835</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>100</thread>
  <message>
Communication with MCU established.</message>
</record>
<record>
  <date>2016-11-11T02:19:54</date>
  <millis>1478801994948</millis>
  <sequence>1836</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>100</thread>
  <message>sending:=node.heap()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:20:11</date>
  <millis>1478802011581</millis>
  <sequence>1837</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:node.restart()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:20:11</date>
  <millis>1478802011582</millis>
  <sequence>1838</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with saved baud 115200...</message>
</record>
<record>
  <date>2016-11-11T02:20:11</date>
  <millis>1478802011646</millis>
  <sequence>1839</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success. Now we waiting for ESP reboot...</message>
</record>
<record>
  <date>2016-11-11T02:20:13</date>
  <millis>1478802013647</millis>
  <sequence>1840</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with baud 115200...</message>
</record>
<record>
  <date>2016-11-11T02:20:13</date>
  <millis>1478802013651</millis>
  <sequence>1841</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:print(uart.setup(0, 115200, 8, 0, 1, 1 ))&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:20:13</date>
  <millis>1478802013914</millis>
  <sequence>1842</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success.</message>
</record>
<record>
  <date>2016-11-11T02:20:13</date>
  <millis>1478802013950</millis>
  <sequence>1843</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:20:13</date>
  <millis>1478802013953</millis>
  <sequence>1844</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>100</thread>
  <message>
Communication with MCU established.</message>
</record>
<record>
  <date>2016-11-11T02:20:14</date>
  <millis>1478802014055</millis>
  <sequence>1845</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>100</thread>
  <message>sending:=node.heap()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:20:17</date>
  <millis>1478802017858</millis>
  <sequence>1846</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to load file control.lua</message>
</record>
<record>
  <date>2016-11-11T02:20:17</date>
  <millis>1478802017906</millis>
  <sequence>1847</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Loading control.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T02:20:17</date>
  <millis>1478802017912</millis>
  <sequence>1848</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>File reload: Success.</message>
</record>
<record>
  <date>2016-11-11T02:20:19</date>
  <millis>1478802019489</millis>
  <sequence>1849</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>We save known file control.lua</message>
</record>
<record>
  <date>2016-11-11T02:20:19</date>
  <millis>1478802019490</millis>
  <sequence>1850</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to saving file control.lua ...</message>
</record>
<record>
  <date>2016-11-11T02:20:19</date>
  <millis>1478802019494</millis>
  <sequence>1851</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Save file control.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T02:20:19</date>
  <millis>1478802019498</millis>
  <sequence>1852</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP: Try to save file to ESP...</message>
</record>
<record>
  <date>2016-11-11T02:20:19</date>
  <millis>1478802019500</millis>
  <sequence>1853</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Try to save file to ESP in Turbo Mode...</message>
</record>
<record>
  <date>2016-11-11T02:20:19</date>
  <millis>1478802019507</millis>
  <sequence>1854</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>DataTurboSender: start "Smart Mode"</message>
</record>
<record>
  <date>2016-11-11T02:20:19</date>
  <millis>1478802019508</millis>
  <sequence>1855</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Starting...</message>
</record>
<record>
  <date>2016-11-11T02:20:19</date>
  <millis>1478802019641</millis>
  <sequence>1856</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local FILE="control.lua" file.remove(FILE) file.open(FILE,"w+") uart.setup(0,115200,8,0,1,0)</message>
</record>
<record>
  <date>2016-11-11T02:20:19</date>
  <millis>1478802019643</millis>
  <sequence>1857</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>101</thread>
  <message>recv:l</message>
</record>
<record>
  <date>2016-11-11T02:20:19</date>
  <millis>1478802019656</millis>
  <sequence>1858</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>101</thread>
  <message>recv:ocal FILE="control.lua" fil</message>
</record>
<record>
  <date>2016-11-11T02:20:19</date>
  <millis>1478802019657</millis>
  <sequence>1859</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>101</thread>
  <message>recv:e.remove(FILE) file.open(FILE,"w+") uart.setup(0,115200,8,0,1,0)&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:20:19</date>
  <millis>1478802019832</millis>
  <sequence>1860</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>101</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:20:19</date>
  <millis>1478802019847</millis>
  <sequence>1861</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_Receiver=function(rcvBuf) if string.match(rcvBuf,"^ESP_cmd_close")==nil then file.write(string.gsub(rcvBuf, '\r', '')) uart.write(0, "&gt; ") else uart.on("data") </message>
</record>
<record>
  <date>2016-11-11T02:20:19</date>
  <millis>1478802019873</millis>
  <sequence>1862</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>101</thread>
  <message>recv:&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T02:20:19</date>
  <millis>1478802019908</millis>
  <sequence>1863</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:file.flush() file.close() FILE=nil rcvBuf=nil ESP_Receiver=nil uart.setup(0,115200,8,0,1,1) str="\r\n--Done--\r\n&gt; " print(str) str=nil collectgarbage() end end uart.on("data",'\r',ESP_Receiver,0)</message>
</record>
<record>
  <date>2016-11-11T02:20:19</date>
  <millis>1478802019947</millis>
  <sequence>1864</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>101</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:20:19</date>
  <millis>1478802019961</millis>
  <sequence>1865</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local M = {}

-- status pin = 0, alarm 1
-- relay pin = 6 and 7, alarm 2, 3

function M.status_LED(delay)
    gpio.mode(0, gpio.OUTPUT)
    status0 = 0
        
    tmr.alarm(1, delay, 1, function()
        if status0 == 0 then
            status0 = 1
  </message>
</record>
<record>
  <date>2016-11-11T02:20:19</date>
  <millis>1478802019990</millis>
  <sequence>1866</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>101</thread>
  <message>recv:&gt;</message>
</record>
<record>
  <date>2016-11-11T02:20:19</date>
  <millis>1478802019991</millis>
  <sequence>1867</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>101</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T02:20:20</date>
  <millis>1478802020009</millis>
  <sequence>1868</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:          gpio.write(0, gpio.HIGH)
        else
            status0 = 0
            gpio.write(0, gpio.LOW)
        end 
    end)
      
end

-- One on/off relay
function M.relay_onoff()
    gpio.mode(6, gpio.OUTPUT)
    gpio.mode(7, gpio.OUTPUT)
    gpi</message>
</record>
<record>
  <date>2016-11-11T02:20:20</date>
  <millis>1478802020041</millis>
  <sequence>1869</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>101</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:20:20</date>
  <millis>1478802020055</millis>
  <sequence>1870</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:o.write(6, gpio.LOW)
    gpio.write(7, gpio.LOW)
        
    tmr.alarm(2, 1000, tmr.ALARM_SINGLE, function() gpio.write(6, gpio.HIGH) end)
    tmr.alarm(3, 1000, tmr.ALARM_SINGLE, function() gpio.write(7, gpio.HIGH) end)
    tmr.alarm(5, 1000, tmr.ALARM</message>
</record>
<record>
  <date>2016-11-11T02:20:20</date>
  <millis>1478802020086</millis>
  <sequence>1871</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>101</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:20:20</date>
  <millis>1478802020100</millis>
  <sequence>1872</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:_SINGLE, function() gpio.write(6, gpio.LOW) end)
    tmr.alarm(6, 1000, tmr.ALARM_SINGLE, function() gpio.write(7, gpio.LOW) end)
end


-- loop relay
function M.relay_6(delay, mode)
    gpio.mode(6, gpio.OUTPUT)
    status1 = 0
        
    tmr.alarm(2, </message>
</record>
<record>
  <date>2016-11-11T02:20:20</date>
  <millis>1478802020131</millis>
  <sequence>1873</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>101</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:20:20</date>
  <millis>1478802020144</millis>
  <sequence>1874</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:delay, mode, function()
        if status1 == 0 then
            status1 = 1
            gpio.write(6, gpio.HIGH)
        else
            status1 = 0
            gpio.write(6, gpio.LOW)
        end 
    end)
      
end


function M.relay_7(delay, mode)
</message>
</record>
<record>
  <date>2016-11-11T02:20:20</date>
  <millis>1478802020175</millis>
  <sequence>1875</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>101</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:20:20</date>
  <millis>1478802020188</millis>
  <sequence>1876</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:    gpio.mode(7, gpio.OUTPUT)
    status2 = 0
        
    tmr.alarm(3, delay, mode, function()
        if status2 == 0 then
            status2 = 1
            gpio.write(7, gpio.HIGH)
        else
            status2 = 0
            gpio.write(7, gpio.</message>
</record>
<record>
  <date>2016-11-11T02:20:20</date>
  <millis>1478802020219</millis>
  <sequence>1877</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>101</thread>
  <message>recv:&gt;</message>
</record>
<record>
  <date>2016-11-11T02:20:20</date>
  <millis>1478802020221</millis>
  <sequence>1878</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>101</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T02:20:20</date>
  <millis>1478802020240</millis>
  <sequence>1879</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:LOW)
        end 
    end)
      
end
return M
</message>
</record>
<record>
  <date>2016-11-11T02:20:20</date>
  <millis>1478802020253</millis>
  <sequence>1880</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>101</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:20:20</date>
  <millis>1478802020268</millis>
  <sequence>1881</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_cmd_close</message>
</record>
<record>
  <date>2016-11-11T02:20:20</date>
  <millis>1478802020280</millis>
  <sequence>1882</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>101</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;--</message>
</record>
<record>
  <date>2016-11-11T02:20:20</date>
  <millis>1478802020281</millis>
  <sequence>1883</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>101</thread>
  <message>recv:Done--&lt;CR&gt;&lt;LF&gt;&gt; &lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:20:20</date>
  <millis>1478802020306</millis>
  <sequence>1884</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:20:20</date>
  <millis>1478802020308</millis>
  <sequence>1885</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>101</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:20:20</date>
  <millis>1478802020310</millis>
  <sequence>1886</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>101</thread>
  <message>recv:&gt; &lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T02:20:20</date>
  <millis>1478802020358</millis>
  <sequence>1887</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:dofile("control.lua")</message>
</record>
<record>
  <date>2016-11-11T02:20:20</date>
  <millis>1478802020360</millis>
  <sequence>1888</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>101</thread>
  <message>recv:dof</message>
</record>
<record>
  <date>2016-11-11T02:20:20</date>
  <millis>1478802020361</millis>
  <sequence>1889</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>101</thread>
  <message>recv:ile("control.lua"</message>
</record>
<record>
  <date>2016-11-11T02:20:20</date>
  <millis>1478802020363</millis>
  <sequence>1890</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>101</thread>
  <message>recv:)&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:20:20</date>
  <millis>1478802020425</millis>
  <sequence>1891</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>101</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:20:20</date>
  <millis>1478802020474</millis>
  <sequence>1892</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>101</thread>
  <message>Operation done. Duration = 974 ms</message>
</record>
<record>
  <date>2016-11-11T02:20:21</date>
  <millis>1478802021017</millis>
  <sequence>1893</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:node.restart()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:20:21</date>
  <millis>1478802021020</millis>
  <sequence>1894</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with saved baud 115200...</message>
</record>
<record>
  <date>2016-11-11T02:20:21</date>
  <millis>1478802021083</millis>
  <sequence>1895</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success. Now we waiting for ESP reboot...</message>
</record>
<record>
  <date>2016-11-11T02:20:23</date>
  <millis>1478802023086</millis>
  <sequence>1896</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with baud 115200...</message>
</record>
<record>
  <date>2016-11-11T02:20:23</date>
  <millis>1478802023087</millis>
  <sequence>1897</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:print(uart.setup(0, 115200, 8, 0, 1, 1 ))&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:20:23</date>
  <millis>1478802023350</millis>
  <sequence>1898</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success.</message>
</record>
<record>
  <date>2016-11-11T02:20:23</date>
  <millis>1478802023400</millis>
  <sequence>1899</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:20:23</date>
  <millis>1478802023402</millis>
  <sequence>1900</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>102</thread>
  <message>
Communication with MCU established.</message>
</record>
<record>
  <date>2016-11-11T02:24:27</date>
  <millis>1478802267990</millis>
  <sequence>1901</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to load file control.lua</message>
</record>
<record>
  <date>2016-11-11T02:24:28</date>
  <millis>1478802268022</millis>
  <sequence>1902</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Loading control.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T02:24:28</date>
  <millis>1478802268023</millis>
  <sequence>1903</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>File reload: Success.</message>
</record>
<record>
  <date>2016-11-11T02:24:28</date>
  <millis>1478802268872</millis>
  <sequence>1904</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>We save known file control.lua</message>
</record>
<record>
  <date>2016-11-11T02:24:28</date>
  <millis>1478802268873</millis>
  <sequence>1905</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to saving file control.lua ...</message>
</record>
<record>
  <date>2016-11-11T02:24:28</date>
  <millis>1478802268876</millis>
  <sequence>1906</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Save file control.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T02:24:28</date>
  <millis>1478802268888</millis>
  <sequence>1907</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP: Try to save file to ESP...</message>
</record>
<record>
  <date>2016-11-11T02:24:28</date>
  <millis>1478802268889</millis>
  <sequence>1908</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Try to save file to ESP in Turbo Mode...</message>
</record>
<record>
  <date>2016-11-11T02:24:28</date>
  <millis>1478802268898</millis>
  <sequence>1909</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>DataTurboSender: start "Smart Mode"</message>
</record>
<record>
  <date>2016-11-11T02:24:28</date>
  <millis>1478802268899</millis>
  <sequence>1910</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Starting...</message>
</record>
<record>
  <date>2016-11-11T02:24:29</date>
  <millis>1478802269037</millis>
  <sequence>1911</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local FILE="control.lua" file.remove(FILE) file.open(FILE,"w+") uart.setup(0,115200,8,0,1,0)</message>
</record>
<record>
  <date>2016-11-11T02:24:29</date>
  <millis>1478802269039</millis>
  <sequence>1912</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>103</thread>
  <message>recv:loca</message>
</record>
<record>
  <date>2016-11-11T02:24:29</date>
  <millis>1478802269045</millis>
  <sequence>1913</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>103</thread>
  <message>recv:l FILE="control.lua" file.remove(FILE) file.open(FILE,"w+</message>
</record>
<record>
  <date>2016-11-11T02:24:29</date>
  <millis>1478802269047</millis>
  <sequence>1914</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>103</thread>
  <message>recv:") uart.setup(0,115200,8,</message>
</record>
<record>
  <date>2016-11-11T02:24:29</date>
  <millis>1478802269049</millis>
  <sequence>1915</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>103</thread>
  <message>recv:0,1,0)&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:24:29</date>
  <millis>1478802269234</millis>
  <sequence>1916</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>103</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:24:29</date>
  <millis>1478802269248</millis>
  <sequence>1917</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_Receiver=function(rcvBuf) if string.match(rcvBuf,"^ESP_cmd_close")==nil then file.write(string.gsub(rcvBuf, '\r', '')) uart.write(0, "&gt; ") else uart.on("data") </message>
</record>
<record>
  <date>2016-11-11T02:24:29</date>
  <millis>1478802269275</millis>
  <sequence>1918</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>103</thread>
  <message>recv:&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T02:24:29</date>
  <millis>1478802269288</millis>
  <sequence>1919</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:file.flush() file.close() FILE=nil rcvBuf=nil ESP_Receiver=nil uart.setup(0,115200,8,0,1,1) str="\r\n--Done--\r\n&gt; " print(str) str=nil collectgarbage() end end uart.on("data",'\r',ESP_Receiver,0)</message>
</record>
<record>
  <date>2016-11-11T02:24:29</date>
  <millis>1478802269326</millis>
  <sequence>1920</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>103</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:24:29</date>
  <millis>1478802269341</millis>
  <sequence>1921</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local M = {}

-- status pin = 0, alarm 1
-- relay pin = 6 and 7, alarm 2, 3

function M.status_LED(delay)
    gpio.mode(0, gpio.OUTPUT)
    status0 = 0
        
    tmr.alarm(1, delay, 1, function()
        if status0 == 0 then
            status0 = 1
  </message>
</record>
<record>
  <date>2016-11-11T02:24:29</date>
  <millis>1478802269371</millis>
  <sequence>1922</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>103</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:24:29</date>
  <millis>1478802269388</millis>
  <sequence>1923</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:          gpio.write(0, gpio.HIGH)
        else
            status0 = 0
            gpio.write(0, gpio.LOW)
        end 
    end)
      
end

-- One on/off relay
function M.relay_onoff()
    gpio.mode(6, gpio.OUTPUT)
    gpio.mode(7, gpio.OUTPUT)
    gpi</message>
</record>
<record>
  <date>2016-11-11T02:24:29</date>
  <millis>1478802269419</millis>
  <sequence>1924</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>103</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:24:29</date>
  <millis>1478802269432</millis>
  <sequence>1925</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:o.write(6, gpio.LOW)
    gpio.write(7, gpio.LOW)
        
    tmr.alarm(2, 1000, 0, function() gpio.write(6, gpio.HIGH) end)
    tmr.alarm(3, 1000, 0, function() gpio.write(7, gpio.HIGH) end)

end


-- loop relay
function M.relay_6(delay, mode)
    gpio.</message>
</record>
<record>
  <date>2016-11-11T02:24:29</date>
  <millis>1478802269463</millis>
  <sequence>1926</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>103</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:24:29</date>
  <millis>1478802269479</millis>
  <sequence>1927</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:mode(6, gpio.OUTPUT)
    status1 = 0
        
    tmr.alarm(2, delay, mode, function()
        if status1 == 0 then
            status1 = 1
            gpio.write(6, gpio.HIGH)
        else
            status1 = 0
            gpio.write(6, gpio.LOW)
    </message>
</record>
<record>
  <date>2016-11-11T02:24:29</date>
  <millis>1478802269510</millis>
  <sequence>1928</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>103</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:24:29</date>
  <millis>1478802269524</millis>
  <sequence>1929</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:    end 
    end)
      
end


function M.relay_7(delay, mode)
    gpio.mode(7, gpio.OUTPUT)
    status2 = 0
        
    tmr.alarm(3, delay, mode, function()
        if status2 == 0 then
            status2 = 1
            gpio.write(7, gpio.HIGH)
     </message>
</record>
<record>
  <date>2016-11-11T02:24:29</date>
  <millis>1478802269554</millis>
  <sequence>1930</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>103</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:24:29</date>
  <millis>1478802269567</millis>
  <sequence>1931</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:   else
            status2 = 0
            gpio.write(7, gpio.LOW)
        end 
    end)
      
end
return M
</message>
</record>
<record>
  <date>2016-11-11T02:24:29</date>
  <millis>1478802269585</millis>
  <sequence>1932</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>103</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:24:29</date>
  <millis>1478802269597</millis>
  <sequence>1933</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_cmd_close</message>
</record>
<record>
  <date>2016-11-11T02:24:29</date>
  <millis>1478802269609</millis>
  <sequence>1934</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>103</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;-</message>
</record>
<record>
  <date>2016-11-11T02:24:29</date>
  <millis>1478802269610</millis>
  <sequence>1935</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>103</thread>
  <message>recv:-Done--&lt;CR&gt;&lt;LF&gt;&gt; &lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:24:29</date>
  <millis>1478802269633</millis>
  <sequence>1936</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:24:29</date>
  <millis>1478802269635</millis>
  <sequence>1937</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>103</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:24:29</date>
  <millis>1478802269637</millis>
  <sequence>1938</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>103</thread>
  <message>recv:&gt; &lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T02:24:29</date>
  <millis>1478802269673</millis>
  <sequence>1939</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:dofile("control.lua")</message>
</record>
<record>
  <date>2016-11-11T02:24:29</date>
  <millis>1478802269674</millis>
  <sequence>1940</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>103</thread>
  <message>recv:dof</message>
</record>
<record>
  <date>2016-11-11T02:24:29</date>
  <millis>1478802269676</millis>
  <sequence>1941</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>103</thread>
  <message>recv:ile("control.lu</message>
</record>
<record>
  <date>2016-11-11T02:24:29</date>
  <millis>1478802269677</millis>
  <sequence>1942</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>103</thread>
  <message>recv:a")&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:24:29</date>
  <millis>1478802269735</millis>
  <sequence>1943</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>103</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:24:29</date>
  <millis>1478802269764</millis>
  <sequence>1944</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>103</thread>
  <message>Operation done. Duration = 873 ms</message>
</record>
<record>
  <date>2016-11-11T02:24:31</date>
  <millis>1478802271056</millis>
  <sequence>1945</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:node.restart()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:24:31</date>
  <millis>1478802271057</millis>
  <sequence>1946</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with saved baud 115200...</message>
</record>
<record>
  <date>2016-11-11T02:24:31</date>
  <millis>1478802271121</millis>
  <sequence>1947</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success. Now we waiting for ESP reboot...</message>
</record>
<record>
  <date>2016-11-11T02:24:33</date>
  <millis>1478802273123</millis>
  <sequence>1948</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with baud 115200...</message>
</record>
<record>
  <date>2016-11-11T02:24:33</date>
  <millis>1478802273124</millis>
  <sequence>1949</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:print(uart.setup(0, 115200, 8, 0, 1, 1 ))&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:24:33</date>
  <millis>1478802273389</millis>
  <sequence>1950</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success.</message>
</record>
<record>
  <date>2016-11-11T02:24:33</date>
  <millis>1478802273441</millis>
  <sequence>1951</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:24:33</date>
  <millis>1478802273443</millis>
  <sequence>1952</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>104</thread>
  <message>
Communication with MCU established.</message>
</record>
<record>
  <date>2016-11-11T02:25:26</date>
  <millis>1478802326026</millis>
  <sequence>1953</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>DataSender: start "Smart Mode"</message>
</record>
<record>
  <date>2016-11-11T02:25:26</date>
  <millis>1478802326027</millis>
  <sequence>1954</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>SendToESP: Starting...</message>
</record>
<record>
  <date>2016-11-11T02:25:26</date>
  <millis>1478802326158</millis>
  <sequence>1955</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local M = {}&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:25:26</date>
  <millis>1478802326160</millis>
  <sequence>1956</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv:loc</message>
</record>
<record>
  <date>2016-11-11T02:25:26</date>
  <millis>1478802326163</millis>
  <sequence>1957</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv:al M = {}&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:25:26</date>
  <millis>1478802326168</millis>
  <sequence>1958</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:25:26</date>
  <millis>1478802326202</millis>
  <sequence>1959</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:25:26</date>
  <millis>1478802326204</millis>
  <sequence>1960</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv:</message>
</record>
<record>
  <date>2016-11-11T02:25:26</date>
  <millis>1478802326233</millis>
  <sequence>1961</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:-- status pin = 0, alarm 1&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:25:26</date>
  <millis>1478802326234</millis>
  <sequence>1962</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv:--</message>
</record>
<record>
  <date>2016-11-11T02:25:26</date>
  <millis>1478802326237</millis>
  <sequence>1963</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv: status pin = 0, alarm 1&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:25:26</date>
  <millis>1478802326248</millis>
  <sequence>1964</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:25:26</date>
  <millis>1478802326274</millis>
  <sequence>1965</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:-- relay pin = 6 and 7, alarm 2, 3&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:25:26</date>
  <millis>1478802326276</millis>
  <sequence>1966</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv:-- </message>
</record>
<record>
  <date>2016-11-11T02:25:26</date>
  <millis>1478802326279</millis>
  <sequence>1967</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv:relay pin = 6 and 7, alarm 2, 3&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:25:26</date>
  <millis>1478802326285</millis>
  <sequence>1968</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:25:26</date>
  <millis>1478802326317</millis>
  <sequence>1969</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:25:26</date>
  <millis>1478802326319</millis>
  <sequence>1970</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;&gt;</message>
</record>
<record>
  <date>2016-11-11T02:25:26</date>
  <millis>1478802326322</millis>
  <sequence>1971</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T02:25:26</date>
  <millis>1478802326352</millis>
  <sequence>1972</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:function M.status_LED(delay)&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:25:26</date>
  <millis>1478802326354</millis>
  <sequence>1973</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv:fu</message>
</record>
<record>
  <date>2016-11-11T02:25:26</date>
  <millis>1478802326357</millis>
  <sequence>1974</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv:nction M.status_LED(delay)&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:25:26</date>
  <millis>1478802326363</millis>
  <sequence>1975</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv:</message>
</record>
<record>
  <date>2016-11-11T02:25:26</date>
  <millis>1478802326364</millis>
  <sequence>1976</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T02:25:26</date>
  <millis>1478802326388</millis>
  <sequence>1977</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:gpio.mode(0, gpio.OUTPUT)&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:25:26</date>
  <millis>1478802326389</millis>
  <sequence>1978</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv:gp</message>
</record>
<record>
  <date>2016-11-11T02:25:26</date>
  <millis>1478802326393</millis>
  <sequence>1979</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv:io.mode(0, gpio.OUTPUT)&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:25:26</date>
  <millis>1478802326404</millis>
  <sequence>1980</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv:</message>
</record>
<record>
  <date>2016-11-11T02:25:26</date>
  <millis>1478802326431</millis>
  <sequence>1981</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:status0 = 0&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:25:26</date>
  <millis>1478802326433</millis>
  <sequence>1982</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv:st</message>
</record>
<record>
  <date>2016-11-11T02:25:26</date>
  <millis>1478802326436</millis>
  <sequence>1983</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv:atus0 = 0&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:25:26</date>
  <millis>1478802326446</millis>
  <sequence>1984</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv:</message>
</record>
<record>
  <date>2016-11-11T02:25:26</date>
  <millis>1478802326471</millis>
  <sequence>1985</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:25:26</date>
  <millis>1478802326473</millis>
  <sequence>1986</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;&gt;</message>
</record>
<record>
  <date>2016-11-11T02:25:26</date>
  <millis>1478802326476</millis>
  <sequence>1987</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:25:26</date>
  <millis>1478802326507</millis>
  <sequence>1988</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:tmr.alarm(1, delay, 1, function()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:25:26</date>
  <millis>1478802326508</millis>
  <sequence>1989</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv:t</message>
</record>
<record>
  <date>2016-11-11T02:25:26</date>
  <millis>1478802326513</millis>
  <sequence>1990</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv:mr.alarm(1, delay, 1, function()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:25:26</date>
  <millis>1478802326524</millis>
  <sequence>1991</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv:&gt;</message>
</record>
<record>
  <date>2016-11-11T02:25:26</date>
  <millis>1478802326525</millis>
  <sequence>1992</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:25:26</date>
  <millis>1478802326541</millis>
  <sequence>1993</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:if status0 == 0 then&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:25:26</date>
  <millis>1478802326543</millis>
  <sequence>1994</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv:if</message>
</record>
<record>
  <date>2016-11-11T02:25:26</date>
  <millis>1478802326545</millis>
  <sequence>1995</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv: status0 == 0 t</message>
</record>
<record>
  <date>2016-11-11T02:25:26</date>
  <millis>1478802326548</millis>
  <sequence>1996</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv:hen&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:25:26</date>
  <millis>1478802326560</millis>
  <sequence>1997</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv:&gt;</message>
</record>
<record>
  <date>2016-11-11T02:25:26</date>
  <millis>1478802326563</millis>
  <sequence>1998</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:25:26</date>
  <millis>1478802326583</millis>
  <sequence>1999</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:status0 = 1&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:25:26</date>
  <millis>1478802326585</millis>
  <sequence>2000</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv:stat</message>
</record>
<record>
  <date>2016-11-11T02:25:26</date>
  <millis>1478802326590</millis>
  <sequence>2001</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv:us0 = 1&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:25:26</date>
  <millis>1478802326600</millis>
  <sequence>2002</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv:</message>
</record>
<record>
  <date>2016-11-11T02:25:26</date>
  <millis>1478802326630</millis>
  <sequence>2003</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:gpio.write(0, gpio.HIGH)&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:25:26</date>
  <millis>1478802326631</millis>
  <sequence>2004</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv:gp</message>
</record>
<record>
  <date>2016-11-11T02:25:26</date>
  <millis>1478802326636</millis>
  <sequence>2005</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv:io.write(0, gpio.HIGH)&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:25:26</date>
  <millis>1478802326649</millis>
  <sequence>2006</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv:</message>
</record>
<record>
  <date>2016-11-11T02:25:26</date>
  <millis>1478802326650</millis>
  <sequence>2007</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T02:25:26</date>
  <millis>1478802326667</millis>
  <sequence>2008</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:else&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:25:26</date>
  <millis>1478802326668</millis>
  <sequence>2009</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv:el</message>
</record>
<record>
  <date>2016-11-11T02:25:26</date>
  <millis>1478802326672</millis>
  <sequence>2010</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv:se&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:25:26</date>
  <millis>1478802326684</millis>
  <sequence>2011</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv:</message>
</record>
<record>
  <date>2016-11-11T02:25:26</date>
  <millis>1478802326711</millis>
  <sequence>2012</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:status0 = 0&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:25:26</date>
  <millis>1478802326713</millis>
  <sequence>2013</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv:st</message>
</record>
<record>
  <date>2016-11-11T02:25:26</date>
  <millis>1478802326717</millis>
  <sequence>2014</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv:atus0 = 0&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:25:26</date>
  <millis>1478802326730</millis>
  <sequence>2015</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv:</message>
</record>
<record>
  <date>2016-11-11T02:25:26</date>
  <millis>1478802326750</millis>
  <sequence>2016</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:gpio.write(0, gpio.LOW)&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:25:26</date>
  <millis>1478802326752</millis>
  <sequence>2017</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv:gpio</message>
</record>
<record>
  <date>2016-11-11T02:25:26</date>
  <millis>1478802326756</millis>
  <sequence>2018</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv:.write(0, gpio.LOW)&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:25:26</date>
  <millis>1478802326770</millis>
  <sequence>2019</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv:</message>
</record>
<record>
  <date>2016-11-11T02:25:26</date>
  <millis>1478802326771</millis>
  <sequence>2020</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T02:25:26</date>
  <millis>1478802326786</millis>
  <sequence>2021</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:end&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:25:26</date>
  <millis>1478802326789</millis>
  <sequence>2022</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv:e</message>
</record>
<record>
  <date>2016-11-11T02:25:26</date>
  <millis>1478802326791</millis>
  <sequence>2023</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv:nd&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:25:26</date>
  <millis>1478802326805</millis>
  <sequence>2024</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv:</message>
</record>
<record>
  <date>2016-11-11T02:25:26</date>
  <millis>1478802326809</millis>
  <sequence>2025</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv:  C</message>
</record>
<record>
  <date>2016-11-11T02:25:26</date>
  <millis>1478802326810</millis>
  <sequence>2026</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv:onfig file NOT exists</message>
</record>
<record>
  <date>2016-11-11T02:25:26</date>
  <millis>1478802326814</millis>
  <sequence>2027</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv:, starting smartconfig..&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:25:26</date>
  <millis>1478802326828</millis>
  <sequence>2028</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:end)&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:25:26</date>
  <millis>1478802326829</millis>
  <sequence>2029</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv:en</message>
</record>
<record>
  <date>2016-11-11T02:25:26</date>
  <millis>1478802326831</millis>
  <sequence>2030</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv:d)&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:25:26</date>
  <millis>1478802326847</millis>
  <sequence>2031</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv:</message>
</record>
<record>
  <date>2016-11-11T02:25:26</date>
  <millis>1478802326863</millis>
  <sequence>2032</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:end&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:25:26</date>
  <millis>1478802326864</millis>
  <sequence>2033</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv:en</message>
</record>
<record>
  <date>2016-11-11T02:25:26</date>
  <millis>1478802326865</millis>
  <sequence>2034</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv:d&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:25:26</date>
  <millis>1478802326897</millis>
  <sequence>2035</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:25:26</date>
  <millis>1478802326916</millis>
  <sequence>2036</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv:s</message>
</record>
<record>
  <date>2016-11-11T02:25:26</date>
  <millis>1478802326917</millis>
  <sequence>2037</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv:tdin:1: attemp</message>
</record>
<record>
  <date>2016-11-11T02:25:26</date>
  <millis>1478802326920</millis>
  <sequence>2038</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv:t to index global 'M' (a nil val</message>
</record>
<record>
  <date>2016-11-11T02:25:26</date>
  <millis>1478802326924</millis>
  <sequence>2039</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv:ue)&lt;CR&gt;&lt;LF&gt;stack traceback:&lt;CR&gt;&lt;LF&gt;	stdin:1: in main chunk&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:25:26</date>
  <millis>1478802326926</millis>
  <sequence>2040</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:25:26</date>
  <millis>1478802326957</millis>
  <sequence>2041</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:-- One on/off relay&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:25:26</date>
  <millis>1478802326958</millis>
  <sequence>2042</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv:-- O</message>
</record>
<record>
  <date>2016-11-11T02:25:26</date>
  <millis>1478802326961</millis>
  <sequence>2043</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv:ne on/off relay&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:25:28</date>
  <millis>1478802328391</millis>
  <sequence>2044</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:25:28</date>
  <millis>1478802328425</millis>
  <sequence>2045</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:function M.relay_onoff()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:25:28</date>
  <millis>1478802328427</millis>
  <sequence>2046</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv:f</message>
</record>
<record>
  <date>2016-11-11T02:25:28</date>
  <millis>1478802328431</millis>
  <sequence>2047</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv:unction M.relay_onoff()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:25:28</date>
  <millis>1478802328436</millis>
  <sequence>2048</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv:</message>
</record>
<record>
  <date>2016-11-11T02:25:28</date>
  <millis>1478802328465</millis>
  <sequence>2049</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:gpio.mode(6, gpio.OUTPUT)&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:25:28</date>
  <millis>1478802328466</millis>
  <sequence>2050</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv:g</message>
</record>
<record>
  <date>2016-11-11T02:25:28</date>
  <millis>1478802328469</millis>
  <sequence>2051</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv:pio.mode(6, gpio.OUTPUT)&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:25:28</date>
  <millis>1478802328480</millis>
  <sequence>2052</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv:&gt;</message>
</record>
<record>
  <date>2016-11-11T02:25:28</date>
  <millis>1478802328482</millis>
  <sequence>2053</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:25:28</date>
  <millis>1478802328514</millis>
  <sequence>2054</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:gpio.mode(7, gpio.OUTPUT)&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:25:28</date>
  <millis>1478802328515</millis>
  <sequence>2055</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv:gp</message>
</record>
<record>
  <date>2016-11-11T02:25:28</date>
  <millis>1478802328519</millis>
  <sequence>2056</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv:io.mode(7, gpio.OUTPUT)&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:25:28</date>
  <millis>1478802328530</millis>
  <sequence>2057</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv:</message>
</record>
<record>
  <date>2016-11-11T02:25:28</date>
  <millis>1478802328531</millis>
  <sequence>2058</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T02:25:28</date>
  <millis>1478802328560</millis>
  <sequence>2059</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:gpio.write(6, gpio.LOW)&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:25:28</date>
  <millis>1478802328562</millis>
  <sequence>2060</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv:gpi</message>
</record>
<record>
  <date>2016-11-11T02:25:28</date>
  <millis>1478802328565</millis>
  <sequence>2061</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv:o.write(6, gpio.LOW)&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:25:28</date>
  <millis>1478802328577</millis>
  <sequence>2062</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv:&gt;</message>
</record>
<record>
  <date>2016-11-11T02:25:28</date>
  <millis>1478802328580</millis>
  <sequence>2063</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:25:28</date>
  <millis>1478802328600</millis>
  <sequence>2064</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:gpio.write(7, gpio.LOW)&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:25:28</date>
  <millis>1478802328602</millis>
  <sequence>2065</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv:gp</message>
</record>
<record>
  <date>2016-11-11T02:25:28</date>
  <millis>1478802328605</millis>
  <sequence>2066</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv:io.write(7, gpio.LOW)&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:25:28</date>
  <millis>1478802328617</millis>
  <sequence>2067</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv:</message>
</record>
<record>
  <date>2016-11-11T02:25:28</date>
  <millis>1478802328618</millis>
  <sequence>2068</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T02:25:28</date>
  <millis>1478802328642</millis>
  <sequence>2069</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:25:28</date>
  <millis>1478802328643</millis>
  <sequence>2070</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:25:28</date>
  <millis>1478802328646</millis>
  <sequence>2071</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv:</message>
</record>
<record>
  <date>2016-11-11T02:25:28</date>
  <millis>1478802328675</millis>
  <sequence>2072</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:tmr.alarm(2, 1000, 0, function() gpio.write(6, gpio.HIGH) end)&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:25:28</date>
  <millis>1478802328676</millis>
  <sequence>2073</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv:t</message>
</record>
<record>
  <date>2016-11-11T02:25:28</date>
  <millis>1478802328679</millis>
  <sequence>2074</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv:mr.alarm(2, 1000, 0, funct</message>
</record>
<record>
  <date>2016-11-11T02:25:28</date>
  <millis>1478802328681</millis>
  <sequence>2075</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv:ion() gpio.write(6, gpio.HIGH) e</message>
</record>
<record>
  <date>2016-11-11T02:25:28</date>
  <millis>1478802328682</millis>
  <sequence>2076</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv:nd)&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:25:28</date>
  <millis>1478802328698</millis>
  <sequence>2077</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv:</message>
</record>
<record>
  <date>2016-11-11T02:25:28</date>
  <millis>1478802328699</millis>
  <sequence>2078</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T02:25:28</date>
  <millis>1478802328717</millis>
  <sequence>2079</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:tmr.alarm(3, 1000, 0, function() gpio.write(7, gpio.HIGH) end)&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:25:28</date>
  <millis>1478802328719</millis>
  <sequence>2080</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv:t</message>
</record>
<record>
  <date>2016-11-11T02:25:28</date>
  <millis>1478802328720</millis>
  <sequence>2081</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv:mr.alarm(3, 1000,</message>
</record>
<record>
  <date>2016-11-11T02:25:28</date>
  <millis>1478802328721</millis>
  <sequence>2082</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv: 0, function() g</message>
</record>
<record>
  <date>2016-11-11T02:25:28</date>
  <millis>1478802328723</millis>
  <sequence>2083</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv:pio.write(7, gpio.HIGH)</message>
</record>
<record>
  <date>2016-11-11T02:25:28</date>
  <millis>1478802328729</millis>
  <sequence>2084</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv: end)&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:25:28</date>
  <millis>1478802328741</millis>
  <sequence>2085</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv:</message>
</record>
<record>
  <date>2016-11-11T02:25:28</date>
  <millis>1478802328742</millis>
  <sequence>2086</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T02:25:28</date>
  <millis>1478802328752</millis>
  <sequence>2087</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:end&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:25:28</date>
  <millis>1478802328754</millis>
  <sequence>2088</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv:end</message>
</record>
<record>
  <date>2016-11-11T02:25:28</date>
  <millis>1478802328755</millis>
  <sequence>2089</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:25:28</date>
  <millis>1478802328786</millis>
  <sequence>2090</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:25:28</date>
  <millis>1478802328807</millis>
  <sequence>2091</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv:s</message>
</record>
<record>
  <date>2016-11-11T02:25:28</date>
  <millis>1478802328808</millis>
  <sequence>2092</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv:tdin:1: attempt</message>
</record>
<record>
  <date>2016-11-11T02:25:28</date>
  <millis>1478802328811</millis>
  <sequence>2093</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv: to index global 'M' (a nil</message>
</record>
<record>
  <date>2016-11-11T02:25:28</date>
  <millis>1478802328814</millis>
  <sequence>2094</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv: value)&lt;CR&gt;&lt;LF&gt;stack traceback:&lt;CR&gt;&lt;LF&gt;	stdin:1: in </message>
</record>
<record>
  <date>2016-11-11T02:25:28</date>
  <millis>1478802328859</millis>
  <sequence>2095</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:25:30</date>
  <millis>1478802330012</millis>
  <sequence>2096</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv:main chunk</message>
</record>
<record>
  <date>2016-11-11T02:25:30</date>
  <millis>1478802330052</millis>
  <sequence>2097</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:-- loop relay&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:25:30</date>
  <millis>1478802330053</millis>
  <sequence>2098</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv:-- </message>
</record>
<record>
  <date>2016-11-11T02:25:30</date>
  <millis>1478802330056</millis>
  <sequence>2099</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv:loop relay&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:25:30</date>
  <millis>1478802330060</millis>
  <sequence>2100</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:25:30</date>
  <millis>1478802330092</millis>
  <sequence>2101</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:function M.relay_6(delay, mode)&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:25:30</date>
  <millis>1478802330094</millis>
  <sequence>2102</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv:fu</message>
</record>
<record>
  <date>2016-11-11T02:25:30</date>
  <millis>1478802330097</millis>
  <sequence>2103</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv:nction M.relay_6(delay, mode)&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:25:30</date>
  <millis>1478802330104</millis>
  <sequence>2104</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv:</message>
</record>
<record>
  <date>2016-11-11T02:25:30</date>
  <millis>1478802330129</millis>
  <sequence>2105</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:gpio.mode(6, gpio.OUTPUT)&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:25:30</date>
  <millis>1478802330131</millis>
  <sequence>2106</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv:gpi</message>
</record>
<record>
  <date>2016-11-11T02:25:30</date>
  <millis>1478802330134</millis>
  <sequence>2107</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv:o.mode(6, gpio.OUTPUT)&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:25:30</date>
  <millis>1478802330145</millis>
  <sequence>2108</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv:</message>
</record>
<record>
  <date>2016-11-11T02:25:30</date>
  <millis>1478802330170</millis>
  <sequence>2109</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:status1 = 0&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:25:30</date>
  <millis>1478802330172</millis>
  <sequence>2110</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv:st</message>
</record>
<record>
  <date>2016-11-11T02:25:30</date>
  <millis>1478802330175</millis>
  <sequence>2111</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv:atus1 = 0&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:25:30</date>
  <millis>1478802330185</millis>
  <sequence>2112</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv:</message>
</record>
<record>
  <date>2016-11-11T02:25:30</date>
  <millis>1478802330205</millis>
  <sequence>2113</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:25:30</date>
  <millis>1478802330207</millis>
  <sequence>2114</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:25:30</date>
  <millis>1478802330237</millis>
  <sequence>2115</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:tmr.alarm(2, delay, mode, function()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:25:30</date>
  <millis>1478802330239</millis>
  <sequence>2116</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv:tm</message>
</record>
<record>
  <date>2016-11-11T02:25:30</date>
  <millis>1478802330242</millis>
  <sequence>2117</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv:r.alarm(2, delay, mode, function()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:25:30</date>
  <millis>1478802330254</millis>
  <sequence>2118</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv:</message>
</record>
<record>
  <date>2016-11-11T02:25:30</date>
  <millis>1478802330255</millis>
  <sequence>2119</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T02:25:30</date>
  <millis>1478802330268</millis>
  <sequence>2120</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:if status1 == 0 then&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:25:30</date>
  <millis>1478802330271</millis>
  <sequence>2121</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv:if</message>
</record>
<record>
  <date>2016-11-11T02:25:30</date>
  <millis>1478802330273</millis>
  <sequence>2122</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv: status1 == 0 then&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:25:30</date>
  <millis>1478802330287</millis>
  <sequence>2123</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv:</message>
</record>
<record>
  <date>2016-11-11T02:25:30</date>
  <millis>1478802330310</millis>
  <sequence>2124</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:status1 = 1&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:25:30</date>
  <millis>1478802330311</millis>
  <sequence>2125</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv:st</message>
</record>
<record>
  <date>2016-11-11T02:25:30</date>
  <millis>1478802330314</millis>
  <sequence>2126</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv:atus1 = 1&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:25:30</date>
  <millis>1478802330327</millis>
  <sequence>2127</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv:</message>
</record>
<record>
  <date>2016-11-11T02:25:30</date>
  <millis>1478802330345</millis>
  <sequence>2128</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:gpio.write(6, gpio.HIGH)&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:25:30</date>
  <millis>1478802330346</millis>
  <sequence>2129</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv:gp</message>
</record>
<record>
  <date>2016-11-11T02:25:30</date>
  <millis>1478802330348</millis>
  <sequence>2130</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv:io.write(6, gpio.</message>
</record>
<record>
  <date>2016-11-11T02:25:30</date>
  <millis>1478802330349</millis>
  <sequence>2131</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv:HIGH)&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:25:30</date>
  <millis>1478802330364</millis>
  <sequence>2132</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv:</message>
</record>
<record>
  <date>2016-11-11T02:25:30</date>
  <millis>1478802330377</millis>
  <sequence>2133</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:else&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:25:30</date>
  <millis>1478802330379</millis>
  <sequence>2134</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv:el</message>
</record>
<record>
  <date>2016-11-11T02:25:30</date>
  <millis>1478802330381</millis>
  <sequence>2135</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv:se&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:25:30</date>
  <millis>1478802330395</millis>
  <sequence>2136</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv:&gt;</message>
</record>
<record>
  <date>2016-11-11T02:25:30</date>
  <millis>1478802330397</millis>
  <sequence>2137</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:25:30</date>
  <millis>1478802330415</millis>
  <sequence>2138</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:status1 = 0&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:25:30</date>
  <millis>1478802330417</millis>
  <sequence>2139</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv:st</message>
</record>
<record>
  <date>2016-11-11T02:25:30</date>
  <millis>1478802330420</millis>
  <sequence>2140</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv:atus1 = 0&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:25:30</date>
  <millis>1478802330434</millis>
  <sequence>2141</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv:</message>
</record>
<record>
  <date>2016-11-11T02:25:30</date>
  <millis>1478802330458</millis>
  <sequence>2142</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:gpio.write(6, gpio.LOW)&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:25:30</date>
  <millis>1478802330459</millis>
  <sequence>2143</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv:gp</message>
</record>
<record>
  <date>2016-11-11T02:25:30</date>
  <millis>1478802330461</millis>
  <sequence>2144</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv:io.write(6, gpio.LOW)&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:25:30</date>
  <millis>1478802330478</millis>
  <sequence>2145</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv:</message>
</record>
<record>
  <date>2016-11-11T02:25:30</date>
  <millis>1478802330489</millis>
  <sequence>2146</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:end&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:25:30</date>
  <millis>1478802330490</millis>
  <sequence>2147</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv:end</message>
</record>
<record>
  <date>2016-11-11T02:25:30</date>
  <millis>1478802330492</millis>
  <sequence>2148</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:25:30</date>
  <millis>1478802330507</millis>
  <sequence>2149</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv:</message>
</record>
<record>
  <date>2016-11-11T02:25:30</date>
  <millis>1478802330524</millis>
  <sequence>2150</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:end)&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:25:30</date>
  <millis>1478802330525</millis>
  <sequence>2151</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv:en</message>
</record>
<record>
  <date>2016-11-11T02:25:30</date>
  <millis>1478802330528</millis>
  <sequence>2152</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv:d)&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:25:30</date>
  <millis>1478802330542</millis>
  <sequence>2153</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv:</message>
</record>
<record>
  <date>2016-11-11T02:25:30</date>
  <millis>1478802330568</millis>
  <sequence>2154</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:end&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:25:30</date>
  <millis>1478802330570</millis>
  <sequence>2155</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv:end</message>
</record>
<record>
  <date>2016-11-11T02:25:30</date>
  <millis>1478802330573</millis>
  <sequence>2156</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:25:30</date>
  <millis>1478802330601</millis>
  <sequence>2157</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:25:30</date>
  <millis>1478802330622</millis>
  <sequence>2158</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv:stdi</message>
</record>
<record>
  <date>2016-11-11T02:25:30</date>
  <millis>1478802330623</millis>
  <sequence>2159</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv:n:1: attempt to</message>
</record>
<record>
  <date>2016-11-11T02:25:30</date>
  <millis>1478802330626</millis>
  <sequence>2160</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv: index global 'M' (a nil value)</message>
</record>
<record>
  <date>2016-11-11T02:25:30</date>
  <millis>1478802330629</millis>
  <sequence>2161</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv:
stack traceback:&lt;CR&gt;&lt;LF&gt;	stdin:1: in</message>
</record>
<record>
  <date>2016-11-11T02:25:30</date>
  <millis>1478802330670</millis>
  <sequence>2162</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:25:31</date>
  <millis>1478802331379</millis>
  <sequence>2163</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv: main chunk</message>
</record>
<record>
  <date>2016-11-11T02:25:31</date>
  <millis>1478802331398</millis>
  <sequence>2164</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:function M.relay_7(delay, mode)&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:25:31</date>
  <millis>1478802331399</millis>
  <sequence>2165</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv:fu</message>
</record>
<record>
  <date>2016-11-11T02:25:31</date>
  <millis>1478802331400</millis>
  <sequence>2166</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv:nction M.relay</message>
</record>
<record>
  <date>2016-11-11T02:25:31</date>
  <millis>1478802331407</millis>
  <sequence>2167</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv:_7(delay, mode)&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:25:31</date>
  <millis>1478802331409</millis>
  <sequence>2168</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv:</message>
</record>
<record>
  <date>2016-11-11T02:25:31</date>
  <millis>1478802331429</millis>
  <sequence>2169</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:gpio.mode(7, gpio.OUTPUT)&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:25:31</date>
  <millis>1478802331431</millis>
  <sequence>2170</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv:gp</message>
</record>
<record>
  <date>2016-11-11T02:25:31</date>
  <millis>1478802331434</millis>
  <sequence>2171</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv:io.mode(7, gpio.OUTPUT)&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:25:31</date>
  <millis>1478802331444</millis>
  <sequence>2172</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv:</message>
</record>
<record>
  <date>2016-11-11T02:25:31</date>
  <millis>1478802331445</millis>
  <sequence>2173</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T02:25:31</date>
  <millis>1478802331467</millis>
  <sequence>2174</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:status2 = 0&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:25:31</date>
  <millis>1478802331468</millis>
  <sequence>2175</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv:st</message>
</record>
<record>
  <date>2016-11-11T02:25:31</date>
  <millis>1478802331474</millis>
  <sequence>2176</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv:atus2 = 0&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:25:31</date>
  <millis>1478802331481</millis>
  <sequence>2177</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv:</message>
</record>
<record>
  <date>2016-11-11T02:25:31</date>
  <millis>1478802331509</millis>
  <sequence>2178</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:25:31</date>
  <millis>1478802331511</millis>
  <sequence>2179</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:25:31</date>
  <millis>1478802331514</millis>
  <sequence>2180</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv:</message>
</record>
<record>
  <date>2016-11-11T02:25:31</date>
  <millis>1478802331542</millis>
  <sequence>2181</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:tmr.alarm(3, delay, mode, function()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:25:31</date>
  <millis>1478802331544</millis>
  <sequence>2182</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv:t</message>
</record>
<record>
  <date>2016-11-11T02:25:31</date>
  <millis>1478802331547</millis>
  <sequence>2183</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv:mr.alarm(3, delay, mode, function()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:25:31</date>
  <millis>1478802331560</millis>
  <sequence>2184</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv:</message>
</record>
<record>
  <date>2016-11-11T02:25:31</date>
  <millis>1478802331576</millis>
  <sequence>2185</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:if status2 == 0 then&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:25:31</date>
  <millis>1478802331578</millis>
  <sequence>2186</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv:if</message>
</record>
<record>
  <date>2016-11-11T02:25:31</date>
  <millis>1478802331580</millis>
  <sequence>2187</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv: status2 == 0 then</message>
</record>
<record>
  <date>2016-11-11T02:25:31</date>
  <millis>1478802331583</millis>
  <sequence>2188</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv:
</message>
</record>
<record>
  <date>2016-11-11T02:25:31</date>
  <millis>1478802331594</millis>
  <sequence>2189</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv:</message>
</record>
<record>
  <date>2016-11-11T02:25:31</date>
  <millis>1478802331609</millis>
  <sequence>2190</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:status2 = 1&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:25:31</date>
  <millis>1478802331610</millis>
  <sequence>2191</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv:st</message>
</record>
<record>
  <date>2016-11-11T02:25:31</date>
  <millis>1478802331614</millis>
  <sequence>2192</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv:atus2 = 1&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:25:31</date>
  <millis>1478802331626</millis>
  <sequence>2193</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv:&gt;</message>
</record>
<record>
  <date>2016-11-11T02:25:31</date>
  <millis>1478802331629</millis>
  <sequence>2194</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:25:31</date>
  <millis>1478802331648</millis>
  <sequence>2195</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:gpio.write(7, gpio.HIGH)&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:25:31</date>
  <millis>1478802331649</millis>
  <sequence>2196</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv:gp</message>
</record>
<record>
  <date>2016-11-11T02:25:31</date>
  <millis>1478802331651</millis>
  <sequence>2197</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv:io.write(7, gpio.HIGH)</message>
</record>
<record>
  <date>2016-11-11T02:25:31</date>
  <millis>1478802331653</millis>
  <sequence>2198</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:25:31</date>
  <millis>1478802331667</millis>
  <sequence>2199</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv:</message>
</record>
<record>
  <date>2016-11-11T02:25:31</date>
  <millis>1478802331668</millis>
  <sequence>2200</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T02:25:31</date>
  <millis>1478802331682</millis>
  <sequence>2201</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:else&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:25:31</date>
  <millis>1478802331684</millis>
  <sequence>2202</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv:else</message>
</record>
<record>
  <date>2016-11-11T02:25:31</date>
  <millis>1478802331688</millis>
  <sequence>2203</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:25:31</date>
  <millis>1478802331700</millis>
  <sequence>2204</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv:</message>
</record>
<record>
  <date>2016-11-11T02:25:31</date>
  <millis>1478802331701</millis>
  <sequence>2205</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T02:25:31</date>
  <millis>1478802331717</millis>
  <sequence>2206</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:status2 = 0&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:25:31</date>
  <millis>1478802331718</millis>
  <sequence>2207</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv:st</message>
</record>
<record>
  <date>2016-11-11T02:25:31</date>
  <millis>1478802331722</millis>
  <sequence>2208</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv:atus2 = 0&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:25:31</date>
  <millis>1478802331735</millis>
  <sequence>2209</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv:</message>
</record>
<record>
  <date>2016-11-11T02:25:31</date>
  <millis>1478802331739</millis>
  <sequence>2210</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T02:25:31</date>
  <millis>1478802331749</millis>
  <sequence>2211</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:gpio.write(7, gpio.LOW)&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:25:31</date>
  <millis>1478802331751</millis>
  <sequence>2212</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv:gpi</message>
</record>
<record>
  <date>2016-11-11T02:25:31</date>
  <millis>1478802331752</millis>
  <sequence>2213</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv:o.write(7</message>
</record>
<record>
  <date>2016-11-11T02:25:31</date>
  <millis>1478802331757</millis>
  <sequence>2214</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv:, gpio.LOW)&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:25:31</date>
  <millis>1478802331769</millis>
  <sequence>2215</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv:</message>
</record>
<record>
  <date>2016-11-11T02:25:31</date>
  <millis>1478802331772</millis>
  <sequence>2216</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T02:25:31</date>
  <millis>1478802331784</millis>
  <sequence>2217</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:end&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:25:31</date>
  <millis>1478802331785</millis>
  <sequence>2218</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv:en</message>
</record>
<record>
  <date>2016-11-11T02:25:31</date>
  <millis>1478802331788</millis>
  <sequence>2219</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv:d&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:25:31</date>
  <millis>1478802331802</millis>
  <sequence>2220</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv:</message>
</record>
<record>
  <date>2016-11-11T02:25:31</date>
  <millis>1478802331806</millis>
  <sequence>2221</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv:  Co</message>
</record>
<record>
  <date>2016-11-11T02:25:31</date>
  <millis>1478802331810</millis>
  <sequence>2222</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv:nfig file NOT exists, starting smartconfig..</message>
</record>
<record>
  <date>2016-11-11T02:25:31</date>
  <millis>1478802331812</millis>
  <sequence>2223</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:25:31</date>
  <millis>1478802331822</millis>
  <sequence>2224</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:end)&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:25:31</date>
  <millis>1478802331824</millis>
  <sequence>2225</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv:en</message>
</record>
<record>
  <date>2016-11-11T02:25:31</date>
  <millis>1478802331825</millis>
  <sequence>2226</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv:d)&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:25:31</date>
  <millis>1478802331842</millis>
  <sequence>2227</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv:</message>
</record>
<record>
  <date>2016-11-11T02:25:31</date>
  <millis>1478802331843</millis>
  <sequence>2228</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T02:25:31</date>
  <millis>1478802331860</millis>
  <sequence>2229</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:end&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:25:31</date>
  <millis>1478802331862</millis>
  <sequence>2230</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv:end</message>
</record>
<record>
  <date>2016-11-11T02:25:31</date>
  <millis>1478802331863</millis>
  <sequence>2231</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv:
</message>
</record>
<record>
  <date>2016-11-11T02:25:31</date>
  <millis>1478802331892</millis>
  <sequence>2232</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:return M&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:25:31</date>
  <millis>1478802331914</millis>
  <sequence>2233</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv:s</message>
</record>
<record>
  <date>2016-11-11T02:25:31</date>
  <millis>1478802331915</millis>
  <sequence>2234</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv:tdin:1: attem</message>
</record>
<record>
  <date>2016-11-11T02:25:31</date>
  <millis>1478802331919</millis>
  <sequence>2235</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv:pt to index global 'M' (a nil value)&lt;CR&gt;&lt;LF&gt;stack</message>
</record>
<record>
  <date>2016-11-11T02:25:31</date>
  <millis>1478802331921</millis>
  <sequence>2236</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv: traceback:&lt;CR&gt;&lt;LF&gt;	stdin:1: in </message>
</record>
<record>
  <date>2016-11-11T02:25:31</date>
  <millis>1478802331923</millis>
  <sequence>2237</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv:main chunkre</message>
</record>
<record>
  <date>2016-11-11T02:25:31</date>
  <millis>1478802331924</millis>
  <sequence>2238</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>recv:turn M&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:25:32</date>
  <millis>1478802332966</millis>
  <sequence>2239</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>105</thread>
  <message>Operation done. Duration = 6950 ms</message>
</record>
<record>
  <date>2016-11-11T02:25:33</date>
  <millis>1478802333828</millis>
  <sequence>2240</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to load file control.lua</message>
</record>
<record>
  <date>2016-11-11T02:25:33</date>
  <millis>1478802333846</millis>
  <sequence>2241</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Loading control.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T02:25:33</date>
  <millis>1478802333847</millis>
  <sequence>2242</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>File reload: Success.</message>
</record>
<record>
  <date>2016-11-11T02:25:35</date>
  <millis>1478802335536</millis>
  <sequence>2243</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>We save known file control.lua</message>
</record>
<record>
  <date>2016-11-11T02:25:35</date>
  <millis>1478802335536</millis>
  <sequence>2244</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to saving file control.lua ...</message>
</record>
<record>
  <date>2016-11-11T02:25:35</date>
  <millis>1478802335540</millis>
  <sequence>2245</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Save file control.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T02:25:35</date>
  <millis>1478802335546</millis>
  <sequence>2246</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP: Try to save file to ESP...</message>
</record>
<record>
  <date>2016-11-11T02:25:35</date>
  <millis>1478802335548</millis>
  <sequence>2247</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Try to save file to ESP in Turbo Mode...</message>
</record>
<record>
  <date>2016-11-11T02:25:35</date>
  <millis>1478802335557</millis>
  <sequence>2248</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>DataTurboSender: start "Smart Mode"</message>
</record>
<record>
  <date>2016-11-11T02:25:35</date>
  <millis>1478802335560</millis>
  <sequence>2249</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Starting...</message>
</record>
<record>
  <date>2016-11-11T02:25:35</date>
  <millis>1478802335708</millis>
  <sequence>2250</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local FILE="control.lua" file.remove(FILE) file.open(FILE,"w+") uart.setup(0,115200,8,0,1,0)</message>
</record>
<record>
  <date>2016-11-11T02:25:35</date>
  <millis>1478802335710</millis>
  <sequence>2251</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>107</thread>
  <message>recv:nil&lt;CR&gt;&lt;LF&gt;&gt; lo</message>
</record>
<record>
  <date>2016-11-11T02:25:35</date>
  <millis>1478802335713</millis>
  <sequence>2252</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>107</thread>
  <message>recv:cal FILE="control.lua" file.remove</message>
</record>
<record>
  <date>2016-11-11T02:25:35</date>
  <millis>1478802335719</millis>
  <sequence>2253</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>107</thread>
  <message>recv:(FILE) file.open(FILE,"w+") uart.setup(0,115200,8,0,1,0)&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:25:35</date>
  <millis>1478802335746</millis>
  <sequence>2254</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_Receiver=function(rcvBuf) if string.match(rcvBuf,"^ESP_cmd_close")==nil then file.write(string.gsub(rcvBuf, '\r', '')) uart.write(0, "&gt; ") else uart.on("data") </message>
</record>
<record>
  <date>2016-11-11T02:25:35</date>
  <millis>1478802335902</millis>
  <sequence>2255</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>107</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:25:35</date>
  <millis>1478802335915</millis>
  <sequence>2256</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>107</thread>
  <message>recv:&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T02:25:35</date>
  <millis>1478802335925</millis>
  <sequence>2257</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local M = {}

-- status pin = 0, alarm 1
-- relay pin = 6 and 7, alarm 2, 3

function M.status_LED(delay)
    gpio.mode(0, gpio.OUTPUT)
    status0 = 0
        
    tmr.alarm(1, delay, 1, function()
        if status0 == 0 then
            status0 = 1
  </message>
</record>
<record>
  <date>2016-11-11T02:25:35</date>
  <millis>1478802335944</millis>
  <sequence>2258</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>107</thread>
  <message>recv:&gt;&gt;</message>
</record>
<record>
  <date>2016-11-11T02:25:35</date>
  <millis>1478802335946</millis>
  <sequence>2259</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>107</thread>
  <message>recv: &gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T02:25:35</date>
  <millis>1478802335960</millis>
  <sequence>2260</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>107</thread>
  <message>recv:&gt;&gt;</message>
</record>
<record>
  <date>2016-11-11T02:25:35</date>
  <millis>1478802335961</millis>
  <sequence>2261</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>107</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T02:25:35</date>
  <millis>1478802335975</millis>
  <sequence>2262</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>107</thread>
  <message>recv:&gt;&gt;</message>
</record>
<record>
  <date>2016-11-11T02:25:35</date>
  <millis>1478802335976</millis>
  <sequence>2263</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>107</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T02:25:35</date>
  <millis>1478802335980</millis>
  <sequence>2264</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:o.write(6, gpio.LOW)
    gpio.write(7, gpio.LOW)
        
    tmr.alarm(2, 1000, 0, function() gpio.write(6, gpio.HIGH) end)
    tmr.alarm(3, 1000, 0, function() gpio.write(7, gpio.HIGH) end)
    tmr.alarm(2, 2000, 0, function() gpio.write(6, gpio.LOW) e</message>
</record>
<record>
  <date>2016-11-11T02:25:36</date>
  <millis>1478802336002</millis>
  <sequence>2265</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>107</thread>
  <message>recv:&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T02:25:36</date>
  <millis>1478802336024</millis>
  <sequence>2266</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:     status1 = 1
            gpio.write(6, gpio.HIGH)
        else
            status1 = 0
            gpio.write(6, gpio.LOW)
        end 
    end)
      
end


function M.relay_7(delay, mode)
    gpio.mode(7, gpio.OUTPUT)
    status2 = 0
        
    t</message>
</record>
<record>
  <date>2016-11-11T02:25:36</date>
  <millis>1478802336028</millis>
  <sequence>2267</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>107</thread>
  <message>recv:&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T02:25:36</date>
  <millis>1478802336050</millis>
  <sequence>2268</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>107</thread>
  <message>recv:stdi</message>
</record>
<record>
  <date>2016-11-11T02:25:36</date>
  <millis>1478802336051</millis>
  <sequence>2269</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>107</thread>
  <message>recv:n:7: ')' expecte</message>
</record>
<record>
  <date>2016-11-11T02:25:36</date>
  <millis>1478802336056</millis>
  <sequence>2270</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>107</thread>
  <message>recv:d (to close '(' at line 6) near 'o'&lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T02:25:36</date>
  <millis>1478802336058</millis>
  <sequence>2271</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_cmd_close</message>
</record>
<record>
  <date>2016-11-11T02:25:36</date>
  <millis>1478802336059</millis>
  <sequence>2272</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>107</thread>
  <message>recv:st</message>
</record>
<record>
  <date>2016-11-11T02:25:36</date>
  <millis>1478802336061</millis>
  <sequence>2273</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>107</thread>
  <message>recv:din:1: '&lt;eof&gt;' expect</message>
</record>
<record>
  <date>2016-11-11T02:25:36</date>
  <millis>1478802336063</millis>
  <sequence>2274</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>107</thread>
  <message>recv:ed near 'else'&lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T02:25:36</date>
  <millis>1478802336068</millis>
  <sequence>2275</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>107</thread>
  <message>recv:&gt;</message>
</record>
<record>
  <date>2016-11-11T02:25:36</date>
  <millis>1478802336077</millis>
  <sequence>2276</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>107</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:25:36</date>
  <millis>1478802336104</millis>
  <sequence>2277</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:25:36</date>
  <millis>1478802336106</millis>
  <sequence>2278</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>107</thread>
  <message>recv:&gt;&gt; &gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T02:25:36</date>
  <millis>1478802336134</millis>
  <sequence>2279</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:dofile("control.lua")</message>
</record>
<record>
  <date>2016-11-11T02:25:36</date>
  <millis>1478802336143</millis>
  <sequence>2280</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>107</thread>
  <message>recv:std</message>
</record>
<record>
  <date>2016-11-11T02:25:36</date>
  <millis>1478802336145</millis>
  <sequence>2281</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>107</thread>
  <message>recv:in:2: '=' expected</message>
</record>
<record>
  <date>2016-11-11T02:25:36</date>
  <millis>1478802336147</millis>
  <sequence>2282</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>107</thread>
  <message>recv: near 'dofile'&lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T02:25:36</date>
  <millis>1478802336203</millis>
  <sequence>2283</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>107</thread>
  <message>Operation done. Duration = 651 ms</message>
</record>
<record>
  <date>2016-11-11T02:25:38</date>
  <millis>1478802338154</millis>
  <sequence>2284</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:node.restart()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:25:38</date>
  <millis>1478802338156</millis>
  <sequence>2285</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with saved baud 115200...</message>
</record>
<record>
  <date>2016-11-11T02:25:38</date>
  <millis>1478802338219</millis>
  <sequence>2286</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success. Now we waiting for ESP reboot...</message>
</record>
<record>
  <date>2016-11-11T02:25:40</date>
  <millis>1478802340223</millis>
  <sequence>2287</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with baud 115200...</message>
</record>
<record>
  <date>2016-11-11T02:25:40</date>
  <millis>1478802340224</millis>
  <sequence>2288</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:print(uart.setup(0, 115200, 8, 0, 1, 1 ))&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:25:40</date>
  <millis>1478802340489</millis>
  <sequence>2289</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success.</message>
</record>
<record>
  <date>2016-11-11T02:25:40</date>
  <millis>1478802340539</millis>
  <sequence>2290</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:25:40</date>
  <millis>1478802340542</millis>
  <sequence>2291</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>108</thread>
  <message>
Communication with MCU established.</message>
</record>
<record>
  <date>2016-11-11T02:25:40</date>
  <millis>1478802340545</millis>
  <sequence>2292</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>108</thread>
  <message>sending:=node.heap()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:25:42</date>
  <millis>1478802342816</millis>
  <sequence>2293</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:node.restart()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:25:42</date>
  <millis>1478802342828</millis>
  <sequence>2294</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with saved baud 115200...</message>
</record>
<record>
  <date>2016-11-11T02:25:42</date>
  <millis>1478802342890</millis>
  <sequence>2295</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success. Now we waiting for ESP reboot...</message>
</record>
<record>
  <date>2016-11-11T02:25:44</date>
  <millis>1478802344901</millis>
  <sequence>2296</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with baud 115200...</message>
</record>
<record>
  <date>2016-11-11T02:25:44</date>
  <millis>1478802344902</millis>
  <sequence>2297</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:print(uart.setup(0, 115200, 8, 0, 1, 1 ))&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:25:45</date>
  <millis>1478802345165</millis>
  <sequence>2298</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success.</message>
</record>
<record>
  <date>2016-11-11T02:25:45</date>
  <millis>1478802345282</millis>
  <sequence>2299</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:25:45</date>
  <millis>1478802345283</millis>
  <sequence>2300</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>108</thread>
  <message>
Communication with MCU established.</message>
</record>
<record>
  <date>2016-11-11T02:26:00</date>
  <millis>1478802360106</millis>
  <sequence>2301</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>We save known file init.lua</message>
</record>
<record>
  <date>2016-11-11T02:26:00</date>
  <millis>1478802360106</millis>
  <sequence>2302</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to saving file init.lua ...</message>
</record>
<record>
  <date>2016-11-11T02:26:00</date>
  <millis>1478802360110</millis>
  <sequence>2303</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Save file init.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T02:26:00</date>
  <millis>1478802360115</millis>
  <sequence>2304</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP: Try to save file to ESP...</message>
</record>
<record>
  <date>2016-11-11T02:26:00</date>
  <millis>1478802360116</millis>
  <sequence>2305</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Try to save file to ESP in Turbo Mode...</message>
</record>
<record>
  <date>2016-11-11T02:26:00</date>
  <millis>1478802360125</millis>
  <sequence>2306</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>DataTurboSender: start "Smart Mode"</message>
</record>
<record>
  <date>2016-11-11T02:26:00</date>
  <millis>1478802360126</millis>
  <sequence>2307</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Starting...</message>
</record>
<record>
  <date>2016-11-11T02:26:00</date>
  <millis>1478802360256</millis>
  <sequence>2308</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local FILE="init.lua" file.remove(FILE) file.open(FILE,"w+") uart.setup(0,115200,8,0,1,0)</message>
</record>
<record>
  <date>2016-11-11T02:26:00</date>
  <millis>1478802360258</millis>
  <sequence>2309</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>109</thread>
  <message>recv:l</message>
</record>
<record>
  <date>2016-11-11T02:26:00</date>
  <millis>1478802360264</millis>
  <sequence>2310</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>109</thread>
  <message>recv:ocal FILE="init.lua" file.remove(FILE) file.open(FILE,"w+") uart.set</message>
</record>
<record>
  <date>2016-11-11T02:26:00</date>
  <millis>1478802360266</millis>
  <sequence>2311</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>109</thread>
  <message>recv:up(0,115200,8,0,1,0)&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:26:00</date>
  <millis>1478802360538</millis>
  <sequence>2312</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>109</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:26:00</date>
  <millis>1478802360559</millis>
  <sequence>2313</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_Receiver=function(rcvBuf) if string.match(rcvBuf,"^ESP_cmd_close")==nil then file.write(string.gsub(rcvBuf, '\r', '')) uart.write(0, "&gt; ") else uart.on("data") </message>
</record>
<record>
  <date>2016-11-11T02:26:00</date>
  <millis>1478802360585</millis>
  <sequence>2314</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>109</thread>
  <message>recv:&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T02:26:00</date>
  <millis>1478802360599</millis>
  <sequence>2315</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:file.flush() file.close() FILE=nil rcvBuf=nil ESP_Receiver=nil uart.setup(0,115200,8,0,1,1) str="\r\n--Done--\r\n&gt; " print(str) str=nil collectgarbage() end end uart.on("data",'\r',ESP_Receiver,0)</message>
</record>
<record>
  <date>2016-11-11T02:26:00</date>
  <millis>1478802360637</millis>
  <sequence>2316</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>109</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:26:00</date>
  <millis>1478802360652</millis>
  <sequence>2317</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:misc = require "misc"
control = require "control"

-- timer 1 = status, 2,3 = relay 

files = file.list()  -- Lists all files in the file system.

misc.button_press()  -- button press interrupt io3
--misc.button_rst()

control.status_LED(300) -- blink st</message>
</record>
<record>
  <date>2016-11-11T02:26:00</date>
  <millis>1478802360681</millis>
  <sequence>2318</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>109</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:26:00</date>
  <millis>1478802360697</millis>
  <sequence>2319</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:atus LED

wifi.setmode(wifi.STATION)
wifi.sta.autoconnect(0) -- auto connect

if files["config.txt"] then
    misc.con_read()
    --tmr.delay(1000000)
    print(" Config exist, user&gt;".. user .. ", pass&gt;" .. password .. ", now set station mode and connect</message>
</record>
<record>
  <date>2016-11-11T02:26:00</date>
  <millis>1478802360727</millis>
  <sequence>2320</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>109</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:26:00</date>
  <millis>1478802360742</millis>
  <sequence>2321</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:")
    
    wifi.sta.config(user, password)
    wifi.sta.connect()
    
    tmr.alarm(4, 5000, 1, function() 
        if wifi.sta.getip()== nil then
            print("IP unavailable.. if info correct then wait, else reconfig by press BTN1 to clean")
   </message>
</record>
<record>
  <date>2016-11-11T02:26:00</date>
  <millis>1478802360772</millis>
  <sequence>2322</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>109</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:26:00</date>
  <millis>1478802360784</millis>
  <sequence>2323</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:     else
            print("connected.. IP is: " .. wifi.sta.getip())
            tmr.stop(4)
            dofile("mqtt.lua")
        end
    end)
    
else
    --wifi.setmode(wifi.STATION)

    control.relay_onoff()
    --control.relay_onoff()
    --con</message>
</record>
<record>
  <date>2016-11-11T02:26:00</date>
  <millis>1478802360814</millis>
  <sequence>2324</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>109</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:26:00</date>
  <millis>1478802360827</millis>
  <sequence>2325</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:trol.relay_6(2000)
    --control.relay_7(2000)
    --control.relay_6(2000, 1)
    --control.relay_7(2000, 1)
    --if not tmr.alarm(5, 1000, tmr.ALARM_SINGLE, function() print("hey there") end) then print("whoopsie") end
    --tmr.stop(2)
    --tmr.stop(</message>
</record>
<record>
  <date>2016-11-11T02:26:00</date>
  <millis>1478802360857</millis>
  <sequence>2326</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>109</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:26:00</date>
  <millis>1478802360869</millis>
  <sequence>2327</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:3)

    tmr.alarm(4, 5000, 1, function() 
        if wifi.sta.getip()== nil then
            print("  Config file NOT exists, starting smartconfig..")
            wifi.startsmart(0,
            function(ssid, password)
            print(string.format("Su</message>
</record>
<record>
  <date>2016-11-11T02:26:00</date>
  <millis>1478802360899</millis>
  <sequence>2328</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>109</thread>
  <message>recv:&gt;</message>
</record>
<record>
  <date>2016-11-11T02:26:00</date>
  <millis>1478802360900</millis>
  <sequence>2329</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>109</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T02:26:00</date>
  <millis>1478802360918</millis>
  <sequence>2330</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ccess. SSID: %s ; PASSWORD: %s", ssid, password)) 
            misc.con_write(ssid, password)
            end)
        else 
            tmr.stop(1)

            tmr.stop(4)
            print("Config done, IP is "..wifi.sta.getip())
            wifi.stop</message>
</record>
<record>
  <date>2016-11-11T02:26:00</date>
  <millis>1478802360948</millis>
  <sequence>2331</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>109</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:26:00</date>
  <millis>1478802360962</millis>
  <sequence>2332</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:smart()

            --misc.con_read()
            --print (user .. password)
            dofile("mqtt.lua")
        end
    end)
        

end
</message>
</record>
<record>
  <date>2016-11-11T02:26:00</date>
  <millis>1478802360982</millis>
  <sequence>2333</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>109</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:26:00</date>
  <millis>1478802360998</millis>
  <sequence>2334</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_cmd_close</message>
</record>
<record>
  <date>2016-11-11T02:26:01</date>
  <millis>1478802361010</millis>
  <sequence>2335</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>109</thread>
  <message>recv:&lt;CR&gt;</message>
</record>
<record>
  <date>2016-11-11T02:26:01</date>
  <millis>1478802361011</millis>
  <sequence>2336</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>109</thread>
  <message>recv:&lt;LF&gt;--Done--&lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T02:26:01</date>
  <millis>1478802361011</millis>
  <sequence>2337</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>109</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:26:01</date>
  <millis>1478802361033</millis>
  <sequence>2338</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:26:01</date>
  <millis>1478802361038</millis>
  <sequence>2339</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>109</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;&gt;</message>
</record>
<record>
  <date>2016-11-11T02:26:01</date>
  <millis>1478802361039</millis>
  <sequence>2340</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>109</thread>
  <message>recv: &lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T02:26:01</date>
  <millis>1478802361075</millis>
  <sequence>2341</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:dofile("init.lua")</message>
</record>
<record>
  <date>2016-11-11T02:26:01</date>
  <millis>1478802361076</millis>
  <sequence>2342</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>109</thread>
  <message>recv:dof</message>
</record>
<record>
  <date>2016-11-11T02:26:01</date>
  <millis>1478802361078</millis>
  <sequence>2343</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>109</thread>
  <message>recv:ile("init.lua</message>
</record>
<record>
  <date>2016-11-11T02:26:01</date>
  <millis>1478802361080</millis>
  <sequence>2344</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>109</thread>
  <message>recv:")&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:26:01</date>
  <millis>1478802361243</millis>
  <sequence>2345</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>109</thread>
  <message>recv:init.lua:11</message>
</record>
<record>
  <date>2016-11-11T02:26:01</date>
  <millis>1478802361251</millis>
  <sequence>2346</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>109</thread>
  <message>recv:: attempt to index global 'control' (a boolean value)&lt;CR&gt;&lt;LF&gt;stack traceback:&lt;CR&gt;&lt;LF&gt;	init.lua</message>
</record>
<record>
  <date>2016-11-11T02:26:01</date>
  <millis>1478802361259</millis>
  <sequence>2347</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>109</thread>
  <message>recv::11: in main chunk&lt;CR&gt;&lt;LF&gt;	[C]: in function 'dofile'&lt;CR&gt;&lt;LF&gt;	stdin:1: in main chunk&lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T02:26:01</date>
  <millis>1478802361312</millis>
  <sequence>2348</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>109</thread>
  <message>Operation done. Duration = 1195 ms</message>
</record>
<record>
  <date>2016-11-11T02:26:07</date>
  <millis>1478802367280</millis>
  <sequence>2349</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileManager: Add EventListener: Success.</message>
</record>
<record>
  <date>2016-11-11T02:26:07</date>
  <millis>1478802367284</millis>
  <sequence>2350</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileManager: Starting...</message>
</record>
<record>
  <date>2016-11-11T02:26:07</date>
  <millis>1478802367405</millis>
  <sequence>2351</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending: _dir=function() local k,v,l print("~~~File ".."list START~~~") for k,v in pairs(file.list()) do l = string.format("%-15s",k) print(l.." : "..v.." bytes") end print("~~~File ".."list END~~~") end _dir() _dir=nil</message>
</record>
<record>
  <date>2016-11-11T02:26:07</date>
  <millis>1478802367550</millis>
  <sequence>2352</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>111</thread>
  <message>FileManager: File list found! Do parsing...</message>
</record>
<record>
  <date>2016-11-11T02:26:07</date>
  <millis>1478802367595</millis>
  <sequence>2353</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>111</thread>
  <message>FileManager found file control.lua</message>
</record>
<record>
  <date>2016-11-11T02:26:07</date>
  <millis>1478802367602</millis>
  <sequence>2354</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>111</thread>
  <message>FileManager found file init.lua</message>
</record>
<record>
  <date>2016-11-11T02:26:07</date>
  <millis>1478802367612</millis>
  <sequence>2355</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>111</thread>
  <message>FileManager found file misc.lua</message>
</record>
<record>
  <date>2016-11-11T02:26:07</date>
  <millis>1478802367621</millis>
  <sequence>2356</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>111</thread>
  <message>FileManager found file mqtt.lua</message>
</record>
<record>
  <date>2016-11-11T02:26:07</date>
  <millis>1478802367627</millis>
  <sequence>2357</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>111</thread>
  <message>FileManager: File list parsing done, found 4 file(s).</message>
</record>
<record>
  <date>2016-11-11T02:26:07</date>
  <millis>1478802367648</millis>
  <sequence>2358</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>111</thread>
  <message>sending:r,u,t=file.fsinfo() print("Total : "..t.." bytes\r\nUsed  : "..u.." bytes\r\nRemain: "..r.." bytes\r\n") r=nil u=nil t=nil&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:26:10</date>
  <millis>1478802370075</millis>
  <sequence>2359</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>We save known file control.lua</message>
</record>
<record>
  <date>2016-11-11T02:26:10</date>
  <millis>1478802370076</millis>
  <sequence>2360</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to saving file control.lua ...</message>
</record>
<record>
  <date>2016-11-11T02:26:10</date>
  <millis>1478802370080</millis>
  <sequence>2361</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Save file control.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T02:26:10</date>
  <millis>1478802370086</millis>
  <sequence>2362</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP: Try to save file to ESP...</message>
</record>
<record>
  <date>2016-11-11T02:26:10</date>
  <millis>1478802370087</millis>
  <sequence>2363</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Try to save file to ESP in Turbo Mode...</message>
</record>
<record>
  <date>2016-11-11T02:26:10</date>
  <millis>1478802370095</millis>
  <sequence>2364</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>DataTurboSender: start "Smart Mode"</message>
</record>
<record>
  <date>2016-11-11T02:26:10</date>
  <millis>1478802370096</millis>
  <sequence>2365</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Starting...</message>
</record>
<record>
  <date>2016-11-11T02:26:10</date>
  <millis>1478802370223</millis>
  <sequence>2366</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local FILE="control.lua" file.remove(FILE) file.open(FILE,"w+") uart.setup(0,115200,8,0,1,0)</message>
</record>
<record>
  <date>2016-11-11T02:26:10</date>
  <millis>1478802370224</millis>
  <sequence>2367</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>114</thread>
  <message>recv:lo</message>
</record>
<record>
  <date>2016-11-11T02:26:10</date>
  <millis>1478802370229</millis>
  <sequence>2368</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>114</thread>
  <message>recv:cal FILE="control.lua" file.remove(FILE) file.open(FILE</message>
</record>
<record>
  <date>2016-11-11T02:26:10</date>
  <millis>1478802370231</millis>
  <sequence>2369</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>114</thread>
  <message>recv:,"w+") uart.setup(</message>
</record>
<record>
  <date>2016-11-11T02:26:10</date>
  <millis>1478802370232</millis>
  <sequence>2370</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>114</thread>
  <message>recv:0,115200,8,0,1,0)&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:26:10</date>
  <millis>1478802370501</millis>
  <sequence>2371</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>114</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:26:10</date>
  <millis>1478802370524</millis>
  <sequence>2372</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_Receiver=function(rcvBuf) if string.match(rcvBuf,"^ESP_cmd_close")==nil then file.write(string.gsub(rcvBuf, '\r', '')) uart.write(0, "&gt; ") else uart.on("data") </message>
</record>
<record>
  <date>2016-11-11T02:26:10</date>
  <millis>1478802370549</millis>
  <sequence>2373</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>114</thread>
  <message>recv:&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T02:26:10</date>
  <millis>1478802370561</millis>
  <sequence>2374</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:file.flush() file.close() FILE=nil rcvBuf=nil ESP_Receiver=nil uart.setup(0,115200,8,0,1,1) str="\r\n--Done--\r\n&gt; " print(str) str=nil collectgarbage() end end uart.on("data",'\r',ESP_Receiver,0)</message>
</record>
<record>
  <date>2016-11-11T02:26:10</date>
  <millis>1478802370598</millis>
  <sequence>2375</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>114</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:26:10</date>
  <millis>1478802370611</millis>
  <sequence>2376</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local M = {}

-- status pin = 0, alarm 1
-- relay pin = 6 and 7, alarm 2, 3

function M.status_LED(delay)
    gpio.mode(0, gpio.OUTPUT)
    status0 = 0
        
    tmr.alarm(1, delay, 1, function()
        if status0 == 0 then
            status0 = 1
  </message>
</record>
<record>
  <date>2016-11-11T02:26:10</date>
  <millis>1478802370639</millis>
  <sequence>2377</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>114</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:26:10</date>
  <millis>1478802370656</millis>
  <sequence>2378</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:          gpio.write(0, gpio.HIGH)
        else
            status0 = 0
            gpio.write(0, gpio.LOW)
        end 
    end)
      
end

-- One on/off relay
function M.relay_onoff()
    gpio.mode(6, gpio.OUTPUT)
    gpio.mode(7, gpio.OUTPUT)
    gpi</message>
</record>
<record>
  <date>2016-11-11T02:26:10</date>
  <millis>1478802370686</millis>
  <sequence>2379</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>114</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:26:10</date>
  <millis>1478802370703</millis>
  <sequence>2380</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:o.write(6, gpio.LOW)
    gpio.write(7, gpio.LOW)
        
    tmr.alarm(2, 1000, 0, function() gpio.write(6, gpio.HIGH) end)
    tmr.alarm(3, 1000, 0, function() gpio.write(7, gpio.HIGH) end)
    tmr.alarm(2, 2000, 0, function() gpio.write(6, gpio.LOW) e</message>
</record>
<record>
  <date>2016-11-11T02:26:10</date>
  <millis>1478802370734</millis>
  <sequence>2381</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>114</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:26:10</date>
  <millis>1478802370750</millis>
  <sequence>2382</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:nd)
    tmr.alarm(3, 2000, 0, function() gpio.write(7, gpio.LOW) end)
end


-- loop relay
function M.relay_6(delay, mode)
    gpio.mode(6, gpio.OUTPUT)
    status1 = 0
        
    tmr.alarm(2, delay, mode, function()
        if status1 == 0 then
       </message>
</record>
<record>
  <date>2016-11-11T02:26:10</date>
  <millis>1478802370780</millis>
  <sequence>2383</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>114</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:26:10</date>
  <millis>1478802370794</millis>
  <sequence>2384</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:     status1 = 1
            gpio.write(6, gpio.HIGH)
        else
            status1 = 0
            gpio.write(6, gpio.LOW)
        end 
    end)
      
end


function M.relay_7(delay, mode)
    gpio.mode(7, gpio.OUTPUT)
    status2 = 0
        
    t</message>
</record>
<record>
  <date>2016-11-11T02:26:10</date>
  <millis>1478802370824</millis>
  <sequence>2385</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>114</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:26:10</date>
  <millis>1478802370843</millis>
  <sequence>2386</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:mr.alarm(3, delay, mode, function()
        if status2 == 0 then
            status2 = 1
            gpio.write(7, gpio.HIGH)
        else
            status2 = 0
            gpio.write(7, gpio.LOW)
        end 
    end)
      
end
return M
</message>
</record>
<record>
  <date>2016-11-11T02:26:10</date>
  <millis>1478802370872</millis>
  <sequence>2387</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>114</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:26:10</date>
  <millis>1478802370884</millis>
  <sequence>2388</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_cmd_close</message>
</record>
<record>
  <date>2016-11-11T02:26:10</date>
  <millis>1478802370895</millis>
  <sequence>2389</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>114</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:26:10</date>
  <millis>1478802370897</millis>
  <sequence>2390</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>114</thread>
  <message>recv:--Done--&lt;CR&gt;&lt;LF&gt;&gt; &lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:26:10</date>
  <millis>1478802370929</millis>
  <sequence>2391</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:26:10</date>
  <millis>1478802370930</millis>
  <sequence>2392</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>114</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;&gt;</message>
</record>
<record>
  <date>2016-11-11T02:26:10</date>
  <millis>1478802370934</millis>
  <sequence>2393</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>114</thread>
  <message>recv: &lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T02:26:10</date>
  <millis>1478802370966</millis>
  <sequence>2394</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:dofile("control.lua")</message>
</record>
<record>
  <date>2016-11-11T02:26:10</date>
  <millis>1478802370968</millis>
  <sequence>2395</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>114</thread>
  <message>recv:dof</message>
</record>
<record>
  <date>2016-11-11T02:26:10</date>
  <millis>1478802370971</millis>
  <sequence>2396</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>114</thread>
  <message>recv:ile("control.lua")&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:26:11</date>
  <millis>1478802371026</millis>
  <sequence>2397</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>114</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:26:11</date>
  <millis>1478802371105</millis>
  <sequence>2398</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>114</thread>
  <message>Operation done. Duration = 1016 ms</message>
</record>
<record>
  <date>2016-11-11T02:26:13</date>
  <millis>1478802373080</millis>
  <sequence>2399</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:node.restart()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:26:13</date>
  <millis>1478802373081</millis>
  <sequence>2400</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with saved baud 115200...</message>
</record>
<record>
  <date>2016-11-11T02:26:13</date>
  <millis>1478802373144</millis>
  <sequence>2401</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success. Now we waiting for ESP reboot...</message>
</record>
<record>
  <date>2016-11-11T02:26:15</date>
  <millis>1478802375146</millis>
  <sequence>2402</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with baud 115200...</message>
</record>
<record>
  <date>2016-11-11T02:26:15</date>
  <millis>1478802375149</millis>
  <sequence>2403</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:print(uart.setup(0, 115200, 8, 0, 1, 1 ))&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:26:15</date>
  <millis>1478802375410</millis>
  <sequence>2404</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success.</message>
</record>
<record>
  <date>2016-11-11T02:26:15</date>
  <millis>1478802375452</millis>
  <sequence>2405</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:26:15</date>
  <millis>1478802375454</millis>
  <sequence>2406</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>115</thread>
  <message>
Communication with MCU established.</message>
</record>
<record>
  <date>2016-11-11T02:26:28</date>
  <millis>1478802388662</millis>
  <sequence>2407</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to load file control.lua</message>
</record>
<record>
  <date>2016-11-11T02:26:28</date>
  <millis>1478802388672</millis>
  <sequence>2408</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Loading control.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T02:26:28</date>
  <millis>1478802388672</millis>
  <sequence>2409</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>File reload: Success.</message>
</record>
<record>
  <date>2016-11-11T02:26:29</date>
  <millis>1478802389760</millis>
  <sequence>2410</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>We save known file control.lua</message>
</record>
<record>
  <date>2016-11-11T02:26:29</date>
  <millis>1478802389760</millis>
  <sequence>2411</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to saving file control.lua ...</message>
</record>
<record>
  <date>2016-11-11T02:26:29</date>
  <millis>1478802389763</millis>
  <sequence>2412</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Save file control.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T02:26:29</date>
  <millis>1478802389767</millis>
  <sequence>2413</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP: Try to save file to ESP...</message>
</record>
<record>
  <date>2016-11-11T02:26:29</date>
  <millis>1478802389768</millis>
  <sequence>2414</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Try to save file to ESP in Turbo Mode...</message>
</record>
<record>
  <date>2016-11-11T02:26:29</date>
  <millis>1478802389776</millis>
  <sequence>2415</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>DataTurboSender: start "Smart Mode"</message>
</record>
<record>
  <date>2016-11-11T02:26:29</date>
  <millis>1478802389777</millis>
  <sequence>2416</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Starting...</message>
</record>
<record>
  <date>2016-11-11T02:26:29</date>
  <millis>1478802389923</millis>
  <sequence>2417</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local FILE="control.lua" file.remove(FILE) file.open(FILE,"w+") uart.setup(0,115200,8,0,1,0)</message>
</record>
<record>
  <date>2016-11-11T02:26:29</date>
  <millis>1478802389924</millis>
  <sequence>2418</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>116</thread>
  <message>recv:lo</message>
</record>
<record>
  <date>2016-11-11T02:26:29</date>
  <millis>1478802389927</millis>
  <sequence>2419</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>116</thread>
  <message>recv:cal FILE="control.lua" file.r</message>
</record>
<record>
  <date>2016-11-11T02:26:29</date>
  <millis>1478802389930</millis>
  <sequence>2420</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>116</thread>
  <message>recv:emove(FILE) file.open(FILE,"w+"</message>
</record>
<record>
  <date>2016-11-11T02:26:29</date>
  <millis>1478802389932</millis>
  <sequence>2421</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>116</thread>
  <message>recv:) uart.setup(0,115200,8,0,1</message>
</record>
<record>
  <date>2016-11-11T02:26:29</date>
  <millis>1478802389934</millis>
  <sequence>2422</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>116</thread>
  <message>recv:,0)&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:26:30</date>
  <millis>1478802390116</millis>
  <sequence>2423</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>116</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:26:30</date>
  <millis>1478802390134</millis>
  <sequence>2424</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_Receiver=function(rcvBuf) if string.match(rcvBuf,"^ESP_cmd_close")==nil then file.write(string.gsub(rcvBuf, '\r', '')) uart.write(0, "&gt; ") else uart.on("data") </message>
</record>
<record>
  <date>2016-11-11T02:26:30</date>
  <millis>1478802390161</millis>
  <sequence>2425</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>116</thread>
  <message>recv:&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T02:26:30</date>
  <millis>1478802390178</millis>
  <sequence>2426</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:file.flush() file.close() FILE=nil rcvBuf=nil ESP_Receiver=nil uart.setup(0,115200,8,0,1,1) str="\r\n--Done--\r\n&gt; " print(str) str=nil collectgarbage() end end uart.on("data",'\r',ESP_Receiver,0)</message>
</record>
<record>
  <date>2016-11-11T02:26:30</date>
  <millis>1478802390217</millis>
  <sequence>2427</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>116</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:26:30</date>
  <millis>1478802390231</millis>
  <sequence>2428</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local M = {}

-- status pin = 0, alarm 1
-- relay pin = 6 and 7, alarm 2, 3

function M.status_LED(delay)
    gpio.mode(0, gpio.OUTPUT)
    status0 = 0
        
    tmr.alarm(1, delay, 1, function()
        if status0 == 0 then
            status0 = 1
  </message>
</record>
<record>
  <date>2016-11-11T02:26:30</date>
  <millis>1478802390260</millis>
  <sequence>2429</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>116</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:26:30</date>
  <millis>1478802390278</millis>
  <sequence>2430</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:          gpio.write(0, gpio.HIGH)
        else
            status0 = 0
            gpio.write(0, gpio.LOW)
        end 
    end)
      
end

-- One on/off relay
function M.relay_onoff()
    gpio.mode(6, gpio.OUTPUT)
    gpio.mode(7, gpio.OUTPUT)
    gpi</message>
</record>
<record>
  <date>2016-11-11T02:26:30</date>
  <millis>1478802390309</millis>
  <sequence>2431</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>116</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:26:30</date>
  <millis>1478802390324</millis>
  <sequence>2432</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:o.write(6, gpio.LOW)
    gpio.write(7, gpio.LOW)
        
    tmr.alarm(2, 1000, 0, function() gpio.write(6, gpio.HIGH) end)
    tmr.alarm(3, 1000, 0, function() gpio.write(7, gpio.HIGH) end)
    tmr.alarm(5, 2000, 0, function() gpio.write(6, gpio.LOW) e</message>
</record>
<record>
  <date>2016-11-11T02:26:30</date>
  <millis>1478802390355</millis>
  <sequence>2433</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>116</thread>
  <message>recv:&gt;</message>
</record>
<record>
  <date>2016-11-11T02:26:30</date>
  <millis>1478802390357</millis>
  <sequence>2434</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>116</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T02:26:30</date>
  <millis>1478802390374</millis>
  <sequence>2435</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:nd)
    tmr.alarm(6, 2000, 0, function() gpio.write(7, gpio.LOW) end)
end


-- loop relay
function M.relay_6(delay, mode)
    gpio.mode(6, gpio.OUTPUT)
    status1 = 0
        
    tmr.alarm(2, delay, mode, function()
        if status1 == 0 then
       </message>
</record>
<record>
  <date>2016-11-11T02:26:30</date>
  <millis>1478802390405</millis>
  <sequence>2436</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>116</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:26:30</date>
  <millis>1478802390421</millis>
  <sequence>2437</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:     status1 = 1
            gpio.write(6, gpio.HIGH)
        else
            status1 = 0
            gpio.write(6, gpio.LOW)
        end 
    end)
      
end


function M.relay_7(delay, mode)
    gpio.mode(7, gpio.OUTPUT)
    status2 = 0
        
    t</message>
</record>
<record>
  <date>2016-11-11T02:26:30</date>
  <millis>1478802390453</millis>
  <sequence>2438</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>116</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:26:30</date>
  <millis>1478802390465</millis>
  <sequence>2439</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:mr.alarm(3, delay, mode, function()
        if status2 == 0 then
            status2 = 1
            gpio.write(7, gpio.HIGH)
        else
            status2 = 0
            gpio.write(7, gpio.LOW)
        end 
    end)
      
end
return M
</message>
</record>
<record>
  <date>2016-11-11T02:26:30</date>
  <millis>1478802390495</millis>
  <sequence>2440</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>116</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:26:30</date>
  <millis>1478802390516</millis>
  <sequence>2441</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_cmd_close</message>
</record>
<record>
  <date>2016-11-11T02:26:30</date>
  <millis>1478802390529</millis>
  <sequence>2442</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>116</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;-</message>
</record>
<record>
  <date>2016-11-11T02:26:30</date>
  <millis>1478802390530</millis>
  <sequence>2443</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>116</thread>
  <message>recv:-Done--&lt;CR&gt;&lt;LF&gt;&gt; &lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:26:30</date>
  <millis>1478802390556</millis>
  <sequence>2444</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:26:30</date>
  <millis>1478802390557</millis>
  <sequence>2445</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>116</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;&gt;</message>
</record>
<record>
  <date>2016-11-11T02:26:30</date>
  <millis>1478802390560</millis>
  <sequence>2446</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>116</thread>
  <message>recv: &lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T02:26:30</date>
  <millis>1478802390594</millis>
  <sequence>2447</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:dofile("control.lua")</message>
</record>
<record>
  <date>2016-11-11T02:26:30</date>
  <millis>1478802390596</millis>
  <sequence>2448</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>116</thread>
  <message>recv:dofi</message>
</record>
<record>
  <date>2016-11-11T02:26:30</date>
  <millis>1478802390601</millis>
  <sequence>2449</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>116</thread>
  <message>recv:le("control.lua")&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:26:30</date>
  <millis>1478802390660</millis>
  <sequence>2450</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>116</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:26:30</date>
  <millis>1478802390703</millis>
  <sequence>2451</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>116</thread>
  <message>Operation done. Duration = 934 ms</message>
</record>
<record>
  <date>2016-11-11T02:26:32</date>
  <millis>1478802392000</millis>
  <sequence>2452</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:node.restart()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:26:32</date>
  <millis>1478802392002</millis>
  <sequence>2453</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with saved baud 115200...</message>
</record>
<record>
  <date>2016-11-11T02:26:32</date>
  <millis>1478802392064</millis>
  <sequence>2454</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success. Now we waiting for ESP reboot...</message>
</record>
<record>
  <date>2016-11-11T02:26:34</date>
  <millis>1478802394065</millis>
  <sequence>2455</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with baud 115200...</message>
</record>
<record>
  <date>2016-11-11T02:26:34</date>
  <millis>1478802394066</millis>
  <sequence>2456</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:print(uart.setup(0, 115200, 8, 0, 1, 1 ))&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:26:34</date>
  <millis>1478802394330</millis>
  <sequence>2457</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success.</message>
</record>
<record>
  <date>2016-11-11T02:26:34</date>
  <millis>1478802394376</millis>
  <sequence>2458</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:26:34</date>
  <millis>1478802394377</millis>
  <sequence>2459</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>117</thread>
  <message>
Communication with MCU established.</message>
</record>
<record>
  <date>2016-11-11T02:27:22</date>
  <millis>1478802442281</millis>
  <sequence>2460</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to load file control.lua</message>
</record>
<record>
  <date>2016-11-11T02:27:22</date>
  <millis>1478802442313</millis>
  <sequence>2461</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Loading control.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T02:27:22</date>
  <millis>1478802442314</millis>
  <sequence>2462</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>File reload: Success.</message>
</record>
<record>
  <date>2016-11-11T02:27:23</date>
  <millis>1478802443080</millis>
  <sequence>2463</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>We save known file control.lua</message>
</record>
<record>
  <date>2016-11-11T02:27:23</date>
  <millis>1478802443082</millis>
  <sequence>2464</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to saving file control.lua ...</message>
</record>
<record>
  <date>2016-11-11T02:27:23</date>
  <millis>1478802443085</millis>
  <sequence>2465</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Save file control.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T02:27:23</date>
  <millis>1478802443098</millis>
  <sequence>2466</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP: Try to save file to ESP...</message>
</record>
<record>
  <date>2016-11-11T02:27:23</date>
  <millis>1478802443099</millis>
  <sequence>2467</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Try to save file to ESP in Turbo Mode...</message>
</record>
<record>
  <date>2016-11-11T02:27:23</date>
  <millis>1478802443108</millis>
  <sequence>2468</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>DataTurboSender: start "Smart Mode"</message>
</record>
<record>
  <date>2016-11-11T02:27:23</date>
  <millis>1478802443109</millis>
  <sequence>2469</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Starting...</message>
</record>
<record>
  <date>2016-11-11T02:27:23</date>
  <millis>1478802443241</millis>
  <sequence>2470</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local FILE="control.lua" file.remove(FILE) file.open(FILE,"w+") uart.setup(0,115200,8,0,1,0)</message>
</record>
<record>
  <date>2016-11-11T02:27:23</date>
  <millis>1478802443243</millis>
  <sequence>2471</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>118</thread>
  <message>recv:loc</message>
</record>
<record>
  <date>2016-11-11T02:27:23</date>
  <millis>1478802443247</millis>
  <sequence>2472</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>118</thread>
  <message>recv:al FILE="control.lua" file.remove(FILE) file.</message>
</record>
<record>
  <date>2016-11-11T02:27:23</date>
  <millis>1478802443248</millis>
  <sequence>2473</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>118</thread>
  <message>recv:open(FILE,"w+") </message>
</record>
<record>
  <date>2016-11-11T02:27:23</date>
  <millis>1478802443250</millis>
  <sequence>2474</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>118</thread>
  <message>recv:uart.setup(0,115200,</message>
</record>
<record>
  <date>2016-11-11T02:27:23</date>
  <millis>1478802443255</millis>
  <sequence>2475</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>118</thread>
  <message>recv:8,0,1,0)&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:27:23</date>
  <millis>1478802443438</millis>
  <sequence>2476</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>118</thread>
  <message>recv:&gt;</message>
</record>
<record>
  <date>2016-11-11T02:27:23</date>
  <millis>1478802443440</millis>
  <sequence>2477</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>118</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T02:27:23</date>
  <millis>1478802443461</millis>
  <sequence>2478</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_Receiver=function(rcvBuf) if string.match(rcvBuf,"^ESP_cmd_close")==nil then file.write(string.gsub(rcvBuf, '\r', '')) uart.write(0, "&gt; ") else uart.on("data") </message>
</record>
<record>
  <date>2016-11-11T02:27:23</date>
  <millis>1478802443488</millis>
  <sequence>2479</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>118</thread>
  <message>recv:&gt;&gt;</message>
</record>
<record>
  <date>2016-11-11T02:27:23</date>
  <millis>1478802443489</millis>
  <sequence>2480</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>118</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T02:27:23</date>
  <millis>1478802443517</millis>
  <sequence>2481</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:file.flush() file.close() FILE=nil rcvBuf=nil ESP_Receiver=nil uart.setup(0,115200,8,0,1,1) str="\r\n--Done--\r\n&gt; " print(str) str=nil collectgarbage() end end uart.on("data",'\r',ESP_Receiver,0)</message>
</record>
<record>
  <date>2016-11-11T02:27:23</date>
  <millis>1478802443555</millis>
  <sequence>2482</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>118</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:27:23</date>
  <millis>1478802443570</millis>
  <sequence>2483</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local M = {}

-- status pin = 0, alarm 1
-- relay pin = 6 and 7, alarm 2, 3

function M.status_LED(delay)
    gpio.mode(0, gpio.OUTPUT)
    status0 = 0
        
    tmr.alarm(1, delay, 1, function()
        if status0 == 0 then
            status0 = 1
  </message>
</record>
<record>
  <date>2016-11-11T02:27:23</date>
  <millis>1478802443599</millis>
  <sequence>2484</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>118</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:27:23</date>
  <millis>1478802443613</millis>
  <sequence>2485</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:          gpio.write(0, gpio.HIGH)
        else
            status0 = 0
            gpio.write(0, gpio.LOW)
        end 
    end)
      
end

-- One on/off relay
function M.relay_onoff()
    gpio.mode(6, gpio.OUTPUT)
    gpio.mode(7, gpio.OUTPUT)
    gpi</message>
</record>
<record>
  <date>2016-11-11T02:27:23</date>
  <millis>1478802443643</millis>
  <sequence>2486</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>118</thread>
  <message>recv:&gt;</message>
</record>
<record>
  <date>2016-11-11T02:27:23</date>
  <millis>1478802443645</millis>
  <sequence>2487</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>118</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T02:27:23</date>
  <millis>1478802443666</millis>
  <sequence>2488</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:o.write(6, gpio.LOW)
    gpio.write(7, gpio.LOW)
        
    tmr.alarm(2, 1000, 0, function() gpio.write(6, gpio.HIGH) end)
    tmr.alarm(3, 1000, 0, function() gpio.write(7, gpio.HIGH) end)
    tmr.alarm(5, 3000, 0, function() gpio.write(6, gpio.LOW) e</message>
</record>
<record>
  <date>2016-11-11T02:27:23</date>
  <millis>1478802443698</millis>
  <sequence>2489</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>118</thread>
  <message>recv:&gt;</message>
</record>
<record>
  <date>2016-11-11T02:27:23</date>
  <millis>1478802443699</millis>
  <sequence>2490</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>118</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T02:27:23</date>
  <millis>1478802443718</millis>
  <sequence>2491</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:nd)
    tmr.alarm(6, 3000, 0, function() gpio.write(7, gpio.LOW) end)
    print (tmr.state(2))
end


-- loop relay
function M.relay_6(delay, mode)
    gpio.mode(6, gpio.OUTPUT)
    status1 = 0
        
    tmr.alarm(2, delay, mode, function()
        if </message>
</record>
<record>
  <date>2016-11-11T02:27:23</date>
  <millis>1478802443749</millis>
  <sequence>2492</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>118</thread>
  <message>recv:&gt;</message>
</record>
<record>
  <date>2016-11-11T02:27:23</date>
  <millis>1478802443751</millis>
  <sequence>2493</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>118</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T02:27:23</date>
  <millis>1478802443772</millis>
  <sequence>2494</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:status1 == 0 then
            status1 = 1
            gpio.write(6, gpio.HIGH)
        else
            status1 = 0
            gpio.write(6, gpio.LOW)
        end 
    end)
      
end


function M.relay_7(delay, mode)
    gpio.mode(7, gpio.OUTPUT)
    s</message>
</record>
<record>
  <date>2016-11-11T02:27:23</date>
  <millis>1478802443804</millis>
  <sequence>2495</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>118</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:27:23</date>
  <millis>1478802443819</millis>
  <sequence>2496</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:tatus2 = 0
        
    tmr.alarm(3, delay, mode, function()
        if status2 == 0 then
            status2 = 1
            gpio.write(7, gpio.HIGH)
        else
            status2 = 0
            gpio.write(7, gpio.LOW)
        end 
    end)
      
e</message>
</record>
<record>
  <date>2016-11-11T02:27:23</date>
  <millis>1478802443850</millis>
  <sequence>2497</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>118</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:27:23</date>
  <millis>1478802443865</millis>
  <sequence>2498</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:nd
return M
</message>
</record>
<record>
  <date>2016-11-11T02:27:23</date>
  <millis>1478802443876</millis>
  <sequence>2499</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>118</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:27:23</date>
  <millis>1478802443897</millis>
  <sequence>2500</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_cmd_close</message>
</record>
<record>
  <date>2016-11-11T02:27:23</date>
  <millis>1478802443910</millis>
  <sequence>2501</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>118</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:27:23</date>
  <millis>1478802443911</millis>
  <sequence>2502</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>118</thread>
  <message>recv:--Done--&lt;CR&gt;&lt;LF&gt;&gt; &lt;CR&gt;</message>
</record>
<record>
  <date>2016-11-11T02:27:23</date>
  <millis>1478802443917</millis>
  <sequence>2503</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>118</thread>
  <message>recv:&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:27:23</date>
  <millis>1478802443937</millis>
  <sequence>2504</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:27:23</date>
  <millis>1478802443939</millis>
  <sequence>2505</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>118</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;&gt;</message>
</record>
<record>
  <date>2016-11-11T02:27:23</date>
  <millis>1478802443941</millis>
  <sequence>2506</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>118</thread>
  <message>recv: &lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T02:27:23</date>
  <millis>1478802443977</millis>
  <sequence>2507</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:dofile("control.lua")</message>
</record>
<record>
  <date>2016-11-11T02:27:23</date>
  <millis>1478802443979</millis>
  <sequence>2508</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>118</thread>
  <message>recv:do</message>
</record>
<record>
  <date>2016-11-11T02:27:23</date>
  <millis>1478802443983</millis>
  <sequence>2509</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>118</thread>
  <message>recv:file("control.lua")&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:27:24</date>
  <millis>1478802444048</millis>
  <sequence>2510</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>118</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:27:24</date>
  <millis>1478802444102</millis>
  <sequence>2511</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>118</thread>
  <message>Operation done. Duration = 1001 ms</message>
</record>
<record>
  <date>2016-11-11T02:27:26</date>
  <millis>1478802446147</millis>
  <sequence>2512</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:node.restart()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:27:26</date>
  <millis>1478802446148</millis>
  <sequence>2513</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with saved baud 115200...</message>
</record>
<record>
  <date>2016-11-11T02:27:26</date>
  <millis>1478802446212</millis>
  <sequence>2514</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success. Now we waiting for ESP reboot...</message>
</record>
<record>
  <date>2016-11-11T02:27:28</date>
  <millis>1478802448213</millis>
  <sequence>2515</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with baud 115200...</message>
</record>
<record>
  <date>2016-11-11T02:27:28</date>
  <millis>1478802448215</millis>
  <sequence>2516</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:print(uart.setup(0, 115200, 8, 0, 1, 1 ))&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:27:28</date>
  <millis>1478802448481</millis>
  <sequence>2517</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success.</message>
</record>
<record>
  <date>2016-11-11T02:27:28</date>
  <millis>1478802448527</millis>
  <sequence>2518</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:27:28</date>
  <millis>1478802448530</millis>
  <sequence>2519</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>119</thread>
  <message>
Communication with MCU established.</message>
</record>
<record>
  <date>2016-11-11T02:27:33</date>
  <millis>1478802453211</millis>
  <sequence>2520</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:node.restart()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:27:33</date>
  <millis>1478802453213</millis>
  <sequence>2521</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with saved baud 115200...</message>
</record>
<record>
  <date>2016-11-11T02:27:33</date>
  <millis>1478802453282</millis>
  <sequence>2522</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success. Now we waiting for ESP reboot...</message>
</record>
<record>
  <date>2016-11-11T02:27:35</date>
  <millis>1478802455283</millis>
  <sequence>2523</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with baud 115200...</message>
</record>
<record>
  <date>2016-11-11T02:27:35</date>
  <millis>1478802455286</millis>
  <sequence>2524</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:print(uart.setup(0, 115200, 8, 0, 1, 1 ))&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:27:35</date>
  <millis>1478802455552</millis>
  <sequence>2525</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success.</message>
</record>
<record>
  <date>2016-11-11T02:27:35</date>
  <millis>1478802455602</millis>
  <sequence>2526</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:27:35</date>
  <millis>1478802455604</millis>
  <sequence>2527</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>119</thread>
  <message>
Communication with MCU established.</message>
</record>
<record>
  <date>2016-11-11T02:28:07</date>
  <millis>1478802487578</millis>
  <sequence>2528</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to load file control.lua</message>
</record>
<record>
  <date>2016-11-11T02:28:07</date>
  <millis>1478802487625</millis>
  <sequence>2529</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Loading control.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T02:28:07</date>
  <millis>1478802487625</millis>
  <sequence>2530</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>File reload: Success.</message>
</record>
<record>
  <date>2016-11-11T02:28:08</date>
  <millis>1478802488243</millis>
  <sequence>2531</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>We save known file control.lua</message>
</record>
<record>
  <date>2016-11-11T02:28:08</date>
  <millis>1478802488244</millis>
  <sequence>2532</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to saving file control.lua ...</message>
</record>
<record>
  <date>2016-11-11T02:28:08</date>
  <millis>1478802488247</millis>
  <sequence>2533</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Save file control.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T02:28:08</date>
  <millis>1478802488262</millis>
  <sequence>2534</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP: Try to save file to ESP...</message>
</record>
<record>
  <date>2016-11-11T02:28:08</date>
  <millis>1478802488280</millis>
  <sequence>2535</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Try to save file to ESP in Turbo Mode...</message>
</record>
<record>
  <date>2016-11-11T02:28:08</date>
  <millis>1478802488286</millis>
  <sequence>2536</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>DataTurboSender: start "Smart Mode"</message>
</record>
<record>
  <date>2016-11-11T02:28:08</date>
  <millis>1478802488299</millis>
  <sequence>2537</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Starting...</message>
</record>
<record>
  <date>2016-11-11T02:28:08</date>
  <millis>1478802488444</millis>
  <sequence>2538</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local FILE="control.lua" file.remove(FILE) file.open(FILE,"w+") uart.setup(0,115200,8,0,1,0)</message>
</record>
<record>
  <date>2016-11-11T02:28:08</date>
  <millis>1478802488445</millis>
  <sequence>2539</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>120</thread>
  <message>recv:lo</message>
</record>
<record>
  <date>2016-11-11T02:28:08</date>
  <millis>1478802488449</millis>
  <sequence>2540</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>120</thread>
  <message>recv:cal FILE="control.lua" file.remove(FILE) fi</message>
</record>
<record>
  <date>2016-11-11T02:28:08</date>
  <millis>1478802488450</millis>
  <sequence>2541</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>120</thread>
  <message>recv:le.open(FILE,"w+</message>
</record>
<record>
  <date>2016-11-11T02:28:08</date>
  <millis>1478802488452</millis>
  <sequence>2542</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>120</thread>
  <message>recv:") uart.setup(0,1</message>
</record>
<record>
  <date>2016-11-11T02:28:08</date>
  <millis>1478802488453</millis>
  <sequence>2543</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>120</thread>
  <message>recv:15200,8,0,1,0)&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:28:08</date>
  <millis>1478802488637</millis>
  <sequence>2544</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>120</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:28:08</date>
  <millis>1478802488650</millis>
  <sequence>2545</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_Receiver=function(rcvBuf) if string.match(rcvBuf,"^ESP_cmd_close")==nil then file.write(string.gsub(rcvBuf, '\r', '')) uart.write(0, "&gt; ") else uart.on("data") </message>
</record>
<record>
  <date>2016-11-11T02:28:08</date>
  <millis>1478802488677</millis>
  <sequence>2546</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>120</thread>
  <message>recv:&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T02:28:08</date>
  <millis>1478802488695</millis>
  <sequence>2547</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:file.flush() file.close() FILE=nil rcvBuf=nil ESP_Receiver=nil uart.setup(0,115200,8,0,1,1) str="\r\n--Done--\r\n&gt; " print(str) str=nil collectgarbage() end end uart.on("data",'\r',ESP_Receiver,0)</message>
</record>
<record>
  <date>2016-11-11T02:28:08</date>
  <millis>1478802488735</millis>
  <sequence>2548</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>120</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:28:08</date>
  <millis>1478802488752</millis>
  <sequence>2549</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local M = {}

-- status pin = 0, alarm 1
-- relay pin = 6 and 7, alarm 2, 3

function M.status_LED(delay)
    gpio.mode(0, gpio.OUTPUT)
    status0 = 0
        
    tmr.alarm(1, delay, 1, function()
        if status0 == 0 then
            status0 = 1
  </message>
</record>
<record>
  <date>2016-11-11T02:28:08</date>
  <millis>1478802488781</millis>
  <sequence>2550</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>120</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:28:08</date>
  <millis>1478802488797</millis>
  <sequence>2551</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:          gpio.write(0, gpio.HIGH)
        else
            status0 = 0
            gpio.write(0, gpio.LOW)
        end 
    end)
      
end

-- One on/off relay
function M.relay_onoff()
    gpio.mode(6, gpio.OUTPUT)
    gpio.mode(7, gpio.OUTPUT)
    gpi</message>
</record>
<record>
  <date>2016-11-11T02:28:08</date>
  <millis>1478802488829</millis>
  <sequence>2552</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>120</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:28:08</date>
  <millis>1478802488842</millis>
  <sequence>2553</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:o.write(6, gpio.LOW)
    gpio.write(7, gpio.LOW)
        
    tmr.alarm(2, 1000, 0, function() gpio.write(6, gpio.HIGH) end)
    tmr.alarm(3, 1000, 0, function() gpio.write(7, gpio.HIGH) end)
    tmr.alarm(5, 3000, 0, function() gpio.write(6, gpio.LOW) e</message>
</record>
<record>
  <date>2016-11-11T02:28:08</date>
  <millis>1478802488864</millis>
  <sequence>2554</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>120</thread>
  <message>recv:  </message>
</record>
<record>
  <date>2016-11-11T02:28:08</date>
  <millis>1478802488865</millis>
  <sequence>2555</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>120</thread>
  <message>recv:Config file NOT exis</message>
</record>
<record>
  <date>2016-11-11T02:28:08</date>
  <millis>1478802488870</millis>
  <sequence>2556</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>120</thread>
  <message>recv:ts, starting smartconfig..&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:28:08</date>
  <millis>1478802488874</millis>
  <sequence>2557</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>120</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:28:08</date>
  <millis>1478802488895</millis>
  <sequence>2558</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:nd)
    tmr.alarm(6, 3000, 0, function() gpio.write(7, gpio.LOW) end)
    tmr.stop(2)
    print (tmr.state(2))
end


-- loop relay
function M.relay_6(delay, mode)
    gpio.mode(6, gpio.OUTPUT)
    status1 = 0
        
    tmr.alarm(2, delay, mode, functi</message>
</record>
<record>
  <date>2016-11-11T02:28:08</date>
  <millis>1478802488926</millis>
  <sequence>2559</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>120</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:28:08</date>
  <millis>1478802488938</millis>
  <sequence>2560</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:on()
        if status1 == 0 then
            status1 = 1
            gpio.write(6, gpio.HIGH)
        else
            status1 = 0
            gpio.write(6, gpio.LOW)
        end 
    end)
      
end


function M.relay_7(delay, mode)
    gpio.mode(7, gp</message>
</record>
<record>
  <date>2016-11-11T02:28:08</date>
  <millis>1478802488969</millis>
  <sequence>2561</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>120</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:28:08</date>
  <millis>1478802488982</millis>
  <sequence>2562</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:io.OUTPUT)
    status2 = 0
        
    tmr.alarm(3, delay, mode, function()
        if status2 == 0 then
            status2 = 1
            gpio.write(7, gpio.HIGH)
        else
            status2 = 0
            gpio.write(7, gpio.LOW)
        end 
 </message>
</record>
<record>
  <date>2016-11-11T02:28:09</date>
  <millis>1478802489012</millis>
  <sequence>2563</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>120</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:28:09</date>
  <millis>1478802489027</millis>
  <sequence>2564</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:   end)
      
end
return M
</message>
</record>
<record>
  <date>2016-11-11T02:28:09</date>
  <millis>1478802489038</millis>
  <sequence>2565</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>120</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:28:09</date>
  <millis>1478802489051</millis>
  <sequence>2566</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_cmd_close</message>
</record>
<record>
  <date>2016-11-11T02:28:09</date>
  <millis>1478802489063</millis>
  <sequence>2567</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>120</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:28:09</date>
  <millis>1478802489064</millis>
  <sequence>2568</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>120</thread>
  <message>recv:--Done--&lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T02:28:09</date>
  <millis>1478802489066</millis>
  <sequence>2569</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>120</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:28:09</date>
  <millis>1478802489091</millis>
  <sequence>2570</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:28:09</date>
  <millis>1478802489093</millis>
  <sequence>2571</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>120</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;&gt;</message>
</record>
<record>
  <date>2016-11-11T02:28:09</date>
  <millis>1478802489097</millis>
  <sequence>2572</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>120</thread>
  <message>recv: &lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T02:28:09</date>
  <millis>1478802489126</millis>
  <sequence>2573</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:dofile("control.lua")</message>
</record>
<record>
  <date>2016-11-11T02:28:09</date>
  <millis>1478802489127</millis>
  <sequence>2574</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>120</thread>
  <message>recv:do</message>
</record>
<record>
  <date>2016-11-11T02:28:09</date>
  <millis>1478802489130</millis>
  <sequence>2575</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>120</thread>
  <message>recv:file("control.lua")&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:28:09</date>
  <millis>1478802489193</millis>
  <sequence>2576</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>120</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:28:09</date>
  <millis>1478802489229</millis>
  <sequence>2577</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>120</thread>
  <message>Operation done. Duration = 948 ms</message>
</record>
<record>
  <date>2016-11-11T02:28:10</date>
  <millis>1478802490654</millis>
  <sequence>2578</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:node.restart()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:28:10</date>
  <millis>1478802490657</millis>
  <sequence>2579</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with saved baud 115200...</message>
</record>
<record>
  <date>2016-11-11T02:28:10</date>
  <millis>1478802490722</millis>
  <sequence>2580</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success. Now we waiting for ESP reboot...</message>
</record>
<record>
  <date>2016-11-11T02:28:12</date>
  <millis>1478802492724</millis>
  <sequence>2581</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with baud 115200...</message>
</record>
<record>
  <date>2016-11-11T02:28:12</date>
  <millis>1478802492726</millis>
  <sequence>2582</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:print(uart.setup(0, 115200, 8, 0, 1, 1 ))&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:28:12</date>
  <millis>1478802492990</millis>
  <sequence>2583</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success.</message>
</record>
<record>
  <date>2016-11-11T02:28:13</date>
  <millis>1478802493041</millis>
  <sequence>2584</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:28:13</date>
  <millis>1478802493043</millis>
  <sequence>2585</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>121</thread>
  <message>
Communication with MCU established.</message>
</record>
<record>
  <date>2016-11-11T02:28:39</date>
  <millis>1478802519768</millis>
  <sequence>2586</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to load file control.lua</message>
</record>
<record>
  <date>2016-11-11T02:28:39</date>
  <millis>1478802519782</millis>
  <sequence>2587</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Loading control.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T02:28:39</date>
  <millis>1478802519783</millis>
  <sequence>2588</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>File reload: Success.</message>
</record>
<record>
  <date>2016-11-11T02:28:40</date>
  <millis>1478802520571</millis>
  <sequence>2589</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>We save known file control.lua</message>
</record>
<record>
  <date>2016-11-11T02:28:40</date>
  <millis>1478802520572</millis>
  <sequence>2590</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to saving file control.lua ...</message>
</record>
<record>
  <date>2016-11-11T02:28:40</date>
  <millis>1478802520576</millis>
  <sequence>2591</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Save file control.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T02:28:40</date>
  <millis>1478802520582</millis>
  <sequence>2592</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP: Try to save file to ESP...</message>
</record>
<record>
  <date>2016-11-11T02:28:40</date>
  <millis>1478802520582</millis>
  <sequence>2593</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Try to save file to ESP in Turbo Mode...</message>
</record>
<record>
  <date>2016-11-11T02:28:40</date>
  <millis>1478802520591</millis>
  <sequence>2594</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>DataTurboSender: start "Smart Mode"</message>
</record>
<record>
  <date>2016-11-11T02:28:40</date>
  <millis>1478802520593</millis>
  <sequence>2595</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Starting...</message>
</record>
<record>
  <date>2016-11-11T02:28:40</date>
  <millis>1478802520733</millis>
  <sequence>2596</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local FILE="control.lua" file.remove(FILE) file.open(FILE,"w+") uart.setup(0,115200,8,0,1,0)</message>
</record>
<record>
  <date>2016-11-11T02:28:40</date>
  <millis>1478802520736</millis>
  <sequence>2597</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>122</thread>
  <message>recv:loc</message>
</record>
<record>
  <date>2016-11-11T02:28:40</date>
  <millis>1478802520741</millis>
  <sequence>2598</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>122</thread>
  <message>recv:al FILE="control.lua" file.remove(FILE) file.open(FILE,"w+") uart</message>
</record>
<record>
  <date>2016-11-11T02:28:40</date>
  <millis>1478802520744</millis>
  <sequence>2599</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>122</thread>
  <message>recv:.setup(0,115200,8,0,1,0)&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:28:40</date>
  <millis>1478802520926</millis>
  <sequence>2600</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>122</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:28:40</date>
  <millis>1478802520947</millis>
  <sequence>2601</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_Receiver=function(rcvBuf) if string.match(rcvBuf,"^ESP_cmd_close")==nil then file.write(string.gsub(rcvBuf, '\r', '')) uart.write(0, "&gt; ") else uart.on("data") </message>
</record>
<record>
  <date>2016-11-11T02:28:40</date>
  <millis>1478802520974</millis>
  <sequence>2602</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>122</thread>
  <message>recv:&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T02:28:40</date>
  <millis>1478802520987</millis>
  <sequence>2603</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:file.flush() file.close() FILE=nil rcvBuf=nil ESP_Receiver=nil uart.setup(0,115200,8,0,1,1) str="\r\n--Done--\r\n&gt; " print(str) str=nil collectgarbage() end end uart.on("data",'\r',ESP_Receiver,0)</message>
</record>
<record>
  <date>2016-11-11T02:28:41</date>
  <millis>1478802521027</millis>
  <sequence>2604</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>122</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:28:41</date>
  <millis>1478802521041</millis>
  <sequence>2605</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local M = {}

-- status pin = 0, alarm 1
-- relay pin = 6 and 7, alarm 2, 3

function M.status_LED(delay)
    gpio.mode(0, gpio.OUTPUT)
    status0 = 0
        
    tmr.alarm(1, delay, 1, function()
        if status0 == 0 then
            status0 = 1
  </message>
</record>
<record>
  <date>2016-11-11T02:28:41</date>
  <millis>1478802521070</millis>
  <sequence>2606</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>122</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:28:41</date>
  <millis>1478802521084</millis>
  <sequence>2607</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:          gpio.write(0, gpio.HIGH)
        else
            status0 = 0
            gpio.write(0, gpio.LOW)
        end 
    end)
      
end

-- One on/off relay
function M.relay_onoff()
    gpio.mode(6, gpio.OUTPUT)
    gpio.mode(7, gpio.OUTPUT)
    gpi</message>
</record>
<record>
  <date>2016-11-11T02:28:41</date>
  <millis>1478802521115</millis>
  <sequence>2608</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>122</thread>
  <message>recv:&gt;</message>
</record>
<record>
  <date>2016-11-11T02:28:41</date>
  <millis>1478802521117</millis>
  <sequence>2609</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>122</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T02:28:41</date>
  <millis>1478802521136</millis>
  <sequence>2610</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:o.write(6, gpio.LOW)
    gpio.write(7, gpio.LOW)
        
    tmr.alarm(2, 1000, 0, function() gpio.write(6, gpio.HIGH) tmr.stop(2) end)
    tmr.alarm(3, 1000, 0, function() gpio.write(7, gpio.HIGH) end)
    tmr.alarm(5, 3000, 0, function() gpio.write(6,</message>
</record>
<record>
  <date>2016-11-11T02:28:41</date>
  <millis>1478802521167</millis>
  <sequence>2611</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>122</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:28:41</date>
  <millis>1478802521181</millis>
  <sequence>2612</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending: gpio.LOW) end)
    tmr.alarm(6, 3000, 0, function() gpio.write(7, gpio.LOW) end)
    
    print (tmr.state(2))
end


-- loop relay
function M.relay_6(delay, mode)
    gpio.mode(6, gpio.OUTPUT)
    status1 = 0
        
    tmr.alarm(2, delay, mode, funct</message>
</record>
<record>
  <date>2016-11-11T02:28:41</date>
  <millis>1478802521212</millis>
  <sequence>2613</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>122</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:28:41</date>
  <millis>1478802521224</millis>
  <sequence>2614</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ion()
        if status1 == 0 then
            status1 = 1
            gpio.write(6, gpio.HIGH)
        else
            status1 = 0
            gpio.write(6, gpio.LOW)
        end 
    end)
      
end


function M.relay_7(delay, mode)
    gpio.mode(7, g</message>
</record>
<record>
  <date>2016-11-11T02:28:41</date>
  <millis>1478802521256</millis>
  <sequence>2615</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>122</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:28:41</date>
  <millis>1478802521269</millis>
  <sequence>2616</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:pio.OUTPUT)
    status2 = 0
        
    tmr.alarm(3, delay, mode, function()
        if status2 == 0 then
            status2 = 1
            gpio.write(7, gpio.HIGH)
        else
            status2 = 0
            gpio.write(7, gpio.LOW)
        end 
</message>
</record>
<record>
  <date>2016-11-11T02:28:41</date>
  <millis>1478802521299</millis>
  <sequence>2617</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>122</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:28:41</date>
  <millis>1478802521312</millis>
  <sequence>2618</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:    end)
      
end
return M
</message>
</record>
<record>
  <date>2016-11-11T02:28:41</date>
  <millis>1478802521322</millis>
  <sequence>2619</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>122</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:28:41</date>
  <millis>1478802521337</millis>
  <sequence>2620</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_cmd_close</message>
</record>
<record>
  <date>2016-11-11T02:28:41</date>
  <millis>1478802521349</millis>
  <sequence>2621</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>122</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:28:41</date>
  <millis>1478802521353</millis>
  <sequence>2622</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>122</thread>
  <message>recv:--Done--&lt;CR&gt;&lt;LF&gt;&gt; &lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:28:41</date>
  <millis>1478802521379</millis>
  <sequence>2623</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:28:41</date>
  <millis>1478802521381</millis>
  <sequence>2624</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>122</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T02:28:41</date>
  <millis>1478802521383</millis>
  <sequence>2625</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>122</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T02:28:41</date>
  <millis>1478802521443</millis>
  <sequence>2626</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>122</thread>
  <message>Operation done. Duration = 858 ms</message>
</record>
<record>
  <date>2016-11-11T02:28:42</date>
  <millis>1478802522364</millis>
  <sequence>2627</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:node.restart()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:28:42</date>
  <millis>1478802522365</millis>
  <sequence>2628</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with saved baud 115200...</message>
</record>
<record>
  <date>2016-11-11T02:28:42</date>
  <millis>1478802522429</millis>
  <sequence>2629</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success. Now we waiting for ESP reboot...</message>
</record>
<record>
  <date>2016-11-11T02:28:44</date>
  <millis>1478802524432</millis>
  <sequence>2630</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with baud 115200...</message>
</record>
<record>
  <date>2016-11-11T02:28:44</date>
  <millis>1478802524433</millis>
  <sequence>2631</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:print(uart.setup(0, 115200, 8, 0, 1, 1 ))&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:28:44</date>
  <millis>1478802524697</millis>
  <sequence>2632</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success.</message>
</record>
<record>
  <date>2016-11-11T02:28:44</date>
  <millis>1478802524749</millis>
  <sequence>2633</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:28:44</date>
  <millis>1478802524751</millis>
  <sequence>2634</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>123</thread>
  <message>
Communication with MCU established.</message>
</record>
<record>
  <date>2016-11-11T02:29:17</date>
  <millis>1478802557788</millis>
  <sequence>2635</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to load file control.lua</message>
</record>
<record>
  <date>2016-11-11T02:29:17</date>
  <millis>1478802557800</millis>
  <sequence>2636</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Loading control.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T02:29:17</date>
  <millis>1478802557802</millis>
  <sequence>2637</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>File reload: Success.</message>
</record>
<record>
  <date>2016-11-11T02:29:18</date>
  <millis>1478802558600</millis>
  <sequence>2638</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>We save known file control.lua</message>
</record>
<record>
  <date>2016-11-11T02:29:18</date>
  <millis>1478802558600</millis>
  <sequence>2639</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to saving file control.lua ...</message>
</record>
<record>
  <date>2016-11-11T02:29:18</date>
  <millis>1478802558603</millis>
  <sequence>2640</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Save file control.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T02:29:18</date>
  <millis>1478802558607</millis>
  <sequence>2641</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP: Try to save file to ESP...</message>
</record>
<record>
  <date>2016-11-11T02:29:18</date>
  <millis>1478802558608</millis>
  <sequence>2642</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Try to save file to ESP in Turbo Mode...</message>
</record>
<record>
  <date>2016-11-11T02:29:18</date>
  <millis>1478802558617</millis>
  <sequence>2643</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>DataTurboSender: start "Smart Mode"</message>
</record>
<record>
  <date>2016-11-11T02:29:18</date>
  <millis>1478802558617</millis>
  <sequence>2644</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Starting...</message>
</record>
<record>
  <date>2016-11-11T02:29:18</date>
  <millis>1478802558760</millis>
  <sequence>2645</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local FILE="control.lua" file.remove(FILE) file.open(FILE,"w+") uart.setup(0,115200,8,0,1,0)</message>
</record>
<record>
  <date>2016-11-11T02:29:18</date>
  <millis>1478802558762</millis>
  <sequence>2646</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>124</thread>
  <message>recv:loca</message>
</record>
<record>
  <date>2016-11-11T02:29:18</date>
  <millis>1478802558767</millis>
  <sequence>2647</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>124</thread>
  <message>recv:l FILE="control.lua" file.remove(FILE) file.open(FILE,"w+") uart.s</message>
</record>
<record>
  <date>2016-11-11T02:29:18</date>
  <millis>1478802558769</millis>
  <sequence>2648</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>124</thread>
  <message>recv:etup(0,115200</message>
</record>
<record>
  <date>2016-11-11T02:29:18</date>
  <millis>1478802558770</millis>
  <sequence>2649</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>124</thread>
  <message>recv:,8,0,1,0)&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:29:18</date>
  <millis>1478802558965</millis>
  <sequence>2650</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>124</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:29:18</date>
  <millis>1478802558978</millis>
  <sequence>2651</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_Receiver=function(rcvBuf) if string.match(rcvBuf,"^ESP_cmd_close")==nil then file.write(string.gsub(rcvBuf, '\r', '')) uart.write(0, "&gt; ") else uart.on("data") </message>
</record>
<record>
  <date>2016-11-11T02:29:19</date>
  <millis>1478802559004</millis>
  <sequence>2652</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>124</thread>
  <message>recv:&gt;&gt;</message>
</record>
<record>
  <date>2016-11-11T02:29:19</date>
  <millis>1478802559005</millis>
  <sequence>2653</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>124</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T02:29:19</date>
  <millis>1478802559023</millis>
  <sequence>2654</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:file.flush() file.close() FILE=nil rcvBuf=nil ESP_Receiver=nil uart.setup(0,115200,8,0,1,1) str="\r\n--Done--\r\n&gt; " print(str) str=nil collectgarbage() end end uart.on("data",'\r',ESP_Receiver,0)</message>
</record>
<record>
  <date>2016-11-11T02:29:19</date>
  <millis>1478802559062</millis>
  <sequence>2655</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>124</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:29:19</date>
  <millis>1478802559075</millis>
  <sequence>2656</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local M = {}

-- status pin = 0, alarm 1
-- relay pin = 6 and 7, alarm 2, 3

function M.status_LED(delay)
    gpio.mode(0, gpio.OUTPUT)
    status0 = 0
        
    tmr.alarm(1, delay, 1, function()
        if status0 == 0 then
            status0 = 1
  </message>
</record>
<record>
  <date>2016-11-11T02:29:19</date>
  <millis>1478802559104</millis>
  <sequence>2657</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>124</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:29:19</date>
  <millis>1478802559117</millis>
  <sequence>2658</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:          gpio.write(0, gpio.HIGH)
        else
            status0 = 0
            gpio.write(0, gpio.LOW)
        end 
    end)
      
end

-- One on/off relay
function M.relay_onoff()
    gpio.mode(6, gpio.OUTPUT)
    gpio.mode(7, gpio.OUTPUT)
    gpi</message>
</record>
<record>
  <date>2016-11-11T02:29:19</date>
  <millis>1478802559148</millis>
  <sequence>2659</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>124</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:29:19</date>
  <millis>1478802559162</millis>
  <sequence>2660</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:o.write(6, gpio.LOW)
    gpio.write(7, gpio.LOW)
        
    tmr.alarm(2, 1000, 0, function() gpio.write(6, gpio.HIGH) end)
    tmr.alarm(3, 1000, 0, function() gpio.write(7, gpio.HIGH) end)
    tmr.alarm(5, 3000, 0, function() gpio.write(6, gpio.LOW) e</message>
</record>
<record>
  <date>2016-11-11T02:29:19</date>
  <millis>1478802559194</millis>
  <sequence>2661</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>124</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:29:19</date>
  <millis>1478802559206</millis>
  <sequence>2662</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:nd)
    tmr.alarm(6, 3000, 0, function() gpio.write(7, gpio.LOW) end)
end


-- loop relay
function M.relay_6(delay, mode)
    gpio.mode(6, gpio.OUTPUT)
    status1 = 0
        
    tmr.alarm(2, delay, mode, function()
        if status1 == 0 then
       </message>
</record>
<record>
  <date>2016-11-11T02:29:19</date>
  <millis>1478802559237</millis>
  <sequence>2663</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>124</thread>
  <message>recv:&gt;</message>
</record>
<record>
  <date>2016-11-11T02:29:19</date>
  <millis>1478802559239</millis>
  <sequence>2664</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>124</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T02:29:19</date>
  <millis>1478802559264</millis>
  <sequence>2665</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:     status1 = 1
            gpio.write(6, gpio.HIGH)
        else
            status1 = 0
            gpio.write(6, gpio.LOW)
        end 
    end)
      
end


function M.relay_7(delay, mode)
    gpio.mode(7, gpio.OUTPUT)
    status2 = 0
        
    t</message>
</record>
<record>
  <date>2016-11-11T02:29:19</date>
  <millis>1478802559295</millis>
  <sequence>2666</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>124</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:29:19</date>
  <millis>1478802559308</millis>
  <sequence>2667</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:mr.alarm(3, delay, mode, function()
        if status2 == 0 then
            status2 = 1
            gpio.write(7, gpio.HIGH)
        else
            status2 = 0
            gpio.write(7, gpio.LOW)
        end 
    end)
      
end
return M
</message>
</record>
<record>
  <date>2016-11-11T02:29:19</date>
  <millis>1478802559337</millis>
  <sequence>2668</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>124</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:29:19</date>
  <millis>1478802559350</millis>
  <sequence>2669</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_cmd_close</message>
</record>
<record>
  <date>2016-11-11T02:29:19</date>
  <millis>1478802559363</millis>
  <sequence>2670</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>124</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;--</message>
</record>
<record>
  <date>2016-11-11T02:29:19</date>
  <millis>1478802559365</millis>
  <sequence>2671</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>124</thread>
  <message>recv:Done--&lt;CR&gt;&lt;LF&gt;&gt; &lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:29:19</date>
  <millis>1478802559387</millis>
  <sequence>2672</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:29:19</date>
  <millis>1478802559388</millis>
  <sequence>2673</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>124</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:29:19</date>
  <millis>1478802559392</millis>
  <sequence>2674</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>124</thread>
  <message>recv:&gt; &lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T02:29:19</date>
  <millis>1478802559425</millis>
  <sequence>2675</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:dofile("control.lua")</message>
</record>
<record>
  <date>2016-11-11T02:29:19</date>
  <millis>1478802559427</millis>
  <sequence>2676</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>124</thread>
  <message>recv:dof</message>
</record>
<record>
  <date>2016-11-11T02:29:19</date>
  <millis>1478802559431</millis>
  <sequence>2677</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>124</thread>
  <message>recv:ile("control.lua")&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:29:19</date>
  <millis>1478802559499</millis>
  <sequence>2678</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>124</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:29:19</date>
  <millis>1478802559528</millis>
  <sequence>2679</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>124</thread>
  <message>Operation done. Duration = 919 ms</message>
</record>
<record>
  <date>2016-11-11T02:29:20</date>
  <millis>1478802560662</millis>
  <sequence>2680</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to load file init.lua</message>
</record>
<record>
  <date>2016-11-11T02:29:20</date>
  <millis>1478802560676</millis>
  <sequence>2681</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Loading init.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T02:29:20</date>
  <millis>1478802560677</millis>
  <sequence>2682</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>File reload: Success.</message>
</record>
<record>
  <date>2016-11-11T02:29:28</date>
  <millis>1478802568252</millis>
  <sequence>2683</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>We save known file init.lua</message>
</record>
<record>
  <date>2016-11-11T02:29:28</date>
  <millis>1478802568255</millis>
  <sequence>2684</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to saving file init.lua ...</message>
</record>
<record>
  <date>2016-11-11T02:29:28</date>
  <millis>1478802568257</millis>
  <sequence>2685</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Save file init.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T02:29:28</date>
  <millis>1478802568266</millis>
  <sequence>2686</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP: Try to save file to ESP...</message>
</record>
<record>
  <date>2016-11-11T02:29:28</date>
  <millis>1478802568267</millis>
  <sequence>2687</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Try to save file to ESP in Turbo Mode...</message>
</record>
<record>
  <date>2016-11-11T02:29:28</date>
  <millis>1478802568276</millis>
  <sequence>2688</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>DataTurboSender: start "Smart Mode"</message>
</record>
<record>
  <date>2016-11-11T02:29:28</date>
  <millis>1478802568277</millis>
  <sequence>2689</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Starting...</message>
</record>
<record>
  <date>2016-11-11T02:29:28</date>
  <millis>1478802568419</millis>
  <sequence>2690</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local FILE="init.lua" file.remove(FILE) file.open(FILE,"w+") uart.setup(0,115200,8,0,1,0)</message>
</record>
<record>
  <date>2016-11-11T02:29:28</date>
  <millis>1478802568420</millis>
  <sequence>2691</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>126</thread>
  <message>recv:loc</message>
</record>
<record>
  <date>2016-11-11T02:29:28</date>
  <millis>1478802568424</millis>
  <sequence>2692</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>126</thread>
  <message>recv:al FILE="init.lua" file.remove(FILE)</message>
</record>
<record>
  <date>2016-11-11T02:29:28</date>
  <millis>1478802568425</millis>
  <sequence>2693</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>126</thread>
  <message>recv: file.open(FILE,"w+") u</message>
</record>
<record>
  <date>2016-11-11T02:29:28</date>
  <millis>1478802568427</millis>
  <sequence>2694</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>126</thread>
  <message>recv:art.setup(0,1152</message>
</record>
<record>
  <date>2016-11-11T02:29:28</date>
  <millis>1478802568428</millis>
  <sequence>2695</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>126</thread>
  <message>recv:00,8,0,1,0)&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:29:28</date>
  <millis>1478802568704</millis>
  <sequence>2696</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>126</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:29:28</date>
  <millis>1478802568728</millis>
  <sequence>2697</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_Receiver=function(rcvBuf) if string.match(rcvBuf,"^ESP_cmd_close")==nil then file.write(string.gsub(rcvBuf, '\r', '')) uart.write(0, "&gt; ") else uart.on("data") </message>
</record>
<record>
  <date>2016-11-11T02:29:28</date>
  <millis>1478802568755</millis>
  <sequence>2698</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>126</thread>
  <message>recv:&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T02:29:28</date>
  <millis>1478802568768</millis>
  <sequence>2699</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:file.flush() file.close() FILE=nil rcvBuf=nil ESP_Receiver=nil uart.setup(0,115200,8,0,1,1) str="\r\n--Done--\r\n&gt; " print(str) str=nil collectgarbage() end end uart.on("data",'\r',ESP_Receiver,0)</message>
</record>
<record>
  <date>2016-11-11T02:29:28</date>
  <millis>1478802568808</millis>
  <sequence>2700</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>126</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:29:28</date>
  <millis>1478802568824</millis>
  <sequence>2701</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:misc = require "misc"
control = require "control"

-- timer 1 = status, 2,3 = relay 

files = file.list()  -- Lists all files in the file system.

misc.button_press()  -- button press interrupt io3
--misc.button_rst()

control.status_LED(300) -- blink st</message>
</record>
<record>
  <date>2016-11-11T02:29:28</date>
  <millis>1478802568853</millis>
  <sequence>2702</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>126</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:29:28</date>
  <millis>1478802568865</millis>
  <sequence>2703</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:atus LED

wifi.setmode(wifi.STATION)
wifi.sta.autoconnect(0) -- auto connect

if files["config.txt"] then
    misc.con_read()
    --tmr.delay(1000000)
    print(" Config exist, user&gt;".. user .. ", pass&gt;" .. password .. ", now set station mode and connect</message>
</record>
<record>
  <date>2016-11-11T02:29:28</date>
  <millis>1478802568897</millis>
  <sequence>2704</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>126</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:29:28</date>
  <millis>1478802568914</millis>
  <sequence>2705</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:")
    
    wifi.sta.config(user, password)
    wifi.sta.connect()
    
    tmr.alarm(4, 5000, 1, function() 
        if wifi.sta.getip()== nil then
            print("IP unavailable.. if info correct then wait, else reconfig by press BTN1 to clean")
   </message>
</record>
<record>
  <date>2016-11-11T02:29:28</date>
  <millis>1478802568946</millis>
  <sequence>2706</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>126</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:29:28</date>
  <millis>1478802568959</millis>
  <sequence>2707</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:     else
            print("connected.. IP is: " .. wifi.sta.getip())
            tmr.stop(4)
            dofile("mqtt.lua")
        end
    end)
    
else
    --wifi.setmode(wifi.STATION)

    control.relay_onoff()
    print (tmr.state(2))
    --contro</message>
</record>
<record>
  <date>2016-11-11T02:29:28</date>
  <millis>1478802568990</millis>
  <sequence>2708</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>126</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:29:29</date>
  <millis>1478802569003</millis>
  <sequence>2709</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:l.relay_onoff()
    --control.relay_6(2000)
    --control.relay_7(2000)
    --control.relay_6(2000, 1)
    --control.relay_7(2000, 1)
    --if not tmr.alarm(5, 1000, tmr.ALARM_SINGLE, function() print("hey there") end) then print("whoopsie") end
    --tm</message>
</record>
<record>
  <date>2016-11-11T02:29:29</date>
  <millis>1478802569035</millis>
  <sequence>2710</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>126</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:29:29</date>
  <millis>1478802569048</millis>
  <sequence>2711</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:r.stop(2)
    --tmr.stop(3)

    tmr.alarm(4, 5000, 1, function() 
        if wifi.sta.getip()== nil then
            print("  Config file NOT exists, starting smartconfig..")
            wifi.startsmart(0,
            function(ssid, password)
          </message>
</record>
<record>
  <date>2016-11-11T02:29:29</date>
  <millis>1478802569079</millis>
  <sequence>2712</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>126</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:29:29</date>
  <millis>1478802569098</millis>
  <sequence>2713</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:  print(string.format("Success. SSID: %s ; PASSWORD: %s", ssid, password)) 
            misc.con_write(ssid, password)
            end)
        else 
            tmr.stop(1)

            tmr.stop(4)
            print("Config done, IP is "..wifi.sta.getip</message>
</record>
<record>
  <date>2016-11-11T02:29:29</date>
  <millis>1478802569129</millis>
  <sequence>2714</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>126</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:29:29</date>
  <millis>1478802569144</millis>
  <sequence>2715</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:())
            wifi.stopsmart()

            --misc.con_read()
            --print (user .. password)
            dofile("mqtt.lua")
        end
    end)
        

end
</message>
</record>
<record>
  <date>2016-11-11T02:29:29</date>
  <millis>1478802569167</millis>
  <sequence>2716</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>126</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:29:29</date>
  <millis>1478802569181</millis>
  <sequence>2717</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_cmd_close</message>
</record>
<record>
  <date>2016-11-11T02:29:29</date>
  <millis>1478802569193</millis>
  <sequence>2718</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>126</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;-</message>
</record>
<record>
  <date>2016-11-11T02:29:29</date>
  <millis>1478802569194</millis>
  <sequence>2719</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>126</thread>
  <message>recv:-Done--&lt;CR&gt;&lt;LF&gt;&gt; &lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:29:29</date>
  <millis>1478802569220</millis>
  <sequence>2720</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:29:29</date>
  <millis>1478802569221</millis>
  <sequence>2721</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>126</thread>
  <message>recv:&lt;CR&gt;</message>
</record>
<record>
  <date>2016-11-11T02:29:29</date>
  <millis>1478802569224</millis>
  <sequence>2722</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>126</thread>
  <message>recv:&lt;LF&gt;&gt; &lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T02:29:29</date>
  <millis>1478802569258</millis>
  <sequence>2723</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:dofile("init.lua")</message>
</record>
<record>
  <date>2016-11-11T02:29:29</date>
  <millis>1478802569259</millis>
  <sequence>2724</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>126</thread>
  <message>recv:dof</message>
</record>
<record>
  <date>2016-11-11T02:29:29</date>
  <millis>1478802569262</millis>
  <sequence>2725</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>126</thread>
  <message>recv:ile("init.lua")&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:29:29</date>
  <millis>1478802569389</millis>
  <sequence>2726</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>126</thread>
  <message>recv:tru</message>
</record>
<record>
  <date>2016-11-11T02:29:29</date>
  <millis>1478802569391</millis>
  <sequence>2727</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>126</thread>
  <message>recv:e</message>
</record>
<record>
  <date>2016-11-11T02:29:29</date>
  <millis>1478802569394</millis>
  <sequence>2728</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>126</thread>
  <message>recv:	0&lt;CR&gt;&lt;LF&gt;tru</message>
</record>
<record>
  <date>2016-11-11T02:29:29</date>
  <millis>1478802569396</millis>
  <sequence>2729</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>126</thread>
  <message>recv:e	0&lt;CR&gt;</message>
</record>
<record>
  <date>2016-11-11T02:29:29</date>
  <millis>1478802569397</millis>
  <sequence>2730</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>126</thread>
  <message>recv:&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:29:29</date>
  <millis>1478802569401</millis>
  <sequence>2731</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>126</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:29:29</date>
  <millis>1478802569449</millis>
  <sequence>2732</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>126</thread>
  <message>Operation done. Duration = 1180 ms</message>
</record>
<record>
  <date>2016-11-11T02:29:31</date>
  <millis>1478802571226</millis>
  <sequence>2733</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:node.restart()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:29:31</date>
  <millis>1478802571228</millis>
  <sequence>2734</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with saved baud 115200...</message>
</record>
<record>
  <date>2016-11-11T02:29:31</date>
  <millis>1478802571291</millis>
  <sequence>2735</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success. Now we waiting for ESP reboot...</message>
</record>
<record>
  <date>2016-11-11T02:29:33</date>
  <millis>1478802573294</millis>
  <sequence>2736</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with baud 115200...</message>
</record>
<record>
  <date>2016-11-11T02:29:33</date>
  <millis>1478802573296</millis>
  <sequence>2737</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:print(uart.setup(0, 115200, 8, 0, 1, 1 ))&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:29:33</date>
  <millis>1478802573561</millis>
  <sequence>2738</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success.</message>
</record>
<record>
  <date>2016-11-11T02:29:33</date>
  <millis>1478802573603</millis>
  <sequence>2739</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:29:33</date>
  <millis>1478802573605</millis>
  <sequence>2740</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>127</thread>
  <message>
Communication with MCU established.</message>
</record>
<record>
  <date>2016-11-11T02:30:13</date>
  <millis>1478802613416</millis>
  <sequence>2741</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:node.restart()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:30:13</date>
  <millis>1478802613418</millis>
  <sequence>2742</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with saved baud 115200...</message>
</record>
<record>
  <date>2016-11-11T02:30:13</date>
  <millis>1478802613481</millis>
  <sequence>2743</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success. Now we waiting for ESP reboot...</message>
</record>
<record>
  <date>2016-11-11T02:30:15</date>
  <millis>1478802615483</millis>
  <sequence>2744</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with baud 115200...</message>
</record>
<record>
  <date>2016-11-11T02:30:15</date>
  <millis>1478802615484</millis>
  <sequence>2745</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:print(uart.setup(0, 115200, 8, 0, 1, 1 ))&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:30:15</date>
  <millis>1478802615749</millis>
  <sequence>2746</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success.</message>
</record>
<record>
  <date>2016-11-11T02:30:15</date>
  <millis>1478802615784</millis>
  <sequence>2747</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:30:15</date>
  <millis>1478802615787</millis>
  <sequence>2748</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>127</thread>
  <message>
Communication with MCU established.</message>
</record>
<record>
  <date>2016-11-11T02:30:16</date>
  <millis>1478802616553</millis>
  <sequence>2749</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to load file control.lua</message>
</record>
<record>
  <date>2016-11-11T02:30:16</date>
  <millis>1478802616578</millis>
  <sequence>2750</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Loading control.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T02:30:16</date>
  <millis>1478802616579</millis>
  <sequence>2751</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>File reload: Success.</message>
</record>
<record>
  <date>2016-11-11T02:30:17</date>
  <millis>1478802617560</millis>
  <sequence>2752</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>We save known file control.lua</message>
</record>
<record>
  <date>2016-11-11T02:30:17</date>
  <millis>1478802617561</millis>
  <sequence>2753</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to saving file control.lua ...</message>
</record>
<record>
  <date>2016-11-11T02:30:17</date>
  <millis>1478802617564</millis>
  <sequence>2754</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Save file control.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T02:30:17</date>
  <millis>1478802617569</millis>
  <sequence>2755</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP: Try to save file to ESP...</message>
</record>
<record>
  <date>2016-11-11T02:30:17</date>
  <millis>1478802617571</millis>
  <sequence>2756</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Try to save file to ESP in Turbo Mode...</message>
</record>
<record>
  <date>2016-11-11T02:30:17</date>
  <millis>1478802617578</millis>
  <sequence>2757</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>DataTurboSender: start "Smart Mode"</message>
</record>
<record>
  <date>2016-11-11T02:30:17</date>
  <millis>1478802617581</millis>
  <sequence>2758</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Starting...</message>
</record>
<record>
  <date>2016-11-11T02:30:17</date>
  <millis>1478802617714</millis>
  <sequence>2759</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local FILE="control.lua" file.remove(FILE) file.open(FILE,"w+") uart.setup(0,115200,8,0,1,0)</message>
</record>
<record>
  <date>2016-11-11T02:30:17</date>
  <millis>1478802617717</millis>
  <sequence>2760</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>128</thread>
  <message>recv:l</message>
</record>
<record>
  <date>2016-11-11T02:30:17</date>
  <millis>1478802617720</millis>
  <sequence>2761</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>128</thread>
  <message>recv:ocal FILE="control.lua" file.remove(F</message>
</record>
<record>
  <date>2016-11-11T02:30:17</date>
  <millis>1478802617723</millis>
  <sequence>2762</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>128</thread>
  <message>recv:ILE) file.open(FILE,"w+") uart.setup</message>
</record>
<record>
  <date>2016-11-11T02:30:17</date>
  <millis>1478802617724</millis>
  <sequence>2763</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>128</thread>
  <message>recv:(0,115200,8,0,1,0)</message>
</record>
<record>
  <date>2016-11-11T02:30:17</date>
  <millis>1478802617725</millis>
  <sequence>2764</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>128</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:30:17</date>
  <millis>1478802617905</millis>
  <sequence>2765</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>128</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:30:17</date>
  <millis>1478802617918</millis>
  <sequence>2766</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_Receiver=function(rcvBuf) if string.match(rcvBuf,"^ESP_cmd_close")==nil then file.write(string.gsub(rcvBuf, '\r', '')) uart.write(0, "&gt; ") else uart.on("data") </message>
</record>
<record>
  <date>2016-11-11T02:30:17</date>
  <millis>1478802617945</millis>
  <sequence>2767</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>128</thread>
  <message>recv:&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T02:30:17</date>
  <millis>1478802617958</millis>
  <sequence>2768</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:file.flush() file.close() FILE=nil rcvBuf=nil ESP_Receiver=nil uart.setup(0,115200,8,0,1,1) str="\r\n--Done--\r\n&gt; " print(str) str=nil collectgarbage() end end uart.on("data",'\r',ESP_Receiver,0)</message>
</record>
<record>
  <date>2016-11-11T02:30:17</date>
  <millis>1478802617997</millis>
  <sequence>2769</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>128</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:30:18</date>
  <millis>1478802618019</millis>
  <sequence>2770</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local M = {}

-- status pin = 0, alarm 1
-- relay pin = 6 and 7, alarm 2, 3

function M.status_LED(delay)
    gpio.mode(0, gpio.OUTPUT)
    status0 = 0
        
    tmr.alarm(1, delay, 1, function()
        if status0 == 0 then
            status0 = 1
  </message>
</record>
<record>
  <date>2016-11-11T02:30:18</date>
  <millis>1478802618048</millis>
  <sequence>2771</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>128</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:30:18</date>
  <millis>1478802618074</millis>
  <sequence>2772</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:          gpio.write(0, gpio.HIGH)
        else
            status0 = 0
            gpio.write(0, gpio.LOW)
        end 
    end)
      
end

-- One on/off relay
function M.relay_onoff()
    gpio.mode(6, gpio.OUTPUT)
    gpio.mode(7, gpio.OUTPUT)
    gpi</message>
</record>
<record>
  <date>2016-11-11T02:30:18</date>
  <millis>1478802618104</millis>
  <sequence>2773</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>128</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:30:18</date>
  <millis>1478802618125</millis>
  <sequence>2774</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:o.write(6, gpio.LOW)
    gpio.write(7, gpio.LOW)
        
    tmr.alarm(2, 1000, 0, function() gpio.write(6, gpio.HIGH) end)
    tmr.alarm(3, 1000, 0, function() gpio.write(7, gpio.HIGH) end)
    tmr.alarm(5, 3000, 0, function() gpio.write(6, gpio.LOW) e</message>
</record>
<record>
  <date>2016-11-11T02:30:18</date>
  <millis>1478802618156</millis>
  <sequence>2775</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>128</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:30:18</date>
  <millis>1478802618174</millis>
  <sequence>2776</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:nd)
    tmr.alarm(6, 3000, 0, function() gpio.write(7, gpio.LOW) end)
end


-- loop relay
function M.relay_6(delay, mode)
    gpio.mode(6, gpio.OUTPUT)
    status1 = 0
        
    tmr.alarm(2, delay, mode, function()
        if status1 == 0 then
       </message>
</record>
<record>
  <date>2016-11-11T02:30:18</date>
  <millis>1478802618205</millis>
  <sequence>2777</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>128</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:30:18</date>
  <millis>1478802618222</millis>
  <sequence>2778</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:     status1 = 1
            gpio.write(6, gpio.HIGH)
        else
            status1 = 0
            gpio.write(6, gpio.LOW)
        end 
    end)
      
end


function M.relay_7(delay, mode)
    gpio.mode(7, gpio.OUTPUT)
    status2 = 0
        
    t</message>
</record>
<record>
  <date>2016-11-11T02:30:18</date>
  <millis>1478802618253</millis>
  <sequence>2779</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>128</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:30:18</date>
  <millis>1478802618266</millis>
  <sequence>2780</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:mr.alarm(3, delay, mode, function()
        if status2 == 0 then
            status2 = 1
            gpio.write(7, gpio.HIGH)
        else
            status2 = 0
            gpio.write(7, gpio.LOW)
        end 
    end)
      
end
return M
</message>
</record>
<record>
  <date>2016-11-11T02:30:18</date>
  <millis>1478802618295</millis>
  <sequence>2781</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>128</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:30:18</date>
  <millis>1478802618308</millis>
  <sequence>2782</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_cmd_close</message>
</record>
<record>
  <date>2016-11-11T02:30:18</date>
  <millis>1478802618320</millis>
  <sequence>2783</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>128</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:30:18</date>
  <millis>1478802618321</millis>
  <sequence>2784</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>128</thread>
  <message>recv:--Done--&lt;CR&gt;&lt;LF&gt;&gt; &lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:30:18</date>
  <millis>1478802618344</millis>
  <sequence>2785</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:30:18</date>
  <millis>1478802618346</millis>
  <sequence>2786</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>128</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:30:18</date>
  <millis>1478802618350</millis>
  <sequence>2787</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>128</thread>
  <message>recv:&gt; &lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T02:30:18</date>
  <millis>1478802618386</millis>
  <sequence>2788</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:dofile("control.lua")</message>
</record>
<record>
  <date>2016-11-11T02:30:18</date>
  <millis>1478802618388</millis>
  <sequence>2789</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>128</thread>
  <message>recv:do</message>
</record>
<record>
  <date>2016-11-11T02:30:18</date>
  <millis>1478802618392</millis>
  <sequence>2790</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>128</thread>
  <message>recv:file("control.lua")&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:30:18</date>
  <millis>1478802618449</millis>
  <sequence>2791</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>128</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:30:18</date>
  <millis>1478802618513</millis>
  <sequence>2792</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>128</thread>
  <message>Operation done. Duration = 940 ms</message>
</record>
<record>
  <date>2016-11-11T02:30:19</date>
  <millis>1478802619514</millis>
  <sequence>2793</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to load file init.lua</message>
</record>
<record>
  <date>2016-11-11T02:30:19</date>
  <millis>1478802619525</millis>
  <sequence>2794</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Loading init.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T02:30:19</date>
  <millis>1478802619525</millis>
  <sequence>2795</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>File reload: Success.</message>
</record>
<record>
  <date>2016-11-11T02:30:20</date>
  <millis>1478802620201</millis>
  <sequence>2796</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>We save known file init.lua</message>
</record>
<record>
  <date>2016-11-11T02:30:20</date>
  <millis>1478802620202</millis>
  <sequence>2797</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to saving file init.lua ...</message>
</record>
<record>
  <date>2016-11-11T02:30:20</date>
  <millis>1478802620205</millis>
  <sequence>2798</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Save file init.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T02:30:20</date>
  <millis>1478802620213</millis>
  <sequence>2799</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP: Try to save file to ESP...</message>
</record>
<record>
  <date>2016-11-11T02:30:20</date>
  <millis>1478802620215</millis>
  <sequence>2800</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Try to save file to ESP in Turbo Mode...</message>
</record>
<record>
  <date>2016-11-11T02:30:20</date>
  <millis>1478802620223</millis>
  <sequence>2801</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>DataTurboSender: start "Smart Mode"</message>
</record>
<record>
  <date>2016-11-11T02:30:20</date>
  <millis>1478802620223</millis>
  <sequence>2802</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Starting...</message>
</record>
<record>
  <date>2016-11-11T02:30:20</date>
  <millis>1478802620363</millis>
  <sequence>2803</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local FILE="init.lua" file.remove(FILE) file.open(FILE,"w+") uart.setup(0,115200,8,0,1,0)</message>
</record>
<record>
  <date>2016-11-11T02:30:20</date>
  <millis>1478802620365</millis>
  <sequence>2804</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>130</thread>
  <message>recv:loc</message>
</record>
<record>
  <date>2016-11-11T02:30:20</date>
  <millis>1478802620369</millis>
  <sequence>2805</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>130</thread>
  <message>recv:al FILE="init.lua" file.remove(FILE) file.op</message>
</record>
<record>
  <date>2016-11-11T02:30:20</date>
  <millis>1478802620371</millis>
  <sequence>2806</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>130</thread>
  <message>recv:en(FILE,"w+") uart.setup(</message>
</record>
<record>
  <date>2016-11-11T02:30:20</date>
  <millis>1478802620373</millis>
  <sequence>2807</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>130</thread>
  <message>recv:0,115200,8,0,1,0)</message>
</record>
<record>
  <date>2016-11-11T02:30:20</date>
  <millis>1478802620374</millis>
  <sequence>2808</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>130</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:30:20</date>
  <millis>1478802620645</millis>
  <sequence>2809</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>130</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:30:20</date>
  <millis>1478802620664</millis>
  <sequence>2810</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_Receiver=function(rcvBuf) if string.match(rcvBuf,"^ESP_cmd_close")==nil then file.write(string.gsub(rcvBuf, '\r', '')) uart.write(0, "&gt; ") else uart.on("data") </message>
</record>
<record>
  <date>2016-11-11T02:30:20</date>
  <millis>1478802620691</millis>
  <sequence>2811</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>130</thread>
  <message>recv:&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T02:30:20</date>
  <millis>1478802620708</millis>
  <sequence>2812</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:file.flush() file.close() FILE=nil rcvBuf=nil ESP_Receiver=nil uart.setup(0,115200,8,0,1,1) str="\r\n--Done--\r\n&gt; " print(str) str=nil collectgarbage() end end uart.on("data",'\r',ESP_Receiver,0)</message>
</record>
<record>
  <date>2016-11-11T02:30:20</date>
  <millis>1478802620747</millis>
  <sequence>2813</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>130</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:30:20</date>
  <millis>1478802620760</millis>
  <sequence>2814</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:misc = require "misc"
control = require "control"

-- timer 1 = status, 2,3 = relay 

files = file.list()  -- Lists all files in the file system.

misc.button_press()  -- button press interrupt io3
--misc.button_rst()

control.status_LED(300) -- blink st</message>
</record>
<record>
  <date>2016-11-11T02:30:20</date>
  <millis>1478802620789</millis>
  <sequence>2815</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>130</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:30:20</date>
  <millis>1478802620808</millis>
  <sequence>2816</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:atus LED

wifi.setmode(wifi.STATION)
wifi.sta.autoconnect(0) -- auto connect

if files["config.txt"] then
    misc.con_read()
    --tmr.delay(1000000)
    print(" Config exist, user&gt;".. user .. ", pass&gt;" .. password .. ", now set station mode and connect</message>
</record>
<record>
  <date>2016-11-11T02:30:20</date>
  <millis>1478802620840</millis>
  <sequence>2817</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>130</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:30:20</date>
  <millis>1478802620852</millis>
  <sequence>2818</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:")
    
    wifi.sta.config(user, password)
    wifi.sta.connect()
    
    tmr.alarm(4, 5000, 1, function() 
        if wifi.sta.getip()== nil then
            print("IP unavailable.. if info correct then wait, else reconfig by press BTN1 to clean")
   </message>
</record>
<record>
  <date>2016-11-11T02:30:20</date>
  <millis>1478802620883</millis>
  <sequence>2819</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>130</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:30:20</date>
  <millis>1478802620896</millis>
  <sequence>2820</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:     else
            print("connected.. IP is: " .. wifi.sta.getip())
            tmr.stop(4)
            dofile("mqtt.lua")
        end
    end)
    
else
    --wifi.setmode(wifi.STATION)

    control.relay_onoff()
    control.relay_onoff()
    --print</message>
</record>
<record>
  <date>2016-11-11T02:30:20</date>
  <millis>1478802620929</millis>
  <sequence>2821</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>130</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:30:20</date>
  <millis>1478802620944</millis>
  <sequence>2822</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending: (tmr.state(2))
    --control.relay_onoff()
    --control.relay_6(2000)
    --control.relay_7(2000)
    --control.relay_6(2000, 1)
    --control.relay_7(2000, 1)
    --if not tmr.alarm(5, 1000, tmr.ALARM_SINGLE, function() print("hey there") end) then pr</message>
</record>
<record>
  <date>2016-11-11T02:30:20</date>
  <millis>1478802620975</millis>
  <sequence>2823</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>130</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:30:20</date>
  <millis>1478802620988</millis>
  <sequence>2824</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:int("whoopsie") end
    --tmr.stop(2)
    --tmr.stop(3)

    tmr.alarm(4, 5000, 1, function() 
        if wifi.sta.getip()== nil then
            print("  Config file NOT exists, starting smartconfig..")
            wifi.startsmart(0,
            functio</message>
</record>
<record>
  <date>2016-11-11T02:30:21</date>
  <millis>1478802621019</millis>
  <sequence>2825</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>130</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:30:21</date>
  <millis>1478802621033</millis>
  <sequence>2826</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:n(ssid, password)
            print(string.format("Success. SSID: %s ; PASSWORD: %s", ssid, password)) 
            misc.con_write(ssid, password)
            end)
        else 
            tmr.stop(1)

            tmr.stop(4)
            print("Config d</message>
</record>
<record>
  <date>2016-11-11T02:30:21</date>
  <millis>1478802621063</millis>
  <sequence>2827</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>130</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:30:21</date>
  <millis>1478802621075</millis>
  <sequence>2828</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:one, IP is "..wifi.sta.getip())
            wifi.stopsmart()

            --misc.con_read()
            --print (user .. password)
            dofile("mqtt.lua")
        end
    end)
        

end
</message>
</record>
<record>
  <date>2016-11-11T02:30:21</date>
  <millis>1478802621102</millis>
  <sequence>2829</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>130</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:30:21</date>
  <millis>1478802621118</millis>
  <sequence>2830</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_cmd_close</message>
</record>
<record>
  <date>2016-11-11T02:30:21</date>
  <millis>1478802621131</millis>
  <sequence>2831</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>130</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:30:21</date>
  <millis>1478802621132</millis>
  <sequence>2832</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>130</thread>
  <message>recv:--Done--&lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T02:30:21</date>
  <millis>1478802621133</millis>
  <sequence>2833</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>130</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:30:21</date>
  <millis>1478802621159</millis>
  <sequence>2834</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:30:21</date>
  <millis>1478802621160</millis>
  <sequence>2835</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>130</thread>
  <message>recv:&lt;CR&gt;</message>
</record>
<record>
  <date>2016-11-11T02:30:21</date>
  <millis>1478802621162</millis>
  <sequence>2836</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>130</thread>
  <message>recv:&lt;LF&gt;&gt; &lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T02:30:21</date>
  <millis>1478802621196</millis>
  <sequence>2837</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:dofile("init.lua")</message>
</record>
<record>
  <date>2016-11-11T02:30:21</date>
  <millis>1478802621198</millis>
  <sequence>2838</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>130</thread>
  <message>recv:d</message>
</record>
<record>
  <date>2016-11-11T02:30:21</date>
  <millis>1478802621199</millis>
  <sequence>2839</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>130</thread>
  <message>recv:ofile("init.lua")</message>
</record>
<record>
  <date>2016-11-11T02:30:21</date>
  <millis>1478802621200</millis>
  <sequence>2840</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>130</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:30:21</date>
  <millis>1478802621338</millis>
  <sequence>2841</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>130</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:30:21</date>
  <millis>1478802621381</millis>
  <sequence>2842</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>130</thread>
  <message>Operation done. Duration = 1164 ms</message>
</record>
<record>
  <date>2016-11-11T02:30:22</date>
  <millis>1478802622188</millis>
  <sequence>2843</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:node.restart()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:30:22</date>
  <millis>1478802622189</millis>
  <sequence>2844</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with saved baud 115200...</message>
</record>
<record>
  <date>2016-11-11T02:30:22</date>
  <millis>1478802622250</millis>
  <sequence>2845</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success. Now we waiting for ESP reboot...</message>
</record>
<record>
  <date>2016-11-11T02:30:24</date>
  <millis>1478802624252</millis>
  <sequence>2846</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with baud 115200...</message>
</record>
<record>
  <date>2016-11-11T02:30:24</date>
  <millis>1478802624254</millis>
  <sequence>2847</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:print(uart.setup(0, 115200, 8, 0, 1, 1 ))&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:30:24</date>
  <millis>1478802624518</millis>
  <sequence>2848</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success.</message>
</record>
<record>
  <date>2016-11-11T02:30:24</date>
  <millis>1478802624566</millis>
  <sequence>2849</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:30:24</date>
  <millis>1478802624568</millis>
  <sequence>2850</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>131</thread>
  <message>
Communication with MCU established.</message>
</record>
<record>
  <date>2016-11-11T02:30:49</date>
  <millis>1478802649843</millis>
  <sequence>2851</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>We save known file control.lua</message>
</record>
<record>
  <date>2016-11-11T02:30:49</date>
  <millis>1478802649844</millis>
  <sequence>2852</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to saving file control.lua ...</message>
</record>
<record>
  <date>2016-11-11T02:30:49</date>
  <millis>1478802649846</millis>
  <sequence>2853</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Save file control.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T02:30:49</date>
  <millis>1478802649858</millis>
  <sequence>2854</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP: Try to save file to ESP...</message>
</record>
<record>
  <date>2016-11-11T02:30:49</date>
  <millis>1478802649859</millis>
  <sequence>2855</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Try to save file to ESP in Turbo Mode...</message>
</record>
<record>
  <date>2016-11-11T02:30:49</date>
  <millis>1478802649869</millis>
  <sequence>2856</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>DataTurboSender: start "Smart Mode"</message>
</record>
<record>
  <date>2016-11-11T02:30:49</date>
  <millis>1478802649870</millis>
  <sequence>2857</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Starting...</message>
</record>
<record>
  <date>2016-11-11T02:30:49</date>
  <millis>1478802649990</millis>
  <sequence>2858</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local FILE="control.lua" file.remove(FILE) file.open(FILE,"w+") uart.setup(0,115200,8,0,1,0)</message>
</record>
<record>
  <date>2016-11-11T02:30:49</date>
  <millis>1478802649992</millis>
  <sequence>2859</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>132</thread>
  <message>recv:l</message>
</record>
<record>
  <date>2016-11-11T02:30:49</date>
  <millis>1478802649994</millis>
  <sequence>2860</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>132</thread>
  <message>recv:ocal FILE="control.lua" </message>
</record>
<record>
  <date>2016-11-11T02:30:49</date>
  <millis>1478802649995</millis>
  <sequence>2861</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>132</thread>
  <message>recv:file.remove(</message>
</record>
<record>
  <date>2016-11-11T02:30:49</date>
  <millis>1478802649996</millis>
  <sequence>2862</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>132</thread>
  <message>recv:FILE) file.o</message>
</record>
<record>
  <date>2016-11-11T02:30:49</date>
  <millis>1478802649998</millis>
  <sequence>2863</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>132</thread>
  <message>recv:pen(FILE,"w+") uart.setup(0,</message>
</record>
<record>
  <date>2016-11-11T02:30:50</date>
  <millis>1478802650000</millis>
  <sequence>2864</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>132</thread>
  <message>recv:115200,8,0,1,</message>
</record>
<record>
  <date>2016-11-11T02:30:50</date>
  <millis>1478802650000</millis>
  <sequence>2865</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>132</thread>
  <message>recv:0)&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:30:50</date>
  <millis>1478802650188</millis>
  <sequence>2866</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>132</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:30:50</date>
  <millis>1478802650201</millis>
  <sequence>2867</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_Receiver=function(rcvBuf) if string.match(rcvBuf,"^ESP_cmd_close")==nil then file.write(string.gsub(rcvBuf, '\r', '')) uart.write(0, "&gt; ") else uart.on("data") </message>
</record>
<record>
  <date>2016-11-11T02:30:50</date>
  <millis>1478802650228</millis>
  <sequence>2868</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>132</thread>
  <message>recv:&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T02:30:50</date>
  <millis>1478802650245</millis>
  <sequence>2869</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:file.flush() file.close() FILE=nil rcvBuf=nil ESP_Receiver=nil uart.setup(0,115200,8,0,1,1) str="\r\n--Done--\r\n&gt; " print(str) str=nil collectgarbage() end end uart.on("data",'\r',ESP_Receiver,0)</message>
</record>
<record>
  <date>2016-11-11T02:30:50</date>
  <millis>1478802650284</millis>
  <sequence>2870</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>132</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:30:50</date>
  <millis>1478802650298</millis>
  <sequence>2871</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local M = {}

-- status pin = 0, alarm 1
-- relay pin = 6 and 7, alarm 2, 3

function M.status_LED(delay)
    gpio.mode(0, gpio.OUTPUT)
    status0 = 0
        
    tmr.alarm(1, delay, 1, function()
        if status0 == 0 then
            status0 = 1
  </message>
</record>
<record>
  <date>2016-11-11T02:30:50</date>
  <millis>1478802650327</millis>
  <sequence>2872</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>132</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:30:50</date>
  <millis>1478802650344</millis>
  <sequence>2873</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:          gpio.write(0, gpio.HIGH)
        else
            status0 = 0
            gpio.write(0, gpio.LOW)
        end 
    end)
      
end

-- One on/off relay
function M.relay_onoff()
    gpio.mode(6, gpio.OUTPUT)
    gpio.mode(7, gpio.OUTPUT)
    gpi</message>
</record>
<record>
  <date>2016-11-11T02:30:50</date>
  <millis>1478802650375</millis>
  <sequence>2874</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>132</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:30:50</date>
  <millis>1478802650389</millis>
  <sequence>2875</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:o.write(6, gpio.LOW)
    gpio.write(7, gpio.LOW)
        
    tmr.alarm(2, 1000, 1, function() gpio.write(6, gpio.HIGH) end)
    tmr.alarm(3, 1000, 1, function() gpio.write(7, gpio.HIGH) end)
    tmr.alarm(5, 3000, 0, function() gpio.write(6, gpio.LOW) e</message>
</record>
<record>
  <date>2016-11-11T02:30:50</date>
  <millis>1478802650420</millis>
  <sequence>2876</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>132</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:30:50</date>
  <millis>1478802650434</millis>
  <sequence>2877</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:nd)
    tmr.alarm(6, 3000, 0, function() gpio.write(7, gpio.LOW) end)
end


-- loop relay
function M.relay_6(delay, mode)
    gpio.mode(6, gpio.OUTPUT)
    status1 = 0
        
    tmr.alarm(2, delay, mode, function()
        if status1 == 0 then
       </message>
</record>
<record>
  <date>2016-11-11T02:30:50</date>
  <millis>1478802650465</millis>
  <sequence>2878</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>132</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:30:50</date>
  <millis>1478802650478</millis>
  <sequence>2879</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:     status1 = 1
            gpio.write(6, gpio.HIGH)
        else
            status1 = 0
            gpio.write(6, gpio.LOW)
        end 
    end)
      
end


function M.relay_7(delay, mode)
    gpio.mode(7, gpio.OUTPUT)
    status2 = 0
        
    t</message>
</record>
<record>
  <date>2016-11-11T02:30:50</date>
  <millis>1478802650508</millis>
  <sequence>2880</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>132</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:30:50</date>
  <millis>1478802650520</millis>
  <sequence>2881</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:mr.alarm(3, delay, mode, function()
        if status2 == 0 then
            status2 = 1
            gpio.write(7, gpio.HIGH)
        else
            status2 = 0
            gpio.write(7, gpio.LOW)
        end 
    end)
      
end
return M
</message>
</record>
<record>
  <date>2016-11-11T02:30:50</date>
  <millis>1478802650550</millis>
  <sequence>2882</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>132</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:30:50</date>
  <millis>1478802650562</millis>
  <sequence>2883</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_cmd_close</message>
</record>
<record>
  <date>2016-11-11T02:30:50</date>
  <millis>1478802650575</millis>
  <sequence>2884</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>132</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;--</message>
</record>
<record>
  <date>2016-11-11T02:30:50</date>
  <millis>1478802650576</millis>
  <sequence>2885</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>132</thread>
  <message>recv:Done--&lt;CR&gt;&lt;LF&gt;&gt; &lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:30:50</date>
  <millis>1478802650598</millis>
  <sequence>2886</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:30:50</date>
  <millis>1478802650599</millis>
  <sequence>2887</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>132</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:30:50</date>
  <millis>1478802650601</millis>
  <sequence>2888</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>132</thread>
  <message>recv:&gt; &lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T02:30:50</date>
  <millis>1478802650634</millis>
  <sequence>2889</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:dofile("control.lua")</message>
</record>
<record>
  <date>2016-11-11T02:30:50</date>
  <millis>1478802650636</millis>
  <sequence>2890</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>132</thread>
  <message>recv:do</message>
</record>
<record>
  <date>2016-11-11T02:30:50</date>
  <millis>1478802650637</millis>
  <sequence>2891</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>132</thread>
  <message>recv:file("control.l</message>
</record>
<record>
  <date>2016-11-11T02:30:50</date>
  <millis>1478802650638</millis>
  <sequence>2892</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>132</thread>
  <message>recv:ua")&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:30:50</date>
  <millis>1478802650702</millis>
  <sequence>2893</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>132</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:30:50</date>
  <millis>1478802650778</millis>
  <sequence>2894</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>132</thread>
  <message>Operation done. Duration = 917 ms</message>
</record>
<record>
  <date>2016-11-11T02:30:53</date>
  <millis>1478802653962</millis>
  <sequence>2895</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>We save known file control.lua</message>
</record>
<record>
  <date>2016-11-11T02:30:53</date>
  <millis>1478802653963</millis>
  <sequence>2896</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to saving file control.lua ...</message>
</record>
<record>
  <date>2016-11-11T02:30:53</date>
  <millis>1478802653966</millis>
  <sequence>2897</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Save file control.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T02:30:53</date>
  <millis>1478802653977</millis>
  <sequence>2898</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP: Try to save file to ESP...</message>
</record>
<record>
  <date>2016-11-11T02:30:53</date>
  <millis>1478802653983</millis>
  <sequence>2899</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Try to save file to ESP in Turbo Mode...</message>
</record>
<record>
  <date>2016-11-11T02:30:53</date>
  <millis>1478802653993</millis>
  <sequence>2900</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>DataTurboSender: start "Smart Mode"</message>
</record>
<record>
  <date>2016-11-11T02:30:53</date>
  <millis>1478802653996</millis>
  <sequence>2901</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Starting...</message>
</record>
<record>
  <date>2016-11-11T02:30:54</date>
  <millis>1478802654119</millis>
  <sequence>2902</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local FILE="control.lua" file.remove(FILE) file.open(FILE,"w+") uart.setup(0,115200,8,0,1,0)</message>
</record>
<record>
  <date>2016-11-11T02:30:54</date>
  <millis>1478802654120</millis>
  <sequence>2903</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>134</thread>
  <message>recv:l</message>
</record>
<record>
  <date>2016-11-11T02:30:54</date>
  <millis>1478802654121</millis>
  <sequence>2904</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>134</thread>
  <message>recv:ocal FILE="co</message>
</record>
<record>
  <date>2016-11-11T02:30:54</date>
  <millis>1478802654122</millis>
  <sequence>2905</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>134</thread>
  <message>recv:ntrol.lua" fi</message>
</record>
<record>
  <date>2016-11-11T02:30:54</date>
  <millis>1478802654123</millis>
  <sequence>2906</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>134</thread>
  <message>recv:le.remove(</message>
</record>
<record>
  <date>2016-11-11T02:30:54</date>
  <millis>1478802654124</millis>
  <sequence>2907</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>134</thread>
  <message>recv:FILE) f</message>
</record>
<record>
  <date>2016-11-11T02:30:54</date>
  <millis>1478802654126</millis>
  <sequence>2908</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>134</thread>
  <message>recv:ile.open(FILE,"w+") uart.setup</message>
</record>
<record>
  <date>2016-11-11T02:30:54</date>
  <millis>1478802654128</millis>
  <sequence>2909</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>134</thread>
  <message>recv:(0,115200,8,0,1</message>
</record>
<record>
  <date>2016-11-11T02:30:54</date>
  <millis>1478802654128</millis>
  <sequence>2910</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>134</thread>
  <message>recv:,0)&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:30:54</date>
  <millis>1478802654307</millis>
  <sequence>2911</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>134</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:30:54</date>
  <millis>1478802654322</millis>
  <sequence>2912</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_Receiver=function(rcvBuf) if string.match(rcvBuf,"^ESP_cmd_close")==nil then file.write(string.gsub(rcvBuf, '\r', '')) uart.write(0, "&gt; ") else uart.on("data") </message>
</record>
<record>
  <date>2016-11-11T02:30:54</date>
  <millis>1478802654351</millis>
  <sequence>2913</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>134</thread>
  <message>recv:&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T02:30:54</date>
  <millis>1478802654367</millis>
  <sequence>2914</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:file.flush() file.close() FILE=nil rcvBuf=nil ESP_Receiver=nil uart.setup(0,115200,8,0,1,1) str="\r\n--Done--\r\n&gt; " print(str) str=nil collectgarbage() end end uart.on("data",'\r',ESP_Receiver,0)</message>
</record>
<record>
  <date>2016-11-11T02:30:54</date>
  <millis>1478802654411</millis>
  <sequence>2915</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>134</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:30:54</date>
  <millis>1478802654430</millis>
  <sequence>2916</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local M = {}

-- status pin = 0, alarm 1
-- relay pin = 6 and 7, alarm 2, 3

function M.status_LED(delay)
    gpio.mode(0, gpio.OUTPUT)
    status0 = 0
        
    tmr.alarm(1, delay, 1, function()
        if status0 == 0 then
            status0 = 1
  </message>
</record>
<record>
  <date>2016-11-11T02:30:54</date>
  <millis>1478802654461</millis>
  <sequence>2917</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>134</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:30:54</date>
  <millis>1478802654475</millis>
  <sequence>2918</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:          gpio.write(0, gpio.HIGH)
        else
            status0 = 0
            gpio.write(0, gpio.LOW)
        end 
    end)
      
end

-- One on/off relay
function M.relay_onoff()
    gpio.mode(6, gpio.OUTPUT)
    gpio.mode(7, gpio.OUTPUT)
    gpi</message>
</record>
<record>
  <date>2016-11-11T02:30:54</date>
  <millis>1478802654508</millis>
  <sequence>2919</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>134</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:30:54</date>
  <millis>1478802654521</millis>
  <sequence>2920</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:o.write(6, gpio.LOW)
    gpio.write(7, gpio.LOW)
        
    tmr.alarm(2, 1000, 1, function() gpio.write(6, gpio.HIGH) end)
    tmr.alarm(3, 1000, 1, function() gpio.write(7, gpio.HIGH) end)
    tmr.alarm(5, 3000, 1, function() gpio.write(6, gpio.LOW) e</message>
</record>
<record>
  <date>2016-11-11T02:30:54</date>
  <millis>1478802654552</millis>
  <sequence>2921</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>134</thread>
  <message>recv:&gt;</message>
</record>
<record>
  <date>2016-11-11T02:30:54</date>
  <millis>1478802654553</millis>
  <sequence>2922</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>134</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T02:30:54</date>
  <millis>1478802654573</millis>
  <sequence>2923</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:nd)
    tmr.alarm(6, 3000, 1, function() gpio.write(7, gpio.LOW) end)
end


-- loop relay
function M.relay_6(delay, mode)
    gpio.mode(6, gpio.OUTPUT)
    status1 = 0
        
    tmr.alarm(2, delay, mode, function()
        if status1 == 0 then
       </message>
</record>
<record>
  <date>2016-11-11T02:30:54</date>
  <millis>1478802654605</millis>
  <sequence>2924</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>134</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:30:54</date>
  <millis>1478802654617</millis>
  <sequence>2925</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:     status1 = 1
            gpio.write(6, gpio.HIGH)
        else
            status1 = 0
            gpio.write(6, gpio.LOW)
        end 
    end)
      
end


function M.relay_7(delay, mode)
    gpio.mode(7, gpio.OUTPUT)
    status2 = 0
        
    t</message>
</record>
<record>
  <date>2016-11-11T02:30:54</date>
  <millis>1478802654648</millis>
  <sequence>2926</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>134</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:30:54</date>
  <millis>1478802654661</millis>
  <sequence>2927</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:mr.alarm(3, delay, mode, function()
        if status2 == 0 then
            status2 = 1
            gpio.write(7, gpio.HIGH)
        else
            status2 = 0
            gpio.write(7, gpio.LOW)
        end 
    end)
      
end
return M
</message>
</record>
<record>
  <date>2016-11-11T02:30:54</date>
  <millis>1478802654690</millis>
  <sequence>2928</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>134</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:30:54</date>
  <millis>1478802654711</millis>
  <sequence>2929</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_cmd_close</message>
</record>
<record>
  <date>2016-11-11T02:30:54</date>
  <millis>1478802654723</millis>
  <sequence>2930</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>134</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:30:54</date>
  <millis>1478802654725</millis>
  <sequence>2931</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>134</thread>
  <message>recv:--Done--&lt;CR&gt;&lt;LF&gt;&gt; &lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:30:54</date>
  <millis>1478802654748</millis>
  <sequence>2932</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:30:54</date>
  <millis>1478802654750</millis>
  <sequence>2933</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>134</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:30:54</date>
  <millis>1478802654751</millis>
  <sequence>2934</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>134</thread>
  <message>recv:&gt; &lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T02:30:54</date>
  <millis>1478802654784</millis>
  <sequence>2935</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:dofile("control.lua")</message>
</record>
<record>
  <date>2016-11-11T02:30:54</date>
  <millis>1478802654785</millis>
  <sequence>2936</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>134</thread>
  <message>recv:do</message>
</record>
<record>
  <date>2016-11-11T02:30:54</date>
  <millis>1478802654786</millis>
  <sequence>2937</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>134</thread>
  <message>recv:file("control.l</message>
</record>
<record>
  <date>2016-11-11T02:30:54</date>
  <millis>1478802654787</millis>
  <sequence>2938</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>134</thread>
  <message>recv:ua")&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:30:54</date>
  <millis>1478802654850</millis>
  <sequence>2939</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>134</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:30:54</date>
  <millis>1478802654900</millis>
  <sequence>2940</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>134</thread>
  <message>Operation done. Duration = 916 ms</message>
</record>
<record>
  <date>2016-11-11T02:30:55</date>
  <millis>1478802655900</millis>
  <sequence>2941</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:node.restart()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:30:55</date>
  <millis>1478802655902</millis>
  <sequence>2942</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with saved baud 115200...</message>
</record>
<record>
  <date>2016-11-11T02:30:55</date>
  <millis>1478802655966</millis>
  <sequence>2943</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success. Now we waiting for ESP reboot...</message>
</record>
<record>
  <date>2016-11-11T02:30:57</date>
  <millis>1478802657968</millis>
  <sequence>2944</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with baud 115200...</message>
</record>
<record>
  <date>2016-11-11T02:30:57</date>
  <millis>1478802657969</millis>
  <sequence>2945</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:print(uart.setup(0, 115200, 8, 0, 1, 1 ))&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:30:58</date>
  <millis>1478802658231</millis>
  <sequence>2946</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success.</message>
</record>
<record>
  <date>2016-11-11T02:30:58</date>
  <millis>1478802658281</millis>
  <sequence>2947</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:30:58</date>
  <millis>1478802658283</millis>
  <sequence>2948</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>135</thread>
  <message>
Communication with MCU established.</message>
</record>
<record>
  <date>2016-11-11T02:30:59</date>
  <millis>1478802659618</millis>
  <sequence>2949</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>File reload: File changed. Ask before reloading.</message>
</record>
<record>
  <date>2016-11-11T02:31:02</date>
  <millis>1478802662578</millis>
  <sequence>2950</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>File reload: FAIL (file not saved, reload cancelled by user choice)</message>
</record>
<record>
  <date>2016-11-11T02:32:26</date>
  <millis>1478802746990</millis>
  <sequence>2951</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>File reload: File changed. Ask before reloading.</message>
</record>
<record>
  <date>2016-11-11T02:32:29</date>
  <millis>1478802749688</millis>
  <sequence>2952</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>File reload: Reload anyway by user choice.</message>
</record>
<record>
  <date>2016-11-11T02:32:29</date>
  <millis>1478802749689</millis>
  <sequence>2953</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to load file control.lua</message>
</record>
<record>
  <date>2016-11-11T02:32:29</date>
  <millis>1478802749698</millis>
  <sequence>2954</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Loading control.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T02:32:29</date>
  <millis>1478802749698</millis>
  <sequence>2955</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>File reload: Success.</message>
</record>
<record>
  <date>2016-11-11T02:32:30</date>
  <millis>1478802750850</millis>
  <sequence>2956</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>We save known file control.lua</message>
</record>
<record>
  <date>2016-11-11T02:32:30</date>
  <millis>1478802750851</millis>
  <sequence>2957</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to saving file control.lua ...</message>
</record>
<record>
  <date>2016-11-11T02:32:30</date>
  <millis>1478802750853</millis>
  <sequence>2958</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Save file control.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T02:32:30</date>
  <millis>1478802750858</millis>
  <sequence>2959</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP: Try to save file to ESP...</message>
</record>
<record>
  <date>2016-11-11T02:32:30</date>
  <millis>1478802750858</millis>
  <sequence>2960</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Try to save file to ESP in Turbo Mode...</message>
</record>
<record>
  <date>2016-11-11T02:32:30</date>
  <millis>1478802750864</millis>
  <sequence>2961</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>DataTurboSender: start "Smart Mode"</message>
</record>
<record>
  <date>2016-11-11T02:32:30</date>
  <millis>1478802750872</millis>
  <sequence>2962</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Starting...</message>
</record>
<record>
  <date>2016-11-11T02:32:31</date>
  <millis>1478802751008</millis>
  <sequence>2963</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local FILE="control.lua" file.remove(FILE) file.open(FILE,"w+") uart.setup(0,115200,8,0,1,0)</message>
</record>
<record>
  <date>2016-11-11T02:32:31</date>
  <millis>1478802751010</millis>
  <sequence>2964</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>136</thread>
  <message>recv:local </message>
</record>
<record>
  <date>2016-11-11T02:32:31</date>
  <millis>1478802751014</millis>
  <sequence>2965</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>136</thread>
  <message>recv:FILE="control.lua" file.remove(FILE) file.open(</message>
</record>
<record>
  <date>2016-11-11T02:32:31</date>
  <millis>1478802751016</millis>
  <sequence>2966</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>136</thread>
  <message>recv:FILE,"w+") uart.setup(0,1152</message>
</record>
<record>
  <date>2016-11-11T02:32:31</date>
  <millis>1478802751018</millis>
  <sequence>2967</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>136</thread>
  <message>recv:00,8,0,1,0)&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:32:31</date>
  <millis>1478802751208</millis>
  <sequence>2968</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>136</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:32:31</date>
  <millis>1478802751223</millis>
  <sequence>2969</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_Receiver=function(rcvBuf) if string.match(rcvBuf,"^ESP_cmd_close")==nil then file.write(string.gsub(rcvBuf, '\r', '')) uart.write(0, "&gt; ") else uart.on("data") </message>
</record>
<record>
  <date>2016-11-11T02:32:31</date>
  <millis>1478802751249</millis>
  <sequence>2970</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>136</thread>
  <message>recv:&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T02:32:31</date>
  <millis>1478802751271</millis>
  <sequence>2971</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:file.flush() file.close() FILE=nil rcvBuf=nil ESP_Receiver=nil uart.setup(0,115200,8,0,1,1) str="\r\n--Done--\r\n&gt; " print(str) str=nil collectgarbage() end end uart.on("data",'\r',ESP_Receiver,0)</message>
</record>
<record>
  <date>2016-11-11T02:32:31</date>
  <millis>1478802751310</millis>
  <sequence>2972</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>136</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:32:31</date>
  <millis>1478802751328</millis>
  <sequence>2973</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local M = {}

-- status pin = 0, alarm 1
-- relay pin = 6 and 7, alarm 2, 3

function M.status_LED(delay)
    gpio.mode(0, gpio.OUTPUT)
    status0 = 0
        
    tmr.alarm(1, delay, 1, function()
        if status0 == 0 then
            status0 = 1
  </message>
</record>
<record>
  <date>2016-11-11T02:32:31</date>
  <millis>1478802751357</millis>
  <sequence>2974</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>136</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:32:31</date>
  <millis>1478802751388</millis>
  <sequence>2975</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:          gpio.write(0, gpio.HIGH)
        else
            status0 = 0
            gpio.write(0, gpio.LOW)
        end 
    end)
      
end

-- One on/off relay
function M.relay_onoff()
    gpio.mode(6, gpio.OUTPUT)
    gpio.mode(7, gpio.OUTPUT)
    gpi</message>
</record>
<record>
  <date>2016-11-11T02:32:31</date>
  <millis>1478802751419</millis>
  <sequence>2976</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>136</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:32:31</date>
  <millis>1478802751474</millis>
  <sequence>2977</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:o.write(6, gpio.LOW)
    gpio.write(7, gpio.LOW)
        
    tmr.alarm(2, 1000, 0, function() gpio.write(6, gpio.HIGH) end)
    tmr.alarm(3, 1000, 0, function() gpio.write(7, gpio.HIGH) end)
    trm.ararm(4, 2000, 1, function() end)
    tmr.alarm(2, 300</message>
</record>
<record>
  <date>2016-11-11T02:32:31</date>
  <millis>1478802751505</millis>
  <sequence>2978</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>136</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:32:31</date>
  <millis>1478802751519</millis>
  <sequence>2979</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:0, 0, function() gpio.write(6, gpio.LOW) end)
    tmr.alarm(3, 3000, 0, function() gpio.write(7, gpio.LOW) end)
end


-- loop relay
function M.relay_6(delay, mode)
    gpio.mode(6, gpio.OUTPUT)
    status1 = 0
        
    tmr.alarm(2, delay, mode, funct</message>
</record>
<record>
  <date>2016-11-11T02:32:31</date>
  <millis>1478802751550</millis>
  <sequence>2980</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>136</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:32:31</date>
  <millis>1478802751564</millis>
  <sequence>2981</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ion()
        if status1 == 0 then
            status1 = 1
            gpio.write(6, gpio.HIGH)
        else
            status1 = 0
            gpio.write(6, gpio.LOW)
        end 
    end)
      
end


function M.relay_7(delay, mode)
    gpio.mode(7, g</message>
</record>
<record>
  <date>2016-11-11T02:32:31</date>
  <millis>1478802751595</millis>
  <sequence>2982</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>136</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:32:31</date>
  <millis>1478802751611</millis>
  <sequence>2983</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:pio.OUTPUT)
    status2 = 0
        
    tmr.alarm(3, delay, mode, function()
        if status2 == 0 then
            status2 = 1
            gpio.write(7, gpio.HIGH)
        else
            status2 = 0
            gpio.write(7, gpio.LOW)
        end 
</message>
</record>
<record>
  <date>2016-11-11T02:32:31</date>
  <millis>1478802751642</millis>
  <sequence>2984</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>136</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:32:31</date>
  <millis>1478802751651</millis>
  <sequence>2985</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>136</thread>
  <message>recv:  C</message>
</record>
<record>
  <date>2016-11-11T02:32:31</date>
  <millis>1478802751652</millis>
  <sequence>2986</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>136</thread>
  <message>recv:onfig file </message>
</record>
<record>
  <date>2016-11-11T02:32:31</date>
  <millis>1478802751653</millis>
  <sequence>2987</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>136</thread>
  <message>recv:NOT exists, startin</message>
</record>
<record>
  <date>2016-11-11T02:32:31</date>
  <millis>1478802751658</millis>
  <sequence>2988</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>136</thread>
  <message>recv:g smartconfig..&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:32:31</date>
  <millis>1478802751662</millis>
  <sequence>2989</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:    end)
      
end
return M
</message>
</record>
<record>
  <date>2016-11-11T02:32:31</date>
  <millis>1478802751672</millis>
  <sequence>2990</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>136</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:32:31</date>
  <millis>1478802751692</millis>
  <sequence>2991</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_cmd_close</message>
</record>
<record>
  <date>2016-11-11T02:32:31</date>
  <millis>1478802751705</millis>
  <sequence>2992</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>136</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;-</message>
</record>
<record>
  <date>2016-11-11T02:32:31</date>
  <millis>1478802751706</millis>
  <sequence>2993</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>136</thread>
  <message>recv:-Done--&lt;CR&gt;&lt;LF&gt;&gt; &lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:32:31</date>
  <millis>1478802751727</millis>
  <sequence>2994</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:32:31</date>
  <millis>1478802751728</millis>
  <sequence>2995</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>136</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:32:31</date>
  <millis>1478802751729</millis>
  <sequence>2996</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>136</thread>
  <message>recv:&gt; &lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T02:32:31</date>
  <millis>1478802751760</millis>
  <sequence>2997</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:dofile("control.lua")</message>
</record>
<record>
  <date>2016-11-11T02:32:31</date>
  <millis>1478802751761</millis>
  <sequence>2998</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>136</thread>
  <message>recv:d</message>
</record>
<record>
  <date>2016-11-11T02:32:31</date>
  <millis>1478802751763</millis>
  <sequence>2999</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>136</thread>
  <message>recv:ofile("control.lua")</message>
</record>
<record>
  <date>2016-11-11T02:32:31</date>
  <millis>1478802751764</millis>
  <sequence>3000</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>136</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:32:31</date>
  <millis>1478802751831</millis>
  <sequence>3001</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>136</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:32:31</date>
  <millis>1478802751862</millis>
  <sequence>3002</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>136</thread>
  <message>Operation done. Duration = 1003 ms</message>
</record>
<record>
  <date>2016-11-11T02:32:34</date>
  <millis>1478802754032</millis>
  <sequence>3003</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to load file init.lua</message>
</record>
<record>
  <date>2016-11-11T02:32:34</date>
  <millis>1478802754046</millis>
  <sequence>3004</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Loading init.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T02:32:34</date>
  <millis>1478802754047</millis>
  <sequence>3005</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>File reload: Success.</message>
</record>
<record>
  <date>2016-11-11T02:32:34</date>
  <millis>1478802754620</millis>
  <sequence>3006</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>We save known file init.lua</message>
</record>
<record>
  <date>2016-11-11T02:32:34</date>
  <millis>1478802754621</millis>
  <sequence>3007</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to saving file init.lua ...</message>
</record>
<record>
  <date>2016-11-11T02:32:34</date>
  <millis>1478802754623</millis>
  <sequence>3008</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Save file init.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T02:32:34</date>
  <millis>1478802754627</millis>
  <sequence>3009</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP: Try to save file to ESP...</message>
</record>
<record>
  <date>2016-11-11T02:32:34</date>
  <millis>1478802754629</millis>
  <sequence>3010</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Try to save file to ESP in Turbo Mode...</message>
</record>
<record>
  <date>2016-11-11T02:32:34</date>
  <millis>1478802754635</millis>
  <sequence>3011</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>DataTurboSender: start "Smart Mode"</message>
</record>
<record>
  <date>2016-11-11T02:32:34</date>
  <millis>1478802754639</millis>
  <sequence>3012</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Starting...</message>
</record>
<record>
  <date>2016-11-11T02:32:34</date>
  <millis>1478802754775</millis>
  <sequence>3013</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local FILE="init.lua" file.remove(FILE) file.open(FILE,"w+") uart.setup(0,115200,8,0,1,0)</message>
</record>
<record>
  <date>2016-11-11T02:32:34</date>
  <millis>1478802754780</millis>
  <sequence>3014</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>138</thread>
  <message>recv:lo</message>
</record>
<record>
  <date>2016-11-11T02:32:34</date>
  <millis>1478802754782</millis>
  <sequence>3015</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>138</thread>
  <message>recv:cal FILE="init.lua" </message>
</record>
<record>
  <date>2016-11-11T02:32:34</date>
  <millis>1478802754787</millis>
  <sequence>3016</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>138</thread>
  <message>recv:file.remove(FILE) file.open(FILE,"w+") uart.setup(0,1</message>
</record>
<record>
  <date>2016-11-11T02:32:34</date>
  <millis>1478802754792</millis>
  <sequence>3017</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>138</thread>
  <message>recv:15200,8,0,1,0)&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:32:35</date>
  <millis>1478802755078</millis>
  <sequence>3018</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>138</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:32:35</date>
  <millis>1478802755092</millis>
  <sequence>3019</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_Receiver=function(rcvBuf) if string.match(rcvBuf,"^ESP_cmd_close")==nil then file.write(string.gsub(rcvBuf, '\r', '')) uart.write(0, "&gt; ") else uart.on("data") </message>
</record>
<record>
  <date>2016-11-11T02:32:35</date>
  <millis>1478802755118</millis>
  <sequence>3020</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>138</thread>
  <message>recv:&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T02:32:35</date>
  <millis>1478802755131</millis>
  <sequence>3021</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:file.flush() file.close() FILE=nil rcvBuf=nil ESP_Receiver=nil uart.setup(0,115200,8,0,1,1) str="\r\n--Done--\r\n&gt; " print(str) str=nil collectgarbage() end end uart.on("data",'\r',ESP_Receiver,0)</message>
</record>
<record>
  <date>2016-11-11T02:32:35</date>
  <millis>1478802755170</millis>
  <sequence>3022</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>138</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:32:35</date>
  <millis>1478802755186</millis>
  <sequence>3023</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:misc = require "misc"
control = require "control"

-- timer 1 = status, 2,3 = relay 

files = file.list()  -- Lists all files in the file system.

misc.button_press()  -- button press interrupt io3
--misc.button_rst()

control.status_LED(300) -- blink st</message>
</record>
<record>
  <date>2016-11-11T02:32:35</date>
  <millis>1478802755215</millis>
  <sequence>3024</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>138</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:32:35</date>
  <millis>1478802755233</millis>
  <sequence>3025</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:atus LED

wifi.setmode(wifi.STATION)
wifi.sta.autoconnect(0) -- auto connect

if files["config.txt"] then
    misc.con_read()
    --tmr.delay(1000000)
    print(" Config exist, user&gt;".. user .. ", pass&gt;" .. password .. ", now set station mode and connect</message>
</record>
<record>
  <date>2016-11-11T02:32:35</date>
  <millis>1478802755264</millis>
  <sequence>3026</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>138</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:32:35</date>
  <millis>1478802755281</millis>
  <sequence>3027</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:")
    
    wifi.sta.config(user, password)
    wifi.sta.connect()
    
    tmr.alarm(4, 5000, 1, function() 
        if wifi.sta.getip()== nil then
            print("IP unavailable.. if info correct then wait, else reconfig by press BTN1 to clean")
   </message>
</record>
<record>
  <date>2016-11-11T02:32:35</date>
  <millis>1478802755312</millis>
  <sequence>3028</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>138</thread>
  <message>recv:&gt;</message>
</record>
<record>
  <date>2016-11-11T02:32:35</date>
  <millis>1478802755313</millis>
  <sequence>3029</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>138</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T02:32:35</date>
  <millis>1478802755332</millis>
  <sequence>3030</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:     else
            print("connected.. IP is: " .. wifi.sta.getip())
            tmr.stop(4)
            dofile("mqtt.lua")
        end
    end)
    
else
    --wifi.setmode(wifi.STATION)

    control.relay_onoff()
    --control.relay_onoff()
    --pri</message>
</record>
<record>
  <date>2016-11-11T02:32:35</date>
  <millis>1478802755362</millis>
  <sequence>3031</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>138</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:32:35</date>
  <millis>1478802755375</millis>
  <sequence>3032</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:nt (tmr.state(2))
    --control.relay_onoff()
    --control.relay_6(2000)
    --control.relay_7(2000)
    --control.relay_6(2000, 1)
    --control.relay_7(2000, 1)
    --if not tmr.alarm(5, 1000, tmr.ALARM_SINGLE, function() print("hey there") end) then </message>
</record>
<record>
  <date>2016-11-11T02:32:35</date>
  <millis>1478802755406</millis>
  <sequence>3033</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>138</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:32:35</date>
  <millis>1478802755424</millis>
  <sequence>3034</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:print("whoopsie") end
    --tmr.stop(2)
    --tmr.stop(3)

    tmr.alarm(4, 5000, 1, function() 
        if wifi.sta.getip()== nil then
            print("  Config file NOT exists, starting smartconfig..")
            wifi.startsmart(0,
            funct</message>
</record>
<record>
  <date>2016-11-11T02:32:35</date>
  <millis>1478802755454</millis>
  <sequence>3035</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>138</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:32:35</date>
  <millis>1478802755467</millis>
  <sequence>3036</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ion(ssid, password)
            print(string.format("Success. SSID: %s ; PASSWORD: %s", ssid, password)) 
            misc.con_write(ssid, password)
            end)
        else 
            tmr.stop(1)

            tmr.stop(4)
            print("Config</message>
</record>
<record>
  <date>2016-11-11T02:32:35</date>
  <millis>1478802755498</millis>
  <sequence>3037</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>138</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:32:35</date>
  <millis>1478802755514</millis>
  <sequence>3038</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending: done, IP is "..wifi.sta.getip())
            wifi.stopsmart()

            --misc.con_read()
            --print (user .. password)
            dofile("mqtt.lua")
        end
    end)
        

end
</message>
</record>
<record>
  <date>2016-11-11T02:32:35</date>
  <millis>1478802755540</millis>
  <sequence>3039</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>138</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:32:35</date>
  <millis>1478802755558</millis>
  <sequence>3040</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_cmd_close</message>
</record>
<record>
  <date>2016-11-11T02:32:35</date>
  <millis>1478802755571</millis>
  <sequence>3041</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>138</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;-</message>
</record>
<record>
  <date>2016-11-11T02:32:35</date>
  <millis>1478802755572</millis>
  <sequence>3042</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>138</thread>
  <message>recv:-Done--&lt;CR&gt;&lt;LF&gt;&gt; &lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:32:35</date>
  <millis>1478802755596</millis>
  <sequence>3043</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:32:35</date>
  <millis>1478802755598</millis>
  <sequence>3044</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>138</thread>
  <message>recv:&lt;CR&gt;</message>
</record>
<record>
  <date>2016-11-11T02:32:35</date>
  <millis>1478802755599</millis>
  <sequence>3045</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>138</thread>
  <message>recv:&lt;LF&gt;&gt; &lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T02:32:35</date>
  <millis>1478802755630</millis>
  <sequence>3046</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:dofile("init.lua")</message>
</record>
<record>
  <date>2016-11-11T02:32:35</date>
  <millis>1478802755631</millis>
  <sequence>3047</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>138</thread>
  <message>recv:do</message>
</record>
<record>
  <date>2016-11-11T02:32:35</date>
  <millis>1478802755633</millis>
  <sequence>3048</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>138</thread>
  <message>recv:file("init.lua"</message>
</record>
<record>
  <date>2016-11-11T02:32:35</date>
  <millis>1478802755634</millis>
  <sequence>3049</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>138</thread>
  <message>recv:)&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:32:35</date>
  <millis>1478802755766</millis>
  <sequence>3050</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>138</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:32:35</date>
  <millis>1478802755844</millis>
  <sequence>3051</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>138</thread>
  <message>Operation done. Duration = 1214 ms</message>
</record>
<record>
  <date>2016-11-11T02:32:36</date>
  <millis>1478802756328</millis>
  <sequence>3052</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:node.restart()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:32:36</date>
  <millis>1478802756329</millis>
  <sequence>3053</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with saved baud 115200...</message>
</record>
<record>
  <date>2016-11-11T02:32:36</date>
  <millis>1478802756392</millis>
  <sequence>3054</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success. Now we waiting for ESP reboot...</message>
</record>
<record>
  <date>2016-11-11T02:32:38</date>
  <millis>1478802758393</millis>
  <sequence>3055</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with baud 115200...</message>
</record>
<record>
  <date>2016-11-11T02:32:38</date>
  <millis>1478802758395</millis>
  <sequence>3056</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:print(uart.setup(0, 115200, 8, 0, 1, 1 ))&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:32:38</date>
  <millis>1478802758658</millis>
  <sequence>3057</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success.</message>
</record>
<record>
  <date>2016-11-11T02:32:38</date>
  <millis>1478802758702</millis>
  <sequence>3058</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:32:38</date>
  <millis>1478802758706</millis>
  <sequence>3059</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>139</thread>
  <message>
Communication with MCU established.</message>
</record>
<record>
  <date>2016-11-11T02:32:38</date>
  <millis>1478802758708</millis>
  <sequence>3060</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>139</thread>
  <message>sending:=node.heap()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:33:11</date>
  <millis>1478802791344</millis>
  <sequence>3061</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to load file control.lua</message>
</record>
<record>
  <date>2016-11-11T02:33:11</date>
  <millis>1478802791353</millis>
  <sequence>3062</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Loading control.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T02:33:11</date>
  <millis>1478802791353</millis>
  <sequence>3063</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>File reload: Success.</message>
</record>
<record>
  <date>2016-11-11T02:33:12</date>
  <millis>1478802792002</millis>
  <sequence>3064</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>We save known file control.lua</message>
</record>
<record>
  <date>2016-11-11T02:33:12</date>
  <millis>1478802792004</millis>
  <sequence>3065</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to saving file control.lua ...</message>
</record>
<record>
  <date>2016-11-11T02:33:12</date>
  <millis>1478802792005</millis>
  <sequence>3066</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Save file control.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T02:33:12</date>
  <millis>1478802792011</millis>
  <sequence>3067</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP: Try to save file to ESP...</message>
</record>
<record>
  <date>2016-11-11T02:33:12</date>
  <millis>1478802792013</millis>
  <sequence>3068</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Try to save file to ESP in Turbo Mode...</message>
</record>
<record>
  <date>2016-11-11T02:33:12</date>
  <millis>1478802792020</millis>
  <sequence>3069</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>DataTurboSender: start "Smart Mode"</message>
</record>
<record>
  <date>2016-11-11T02:33:12</date>
  <millis>1478802792020</millis>
  <sequence>3070</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Starting...</message>
</record>
<record>
  <date>2016-11-11T02:33:12</date>
  <millis>1478802792168</millis>
  <sequence>3071</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local FILE="control.lua" file.remove(FILE) file.open(FILE,"w+") uart.setup(0,115200,8,0,1,0)</message>
</record>
<record>
  <date>2016-11-11T02:33:12</date>
  <millis>1478802792170</millis>
  <sequence>3072</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>140</thread>
  <message>recv:lo</message>
</record>
<record>
  <date>2016-11-11T02:33:12</date>
  <millis>1478802792172</millis>
  <sequence>3073</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>140</thread>
  <message>recv:cal FILE="contr</message>
</record>
<record>
  <date>2016-11-11T02:33:12</date>
  <millis>1478802792172</millis>
  <sequence>3074</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>140</thread>
  <message>recv:ol.lua" fi</message>
</record>
<record>
  <date>2016-11-11T02:33:12</date>
  <millis>1478802792173</millis>
  <sequence>3075</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>140</thread>
  <message>recv:le.remove</message>
</record>
<record>
  <date>2016-11-11T02:33:12</date>
  <millis>1478802792174</millis>
  <sequence>3076</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>140</thread>
  <message>recv:(FILE) </message>
</record>
<record>
  <date>2016-11-11T02:33:12</date>
  <millis>1478802792175</millis>
  <sequence>3077</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>140</thread>
  <message>recv:file.open(FILE,</message>
</record>
<record>
  <date>2016-11-11T02:33:12</date>
  <millis>1478802792176</millis>
  <sequence>3078</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>140</thread>
  <message>recv:"w+") ua</message>
</record>
<record>
  <date>2016-11-11T02:33:12</date>
  <millis>1478802792177</millis>
  <sequence>3079</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>140</thread>
  <message>recv:rt.setu</message>
</record>
<record>
  <date>2016-11-11T02:33:12</date>
  <millis>1478802792177</millis>
  <sequence>3080</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>140</thread>
  <message>recv:p(0,1152</message>
</record>
<record>
  <date>2016-11-11T02:33:12</date>
  <millis>1478802792178</millis>
  <sequence>3081</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>140</thread>
  <message>recv:00,8,0,1</message>
</record>
<record>
  <date>2016-11-11T02:33:12</date>
  <millis>1478802792179</millis>
  <sequence>3082</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>140</thread>
  <message>recv:,0)&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:33:12</date>
  <millis>1478802792359</millis>
  <sequence>3083</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>140</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:33:12</date>
  <millis>1478802792382</millis>
  <sequence>3084</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_Receiver=function(rcvBuf) if string.match(rcvBuf,"^ESP_cmd_close")==nil then file.write(string.gsub(rcvBuf, '\r', '')) uart.write(0, "&gt; ") else uart.on("data") </message>
</record>
<record>
  <date>2016-11-11T02:33:12</date>
  <millis>1478802792409</millis>
  <sequence>3085</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>140</thread>
  <message>recv:&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T02:33:12</date>
  <millis>1478802792429</millis>
  <sequence>3086</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:file.flush() file.close() FILE=nil rcvBuf=nil ESP_Receiver=nil uart.setup(0,115200,8,0,1,1) str="\r\n--Done--\r\n&gt; " print(str) str=nil collectgarbage() end end uart.on("data",'\r',ESP_Receiver,0)</message>
</record>
<record>
  <date>2016-11-11T02:33:12</date>
  <millis>1478802792467</millis>
  <sequence>3087</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>140</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:33:12</date>
  <millis>1478802792482</millis>
  <sequence>3088</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local M = {}

-- status pin = 0, alarm 1
-- relay pin = 6 and 7, alarm 2, 3

function M.status_LED(delay)
    gpio.mode(0, gpio.OUTPUT)
    status0 = 0
        
    tmr.alarm(1, delay, 1, function()
        if status0 == 0 then
            status0 = 1
  </message>
</record>
<record>
  <date>2016-11-11T02:33:12</date>
  <millis>1478802792510</millis>
  <sequence>3089</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>140</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:33:12</date>
  <millis>1478802792524</millis>
  <sequence>3090</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:          gpio.write(0, gpio.HIGH)
        else
            status0 = 0
            gpio.write(0, gpio.LOW)
        end 
    end)
      
end

-- One on/off relay
function M.relay_onoff()
    gpio.mode(6, gpio.OUTPUT)
    gpio.mode(7, gpio.OUTPUT)
    gpi</message>
</record>
<record>
  <date>2016-11-11T02:33:12</date>
  <millis>1478802792555</millis>
  <sequence>3091</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>140</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:33:12</date>
  <millis>1478802792567</millis>
  <sequence>3092</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:o.write(6, gpio.LOW)
    gpio.write(7, gpio.LOW)
        
    tmr.alarm(2, 1000, 0, function() gpio.write(6, gpio.HIGH) end)
    tmr.alarm(3, 1000, 0, function() gpio.write(7, gpio.HIGH) end)
    trm.ararm(4, 2000, 0, function() tmr.stop(2) end)
    tmr.</message>
</record>
<record>
  <date>2016-11-11T02:33:12</date>
  <millis>1478802792598</millis>
  <sequence>3093</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>140</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:33:12</date>
  <millis>1478802792612</millis>
  <sequence>3094</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:alarm(2, 3000, 0, function() gpio.write(6, gpio.LOW) end)
    tmr.alarm(3, 3000, 0, function() gpio.write(7, gpio.LOW) end)
end


-- loop relay
function M.relay_6(delay, mode)
    gpio.mode(6, gpio.OUTPUT)
    status1 = 0
        
    tmr.alarm(2, delay,</message>
</record>
<record>
  <date>2016-11-11T02:33:12</date>
  <millis>1478802792643</millis>
  <sequence>3095</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>140</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:33:12</date>
  <millis>1478802792660</millis>
  <sequence>3096</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending: mode, function()
        if status1 == 0 then
            status1 = 1
            gpio.write(6, gpio.HIGH)
        else
            status1 = 0
            gpio.write(6, gpio.LOW)
        end 
    end)
      
end


function M.relay_7(delay, mode)
    gp</message>
</record>
<record>
  <date>2016-11-11T02:33:12</date>
  <millis>1478802792691</millis>
  <sequence>3097</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>140</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:33:12</date>
  <millis>1478802792707</millis>
  <sequence>3098</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:io.mode(7, gpio.OUTPUT)
    status2 = 0
        
    tmr.alarm(3, delay, mode, function()
        if status2 == 0 then
            status2 = 1
            gpio.write(7, gpio.HIGH)
        else
            status2 = 0
            gpio.write(7, gpio.LOW)
 </message>
</record>
<record>
  <date>2016-11-11T02:33:12</date>
  <millis>1478802792738</millis>
  <sequence>3099</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>140</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:33:12</date>
  <millis>1478802792757</millis>
  <sequence>3100</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:       end 
    end)
      
end
return M
</message>
</record>
<record>
  <date>2016-11-11T02:33:12</date>
  <millis>1478802792768</millis>
  <sequence>3101</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>140</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:33:12</date>
  <millis>1478802792783</millis>
  <sequence>3102</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_cmd_close</message>
</record>
<record>
  <date>2016-11-11T02:33:12</date>
  <millis>1478802792795</millis>
  <sequence>3103</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>140</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;--Do</message>
</record>
<record>
  <date>2016-11-11T02:33:12</date>
  <millis>1478802792797</millis>
  <sequence>3104</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>140</thread>
  <message>recv:ne--&lt;CR&gt;&lt;LF&gt;&gt; &lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:33:12</date>
  <millis>1478802792831</millis>
  <sequence>3105</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:33:12</date>
  <millis>1478802792834</millis>
  <sequence>3106</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>140</thread>
  <message>recv:&lt;CR&gt;</message>
</record>
<record>
  <date>2016-11-11T02:33:12</date>
  <millis>1478802792835</millis>
  <sequence>3107</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>140</thread>
  <message>recv:&lt;LF&gt;&gt; &lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T02:33:12</date>
  <millis>1478802792866</millis>
  <sequence>3108</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:dofile("control.lua")</message>
</record>
<record>
  <date>2016-11-11T02:33:12</date>
  <millis>1478802792868</millis>
  <sequence>3109</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>140</thread>
  <message>recv:do</message>
</record>
<record>
  <date>2016-11-11T02:33:12</date>
  <millis>1478802792872</millis>
  <sequence>3110</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>140</thread>
  <message>recv:file("control.lua")&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:33:12</date>
  <millis>1478802792931</millis>
  <sequence>3111</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>140</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:33:12</date>
  <millis>1478802792970</millis>
  <sequence>3112</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>140</thread>
  <message>Operation done. Duration = 955 ms</message>
</record>
<record>
  <date>2016-11-11T02:33:14</date>
  <millis>1478802794202</millis>
  <sequence>3113</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:node.restart()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:33:14</date>
  <millis>1478802794203</millis>
  <sequence>3114</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with saved baud 115200...</message>
</record>
<record>
  <date>2016-11-11T02:33:14</date>
  <millis>1478802794265</millis>
  <sequence>3115</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success. Now we waiting for ESP reboot...</message>
</record>
<record>
  <date>2016-11-11T02:33:16</date>
  <millis>1478802796270</millis>
  <sequence>3116</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with baud 115200...</message>
</record>
<record>
  <date>2016-11-11T02:33:16</date>
  <millis>1478802796278</millis>
  <sequence>3117</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:print(uart.setup(0, 115200, 8, 0, 1, 1 ))&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:33:16</date>
  <millis>1478802796542</millis>
  <sequence>3118</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success.</message>
</record>
<record>
  <date>2016-11-11T02:33:16</date>
  <millis>1478802796588</millis>
  <sequence>3119</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:33:16</date>
  <millis>1478802796590</millis>
  <sequence>3120</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>141</thread>
  <message>
Communication with MCU established.</message>
</record>
<record>
  <date>2016-11-11T02:33:41</date>
  <millis>1478802821036</millis>
  <sequence>3121</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to load file control.lua</message>
</record>
<record>
  <date>2016-11-11T02:33:41</date>
  <millis>1478802821067</millis>
  <sequence>3122</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Loading control.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T02:33:41</date>
  <millis>1478802821067</millis>
  <sequence>3123</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>File reload: Success.</message>
</record>
<record>
  <date>2016-11-11T02:33:41</date>
  <millis>1478802821726</millis>
  <sequence>3124</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>We save known file control.lua</message>
</record>
<record>
  <date>2016-11-11T02:33:41</date>
  <millis>1478802821727</millis>
  <sequence>3125</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to saving file control.lua ...</message>
</record>
<record>
  <date>2016-11-11T02:33:41</date>
  <millis>1478802821729</millis>
  <sequence>3126</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Save file control.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T02:33:41</date>
  <millis>1478802821740</millis>
  <sequence>3127</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP: Try to save file to ESP...</message>
</record>
<record>
  <date>2016-11-11T02:33:41</date>
  <millis>1478802821741</millis>
  <sequence>3128</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Try to save file to ESP in Turbo Mode...</message>
</record>
<record>
  <date>2016-11-11T02:33:41</date>
  <millis>1478802821748</millis>
  <sequence>3129</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>DataTurboSender: start "Smart Mode"</message>
</record>
<record>
  <date>2016-11-11T02:33:41</date>
  <millis>1478802821751</millis>
  <sequence>3130</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Starting...</message>
</record>
<record>
  <date>2016-11-11T02:33:41</date>
  <millis>1478802821903</millis>
  <sequence>3131</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local FILE="control.lua" file.remove(FILE) file.open(FILE,"w+") uart.setup(0,115200,8,0,1,0)</message>
</record>
<record>
  <date>2016-11-11T02:33:41</date>
  <millis>1478802821905</millis>
  <sequence>3132</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>142</thread>
  <message>recv:loc</message>
</record>
<record>
  <date>2016-11-11T02:33:41</date>
  <millis>1478802821906</millis>
  <sequence>3133</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>142</thread>
  <message>recv:al FILE="control.lua"</message>
</record>
<record>
  <date>2016-11-11T02:33:41</date>
  <millis>1478802821907</millis>
  <sequence>3134</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>142</thread>
  <message>recv: file.remove</message>
</record>
<record>
  <date>2016-11-11T02:33:41</date>
  <millis>1478802821909</millis>
  <sequence>3135</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>142</thread>
  <message>recv:(FILE) file.open(</message>
</record>
<record>
  <date>2016-11-11T02:33:41</date>
  <millis>1478802821910</millis>
  <sequence>3136</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>142</thread>
  <message>recv:FILE,"w+") ua</message>
</record>
<record>
  <date>2016-11-11T02:33:41</date>
  <millis>1478802821920</millis>
  <sequence>3137</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>142</thread>
  <message>recv:rt.setup(0,115200,8,0,1,0)&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:33:42</date>
  <millis>1478802822094</millis>
  <sequence>3138</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>142</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:33:42</date>
  <millis>1478802822109</millis>
  <sequence>3139</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_Receiver=function(rcvBuf) if string.match(rcvBuf,"^ESP_cmd_close")==nil then file.write(string.gsub(rcvBuf, '\r', '')) uart.write(0, "&gt; ") else uart.on("data") </message>
</record>
<record>
  <date>2016-11-11T02:33:42</date>
  <millis>1478802822134</millis>
  <sequence>3140</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>142</thread>
  <message>recv:&gt;</message>
</record>
<record>
  <date>2016-11-11T02:33:42</date>
  <millis>1478802822136</millis>
  <sequence>3141</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>142</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:33:42</date>
  <millis>1478802822156</millis>
  <sequence>3142</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:file.flush() file.close() FILE=nil rcvBuf=nil ESP_Receiver=nil uart.setup(0,115200,8,0,1,1) str="\r\n--Done--\r\n&gt; " print(str) str=nil collectgarbage() end end uart.on("data",'\r',ESP_Receiver,0)</message>
</record>
<record>
  <date>2016-11-11T02:33:42</date>
  <millis>1478802822194</millis>
  <sequence>3143</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>142</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:33:42</date>
  <millis>1478802822208</millis>
  <sequence>3144</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local M = {}

-- status pin = 0, alarm 1
-- relay pin = 6 and 7, alarm 2, 3

function M.status_LED(delay)
    gpio.mode(0, gpio.OUTPUT)
    status0 = 0
        
    tmr.alarm(1, delay, 1, function()
        if status0 == 0 then
            status0 = 1
  </message>
</record>
<record>
  <date>2016-11-11T02:33:42</date>
  <millis>1478802822237</millis>
  <sequence>3145</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>142</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:33:42</date>
  <millis>1478802822252</millis>
  <sequence>3146</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:          gpio.write(0, gpio.HIGH)
        else
            status0 = 0
            gpio.write(0, gpio.LOW)
        end 
    end)
      
end

-- One on/off relay
function M.relay_onoff()
    gpio.mode(6, gpio.OUTPUT)
    gpio.mode(7, gpio.OUTPUT)
    gpi</message>
</record>
<record>
  <date>2016-11-11T02:33:42</date>
  <millis>1478802822282</millis>
  <sequence>3147</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>142</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:33:42</date>
  <millis>1478802822301</millis>
  <sequence>3148</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:o.write(6, gpio.LOW)
    gpio.write(7, gpio.LOW)
        
    tmr.alarm(2, 1000, tmr.ALARM_SEMI, function() gpio.write(6, gpio.HIGH) end)
    tmr.alarm(3, 1000, tmr.ALARM_SEMI, function() gpio.write(7, gpio.HIGH) end)
    trm.ararm(4, 2000, tmr.ALARM_SEM</message>
</record>
<record>
  <date>2016-11-11T02:33:42</date>
  <millis>1478802822332</millis>
  <sequence>3149</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>142</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:33:42</date>
  <millis>1478802822346</millis>
  <sequence>3150</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:I, function() tmr.stop(2) end)
    tmr.alarm(2, 3000, tmr.ALARM_SEMI, function() gpio.write(6, gpio.LOW) end)
    tmr.alarm(3, 3000, tmr.ALARM_SEMI, function() gpio.write(7, gpio.LOW) end)
end


-- loop relay
function M.relay_6(delay, mode)
    gpio.mode</message>
</record>
<record>
  <date>2016-11-11T02:33:42</date>
  <millis>1478802822376</millis>
  <sequence>3151</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>142</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:33:42</date>
  <millis>1478802822392</millis>
  <sequence>3152</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:(6, gpio.OUTPUT)
    status1 = 0
        
    tmr.alarm(2, delay, mode, function()
        if status1 == 0 then
            status1 = 1
            gpio.write(6, gpio.HIGH)
        else
            status1 = 0
            gpio.write(6, gpio.LOW)
        </message>
</record>
<record>
  <date>2016-11-11T02:33:42</date>
  <millis>1478802822423</millis>
  <sequence>3153</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>142</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:33:42</date>
  <millis>1478802822440</millis>
  <sequence>3154</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:end 
    end)
      
end


function M.relay_7(delay, mode)
    gpio.mode(7, gpio.OUTPUT)
    status2 = 0
        
    tmr.alarm(3, delay, mode, function()
        if status2 == 0 then
            status2 = 1
            gpio.write(7, gpio.HIGH)
        e</message>
</record>
<record>
  <date>2016-11-11T02:33:42</date>
  <millis>1478802822470</millis>
  <sequence>3155</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>142</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:33:42</date>
  <millis>1478802822483</millis>
  <sequence>3156</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:lse
            status2 = 0
            gpio.write(7, gpio.LOW)
        end 
    end)
      
end
return M
</message>
</record>
<record>
  <date>2016-11-11T02:33:42</date>
  <millis>1478802822501</millis>
  <sequence>3157</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>142</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:33:42</date>
  <millis>1478802822519</millis>
  <sequence>3158</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_cmd_close</message>
</record>
<record>
  <date>2016-11-11T02:33:42</date>
  <millis>1478802822531</millis>
  <sequence>3159</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>142</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;-</message>
</record>
<record>
  <date>2016-11-11T02:33:42</date>
  <millis>1478802822532</millis>
  <sequence>3160</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>142</thread>
  <message>recv:-Done--&lt;CR&gt;&lt;LF&gt;&gt; &lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:33:42</date>
  <millis>1478802822567</millis>
  <sequence>3161</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:33:42</date>
  <millis>1478802822569</millis>
  <sequence>3162</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>142</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:33:42</date>
  <millis>1478802822571</millis>
  <sequence>3163</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>142</thread>
  <message>recv:&gt; &lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T02:33:42</date>
  <millis>1478802822603</millis>
  <sequence>3164</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:dofile("control.lua")</message>
</record>
<record>
  <date>2016-11-11T02:33:42</date>
  <millis>1478802822605</millis>
  <sequence>3165</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>142</thread>
  <message>recv:do</message>
</record>
<record>
  <date>2016-11-11T02:33:42</date>
  <millis>1478802822606</millis>
  <sequence>3166</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>142</thread>
  <message>recv:file("control.lua</message>
</record>
<record>
  <date>2016-11-11T02:33:42</date>
  <millis>1478802822607</millis>
  <sequence>3167</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>142</thread>
  <message>recv:")&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:33:42</date>
  <millis>1478802822669</millis>
  <sequence>3168</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>142</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:33:42</date>
  <millis>1478802822732</millis>
  <sequence>3169</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>142</thread>
  <message>Operation done. Duration = 990 ms</message>
</record>
<record>
  <date>2016-11-11T02:33:45</date>
  <millis>1478802825047</millis>
  <sequence>3170</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:node.restart()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:33:45</date>
  <millis>1478802825048</millis>
  <sequence>3171</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with saved baud 115200...</message>
</record>
<record>
  <date>2016-11-11T02:33:45</date>
  <millis>1478802825111</millis>
  <sequence>3172</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success. Now we waiting for ESP reboot...</message>
</record>
<record>
  <date>2016-11-11T02:33:47</date>
  <millis>1478802827112</millis>
  <sequence>3173</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with baud 115200...</message>
</record>
<record>
  <date>2016-11-11T02:33:47</date>
  <millis>1478802827113</millis>
  <sequence>3174</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:print(uart.setup(0, 115200, 8, 0, 1, 1 ))&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:33:47</date>
  <millis>1478802827377</millis>
  <sequence>3175</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success.</message>
</record>
<record>
  <date>2016-11-11T02:33:47</date>
  <millis>1478802827425</millis>
  <sequence>3176</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:33:47</date>
  <millis>1478802827427</millis>
  <sequence>3177</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>143</thread>
  <message>
Communication with MCU established.</message>
</record>
<record>
  <date>2016-11-11T02:34:16</date>
  <millis>1478802856262</millis>
  <sequence>3178</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to load file control.lua</message>
</record>
<record>
  <date>2016-11-11T02:34:16</date>
  <millis>1478802856296</millis>
  <sequence>3179</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Loading control.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T02:34:16</date>
  <millis>1478802856298</millis>
  <sequence>3180</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>File reload: Success.</message>
</record>
<record>
  <date>2016-11-11T02:34:16</date>
  <millis>1478802856858</millis>
  <sequence>3181</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>We save known file control.lua</message>
</record>
<record>
  <date>2016-11-11T02:34:16</date>
  <millis>1478802856867</millis>
  <sequence>3182</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to saving file control.lua ...</message>
</record>
<record>
  <date>2016-11-11T02:34:16</date>
  <millis>1478802856869</millis>
  <sequence>3183</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Save file control.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T02:34:16</date>
  <millis>1478802856880</millis>
  <sequence>3184</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP: Try to save file to ESP...</message>
</record>
<record>
  <date>2016-11-11T02:34:16</date>
  <millis>1478802856882</millis>
  <sequence>3185</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Try to save file to ESP in Turbo Mode...</message>
</record>
<record>
  <date>2016-11-11T02:34:16</date>
  <millis>1478802856888</millis>
  <sequence>3186</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>DataTurboSender: start "Smart Mode"</message>
</record>
<record>
  <date>2016-11-11T02:34:16</date>
  <millis>1478802856889</millis>
  <sequence>3187</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Starting...</message>
</record>
<record>
  <date>2016-11-11T02:34:17</date>
  <millis>1478802857037</millis>
  <sequence>3188</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local FILE="control.lua" file.remove(FILE) file.open(FILE,"w+") uart.setup(0,115200,8,0,1,0)</message>
</record>
<record>
  <date>2016-11-11T02:34:17</date>
  <millis>1478802857039</millis>
  <sequence>3189</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>144</thread>
  <message>recv:loc</message>
</record>
<record>
  <date>2016-11-11T02:34:17</date>
  <millis>1478802857042</millis>
  <sequence>3190</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>144</thread>
  <message>recv:al FILE="control.lua" file.remove(FIL</message>
</record>
<record>
  <date>2016-11-11T02:34:17</date>
  <millis>1478802857043</millis>
  <sequence>3191</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>144</thread>
  <message>recv:E) file.open(FI</message>
</record>
<record>
  <date>2016-11-11T02:34:17</date>
  <millis>1478802857044</millis>
  <sequence>3192</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>144</thread>
  <message>recv:LE,"w+")</message>
</record>
<record>
  <date>2016-11-11T02:34:17</date>
  <millis>1478802857045</millis>
  <sequence>3193</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>144</thread>
  <message>recv: uart.setup(0,</message>
</record>
<record>
  <date>2016-11-11T02:34:17</date>
  <millis>1478802857046</millis>
  <sequence>3194</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>144</thread>
  <message>recv:115200,8,0,1</message>
</record>
<record>
  <date>2016-11-11T02:34:17</date>
  <millis>1478802857047</millis>
  <sequence>3195</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>144</thread>
  <message>recv:,0)&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:34:17</date>
  <millis>1478802857228</millis>
  <sequence>3196</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>144</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:34:17</date>
  <millis>1478802857249</millis>
  <sequence>3197</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_Receiver=function(rcvBuf) if string.match(rcvBuf,"^ESP_cmd_close")==nil then file.write(string.gsub(rcvBuf, '\r', '')) uart.write(0, "&gt; ") else uart.on("data") </message>
</record>
<record>
  <date>2016-11-11T02:34:17</date>
  <millis>1478802857275</millis>
  <sequence>3198</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>144</thread>
  <message>recv:&gt;&gt;</message>
</record>
<record>
  <date>2016-11-11T02:34:17</date>
  <millis>1478802857276</millis>
  <sequence>3199</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>144</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T02:34:17</date>
  <millis>1478802857294</millis>
  <sequence>3200</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:file.flush() file.close() FILE=nil rcvBuf=nil ESP_Receiver=nil uart.setup(0,115200,8,0,1,1) str="\r\n--Done--\r\n&gt; " print(str) str=nil collectgarbage() end end uart.on("data",'\r',ESP_Receiver,0)</message>
</record>
<record>
  <date>2016-11-11T02:34:17</date>
  <millis>1478802857332</millis>
  <sequence>3201</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>144</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:34:17</date>
  <millis>1478802857346</millis>
  <sequence>3202</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local M = {}

-- status pin = 0, alarm 1
-- relay pin = 6 and 7, alarm 2, 3

function M.status_LED(delay)
    gpio.mode(0, gpio.OUTPUT)
    status0 = 0
        
    tmr.alarm(1, delay, 1, function()
        if status0 == 0 then
            status0 = 1
  </message>
</record>
<record>
  <date>2016-11-11T02:34:17</date>
  <millis>1478802857375</millis>
  <sequence>3203</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>144</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:34:17</date>
  <millis>1478802857389</millis>
  <sequence>3204</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:          gpio.write(0, gpio.HIGH)
        else
            status0 = 0
            gpio.write(0, gpio.LOW)
        end 
    end)
      
end

-- One on/off relay
function M.relay_onoff()
    gpio.mode(6, gpio.OUTPUT)
    gpio.mode(7, gpio.OUTPUT)
    gpi</message>
</record>
<record>
  <date>2016-11-11T02:34:17</date>
  <millis>1478802857419</millis>
  <sequence>3205</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>144</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:34:17</date>
  <millis>1478802857434</millis>
  <sequence>3206</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:o.write(6, gpio.LOW)
    gpio.write(7, gpio.LOW)
        
    tmr.alarm(2, 1000, tmr.ALARM_AUTO, function() gpio.write(6, gpio.HIGH) end)
    tmr.alarm(3, 1000, tmr.ALARM_AUTO, function() gpio.write(7, gpio.HIGH) end)
    trm.ararm(4, 2000, tmr.ALARM_AUT</message>
</record>
<record>
  <date>2016-11-11T02:34:17</date>
  <millis>1478802857464</millis>
  <sequence>3207</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>144</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:34:17</date>
  <millis>1478802857479</millis>
  <sequence>3208</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:O, function() tmr.stop(2) end)
    tmr.alarm(2, 3000, tmr.ALARM_AUTO, function() gpio.write(6, gpio.LOW) end)
    tmr.alarm(3, 3000, tmr.ALARM_AUTO, function() gpio.write(7, gpio.LOW) end)
end


-- loop relay
function M.relay_6(delay, mode)
    gpio.mode</message>
</record>
<record>
  <date>2016-11-11T02:34:17</date>
  <millis>1478802857510</millis>
  <sequence>3209</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>144</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:34:17</date>
  <millis>1478802857524</millis>
  <sequence>3210</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:(6, gpio.OUTPUT)
    status1 = 0
        
    tmr.alarm(2, delay, mode, function()
        if status1 == 0 then
            status1 = 1
            gpio.write(6, gpio.HIGH)
        else
            status1 = 0
            gpio.write(6, gpio.LOW)
        </message>
</record>
<record>
  <date>2016-11-11T02:34:17</date>
  <millis>1478802857555</millis>
  <sequence>3211</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>144</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:34:17</date>
  <millis>1478802857568</millis>
  <sequence>3212</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:end 
    end)
      
end


function M.relay_7(delay, mode)
    gpio.mode(7, gpio.OUTPUT)
    status2 = 0
        
    tmr.alarm(3, delay, mode, function()
        if status2 == 0 then
            status2 = 1
            gpio.write(7, gpio.HIGH)
        e</message>
</record>
<record>
  <date>2016-11-11T02:34:17</date>
  <millis>1478802857599</millis>
  <sequence>3213</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>144</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:34:17</date>
  <millis>1478802857612</millis>
  <sequence>3214</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:lse
            status2 = 0
            gpio.write(7, gpio.LOW)
        end 
    end)
      
end
return M
</message>
</record>
<record>
  <date>2016-11-11T02:34:17</date>
  <millis>1478802857629</millis>
  <sequence>3215</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>144</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:34:17</date>
  <millis>1478802857642</millis>
  <sequence>3216</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_cmd_close</message>
</record>
<record>
  <date>2016-11-11T02:34:17</date>
  <millis>1478802857654</millis>
  <sequence>3217</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>144</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;-</message>
</record>
<record>
  <date>2016-11-11T02:34:17</date>
  <millis>1478802857657</millis>
  <sequence>3218</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>144</thread>
  <message>recv:-Done--&lt;CR&gt;&lt;LF&gt;&gt; &lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:34:17</date>
  <millis>1478802857686</millis>
  <sequence>3219</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:34:17</date>
  <millis>1478802857687</millis>
  <sequence>3220</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>144</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:34:17</date>
  <millis>1478802857688</millis>
  <sequence>3221</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>144</thread>
  <message>recv:&gt; &lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T02:34:17</date>
  <millis>1478802857718</millis>
  <sequence>3222</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:dofile("control.lua")</message>
</record>
<record>
  <date>2016-11-11T02:34:17</date>
  <millis>1478802857720</millis>
  <sequence>3223</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>144</thread>
  <message>recv:d</message>
</record>
<record>
  <date>2016-11-11T02:34:17</date>
  <millis>1478802857721</millis>
  <sequence>3224</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>144</thread>
  <message>recv:ofile("contro</message>
</record>
<record>
  <date>2016-11-11T02:34:17</date>
  <millis>1478802857722</millis>
  <sequence>3225</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>144</thread>
  <message>recv:l.lua")&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:34:17</date>
  <millis>1478802857784</millis>
  <sequence>3226</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>144</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:34:17</date>
  <millis>1478802857854</millis>
  <sequence>3227</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>144</thread>
  <message>Operation done. Duration = 971 ms</message>
</record>
<record>
  <date>2016-11-11T02:34:22</date>
  <millis>1478802862112</millis>
  <sequence>3228</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:node.restart()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:34:22</date>
  <millis>1478802862113</millis>
  <sequence>3229</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with saved baud 115200...</message>
</record>
<record>
  <date>2016-11-11T02:34:22</date>
  <millis>1478802862175</millis>
  <sequence>3230</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success. Now we waiting for ESP reboot...</message>
</record>
<record>
  <date>2016-11-11T02:34:24</date>
  <millis>1478802864176</millis>
  <sequence>3231</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with baud 115200...</message>
</record>
<record>
  <date>2016-11-11T02:34:24</date>
  <millis>1478802864178</millis>
  <sequence>3232</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:print(uart.setup(0, 115200, 8, 0, 1, 1 ))&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:34:24</date>
  <millis>1478802864438</millis>
  <sequence>3233</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success.</message>
</record>
<record>
  <date>2016-11-11T02:34:24</date>
  <millis>1478802864484</millis>
  <sequence>3234</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:34:24</date>
  <millis>1478802864486</millis>
  <sequence>3235</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>145</thread>
  <message>
Communication with MCU established.</message>
</record>
<record>
  <date>2016-11-11T02:34:40</date>
  <millis>1478802880042</millis>
  <sequence>3236</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to load file control.lua</message>
</record>
<record>
  <date>2016-11-11T02:34:40</date>
  <millis>1478802880067</millis>
  <sequence>3237</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Loading control.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T02:34:40</date>
  <millis>1478802880068</millis>
  <sequence>3238</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>File reload: Success.</message>
</record>
<record>
  <date>2016-11-11T02:34:40</date>
  <millis>1478802880754</millis>
  <sequence>3239</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>We save known file control.lua</message>
</record>
<record>
  <date>2016-11-11T02:34:40</date>
  <millis>1478802880755</millis>
  <sequence>3240</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to saving file control.lua ...</message>
</record>
<record>
  <date>2016-11-11T02:34:40</date>
  <millis>1478802880757</millis>
  <sequence>3241</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Save file control.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T02:34:40</date>
  <millis>1478802880768</millis>
  <sequence>3242</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP: Try to save file to ESP...</message>
</record>
<record>
  <date>2016-11-11T02:34:40</date>
  <millis>1478802880771</millis>
  <sequence>3243</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Try to save file to ESP in Turbo Mode...</message>
</record>
<record>
  <date>2016-11-11T02:34:40</date>
  <millis>1478802880777</millis>
  <sequence>3244</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>DataTurboSender: start "Smart Mode"</message>
</record>
<record>
  <date>2016-11-11T02:34:40</date>
  <millis>1478802880779</millis>
  <sequence>3245</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Starting...</message>
</record>
<record>
  <date>2016-11-11T02:34:40</date>
  <millis>1478802880941</millis>
  <sequence>3246</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local FILE="control.lua" file.remove(FILE) file.open(FILE,"w+") uart.setup(0,115200,8,0,1,0)</message>
</record>
<record>
  <date>2016-11-11T02:34:40</date>
  <millis>1478802880943</millis>
  <sequence>3247</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>146</thread>
  <message>recv:lo</message>
</record>
<record>
  <date>2016-11-11T02:34:40</date>
  <millis>1478802880944</millis>
  <sequence>3248</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>146</thread>
  <message>recv:cal FILE="control</message>
</record>
<record>
  <date>2016-11-11T02:34:40</date>
  <millis>1478802880948</millis>
  <sequence>3249</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>146</thread>
  <message>recv:.lua" file.remove(FILE) file.open(FILE,"w+") uart.</message>
</record>
<record>
  <date>2016-11-11T02:34:40</date>
  <millis>1478802880949</millis>
  <sequence>3250</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>146</thread>
  <message>recv:setup(0,115</message>
</record>
<record>
  <date>2016-11-11T02:34:40</date>
  <millis>1478802880950</millis>
  <sequence>3251</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>146</thread>
  <message>recv:200,8,0,1,0</message>
</record>
<record>
  <date>2016-11-11T02:34:40</date>
  <millis>1478802880952</millis>
  <sequence>3252</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>146</thread>
  <message>recv:)&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:34:41</date>
  <millis>1478802881132</millis>
  <sequence>3253</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>146</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:34:41</date>
  <millis>1478802881150</millis>
  <sequence>3254</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_Receiver=function(rcvBuf) if string.match(rcvBuf,"^ESP_cmd_close")==nil then file.write(string.gsub(rcvBuf, '\r', '')) uart.write(0, "&gt; ") else uart.on("data") </message>
</record>
<record>
  <date>2016-11-11T02:34:41</date>
  <millis>1478802881175</millis>
  <sequence>3255</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>146</thread>
  <message>recv:&gt;&gt;</message>
</record>
<record>
  <date>2016-11-11T02:34:41</date>
  <millis>1478802881177</millis>
  <sequence>3256</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>146</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T02:34:41</date>
  <millis>1478802881198</millis>
  <sequence>3257</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:file.flush() file.close() FILE=nil rcvBuf=nil ESP_Receiver=nil uart.setup(0,115200,8,0,1,1) str="\r\n--Done--\r\n&gt; " print(str) str=nil collectgarbage() end end uart.on("data",'\r',ESP_Receiver,0)</message>
</record>
<record>
  <date>2016-11-11T02:34:41</date>
  <millis>1478802881236</millis>
  <sequence>3258</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>146</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:34:41</date>
  <millis>1478802881251</millis>
  <sequence>3259</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local M = {}

-- status pin = 0, alarm 1
-- relay pin = 6 and 7, alarm 2, 3

function M.status_LED(delay)
    gpio.mode(0, gpio.OUTPUT)
    status0 = 0
        
    tmr.alarm(1, delay, 1, function()
        if status0 == 0 then
            status0 = 1
  </message>
</record>
<record>
  <date>2016-11-11T02:34:41</date>
  <millis>1478802881280</millis>
  <sequence>3260</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>146</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:34:41</date>
  <millis>1478802881295</millis>
  <sequence>3261</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:          gpio.write(0, gpio.HIGH)
        else
            status0 = 0
            gpio.write(0, gpio.LOW)
        end 
    end)
      
end

-- One on/off relay
function M.relay_onoff()
    gpio.mode(6, gpio.OUTPUT)
    gpio.mode(7, gpio.OUTPUT)
    gpi</message>
</record>
<record>
  <date>2016-11-11T02:34:41</date>
  <millis>1478802881325</millis>
  <sequence>3262</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>146</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:34:41</date>
  <millis>1478802881343</millis>
  <sequence>3263</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:o.write(6, gpio.LOW)
    gpio.write(7, gpio.LOW)
        
    tmr.alarm(2, 1000, tmr.ALARM_AUTO, function() gpio.write(6, gpio.HIGH) end)
    tmr.alarm(3, 1000, tmr.ALARM_AUTO, function() gpio.write(7, gpio.HIGH) end)
    trm.ararm(4, 2000, tmr.ALARM_AUT</message>
</record>
<record>
  <date>2016-11-11T02:34:41</date>
  <millis>1478802881374</millis>
  <sequence>3264</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>146</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:34:41</date>
  <millis>1478802881390</millis>
  <sequence>3265</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:O, function() tmr.stop(2) end)
    tmr.alarm(5, 3000, tmr.ALARM_AUTO, function() gpio.write(6, gpio.LOW) end)
    tmr.alarm(6, 3000, tmr.ALARM_AUTO, function() gpio.write(7, gpio.LOW) end)
end


-- loop relay
function M.relay_6(delay, mode)
    gpio.mode</message>
</record>
<record>
  <date>2016-11-11T02:34:41</date>
  <millis>1478802881420</millis>
  <sequence>3266</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>146</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:34:41</date>
  <millis>1478802881434</millis>
  <sequence>3267</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:(6, gpio.OUTPUT)
    status1 = 0
        
    tmr.alarm(2, delay, mode, function()
        if status1 == 0 then
            status1 = 1
            gpio.write(6, gpio.HIGH)
        else
            status1 = 0
            gpio.write(6, gpio.LOW)
        </message>
</record>
<record>
  <date>2016-11-11T02:34:41</date>
  <millis>1478802881465</millis>
  <sequence>3268</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>146</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:34:41</date>
  <millis>1478802881480</millis>
  <sequence>3269</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:end 
    end)
      
end


function M.relay_7(delay, mode)
    gpio.mode(7, gpio.OUTPUT)
    status2 = 0
        
    tmr.alarm(3, delay, mode, function()
        if status2 == 0 then
            status2 = 1
            gpio.write(7, gpio.HIGH)
        e</message>
</record>
<record>
  <date>2016-11-11T02:34:41</date>
  <millis>1478802881510</millis>
  <sequence>3270</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>146</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:34:41</date>
  <millis>1478802881526</millis>
  <sequence>3271</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:lse
            status2 = 0
            gpio.write(7, gpio.LOW)
        end 
    end)
      
end
return M
</message>
</record>
<record>
  <date>2016-11-11T02:34:41</date>
  <millis>1478802881543</millis>
  <sequence>3272</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>146</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:34:41</date>
  <millis>1478802881564</millis>
  <sequence>3273</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_cmd_close</message>
</record>
<record>
  <date>2016-11-11T02:34:41</date>
  <millis>1478802881577</millis>
  <sequence>3274</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>146</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;-</message>
</record>
<record>
  <date>2016-11-11T02:34:41</date>
  <millis>1478802881578</millis>
  <sequence>3275</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>146</thread>
  <message>recv:-Done--&lt;CR&gt;&lt;LF&gt;&gt; &lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:34:41</date>
  <millis>1478802881615</millis>
  <sequence>3276</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:34:41</date>
  <millis>1478802881617</millis>
  <sequence>3277</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>146</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;&gt;</message>
</record>
<record>
  <date>2016-11-11T02:34:41</date>
  <millis>1478802881619</millis>
  <sequence>3278</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>146</thread>
  <message>recv: &lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T02:34:41</date>
  <millis>1478802881661</millis>
  <sequence>3279</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:dofile("control.lua")</message>
</record>
<record>
  <date>2016-11-11T02:34:41</date>
  <millis>1478802881662</millis>
  <sequence>3280</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>146</thread>
  <message>recv:do</message>
</record>
<record>
  <date>2016-11-11T02:34:41</date>
  <millis>1478802881664</millis>
  <sequence>3281</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>146</thread>
  <message>recv:file("control.lu</message>
</record>
<record>
  <date>2016-11-11T02:34:41</date>
  <millis>1478802881664</millis>
  <sequence>3282</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>146</thread>
  <message>recv:a")&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:34:41</date>
  <millis>1478802881726</millis>
  <sequence>3283</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>146</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:34:41</date>
  <millis>1478802881760</millis>
  <sequence>3284</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>146</thread>
  <message>Operation done. Duration = 988 ms</message>
</record>
<record>
  <date>2016-11-11T02:34:42</date>
  <millis>1478802882214</millis>
  <sequence>3285</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:node.restart()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:34:42</date>
  <millis>1478802882215</millis>
  <sequence>3286</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with saved baud 115200...</message>
</record>
<record>
  <date>2016-11-11T02:34:42</date>
  <millis>1478802882277</millis>
  <sequence>3287</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success. Now we waiting for ESP reboot...</message>
</record>
<record>
  <date>2016-11-11T02:34:44</date>
  <millis>1478802884278</millis>
  <sequence>3288</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with baud 115200...</message>
</record>
<record>
  <date>2016-11-11T02:34:44</date>
  <millis>1478802884279</millis>
  <sequence>3289</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:print(uart.setup(0, 115200, 8, 0, 1, 1 ))&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:34:44</date>
  <millis>1478802884541</millis>
  <sequence>3290</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success.</message>
</record>
<record>
  <date>2016-11-11T02:34:44</date>
  <millis>1478802884578</millis>
  <sequence>3291</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:34:44</date>
  <millis>1478802884581</millis>
  <sequence>3292</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>147</thread>
  <message>
Communication with MCU established.</message>
</record>
<record>
  <date>2016-11-11T02:34:54</date>
  <millis>1478802894092</millis>
  <sequence>3293</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to load file control.lua</message>
</record>
<record>
  <date>2016-11-11T02:34:54</date>
  <millis>1478802894125</millis>
  <sequence>3294</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Loading control.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T02:34:54</date>
  <millis>1478802894126</millis>
  <sequence>3295</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>File reload: Success.</message>
</record>
<record>
  <date>2016-11-11T02:34:54</date>
  <millis>1478802894758</millis>
  <sequence>3296</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>We save known file control.lua</message>
</record>
<record>
  <date>2016-11-11T02:34:54</date>
  <millis>1478802894758</millis>
  <sequence>3297</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to saving file control.lua ...</message>
</record>
<record>
  <date>2016-11-11T02:34:54</date>
  <millis>1478802894760</millis>
  <sequence>3298</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Save file control.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T02:34:54</date>
  <millis>1478802894771</millis>
  <sequence>3299</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP: Try to save file to ESP...</message>
</record>
<record>
  <date>2016-11-11T02:34:54</date>
  <millis>1478802894772</millis>
  <sequence>3300</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Try to save file to ESP in Turbo Mode...</message>
</record>
<record>
  <date>2016-11-11T02:34:54</date>
  <millis>1478802894777</millis>
  <sequence>3301</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>DataTurboSender: start "Smart Mode"</message>
</record>
<record>
  <date>2016-11-11T02:34:54</date>
  <millis>1478802894780</millis>
  <sequence>3302</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Starting...</message>
</record>
<record>
  <date>2016-11-11T02:34:54</date>
  <millis>1478802894927</millis>
  <sequence>3303</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local FILE="control.lua" file.remove(FILE) file.open(FILE,"w+") uart.setup(0,115200,8,0,1,0)</message>
</record>
<record>
  <date>2016-11-11T02:34:54</date>
  <millis>1478802894929</millis>
  <sequence>3304</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>148</thread>
  <message>recv:l</message>
</record>
<record>
  <date>2016-11-11T02:34:54</date>
  <millis>1478802894931</millis>
  <sequence>3305</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>148</thread>
  <message>recv:ocal FILE="control.lua" file</message>
</record>
<record>
  <date>2016-11-11T02:34:54</date>
  <millis>1478802894933</millis>
  <sequence>3306</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>148</thread>
  <message>recv:.remove(FILE)</message>
</record>
<record>
  <date>2016-11-11T02:34:54</date>
  <millis>1478802894933</millis>
  <sequence>3307</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>148</thread>
  <message>recv: file.o</message>
</record>
<record>
  <date>2016-11-11T02:34:54</date>
  <millis>1478802894934</millis>
  <sequence>3308</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>148</thread>
  <message>recv:pen(FI</message>
</record>
<record>
  <date>2016-11-11T02:34:54</date>
  <millis>1478802894935</millis>
  <sequence>3309</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>148</thread>
  <message>recv:LE,"w+") u</message>
</record>
<record>
  <date>2016-11-11T02:34:54</date>
  <millis>1478802894937</millis>
  <sequence>3310</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>148</thread>
  <message>recv:art.setup(0,115200,8,0,1</message>
</record>
<record>
  <date>2016-11-11T02:34:54</date>
  <millis>1478802894938</millis>
  <sequence>3311</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>148</thread>
  <message>recv:,0)&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:34:55</date>
  <millis>1478802895120</millis>
  <sequence>3312</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>148</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:34:55</date>
  <millis>1478802895144</millis>
  <sequence>3313</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_Receiver=function(rcvBuf) if string.match(rcvBuf,"^ESP_cmd_close")==nil then file.write(string.gsub(rcvBuf, '\r', '')) uart.write(0, "&gt; ") else uart.on("data") </message>
</record>
<record>
  <date>2016-11-11T02:34:55</date>
  <millis>1478802895170</millis>
  <sequence>3314</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>148</thread>
  <message>recv:&gt;&gt;</message>
</record>
<record>
  <date>2016-11-11T02:34:55</date>
  <millis>1478802895171</millis>
  <sequence>3315</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>148</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T02:34:55</date>
  <millis>1478802895193</millis>
  <sequence>3316</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:file.flush() file.close() FILE=nil rcvBuf=nil ESP_Receiver=nil uart.setup(0,115200,8,0,1,1) str="\r\n--Done--\r\n&gt; " print(str) str=nil collectgarbage() end end uart.on("data",'\r',ESP_Receiver,0)</message>
</record>
<record>
  <date>2016-11-11T02:34:55</date>
  <millis>1478802895230</millis>
  <sequence>3317</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>148</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:34:55</date>
  <millis>1478802895243</millis>
  <sequence>3318</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local M = {}

-- status pin = 0, alarm 1
-- relay pin = 6 and 7, alarm 2, 3

function M.status_LED(delay)
    gpio.mode(0, gpio.OUTPUT)
    status0 = 0
        
    tmr.alarm(1, delay, 1, function()
        if status0 == 0 then
            status0 = 1
  </message>
</record>
<record>
  <date>2016-11-11T02:34:55</date>
  <millis>1478802895272</millis>
  <sequence>3319</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>148</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:34:55</date>
  <millis>1478802895286</millis>
  <sequence>3320</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:          gpio.write(0, gpio.HIGH)
        else
            status0 = 0
            gpio.write(0, gpio.LOW)
        end 
    end)
      
end

-- One on/off relay
function M.relay_onoff()
    gpio.mode(6, gpio.OUTPUT)
    gpio.mode(7, gpio.OUTPUT)
    gpi</message>
</record>
<record>
  <date>2016-11-11T02:34:55</date>
  <millis>1478802895317</millis>
  <sequence>3321</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>148</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:34:55</date>
  <millis>1478802895343</millis>
  <sequence>3322</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:o.write(6, gpio.LOW)
    gpio.write(7, gpio.LOW)
        
    tmr.alarm(2, 1000, tmr.ALARM_AUTO, function() gpio.write(6, gpio.HIGH) end)
    tmr.alarm(3, 1000, tmr.ALARM_AUTO, function() gpio.write(7, gpio.HIGH) end)
    --trm.ararm(4, 2000, tmr.ALARM_A</message>
</record>
<record>
  <date>2016-11-11T02:34:55</date>
  <millis>1478802895373</millis>
  <sequence>3323</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>148</thread>
  <message>recv:&gt;</message>
</record>
<record>
  <date>2016-11-11T02:34:55</date>
  <millis>1478802895374</millis>
  <sequence>3324</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>148</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T02:34:55</date>
  <millis>1478802895393</millis>
  <sequence>3325</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:UTO, function() tmr.stop(2) end)
    tmr.alarm(5, 3000, tmr.ALARM_AUTO, function() gpio.write(6, gpio.LOW) end)
    tmr.alarm(6, 3000, tmr.ALARM_AUTO, function() gpio.write(7, gpio.LOW) end)
end


-- loop relay
function M.relay_6(delay, mode)
    gpio.mo</message>
</record>
<record>
  <date>2016-11-11T02:34:55</date>
  <millis>1478802895424</millis>
  <sequence>3326</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>148</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:34:55</date>
  <millis>1478802895435</millis>
  <sequence>3327</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:de(6, gpio.OUTPUT)
    status1 = 0
        
    tmr.alarm(2, delay, mode, function()
        if status1 == 0 then
            status1 = 1
            gpio.write(6, gpio.HIGH)
        else
            status1 = 0
            gpio.write(6, gpio.LOW)
      </message>
</record>
<record>
  <date>2016-11-11T02:34:55</date>
  <millis>1478802895466</millis>
  <sequence>3328</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>148</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:34:55</date>
  <millis>1478802895483</millis>
  <sequence>3329</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:  end 
    end)
      
end


function M.relay_7(delay, mode)
    gpio.mode(7, gpio.OUTPUT)
    status2 = 0
        
    tmr.alarm(3, delay, mode, function()
        if status2 == 0 then
            status2 = 1
            gpio.write(7, gpio.HIGH)
       </message>
</record>
<record>
  <date>2016-11-11T02:34:55</date>
  <millis>1478802895514</millis>
  <sequence>3330</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>148</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:34:55</date>
  <millis>1478802895526</millis>
  <sequence>3331</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending: else
            status2 = 0
            gpio.write(7, gpio.LOW)
        end 
    end)
      
end
return M
</message>
</record>
<record>
  <date>2016-11-11T02:34:55</date>
  <millis>1478802895544</millis>
  <sequence>3332</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>148</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:34:55</date>
  <millis>1478802895557</millis>
  <sequence>3333</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_cmd_close</message>
</record>
<record>
  <date>2016-11-11T02:34:55</date>
  <millis>1478802895569</millis>
  <sequence>3334</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>148</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:34:55</date>
  <millis>1478802895570</millis>
  <sequence>3335</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>148</thread>
  <message>recv:--Done--&lt;CR&gt;&lt;LF&gt;&gt; &lt;CR&gt;</message>
</record>
<record>
  <date>2016-11-11T02:34:55</date>
  <millis>1478802895571</millis>
  <sequence>3336</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>148</thread>
  <message>recv:&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:34:55</date>
  <millis>1478802895592</millis>
  <sequence>3337</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:34:55</date>
  <millis>1478802895593</millis>
  <sequence>3338</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>148</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:34:55</date>
  <millis>1478802895594</millis>
  <sequence>3339</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>148</thread>
  <message>recv:&gt; &lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T02:34:55</date>
  <millis>1478802895628</millis>
  <sequence>3340</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:dofile("control.lua")</message>
</record>
<record>
  <date>2016-11-11T02:34:55</date>
  <millis>1478802895630</millis>
  <sequence>3341</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>148</thread>
  <message>recv:d</message>
</record>
<record>
  <date>2016-11-11T02:34:55</date>
  <millis>1478802895632</millis>
  <sequence>3342</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>148</thread>
  <message>recv:ofile("control.lua")&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:34:55</date>
  <millis>1478802895691</millis>
  <sequence>3343</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>148</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:34:55</date>
  <millis>1478802895744</millis>
  <sequence>3344</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>148</thread>
  <message>Operation done. Duration = 972 ms</message>
</record>
<record>
  <date>2016-11-11T02:34:56</date>
  <millis>1478802896434</millis>
  <sequence>3345</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:node.restart()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:34:56</date>
  <millis>1478802896436</millis>
  <sequence>3346</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with saved baud 115200...</message>
</record>
<record>
  <date>2016-11-11T02:34:56</date>
  <millis>1478802896498</millis>
  <sequence>3347</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success. Now we waiting for ESP reboot...</message>
</record>
<record>
  <date>2016-11-11T02:34:58</date>
  <millis>1478802898500</millis>
  <sequence>3348</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with baud 115200...</message>
</record>
<record>
  <date>2016-11-11T02:34:58</date>
  <millis>1478802898501</millis>
  <sequence>3349</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:print(uart.setup(0, 115200, 8, 0, 1, 1 ))&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:34:58</date>
  <millis>1478802898763</millis>
  <sequence>3350</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success.</message>
</record>
<record>
  <date>2016-11-11T02:34:58</date>
  <millis>1478802898794</millis>
  <sequence>3351</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:34:58</date>
  <millis>1478802898796</millis>
  <sequence>3352</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>149</thread>
  <message>
Communication with MCU established.</message>
</record>
<record>
  <date>2016-11-11T02:35:13</date>
  <millis>1478802913158</millis>
  <sequence>3353</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to load file control.lua</message>
</record>
<record>
  <date>2016-11-11T02:35:13</date>
  <millis>1478802913187</millis>
  <sequence>3354</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Loading control.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T02:35:13</date>
  <millis>1478802913188</millis>
  <sequence>3355</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>File reload: Success.</message>
</record>
<record>
  <date>2016-11-11T02:35:16</date>
  <millis>1478802916274</millis>
  <sequence>3356</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>We save known file control.lua</message>
</record>
<record>
  <date>2016-11-11T02:35:16</date>
  <millis>1478802916274</millis>
  <sequence>3357</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to saving file control.lua ...</message>
</record>
<record>
  <date>2016-11-11T02:35:16</date>
  <millis>1478802916276</millis>
  <sequence>3358</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Save file control.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T02:35:16</date>
  <millis>1478802916289</millis>
  <sequence>3359</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP: Try to save file to ESP...</message>
</record>
<record>
  <date>2016-11-11T02:35:16</date>
  <millis>1478802916290</millis>
  <sequence>3360</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Try to save file to ESP in Turbo Mode...</message>
</record>
<record>
  <date>2016-11-11T02:35:16</date>
  <millis>1478802916298</millis>
  <sequence>3361</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>DataTurboSender: start "Smart Mode"</message>
</record>
<record>
  <date>2016-11-11T02:35:16</date>
  <millis>1478802916298</millis>
  <sequence>3362</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Starting...</message>
</record>
<record>
  <date>2016-11-11T02:35:16</date>
  <millis>1478802916440</millis>
  <sequence>3363</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local FILE="control.lua" file.remove(FILE) file.open(FILE,"w+") uart.setup(0,115200,8,0,1,0)</message>
</record>
<record>
  <date>2016-11-11T02:35:16</date>
  <millis>1478802916442</millis>
  <sequence>3364</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>150</thread>
  <message>recv:lo</message>
</record>
<record>
  <date>2016-11-11T02:35:16</date>
  <millis>1478802916444</millis>
  <sequence>3365</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>150</thread>
  <message>recv:cal FILE="control.lua"</message>
</record>
<record>
  <date>2016-11-11T02:35:16</date>
  <millis>1478802916445</millis>
  <sequence>3366</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>150</thread>
  <message>recv: file.remov</message>
</record>
<record>
  <date>2016-11-11T02:35:16</date>
  <millis>1478802916445</millis>
  <sequence>3367</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>150</thread>
  <message>recv:e(FILE) fi</message>
</record>
<record>
  <date>2016-11-11T02:35:16</date>
  <millis>1478802916446</millis>
  <sequence>3368</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>150</thread>
  <message>recv:le.open</message>
</record>
<record>
  <date>2016-11-11T02:35:16</date>
  <millis>1478802916447</millis>
  <sequence>3369</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>150</thread>
  <message>recv:(FILE,"</message>
</record>
<record>
  <date>2016-11-11T02:35:16</date>
  <millis>1478802916447</millis>
  <sequence>3370</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>150</thread>
  <message>recv:w+")</message>
</record>
<record>
  <date>2016-11-11T02:35:16</date>
  <millis>1478802916448</millis>
  <sequence>3371</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>150</thread>
  <message>recv: uart.set</message>
</record>
<record>
  <date>2016-11-11T02:35:16</date>
  <millis>1478802916448</millis>
  <sequence>3372</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>150</thread>
  <message>recv:up(0,1</message>
</record>
<record>
  <date>2016-11-11T02:35:16</date>
  <millis>1478802916450</millis>
  <sequence>3373</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>150</thread>
  <message>recv:15200,8,0,1</message>
</record>
<record>
  <date>2016-11-11T02:35:16</date>
  <millis>1478802916451</millis>
  <sequence>3374</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>150</thread>
  <message>recv:,0)&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:35:16</date>
  <millis>1478802916636</millis>
  <sequence>3375</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>150</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:35:16</date>
  <millis>1478802916651</millis>
  <sequence>3376</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_Receiver=function(rcvBuf) if string.match(rcvBuf,"^ESP_cmd_close")==nil then file.write(string.gsub(rcvBuf, '\r', '')) uart.write(0, "&gt; ") else uart.on("data") </message>
</record>
<record>
  <date>2016-11-11T02:35:16</date>
  <millis>1478802916679</millis>
  <sequence>3377</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>150</thread>
  <message>recv:&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T02:35:16</date>
  <millis>1478802916696</millis>
  <sequence>3378</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:file.flush() file.close() FILE=nil rcvBuf=nil ESP_Receiver=nil uart.setup(0,115200,8,0,1,1) str="\r\n--Done--\r\n&gt; " print(str) str=nil collectgarbage() end end uart.on("data",'\r',ESP_Receiver,0)</message>
</record>
<record>
  <date>2016-11-11T02:35:16</date>
  <millis>1478802916738</millis>
  <sequence>3379</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>150</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:35:16</date>
  <millis>1478802916754</millis>
  <sequence>3380</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local M = {}

-- status pin = 0, alarm 1
-- relay pin = 6 and 7, alarm 2, 3

function M.status_LED(delay)
    gpio.mode(0, gpio.OUTPUT)
    status0 = 0
        
    tmr.alarm(1, delay, 1, function()
        if status0 == 0 then
            status0 = 1
  </message>
</record>
<record>
  <date>2016-11-11T02:35:16</date>
  <millis>1478802916785</millis>
  <sequence>3381</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>150</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:35:16</date>
  <millis>1478802916797</millis>
  <sequence>3382</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:          gpio.write(0, gpio.HIGH)
        else
            status0 = 0
            gpio.write(0, gpio.LOW)
        end 
    end)
      
end

-- One on/off relay
function M.relay_onoff()
    gpio.mode(6, gpio.OUTPUT)
    gpio.mode(7, gpio.OUTPUT)
    gpi</message>
</record>
<record>
  <date>2016-11-11T02:35:16</date>
  <millis>1478802916829</millis>
  <sequence>3383</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>150</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:35:16</date>
  <millis>1478802916841</millis>
  <sequence>3384</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:o.write(6, gpio.LOW)
    gpio.write(7, gpio.LOW)
        
    tmr.alarm(2, 3000, tmr.ALARM_AUTO, function() gpio.write(6, gpio.HIGH) end)
    tmr.alarm(3, 3000, tmr.ALARM_AUTO, function() gpio.write(7, gpio.HIGH) end)
    --trm.ararm(4, 2000, tmr.ALARM_A</message>
</record>
<record>
  <date>2016-11-11T02:35:16</date>
  <millis>1478802916874</millis>
  <sequence>3385</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>150</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:35:16</date>
  <millis>1478802916893</millis>
  <sequence>3386</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:UTO, function() tmr.stop(2) end)
    tmr.alarm(5, 3000, tmr.ALARM_AUTO, function() gpio.write(6, gpio.LOW) end)
    tmr.alarm(6, 3000, tmr.ALARM_AUTO, function() gpio.write(7, gpio.LOW) end)
end


-- loop relay
function M.relay_6(delay, mode)
    gpio.mo</message>
</record>
<record>
  <date>2016-11-11T02:35:16</date>
  <millis>1478802916925</millis>
  <sequence>3387</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>150</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:35:16</date>
  <millis>1478802916938</millis>
  <sequence>3388</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:de(6, gpio.OUTPUT)
    status1 = 0
        
    tmr.alarm(2, delay, mode, function()
        if status1 == 0 then
            status1 = 1
            gpio.write(6, gpio.HIGH)
        else
            status1 = 0
            gpio.write(6, gpio.LOW)
      </message>
</record>
<record>
  <date>2016-11-11T02:35:16</date>
  <millis>1478802916971</millis>
  <sequence>3389</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>150</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:35:16</date>
  <millis>1478802916983</millis>
  <sequence>3390</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:  end 
    end)
      
end


function M.relay_7(delay, mode)
    gpio.mode(7, gpio.OUTPUT)
    status2 = 0
        
    tmr.alarm(3, delay, mode, function()
        if status2 == 0 then
            status2 = 1
            gpio.write(7, gpio.HIGH)
       </message>
</record>
<record>
  <date>2016-11-11T02:35:17</date>
  <millis>1478802917015</millis>
  <sequence>3391</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>150</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:35:17</date>
  <millis>1478802917028</millis>
  <sequence>3392</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending: else
            status2 = 0
            gpio.write(7, gpio.LOW)
        end 
    end)
      
end
return M
</message>
</record>
<record>
  <date>2016-11-11T02:35:17</date>
  <millis>1478802917046</millis>
  <sequence>3393</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>150</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:35:17</date>
  <millis>1478802917060</millis>
  <sequence>3394</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_cmd_close</message>
</record>
<record>
  <date>2016-11-11T02:35:17</date>
  <millis>1478802917072</millis>
  <sequence>3395</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>150</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;-</message>
</record>
<record>
  <date>2016-11-11T02:35:17</date>
  <millis>1478802917073</millis>
  <sequence>3396</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>150</thread>
  <message>recv:-Done--&lt;CR&gt;&lt;LF&gt;&gt; &lt;CR&gt;</message>
</record>
<record>
  <date>2016-11-11T02:35:17</date>
  <millis>1478802917074</millis>
  <sequence>3397</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>150</thread>
  <message>recv:&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:35:17</date>
  <millis>1478802917097</millis>
  <sequence>3398</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:35:17</date>
  <millis>1478802917098</millis>
  <sequence>3399</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>150</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:35:17</date>
  <millis>1478802917099</millis>
  <sequence>3400</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>150</thread>
  <message>recv:&gt; &lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T02:35:17</date>
  <millis>1478802917134</millis>
  <sequence>3401</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:dofile("control.lua")</message>
</record>
<record>
  <date>2016-11-11T02:35:17</date>
  <millis>1478802917135</millis>
  <sequence>3402</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>150</thread>
  <message>recv:d</message>
</record>
<record>
  <date>2016-11-11T02:35:17</date>
  <millis>1478802917136</millis>
  <sequence>3403</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>150</thread>
  <message>recv:ofile("contr</message>
</record>
<record>
  <date>2016-11-11T02:35:17</date>
  <millis>1478802917137</millis>
  <sequence>3404</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>150</thread>
  <message>recv:ol.lua")</message>
</record>
<record>
  <date>2016-11-11T02:35:17</date>
  <millis>1478802917138</millis>
  <sequence>3405</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>150</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:35:17</date>
  <millis>1478802917200</millis>
  <sequence>3406</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>150</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:35:17</date>
  <millis>1478802917254</millis>
  <sequence>3407</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>150</thread>
  <message>Operation done. Duration = 963 ms</message>
</record>
<record>
  <date>2016-11-11T02:35:17</date>
  <millis>1478802917759</millis>
  <sequence>3408</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:node.restart()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:35:17</date>
  <millis>1478802917759</millis>
  <sequence>3409</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with saved baud 115200...</message>
</record>
<record>
  <date>2016-11-11T02:35:17</date>
  <millis>1478802917823</millis>
  <sequence>3410</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success. Now we waiting for ESP reboot...</message>
</record>
<record>
  <date>2016-11-11T02:35:19</date>
  <millis>1478802919825</millis>
  <sequence>3411</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with baud 115200...</message>
</record>
<record>
  <date>2016-11-11T02:35:19</date>
  <millis>1478802919826</millis>
  <sequence>3412</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:print(uart.setup(0, 115200, 8, 0, 1, 1 ))&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:35:20</date>
  <millis>1478802920089</millis>
  <sequence>3413</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success.</message>
</record>
<record>
  <date>2016-11-11T02:35:20</date>
  <millis>1478802920137</millis>
  <sequence>3414</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:35:20</date>
  <millis>1478802920139</millis>
  <sequence>3415</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>151</thread>
  <message>
Communication with MCU established.</message>
</record>
<record>
  <date>2016-11-11T02:35:52</date>
  <millis>1478802952952</millis>
  <sequence>3416</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to load file control.lua</message>
</record>
<record>
  <date>2016-11-11T02:35:52</date>
  <millis>1478802952987</millis>
  <sequence>3417</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Loading control.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T02:35:52</date>
  <millis>1478802952987</millis>
  <sequence>3418</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>File reload: Success.</message>
</record>
<record>
  <date>2016-11-11T02:35:53</date>
  <millis>1478802953594</millis>
  <sequence>3419</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>We save known file control.lua</message>
</record>
<record>
  <date>2016-11-11T02:35:53</date>
  <millis>1478802953595</millis>
  <sequence>3420</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to saving file control.lua ...</message>
</record>
<record>
  <date>2016-11-11T02:35:53</date>
  <millis>1478802953596</millis>
  <sequence>3421</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Save file control.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T02:35:53</date>
  <millis>1478802953608</millis>
  <sequence>3422</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP: Try to save file to ESP...</message>
</record>
<record>
  <date>2016-11-11T02:35:53</date>
  <millis>1478802953608</millis>
  <sequence>3423</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Try to save file to ESP in Turbo Mode...</message>
</record>
<record>
  <date>2016-11-11T02:35:53</date>
  <millis>1478802953615</millis>
  <sequence>3424</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>DataTurboSender: start "Smart Mode"</message>
</record>
<record>
  <date>2016-11-11T02:35:53</date>
  <millis>1478802953617</millis>
  <sequence>3425</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Starting...</message>
</record>
<record>
  <date>2016-11-11T02:35:53</date>
  <millis>1478802953765</millis>
  <sequence>3426</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local FILE="control.lua" file.remove(FILE) file.open(FILE,"w+") uart.setup(0,115200,8,0,1,0)</message>
</record>
<record>
  <date>2016-11-11T02:35:53</date>
  <millis>1478802953767</millis>
  <sequence>3427</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>152</thread>
  <message>recv:loca</message>
</record>
<record>
  <date>2016-11-11T02:35:53</date>
  <millis>1478802953770</millis>
  <sequence>3428</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>152</thread>
  <message>recv:l FILE="control.lua" file.re</message>
</record>
<record>
  <date>2016-11-11T02:35:53</date>
  <millis>1478802953771</millis>
  <sequence>3429</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>152</thread>
  <message>recv:move(FILE) file</message>
</record>
<record>
  <date>2016-11-11T02:35:53</date>
  <millis>1478802953773</millis>
  <sequence>3430</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>152</thread>
  <message>recv:.open(FILE,"w+") uart.se</message>
</record>
<record>
  <date>2016-11-11T02:35:53</date>
  <millis>1478802953774</millis>
  <sequence>3431</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>152</thread>
  <message>recv:tup(0,115200,8,0,1</message>
</record>
<record>
  <date>2016-11-11T02:35:53</date>
  <millis>1478802953777</millis>
  <sequence>3432</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>152</thread>
  <message>recv:,0)&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:35:53</date>
  <millis>1478802953960</millis>
  <sequence>3433</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>152</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:35:53</date>
  <millis>1478802953981</millis>
  <sequence>3434</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_Receiver=function(rcvBuf) if string.match(rcvBuf,"^ESP_cmd_close")==nil then file.write(string.gsub(rcvBuf, '\r', '')) uart.write(0, "&gt; ") else uart.on("data") </message>
</record>
<record>
  <date>2016-11-11T02:35:54</date>
  <millis>1478802954008</millis>
  <sequence>3435</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>152</thread>
  <message>recv:&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T02:35:54</date>
  <millis>1478802954036</millis>
  <sequence>3436</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:file.flush() file.close() FILE=nil rcvBuf=nil ESP_Receiver=nil uart.setup(0,115200,8,0,1,1) str="\r\n--Done--\r\n&gt; " print(str) str=nil collectgarbage() end end uart.on("data",'\r',ESP_Receiver,0)</message>
</record>
<record>
  <date>2016-11-11T02:35:54</date>
  <millis>1478802954074</millis>
  <sequence>3437</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>152</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:35:54</date>
  <millis>1478802954087</millis>
  <sequence>3438</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local M = {}

-- status pin = 0, alarm 1
-- relay pin = 6 and 7, alarm 2, 3

function M.status_LED(delay)
    gpio.mode(0, gpio.OUTPUT)
    status0 = 0
        
    tmr.alarm(1, delay, 1, function()
        if status0 == 0 then
            status0 = 1
  </message>
</record>
<record>
  <date>2016-11-11T02:35:54</date>
  <millis>1478802954116</millis>
  <sequence>3439</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>152</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:35:54</date>
  <millis>1478802954131</millis>
  <sequence>3440</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:          gpio.write(0, gpio.HIGH)
        else
            status0 = 0
            gpio.write(0, gpio.LOW)
        end 
    end)
      
end

-- One on/off relay
function M.relay_onoff()
    gpio.mode(6, gpio.OUTPUT)
    gpio.mode(7, gpio.OUTPUT)
    gpi</message>
</record>
<record>
  <date>2016-11-11T02:35:54</date>
  <millis>1478802954162</millis>
  <sequence>3441</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>152</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:35:54</date>
  <millis>1478802954175</millis>
  <sequence>3442</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:o.write(6, gpio.LOW)
    gpio.write(7, gpio.LOW)
        
    tmr.alarm(2, 1000, tmr.ALARM_AUTO, function() gpio.write(6, gpio.HIGH) end)
    tmr.alarm(3, 1000, tmr.ALARM_AUTO, function() gpio.write(7, gpio.HIGH) end)
    tmr.alarm(5, 2000, tmr.ALARM_AUT</message>
</record>
<record>
  <date>2016-11-11T02:35:54</date>
  <millis>1478802954206</millis>
  <sequence>3443</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>152</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:35:54</date>
  <millis>1478802954219</millis>
  <sequence>3444</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:O, function() gpio.write(6, gpio.LOW) end)
    tmr.alarm(6, 2000, tmr.ALARM_AUTO, function() gpio.write(7, gpio.LOW) end)
end


-- loop relay
function M.relay_6(delay, mode)
    gpio.mode(6, gpio.OUTPUT)
    status1 = 0
        
    tmr.alarm(2, delay, m</message>
</record>
<record>
  <date>2016-11-11T02:35:54</date>
  <millis>1478802954250</millis>
  <sequence>3445</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>152</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:35:54</date>
  <millis>1478802954263</millis>
  <sequence>3446</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ode, function()
        if status1 == 0 then
            status1 = 1
            gpio.write(6, gpio.HIGH)
        else
            status1 = 0
            gpio.write(6, gpio.LOW)
        end 
    end)
      
end


function M.relay_7(delay, mode)
    gpio</message>
</record>
<record>
  <date>2016-11-11T02:35:54</date>
  <millis>1478802954294</millis>
  <sequence>3447</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>152</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:35:54</date>
  <millis>1478802954313</millis>
  <sequence>3448</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:.mode(7, gpio.OUTPUT)
    status2 = 0
        
    tmr.alarm(3, delay, mode, function()
        if status2 == 0 then
            status2 = 1
            gpio.write(7, gpio.HIGH)
        else
            status2 = 0
            gpio.write(7, gpio.LOW)
   </message>
</record>
<record>
  <date>2016-11-11T02:35:54</date>
  <millis>1478802954344</millis>
  <sequence>3449</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>152</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:35:54</date>
  <millis>1478802954357</millis>
  <sequence>3450</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:     end 
    end)
      
end
return M
</message>
</record>
<record>
  <date>2016-11-11T02:35:54</date>
  <millis>1478802954369</millis>
  <sequence>3451</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>152</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:35:54</date>
  <millis>1478802954384</millis>
  <sequence>3452</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_cmd_close</message>
</record>
<record>
  <date>2016-11-11T02:35:54</date>
  <millis>1478802954396</millis>
  <sequence>3453</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>152</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;--</message>
</record>
<record>
  <date>2016-11-11T02:35:54</date>
  <millis>1478802954397</millis>
  <sequence>3454</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>152</thread>
  <message>recv:Done--&lt;CR&gt;&lt;LF&gt;&gt; &lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:35:54</date>
  <millis>1478802954424</millis>
  <sequence>3455</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:35:54</date>
  <millis>1478802954426</millis>
  <sequence>3456</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>152</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:35:54</date>
  <millis>1478802954428</millis>
  <sequence>3457</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>152</thread>
  <message>recv:&gt; &lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T02:35:54</date>
  <millis>1478802954458</millis>
  <sequence>3458</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:dofile("control.lua")</message>
</record>
<record>
  <date>2016-11-11T02:35:54</date>
  <millis>1478802954460</millis>
  <sequence>3459</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>152</thread>
  <message>recv:d</message>
</record>
<record>
  <date>2016-11-11T02:35:54</date>
  <millis>1478802954462</millis>
  <sequence>3460</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>152</thread>
  <message>recv:ofile("control.lua")&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:35:54</date>
  <millis>1478802954524</millis>
  <sequence>3461</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>152</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:35:54</date>
  <millis>1478802954578</millis>
  <sequence>3462</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>152</thread>
  <message>Operation done. Duration = 969 ms</message>
</record>
<record>
  <date>2016-11-11T02:35:55</date>
  <millis>1478802955125</millis>
  <sequence>3463</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:node.restart()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:35:55</date>
  <millis>1478802955127</millis>
  <sequence>3464</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with saved baud 115200...</message>
</record>
<record>
  <date>2016-11-11T02:35:55</date>
  <millis>1478802955190</millis>
  <sequence>3465</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success. Now we waiting for ESP reboot...</message>
</record>
<record>
  <date>2016-11-11T02:35:57</date>
  <millis>1478802957191</millis>
  <sequence>3466</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with baud 115200...</message>
</record>
<record>
  <date>2016-11-11T02:35:57</date>
  <millis>1478802957192</millis>
  <sequence>3467</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:print(uart.setup(0, 115200, 8, 0, 1, 1 ))&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:35:57</date>
  <millis>1478802957457</millis>
  <sequence>3468</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success.</message>
</record>
<record>
  <date>2016-11-11T02:35:57</date>
  <millis>1478802957504</millis>
  <sequence>3469</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:35:57</date>
  <millis>1478802957506</millis>
  <sequence>3470</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>153</thread>
  <message>
Communication with MCU established.</message>
</record>
<record>
  <date>2016-11-11T02:36:18</date>
  <millis>1478802978928</millis>
  <sequence>3471</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to load file control.lua</message>
</record>
<record>
  <date>2016-11-11T02:36:18</date>
  <millis>1478802978957</millis>
  <sequence>3472</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Loading control.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T02:36:18</date>
  <millis>1478802978958</millis>
  <sequence>3473</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>File reload: Success.</message>
</record>
<record>
  <date>2016-11-11T02:36:19</date>
  <millis>1478802979918</millis>
  <sequence>3474</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>We save known file control.lua</message>
</record>
<record>
  <date>2016-11-11T02:36:19</date>
  <millis>1478802979919</millis>
  <sequence>3475</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to saving file control.lua ...</message>
</record>
<record>
  <date>2016-11-11T02:36:19</date>
  <millis>1478802979921</millis>
  <sequence>3476</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Save file control.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T02:36:19</date>
  <millis>1478802979931</millis>
  <sequence>3477</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP: Try to save file to ESP...</message>
</record>
<record>
  <date>2016-11-11T02:36:19</date>
  <millis>1478802979932</millis>
  <sequence>3478</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Try to save file to ESP in Turbo Mode...</message>
</record>
<record>
  <date>2016-11-11T02:36:19</date>
  <millis>1478802979937</millis>
  <sequence>3479</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>DataTurboSender: start "Smart Mode"</message>
</record>
<record>
  <date>2016-11-11T02:36:19</date>
  <millis>1478802979938</millis>
  <sequence>3480</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Starting...</message>
</record>
<record>
  <date>2016-11-11T02:36:20</date>
  <millis>1478802980052</millis>
  <sequence>3481</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local FILE="control.lua" file.remove(FILE) file.open(FILE,"w+") uart.setup(0,115200,8,0,1,0)</message>
</record>
<record>
  <date>2016-11-11T02:36:20</date>
  <millis>1478802980054</millis>
  <sequence>3482</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>154</thread>
  <message>recv:loc</message>
</record>
<record>
  <date>2016-11-11T02:36:20</date>
  <millis>1478802980057</millis>
  <sequence>3483</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>154</thread>
  <message>recv:al FILE="control.lua" file.remove</message>
</record>
<record>
  <date>2016-11-11T02:36:20</date>
  <millis>1478802980058</millis>
  <sequence>3484</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>154</thread>
  <message>recv:(FILE) file.open(F</message>
</record>
<record>
  <date>2016-11-11T02:36:20</date>
  <millis>1478802980059</millis>
  <sequence>3485</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>154</thread>
  <message>recv:ILE,"w+") uar</message>
</record>
<record>
  <date>2016-11-11T02:36:20</date>
  <millis>1478802980061</millis>
  <sequence>3486</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>154</thread>
  <message>recv:t.setup(0,115200,</message>
</record>
<record>
  <date>2016-11-11T02:36:20</date>
  <millis>1478802980062</millis>
  <sequence>3487</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>154</thread>
  <message>recv:8,0,1,0)&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:36:20</date>
  <millis>1478802980246</millis>
  <sequence>3488</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>154</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:36:20</date>
  <millis>1478802980262</millis>
  <sequence>3489</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_Receiver=function(rcvBuf) if string.match(rcvBuf,"^ESP_cmd_close")==nil then file.write(string.gsub(rcvBuf, '\r', '')) uart.write(0, "&gt; ") else uart.on("data") </message>
</record>
<record>
  <date>2016-11-11T02:36:20</date>
  <millis>1478802980288</millis>
  <sequence>3490</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>154</thread>
  <message>recv:&gt;&gt;</message>
</record>
<record>
  <date>2016-11-11T02:36:20</date>
  <millis>1478802980291</millis>
  <sequence>3491</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>154</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T02:36:20</date>
  <millis>1478802980319</millis>
  <sequence>3492</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:file.flush() file.close() FILE=nil rcvBuf=nil ESP_Receiver=nil uart.setup(0,115200,8,0,1,1) str="\r\n--Done--\r\n&gt; " print(str) str=nil collectgarbage() end end uart.on("data",'\r',ESP_Receiver,0)</message>
</record>
<record>
  <date>2016-11-11T02:36:20</date>
  <millis>1478802980357</millis>
  <sequence>3493</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>154</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:36:20</date>
  <millis>1478802980372</millis>
  <sequence>3494</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local M = {}

-- status pin = 0, alarm 1
-- relay pin = 6 and 7, alarm 2, 3

function M.status_LED(delay)
    gpio.mode(0, gpio.OUTPUT)
    status0 = 0
        
    tmr.alarm(1, delay, 1, function()
        if status0 == 0 then
            status0 = 1
  </message>
</record>
<record>
  <date>2016-11-11T02:36:20</date>
  <millis>1478802980400</millis>
  <sequence>3495</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>154</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:36:20</date>
  <millis>1478802980413</millis>
  <sequence>3496</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:          gpio.write(0, gpio.HIGH)
        else
            status0 = 0
            gpio.write(0, gpio.LOW)
        end 
    end)
      
end

-- One on/off relay
function M.relay_onoff()
    gpio.mode(6, gpio.OUTPUT)
    gpio.mode(7, gpio.OUTPUT)
    gpi</message>
</record>
<record>
  <date>2016-11-11T02:36:20</date>
  <millis>1478802980444</millis>
  <sequence>3497</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>154</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:36:20</date>
  <millis>1478802980458</millis>
  <sequence>3498</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:o.write(6, gpio.LOW)
    gpio.write(7, gpio.LOW)
        
    tmr.alarm(2, 1000, tmr.ALARM_SINGLE, function() gpio.write(6, gpio.HIGH) end)
    tmr.alarm(3, 1000, tmr.ALARM_SINGLE, function() gpio.write(7, gpio.HIGH) end)
    tmr.alarm(5, 2000, tmr.ALARM</message>
</record>
<record>
  <date>2016-11-11T02:36:20</date>
  <millis>1478802980489</millis>
  <sequence>3499</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>154</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:36:20</date>
  <millis>1478802980501</millis>
  <sequence>3500</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:_SINGLE, function() gpio.write(6, gpio.LOW) end)
    tmr.alarm(6, 2000, tmr.ALARM_SINGLE, function() gpio.write(7, gpio.LOW) end)
end


-- loop relay
function M.relay_6(delay, mode)
    gpio.mode(6, gpio.OUTPUT)
    status1 = 0
        
    tmr.alarm(2, </message>
</record>
<record>
  <date>2016-11-11T02:36:20</date>
  <millis>1478802980532</millis>
  <sequence>3501</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>154</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:36:20</date>
  <millis>1478802980545</millis>
  <sequence>3502</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:delay, mode, function()
        if status1 == 0 then
            status1 = 1
            gpio.write(6, gpio.HIGH)
        else
            status1 = 0
            gpio.write(6, gpio.LOW)
        end 
    end)
      
end


function M.relay_7(delay, mode)
</message>
</record>
<record>
  <date>2016-11-11T02:36:20</date>
  <millis>1478802980576</millis>
  <sequence>3503</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>154</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:36:20</date>
  <millis>1478802980593</millis>
  <sequence>3504</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:    gpio.mode(7, gpio.OUTPUT)
    status2 = 0
        
    tmr.alarm(3, delay, mode, function()
        if status2 == 0 then
            status2 = 1
            gpio.write(7, gpio.HIGH)
        else
            status2 = 0
            gpio.write(7, gpio.</message>
</record>
<record>
  <date>2016-11-11T02:36:20</date>
  <millis>1478802980625</millis>
  <sequence>3505</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>154</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:36:20</date>
  <millis>1478802980639</millis>
  <sequence>3506</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:LOW)
        end 
    end)
      
end
return M
</message>
</record>
<record>
  <date>2016-11-11T02:36:20</date>
  <millis>1478802980651</millis>
  <sequence>3507</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>154</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:36:20</date>
  <millis>1478802980670</millis>
  <sequence>3508</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_cmd_close</message>
</record>
<record>
  <date>2016-11-11T02:36:20</date>
  <millis>1478802980682</millis>
  <sequence>3509</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>154</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;-</message>
</record>
<record>
  <date>2016-11-11T02:36:20</date>
  <millis>1478802980683</millis>
  <sequence>3510</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>154</thread>
  <message>recv:-Done--&lt;CR&gt;&lt;LF&gt;&gt;</message>
</record>
<record>
  <date>2016-11-11T02:36:20</date>
  <millis>1478802980684</millis>
  <sequence>3511</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>154</thread>
  <message>recv: &lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:36:20</date>
  <millis>1478802980707</millis>
  <sequence>3512</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:36:20</date>
  <millis>1478802980708</millis>
  <sequence>3513</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>154</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T02:36:20</date>
  <millis>1478802980711</millis>
  <sequence>3514</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>154</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T02:36:20</date>
  <millis>1478802980773</millis>
  <sequence>3515</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>154</thread>
  <message>Operation done. Duration = 840 ms</message>
</record>
<record>
  <date>2016-11-11T02:36:21</date>
  <millis>1478802981247</millis>
  <sequence>3516</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:node.restart()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:36:21</date>
  <millis>1478802981248</millis>
  <sequence>3517</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with saved baud 115200...</message>
</record>
<record>
  <date>2016-11-11T02:36:21</date>
  <millis>1478802981310</millis>
  <sequence>3518</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success. Now we waiting for ESP reboot...</message>
</record>
<record>
  <date>2016-11-11T02:36:23</date>
  <millis>1478802983312</millis>
  <sequence>3519</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with baud 115200...</message>
</record>
<record>
  <date>2016-11-11T02:36:23</date>
  <millis>1478802983315</millis>
  <sequence>3520</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:print(uart.setup(0, 115200, 8, 0, 1, 1 ))&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:36:23</date>
  <millis>1478802983576</millis>
  <sequence>3521</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success.</message>
</record>
<record>
  <date>2016-11-11T02:36:23</date>
  <millis>1478802983608</millis>
  <sequence>3522</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:36:23</date>
  <millis>1478802983610</millis>
  <sequence>3523</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>155</thread>
  <message>
Communication with MCU established.</message>
</record>
<record>
  <date>2016-11-11T02:36:23</date>
  <millis>1478802983612</millis>
  <sequence>3524</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>155</thread>
  <message>sending:=node.heap()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:36:48</date>
  <millis>1478803008395</millis>
  <sequence>3525</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to load file control.lua</message>
</record>
<record>
  <date>2016-11-11T02:36:48</date>
  <millis>1478803008407</millis>
  <sequence>3526</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Loading control.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T02:36:48</date>
  <millis>1478803008408</millis>
  <sequence>3527</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>File reload: Success.</message>
</record>
<record>
  <date>2016-11-11T02:36:49</date>
  <millis>1478803009332</millis>
  <sequence>3528</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>We save known file control.lua</message>
</record>
<record>
  <date>2016-11-11T02:36:49</date>
  <millis>1478803009333</millis>
  <sequence>3529</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to saving file control.lua ...</message>
</record>
<record>
  <date>2016-11-11T02:36:49</date>
  <millis>1478803009335</millis>
  <sequence>3530</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Save file control.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T02:36:49</date>
  <millis>1478803009339</millis>
  <sequence>3531</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP: Try to save file to ESP...</message>
</record>
<record>
  <date>2016-11-11T02:36:49</date>
  <millis>1478803009340</millis>
  <sequence>3532</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Try to save file to ESP in Turbo Mode...</message>
</record>
<record>
  <date>2016-11-11T02:36:49</date>
  <millis>1478803009348</millis>
  <sequence>3533</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>DataTurboSender: start "Smart Mode"</message>
</record>
<record>
  <date>2016-11-11T02:36:49</date>
  <millis>1478803009348</millis>
  <sequence>3534</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Starting...</message>
</record>
<record>
  <date>2016-11-11T02:36:49</date>
  <millis>1478803009482</millis>
  <sequence>3535</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local FILE="control.lua" file.remove(FILE) file.open(FILE,"w+") uart.setup(0,115200,8,0,1,0)</message>
</record>
<record>
  <date>2016-11-11T02:36:49</date>
  <millis>1478803009484</millis>
  <sequence>3536</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>156</thread>
  <message>recv:lo</message>
</record>
<record>
  <date>2016-11-11T02:36:49</date>
  <millis>1478803009487</millis>
  <sequence>3537</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>156</thread>
  <message>recv:cal FILE="control.lua" file.remove(FIL</message>
</record>
<record>
  <date>2016-11-11T02:36:49</date>
  <millis>1478803009488</millis>
  <sequence>3538</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>156</thread>
  <message>recv:E) file.open(</message>
</record>
<record>
  <date>2016-11-11T02:36:49</date>
  <millis>1478803009489</millis>
  <sequence>3539</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>156</thread>
  <message>recv:FILE,"w+")</message>
</record>
<record>
  <date>2016-11-11T02:36:49</date>
  <millis>1478803009489</millis>
  <sequence>3540</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>156</thread>
  <message>recv: uart.s</message>
</record>
<record>
  <date>2016-11-11T02:36:49</date>
  <millis>1478803009491</millis>
  <sequence>3541</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>156</thread>
  <message>recv:etup(0,11520</message>
</record>
<record>
  <date>2016-11-11T02:36:49</date>
  <millis>1478803009492</millis>
  <sequence>3542</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>156</thread>
  <message>recv:0,8,0,1,0)&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:36:49</date>
  <millis>1478803009676</millis>
  <sequence>3543</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>156</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:36:49</date>
  <millis>1478803009699</millis>
  <sequence>3544</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_Receiver=function(rcvBuf) if string.match(rcvBuf,"^ESP_cmd_close")==nil then file.write(string.gsub(rcvBuf, '\r', '')) uart.write(0, "&gt; ") else uart.on("data") </message>
</record>
<record>
  <date>2016-11-11T02:36:49</date>
  <millis>1478803009729</millis>
  <sequence>3545</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>156</thread>
  <message>recv:&gt;</message>
</record>
<record>
  <date>2016-11-11T02:36:49</date>
  <millis>1478803009730</millis>
  <sequence>3546</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>156</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:36:49</date>
  <millis>1478803009749</millis>
  <sequence>3547</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:file.flush() file.close() FILE=nil rcvBuf=nil ESP_Receiver=nil uart.setup(0,115200,8,0,1,1) str="\r\n--Done--\r\n&gt; " print(str) str=nil collectgarbage() end end uart.on("data",'\r',ESP_Receiver,0)</message>
</record>
<record>
  <date>2016-11-11T02:36:49</date>
  <millis>1478803009790</millis>
  <sequence>3548</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>156</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:36:49</date>
  <millis>1478803009805</millis>
  <sequence>3549</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local M = {}

-- status pin = 0, alarm 1
-- relay pin = 6 and 7, alarm 2, 3

function M.status_LED(delay)
    gpio.mode(0, gpio.OUTPUT)
    status0 = 0
        
    tmr.alarm(1, delay, 1, function()
        if status0 == 0 then
            status0 = 1
  </message>
</record>
<record>
  <date>2016-11-11T02:36:49</date>
  <millis>1478803009834</millis>
  <sequence>3550</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>156</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:36:49</date>
  <millis>1478803009846</millis>
  <sequence>3551</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:          gpio.write(0, gpio.HIGH)
        else
            status0 = 0
            gpio.write(0, gpio.LOW)
        end 
    end)
      
end

-- One on/off relay
function M.relay_onoff()
    gpio.mode(6, gpio.OUTPUT)
    gpio.mode(7, gpio.OUTPUT)
    gpi</message>
</record>
<record>
  <date>2016-11-11T02:36:49</date>
  <millis>1478803009878</millis>
  <sequence>3552</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>156</thread>
  <message>recv:&gt;</message>
</record>
<record>
  <date>2016-11-11T02:36:49</date>
  <millis>1478803009880</millis>
  <sequence>3553</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>156</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T02:36:49</date>
  <millis>1478803009898</millis>
  <sequence>3554</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:o.write(6, gpio.LOW)
    gpio.write(7, gpio.LOW)
        
    tmr.alarm(2, 1000, tmr.ALARM_SINGLE, function() gpio.write(6, gpio.HIGH) end)
    tmr.alarm(3, 1000, tmr.ALARM_SINGLE, function() gpio.write(7, gpio.HIGH) end)
    tmr.alarm(5, 2000, tmr.ALARM</message>
</record>
<record>
  <date>2016-11-11T02:36:49</date>
  <millis>1478803009929</millis>
  <sequence>3555</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>156</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:36:49</date>
  <millis>1478803009942</millis>
  <sequence>3556</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:_SINGLE, function() gpio.write(6, gpio.LOW) end)
    tmr.alarm(6, 2000, tmr.ALARM_SINGLE, function() gpio.write(7, gpio.LOW) end)

    tmr.alarm(2, 3000, tmr.ALARM_SINGLE, function() gpio.write(6, gpio.HIGH) end)
    tmr.alarm(3, 3000, tmr.ALARM_SINGLE, </message>
</record>
<record>
  <date>2016-11-11T02:36:49</date>
  <millis>1478803009973</millis>
  <sequence>3557</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>156</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:36:49</date>
  <millis>1478803009986</millis>
  <sequence>3558</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:function() gpio.write(7, gpio.HIGH) end)
    tmr.alarm(5, 2000, tmr.ALARM_SINGLE, function() gpio.write(6, gpio.LOW) end)
    tmr.alarm(6, 2000, tmr.ALARM_SINGLE, function() gpio.write(7, gpio.LOW) end)
end


-- loop relay
function M.relay_6(delay, mode)</message>
</record>
<record>
  <date>2016-11-11T02:36:50</date>
  <millis>1478803010017</millis>
  <sequence>3559</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>156</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:36:50</date>
  <millis>1478803010030</millis>
  <sequence>3560</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:
    gpio.mode(6, gpio.OUTPUT)
    status1 = 0
        
    tmr.alarm(2, delay, mode, function()
        if status1 == 0 then
            status1 = 1
            gpio.write(6, gpio.HIGH)
        else
            status1 = 0
            gpio.write(6, gpio</message>
</record>
<record>
  <date>2016-11-11T02:36:50</date>
  <millis>1478803010060</millis>
  <sequence>3561</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>156</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:36:50</date>
  <millis>1478803010074</millis>
  <sequence>3562</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:.LOW)
        end 
    end)
      
end


function M.relay_7(delay, mode)
    gpio.mode(7, gpio.OUTPUT)
    status2 = 0
        
    tmr.alarm(3, delay, mode, function()
        if status2 == 0 then
            status2 = 1
            gpio.write(7, gpio.H</message>
</record>
<record>
  <date>2016-11-11T02:36:50</date>
  <millis>1478803010105</millis>
  <sequence>3563</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>156</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:36:50</date>
  <millis>1478803010117</millis>
  <sequence>3564</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:IGH)
        else
            status2 = 0
            gpio.write(7, gpio.LOW)
        end 
    end)
      
end
return M
</message>
</record>
<record>
  <date>2016-11-11T02:36:50</date>
  <millis>1478803010135</millis>
  <sequence>3565</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>156</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:36:50</date>
  <millis>1478803010152</millis>
  <sequence>3566</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_cmd_close</message>
</record>
<record>
  <date>2016-11-11T02:36:50</date>
  <millis>1478803010165</millis>
  <sequence>3567</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>156</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;--</message>
</record>
<record>
  <date>2016-11-11T02:36:50</date>
  <millis>1478803010167</millis>
  <sequence>3568</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>156</thread>
  <message>recv:Done--&lt;CR&gt;&lt;LF&gt;&gt; &lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:36:50</date>
  <millis>1478803010190</millis>
  <sequence>3569</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:36:50</date>
  <millis>1478803010191</millis>
  <sequence>3570</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>156</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;&gt;</message>
</record>
<record>
  <date>2016-11-11T02:36:50</date>
  <millis>1478803010192</millis>
  <sequence>3571</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>156</thread>
  <message>recv: &lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T02:36:50</date>
  <millis>1478803010226</millis>
  <sequence>3572</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:dofile("control.lua")</message>
</record>
<record>
  <date>2016-11-11T02:36:50</date>
  <millis>1478803010228</millis>
  <sequence>3573</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>156</thread>
  <message>recv:do</message>
</record>
<record>
  <date>2016-11-11T02:36:50</date>
  <millis>1478803010229</millis>
  <sequence>3574</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>156</thread>
  <message>recv:file("control.lua</message>
</record>
<record>
  <date>2016-11-11T02:36:50</date>
  <millis>1478803010230</millis>
  <sequence>3575</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>156</thread>
  <message>recv:")&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:36:50</date>
  <millis>1478803010304</millis>
  <sequence>3576</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>156</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:36:50</date>
  <millis>1478803010373</millis>
  <sequence>3577</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>156</thread>
  <message>Operation done. Duration = 1032 ms</message>
</record>
<record>
  <date>2016-11-11T02:36:51</date>
  <millis>1478803011262</millis>
  <sequence>3578</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:node.restart()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:36:51</date>
  <millis>1478803011263</millis>
  <sequence>3579</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with saved baud 115200...</message>
</record>
<record>
  <date>2016-11-11T02:36:51</date>
  <millis>1478803011327</millis>
  <sequence>3580</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success. Now we waiting for ESP reboot...</message>
</record>
<record>
  <date>2016-11-11T02:36:53</date>
  <millis>1478803013328</millis>
  <sequence>3581</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with baud 115200...</message>
</record>
<record>
  <date>2016-11-11T02:36:53</date>
  <millis>1478803013329</millis>
  <sequence>3582</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:print(uart.setup(0, 115200, 8, 0, 1, 1 ))&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:36:53</date>
  <millis>1478803013590</millis>
  <sequence>3583</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success.</message>
</record>
<record>
  <date>2016-11-11T02:36:53</date>
  <millis>1478803013629</millis>
  <sequence>3584</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:36:53</date>
  <millis>1478803013631</millis>
  <sequence>3585</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>157</thread>
  <message>
Communication with MCU established.</message>
</record>
<record>
  <date>2016-11-11T02:37:02</date>
  <millis>1478803022314</millis>
  <sequence>3586</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:node.restart()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:37:02</date>
  <millis>1478803022318</millis>
  <sequence>3587</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with saved baud 115200...</message>
</record>
<record>
  <date>2016-11-11T02:37:02</date>
  <millis>1478803022381</millis>
  <sequence>3588</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success. Now we waiting for ESP reboot...</message>
</record>
<record>
  <date>2016-11-11T02:37:04</date>
  <millis>1478803024382</millis>
  <sequence>3589</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with baud 115200...</message>
</record>
<record>
  <date>2016-11-11T02:37:04</date>
  <millis>1478803024383</millis>
  <sequence>3590</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:print(uart.setup(0, 115200, 8, 0, 1, 1 ))&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:37:04</date>
  <millis>1478803024648</millis>
  <sequence>3591</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success.</message>
</record>
<record>
  <date>2016-11-11T02:37:04</date>
  <millis>1478803024681</millis>
  <sequence>3592</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:37:04</date>
  <millis>1478803024683</millis>
  <sequence>3593</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>157</thread>
  <message>
Communication with MCU established.</message>
</record>
<record>
  <date>2016-11-11T02:37:19</date>
  <millis>1478803039278</millis>
  <sequence>3594</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:node.restart()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:37:19</date>
  <millis>1478803039279</millis>
  <sequence>3595</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with saved baud 115200...</message>
</record>
<record>
  <date>2016-11-11T02:37:19</date>
  <millis>1478803039340</millis>
  <sequence>3596</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success. Now we waiting for ESP reboot...</message>
</record>
<record>
  <date>2016-11-11T02:37:21</date>
  <millis>1478803041141</millis>
  <sequence>3597</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to load file control.lua</message>
</record>
<record>
  <date>2016-11-11T02:37:21</date>
  <millis>1478803041167</millis>
  <sequence>3598</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Loading control.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T02:37:21</date>
  <millis>1478803041168</millis>
  <sequence>3599</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>File reload: Success.</message>
</record>
<record>
  <date>2016-11-11T02:37:21</date>
  <millis>1478803041343</millis>
  <sequence>3600</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with baud 115200...</message>
</record>
<record>
  <date>2016-11-11T02:37:21</date>
  <millis>1478803041344</millis>
  <sequence>3601</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:print(uart.setup(0, 115200, 8, 0, 1, 1 ))&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:37:21</date>
  <millis>1478803041607</millis>
  <sequence>3602</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success.</message>
</record>
<record>
  <date>2016-11-11T02:37:21</date>
  <millis>1478803041656</millis>
  <sequence>3603</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:37:21</date>
  <millis>1478803041658</millis>
  <sequence>3604</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>157</thread>
  <message>
Communication with MCU established.</message>
</record>
<record>
  <date>2016-11-11T02:37:22</date>
  <millis>1478803042780</millis>
  <sequence>3605</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>We save known file control.lua</message>
</record>
<record>
  <date>2016-11-11T02:37:22</date>
  <millis>1478803042781</millis>
  <sequence>3606</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to saving file control.lua ...</message>
</record>
<record>
  <date>2016-11-11T02:37:22</date>
  <millis>1478803042783</millis>
  <sequence>3607</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Save file control.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T02:37:22</date>
  <millis>1478803042787</millis>
  <sequence>3608</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP: Try to save file to ESP...</message>
</record>
<record>
  <date>2016-11-11T02:37:22</date>
  <millis>1478803042788</millis>
  <sequence>3609</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Try to save file to ESP in Turbo Mode...</message>
</record>
<record>
  <date>2016-11-11T02:37:22</date>
  <millis>1478803042795</millis>
  <sequence>3610</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>DataTurboSender: start "Smart Mode"</message>
</record>
<record>
  <date>2016-11-11T02:37:22</date>
  <millis>1478803042796</millis>
  <sequence>3611</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Starting...</message>
</record>
<record>
  <date>2016-11-11T02:37:22</date>
  <millis>1478803042927</millis>
  <sequence>3612</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local FILE="control.lua" file.remove(FILE) file.open(FILE,"w+") uart.setup(0,115200,8,0,1,0)</message>
</record>
<record>
  <date>2016-11-11T02:37:22</date>
  <millis>1478803042929</millis>
  <sequence>3613</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>158</thread>
  <message>recv:lo</message>
</record>
<record>
  <date>2016-11-11T02:37:22</date>
  <millis>1478803042932</millis>
  <sequence>3614</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>158</thread>
  <message>recv:cal FILE="control.lua" file.rem</message>
</record>
<record>
  <date>2016-11-11T02:37:22</date>
  <millis>1478803042934</millis>
  <sequence>3615</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>158</thread>
  <message>recv:ove(FILE) file.open(FILE,"w</message>
</record>
<record>
  <date>2016-11-11T02:37:22</date>
  <millis>1478803042936</millis>
  <sequence>3616</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>158</thread>
  <message>recv:+") uart.setup(0,115200,8</message>
</record>
<record>
  <date>2016-11-11T02:37:22</date>
  <millis>1478803042938</millis>
  <sequence>3617</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>158</thread>
  <message>recv:,0,1,0)&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:37:23</date>
  <millis>1478803043119</millis>
  <sequence>3618</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>158</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:37:23</date>
  <millis>1478803043136</millis>
  <sequence>3619</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_Receiver=function(rcvBuf) if string.match(rcvBuf,"^ESP_cmd_close")==nil then file.write(string.gsub(rcvBuf, '\r', '')) uart.write(0, "&gt; ") else uart.on("data") </message>
</record>
<record>
  <date>2016-11-11T02:37:23</date>
  <millis>1478803043162</millis>
  <sequence>3620</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>158</thread>
  <message>recv:&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T02:37:23</date>
  <millis>1478803043183</millis>
  <sequence>3621</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:file.flush() file.close() FILE=nil rcvBuf=nil ESP_Receiver=nil uart.setup(0,115200,8,0,1,1) str="\r\n--Done--\r\n&gt; " print(str) str=nil collectgarbage() end end uart.on("data",'\r',ESP_Receiver,0)</message>
</record>
<record>
  <date>2016-11-11T02:37:23</date>
  <millis>1478803043221</millis>
  <sequence>3622</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>158</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:37:23</date>
  <millis>1478803043238</millis>
  <sequence>3623</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local M = {}

-- status pin = 0, alarm 1
-- relay pin = 6 and 7, alarm 2, 3

function M.status_LED(delay)
    gpio.mode(0, gpio.OUTPUT)
    status0 = 0
        
    tmr.alarm(1, delay, 1, function()
        if status0 == 0 then
            status0 = 1
  </message>
</record>
<record>
  <date>2016-11-11T02:37:23</date>
  <millis>1478803043268</millis>
  <sequence>3624</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>158</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:37:23</date>
  <millis>1478803043284</millis>
  <sequence>3625</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:          gpio.write(0, gpio.HIGH)
        else
            status0 = 0
            gpio.write(0, gpio.LOW)
        end 
    end)
      
end

-- One on/off relay
function M.relay_onoff()
    gpio.mode(6, gpio.OUTPUT)
    gpio.mode(7, gpio.OUTPUT)
    gpi</message>
</record>
<record>
  <date>2016-11-11T02:37:23</date>
  <millis>1478803043315</millis>
  <sequence>3626</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>158</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:37:23</date>
  <millis>1478803043328</millis>
  <sequence>3627</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:o.write(6, gpio.LOW)
    gpio.write(7, gpio.LOW)
        
    tmr.alarm(2, 1000, tmr.ALARM_SINGLE, function() gpio.write(6, gpio.HIGH) end)
    tmr.alarm(3, 1000, tmr.ALARM_SINGLE, function() gpio.write(7, gpio.HIGH) end)
    tmr.alarm(5, 2000, tmr.ALARM</message>
</record>
<record>
  <date>2016-11-11T02:37:23</date>
  <millis>1478803043359</millis>
  <sequence>3628</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>158</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:37:23</date>
  <millis>1478803043375</millis>
  <sequence>3629</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:_SINGLE, function() gpio.write(6, gpio.LOW) end)
    tmr.alarm(6, 2000, tmr.ALARM_SINGLE, function() gpio.write(7, gpio.LOW) end)

    tmr.alarm(2, 3000, tmr.ALARM_SINGLE, function() gpio.write(6, gpio.HIGH) end)
    tmr.alarm(3, 3000, tmr.ALARM_SINGLE, </message>
</record>
<record>
  <date>2016-11-11T02:37:23</date>
  <millis>1478803043406</millis>
  <sequence>3630</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>158</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:37:23</date>
  <millis>1478803043423</millis>
  <sequence>3631</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:function() gpio.write(7, gpio.HIGH) end)
    tmr.alarm(5, 4000, tmr.ALARM_SINGLE, function() gpio.write(6, gpio.LOW) end)
    tmr.alarm(6, 4000, tmr.ALARM_SINGLE, function() gpio.write(7, gpio.LOW) end)
end


-- loop relay
function M.relay_6(delay, mode)</message>
</record>
<record>
  <date>2016-11-11T02:37:23</date>
  <millis>1478803043454</millis>
  <sequence>3632</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>158</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:37:23</date>
  <millis>1478803043467</millis>
  <sequence>3633</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:
    gpio.mode(6, gpio.OUTPUT)
    status1 = 0
        
    tmr.alarm(2, delay, mode, function()
        if status1 == 0 then
            status1 = 1
            gpio.write(6, gpio.HIGH)
        else
            status1 = 0
            gpio.write(6, gpio</message>
</record>
<record>
  <date>2016-11-11T02:37:23</date>
  <millis>1478803043498</millis>
  <sequence>3634</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>158</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:37:23</date>
  <millis>1478803043512</millis>
  <sequence>3635</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:.LOW)
        end 
    end)
      
end


function M.relay_7(delay, mode)
    gpio.mode(7, gpio.OUTPUT)
    status2 = 0
        
    tmr.alarm(3, delay, mode, function()
        if status2 == 0 then
            status2 = 1
            gpio.write(7, gpio.H</message>
</record>
<record>
  <date>2016-11-11T02:37:23</date>
  <millis>1478803043541</millis>
  <sequence>3636</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>158</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:37:23</date>
  <millis>1478803043556</millis>
  <sequence>3637</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:IGH)
        else
            status2 = 0
            gpio.write(7, gpio.LOW)
        end 
    end)
      
end
return M
</message>
</record>
<record>
  <date>2016-11-11T02:37:23</date>
  <millis>1478803043574</millis>
  <sequence>3638</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>158</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:37:23</date>
  <millis>1478803043592</millis>
  <sequence>3639</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_cmd_close</message>
</record>
<record>
  <date>2016-11-11T02:37:23</date>
  <millis>1478803043604</millis>
  <sequence>3640</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>158</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;--Don</message>
</record>
<record>
  <date>2016-11-11T02:37:23</date>
  <millis>1478803043606</millis>
  <sequence>3641</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>158</thread>
  <message>recv:e--&lt;CR&gt;&lt;LF&gt;&gt; &lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:37:23</date>
  <millis>1478803043628</millis>
  <sequence>3642</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:37:23</date>
  <millis>1478803043630</millis>
  <sequence>3643</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>158</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:37:23</date>
  <millis>1478803043631</millis>
  <sequence>3644</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>158</thread>
  <message>recv:&gt; &lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T02:37:23</date>
  <millis>1478803043663</millis>
  <sequence>3645</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:dofile("control.lua")</message>
</record>
<record>
  <date>2016-11-11T02:37:23</date>
  <millis>1478803043664</millis>
  <sequence>3646</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>158</thread>
  <message>recv:do</message>
</record>
<record>
  <date>2016-11-11T02:37:23</date>
  <millis>1478803043665</millis>
  <sequence>3647</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>158</thread>
  <message>recv:file("control</message>
</record>
<record>
  <date>2016-11-11T02:37:23</date>
  <millis>1478803043666</millis>
  <sequence>3648</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>158</thread>
  <message>recv:.lua")&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:37:23</date>
  <millis>1478803043739</millis>
  <sequence>3649</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>158</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:37:23</date>
  <millis>1478803043782</millis>
  <sequence>3650</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>158</thread>
  <message>Operation done. Duration = 993 ms</message>
</record>
<record>
  <date>2016-11-11T02:37:24</date>
  <millis>1478803044767</millis>
  <sequence>3651</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:node.restart()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:37:24</date>
  <millis>1478803044769</millis>
  <sequence>3652</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with saved baud 115200...</message>
</record>
<record>
  <date>2016-11-11T02:37:24</date>
  <millis>1478803044831</millis>
  <sequence>3653</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success. Now we waiting for ESP reboot...</message>
</record>
<record>
  <date>2016-11-11T02:37:26</date>
  <millis>1478803046833</millis>
  <sequence>3654</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with baud 115200...</message>
</record>
<record>
  <date>2016-11-11T02:37:26</date>
  <millis>1478803046834</millis>
  <sequence>3655</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:print(uart.setup(0, 115200, 8, 0, 1, 1 ))&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:37:27</date>
  <millis>1478803047097</millis>
  <sequence>3656</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success.</message>
</record>
<record>
  <date>2016-11-11T02:37:27</date>
  <millis>1478803047145</millis>
  <sequence>3657</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:37:27</date>
  <millis>1478803047147</millis>
  <sequence>3658</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>159</thread>
  <message>
Communication with MCU established.</message>
</record>
<record>
  <date>2016-11-11T02:37:40</date>
  <millis>1478803060654</millis>
  <sequence>3659</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:node.restart()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:37:40</date>
  <millis>1478803060656</millis>
  <sequence>3660</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with saved baud 115200...</message>
</record>
<record>
  <date>2016-11-11T02:37:40</date>
  <millis>1478803060718</millis>
  <sequence>3661</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success. Now we waiting for ESP reboot...</message>
</record>
<record>
  <date>2016-11-11T02:37:42</date>
  <millis>1478803062719</millis>
  <sequence>3662</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with baud 115200...</message>
</record>
<record>
  <date>2016-11-11T02:37:42</date>
  <millis>1478803062721</millis>
  <sequence>3663</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:print(uart.setup(0, 115200, 8, 0, 1, 1 ))&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:37:42</date>
  <millis>1478803062983</millis>
  <sequence>3664</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success.</message>
</record>
<record>
  <date>2016-11-11T02:37:43</date>
  <millis>1478803063022</millis>
  <sequence>3665</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:37:43</date>
  <millis>1478803063025</millis>
  <sequence>3666</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>159</thread>
  <message>
Communication with MCU established.</message>
</record>
<record>
  <date>2016-11-11T02:43:15</date>
  <millis>1478803395731</millis>
  <sequence>3667</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to load file control.lua</message>
</record>
<record>
  <date>2016-11-11T02:43:15</date>
  <millis>1478803395765</millis>
  <sequence>3668</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Loading control.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T02:43:15</date>
  <millis>1478803395765</millis>
  <sequence>3669</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>File reload: Success.</message>
</record>
<record>
  <date>2016-11-11T02:43:16</date>
  <millis>1478803396550</millis>
  <sequence>3670</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>We save known file control.lua</message>
</record>
<record>
  <date>2016-11-11T02:43:16</date>
  <millis>1478803396551</millis>
  <sequence>3671</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to saving file control.lua ...</message>
</record>
<record>
  <date>2016-11-11T02:43:16</date>
  <millis>1478803396553</millis>
  <sequence>3672</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Save file control.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T02:43:16</date>
  <millis>1478803396565</millis>
  <sequence>3673</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP: Try to save file to ESP...</message>
</record>
<record>
  <date>2016-11-11T02:43:16</date>
  <millis>1478803396566</millis>
  <sequence>3674</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Try to save file to ESP in Turbo Mode...</message>
</record>
<record>
  <date>2016-11-11T02:43:16</date>
  <millis>1478803396576</millis>
  <sequence>3675</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>DataTurboSender: start "Smart Mode"</message>
</record>
<record>
  <date>2016-11-11T02:43:16</date>
  <millis>1478803396576</millis>
  <sequence>3676</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Starting...</message>
</record>
<record>
  <date>2016-11-11T02:43:16</date>
  <millis>1478803396722</millis>
  <sequence>3677</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local FILE="control.lua" file.remove(FILE) file.open(FILE,"w+") uart.setup(0,115200,8,0,1,0)</message>
</record>
<record>
  <date>2016-11-11T02:43:16</date>
  <millis>1478803396724</millis>
  <sequence>3678</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>160</thread>
  <message>recv:loc</message>
</record>
<record>
  <date>2016-11-11T02:43:16</date>
  <millis>1478803396726</millis>
  <sequence>3679</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>160</thread>
  <message>recv:al FILE="control.lua" fi</message>
</record>
<record>
  <date>2016-11-11T02:43:16</date>
  <millis>1478803396727</millis>
  <sequence>3680</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>160</thread>
  <message>recv:le.remove(FILE) </message>
</record>
<record>
  <date>2016-11-11T02:43:16</date>
  <millis>1478803396729</millis>
  <sequence>3681</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>160</thread>
  <message>recv:file.open(FILE,"</message>
</record>
<record>
  <date>2016-11-11T02:43:16</date>
  <millis>1478803396731</millis>
  <sequence>3682</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>160</thread>
  <message>recv:w+") uart.setup(0,115200,8,0,1</message>
</record>
<record>
  <date>2016-11-11T02:43:16</date>
  <millis>1478803396734</millis>
  <sequence>3683</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>160</thread>
  <message>recv:,0)&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:43:16</date>
  <millis>1478803396919</millis>
  <sequence>3684</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>160</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:43:16</date>
  <millis>1478803396933</millis>
  <sequence>3685</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_Receiver=function(rcvBuf) if string.match(rcvBuf,"^ESP_cmd_close")==nil then file.write(string.gsub(rcvBuf, '\r', '')) uart.write(0, "&gt; ") else uart.on("data") </message>
</record>
<record>
  <date>2016-11-11T02:43:16</date>
  <millis>1478803396960</millis>
  <sequence>3686</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>160</thread>
  <message>recv:&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T02:43:16</date>
  <millis>1478803396976</millis>
  <sequence>3687</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:file.flush() file.close() FILE=nil rcvBuf=nil ESP_Receiver=nil uart.setup(0,115200,8,0,1,1) str="\r\n--Done--\r\n&gt; " print(str) str=nil collectgarbage() end end uart.on("data",'\r',ESP_Receiver,0)</message>
</record>
<record>
  <date>2016-11-11T02:43:17</date>
  <millis>1478803397015</millis>
  <sequence>3688</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>160</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:43:17</date>
  <millis>1478803397032</millis>
  <sequence>3689</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local M = {}

-- status pin = 0, alarm 1
-- relay pin = 6 and 7, alarm 2, 3

function M.status_LED(delay)
    gpio.mode(0, gpio.OUTPUT)
    status0 = 0
        
    tmr.alarm(1, delay, 1, function()
        if status0 == 0 then
            status0 = 1
  </message>
</record>
<record>
  <date>2016-11-11T02:43:17</date>
  <millis>1478803397062</millis>
  <sequence>3690</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>160</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:43:17</date>
  <millis>1478803397076</millis>
  <sequence>3691</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:          gpio.write(0, gpio.HIGH)
        else
            status0 = 0
            gpio.write(0, gpio.LOW)
        end 
    end)
      
end

-- One on/off relay
function M.relay_onoff()
    gpio.mode(6, gpio.OUTPUT)
    gpio.mode(7, gpio.OUTPUT)
tmr.ala</message>
</record>
<record>
  <date>2016-11-11T02:43:17</date>
  <millis>1478803397107</millis>
  <sequence>3692</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>160</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:43:17</date>
  <millis>1478803397124</millis>
  <sequence>3693</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:rm(4,2000, tmr.ALARM_AUTO, function()
    if gpio.read(6) == 1 then
    gpio.write(6, gpio.LOW)
    gpio.write(7, gpio.LOW)
    else        
    tmr.alarm(2, 1000, tmr.ALARM_SINGLE, function() gpio.write(6, gpio.HIGH) end)
    tmr.alarm(3, 1000, tmr.ALAR</message>
</record>
<record>
  <date>2016-11-11T02:43:17</date>
  <millis>1478803397156</millis>
  <sequence>3694</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>160</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:43:17</date>
  <millis>1478803397173</millis>
  <sequence>3695</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:M_SINGLE, function() gpio.write(7, gpio.HIGH) end)
    end

end)

end

-- loop relay
function M.relay_6(delay, mode)
    gpio.mode(6, gpio.OUTPUT)
    status1 = 0
        
    tmr.alarm(2, delay, mode, function()
        if status1 == 0 then
            </message>
</record>
<record>
  <date>2016-11-11T02:43:17</date>
  <millis>1478803397205</millis>
  <sequence>3696</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>160</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:43:17</date>
  <millis>1478803397217</millis>
  <sequence>3697</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:status1 = 1
            gpio.write(6, gpio.HIGH)
        else
            status1 = 0
            gpio.write(6, gpio.LOW)
        end 
    end)
      
end


function M.relay_7(delay, mode)
    gpio.mode(7, gpio.OUTPUT)
    status2 = 0
        
    tmr.al</message>
</record>
<record>
  <date>2016-11-11T02:43:17</date>
  <millis>1478803397249</millis>
  <sequence>3698</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>160</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:43:17</date>
  <millis>1478803397262</millis>
  <sequence>3699</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:arm(3, delay, mode, function()
        if status2 == 0 then
            status2 = 1
            gpio.write(7, gpio.HIGH)
        else
            status2 = 0
            gpio.write(7, gpio.LOW)
        end 
    end)
      
end
return M
</message>
</record>
<record>
  <date>2016-11-11T02:43:17</date>
  <millis>1478803397292</millis>
  <sequence>3700</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>160</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:43:17</date>
  <millis>1478803397305</millis>
  <sequence>3701</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_cmd_close</message>
</record>
<record>
  <date>2016-11-11T02:43:17</date>
  <millis>1478803397319</millis>
  <sequence>3702</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>160</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;-</message>
</record>
<record>
  <date>2016-11-11T02:43:17</date>
  <millis>1478803397320</millis>
  <sequence>3703</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>160</thread>
  <message>recv:-Done--&lt;CR&gt;&lt;LF&gt;&gt;</message>
</record>
<record>
  <date>2016-11-11T02:43:17</date>
  <millis>1478803397321</millis>
  <sequence>3704</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>160</thread>
  <message>recv: &lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:43:17</date>
  <millis>1478803397360</millis>
  <sequence>3705</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:43:17</date>
  <millis>1478803397362</millis>
  <sequence>3706</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>160</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;&gt;</message>
</record>
<record>
  <date>2016-11-11T02:43:17</date>
  <millis>1478803397364</millis>
  <sequence>3707</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>160</thread>
  <message>recv: &lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T02:43:17</date>
  <millis>1478803397399</millis>
  <sequence>3708</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:dofile("control.lua")</message>
</record>
<record>
  <date>2016-11-11T02:43:17</date>
  <millis>1478803397401</millis>
  <sequence>3709</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>160</thread>
  <message>recv:d</message>
</record>
<record>
  <date>2016-11-11T02:43:17</date>
  <millis>1478803397402</millis>
  <sequence>3710</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>160</thread>
  <message>recv:ofile("control.</message>
</record>
<record>
  <date>2016-11-11T02:43:17</date>
  <millis>1478803397403</millis>
  <sequence>3711</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>160</thread>
  <message>recv:lua")&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:43:17</date>
  <millis>1478803397466</millis>
  <sequence>3712</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>160</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:43:17</date>
  <millis>1478803397534</millis>
  <sequence>3713</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>160</thread>
  <message>Operation done. Duration = 967 ms</message>
</record>
<record>
  <date>2016-11-11T02:43:18</date>
  <millis>1478803398674</millis>
  <sequence>3714</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:node.restart()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:43:18</date>
  <millis>1478803398675</millis>
  <sequence>3715</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with saved baud 115200...</message>
</record>
<record>
  <date>2016-11-11T02:43:18</date>
  <millis>1478803398739</millis>
  <sequence>3716</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success. Now we waiting for ESP reboot...</message>
</record>
<record>
  <date>2016-11-11T02:43:20</date>
  <millis>1478803400742</millis>
  <sequence>3717</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with baud 115200...</message>
</record>
<record>
  <date>2016-11-11T02:43:20</date>
  <millis>1478803400745</millis>
  <sequence>3718</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:print(uart.setup(0, 115200, 8, 0, 1, 1 ))&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:43:21</date>
  <millis>1478803401010</millis>
  <sequence>3719</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success.</message>
</record>
<record>
  <date>2016-11-11T02:43:21</date>
  <millis>1478803401062</millis>
  <sequence>3720</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:43:21</date>
  <millis>1478803401066</millis>
  <sequence>3721</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>161</thread>
  <message>
Communication with MCU established.</message>
</record>
<record>
  <date>2016-11-11T02:43:21</date>
  <millis>1478803401069</millis>
  <sequence>3722</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>161</thread>
  <message>sending:=node.heap()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:44:06</date>
  <millis>1478803446210</millis>
  <sequence>3723</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to load file control.lua</message>
</record>
<record>
  <date>2016-11-11T02:44:06</date>
  <millis>1478803446238</millis>
  <sequence>3724</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Loading control.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T02:44:06</date>
  <millis>1478803446239</millis>
  <sequence>3725</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>File reload: Success.</message>
</record>
<record>
  <date>2016-11-11T02:44:07</date>
  <millis>1478803447208</millis>
  <sequence>3726</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>We save known file control.lua</message>
</record>
<record>
  <date>2016-11-11T02:44:07</date>
  <millis>1478803447209</millis>
  <sequence>3727</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to saving file control.lua ...</message>
</record>
<record>
  <date>2016-11-11T02:44:07</date>
  <millis>1478803447211</millis>
  <sequence>3728</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Save file control.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T02:44:07</date>
  <millis>1478803447222</millis>
  <sequence>3729</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP: Try to save file to ESP...</message>
</record>
<record>
  <date>2016-11-11T02:44:07</date>
  <millis>1478803447222</millis>
  <sequence>3730</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Try to save file to ESP in Turbo Mode...</message>
</record>
<record>
  <date>2016-11-11T02:44:07</date>
  <millis>1478803447229</millis>
  <sequence>3731</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>DataTurboSender: start "Smart Mode"</message>
</record>
<record>
  <date>2016-11-11T02:44:07</date>
  <millis>1478803447233</millis>
  <sequence>3732</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Starting...</message>
</record>
<record>
  <date>2016-11-11T02:44:07</date>
  <millis>1478803447343</millis>
  <sequence>3733</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local FILE="control.lua" file.remove(FILE) file.open(FILE,"w+") uart.setup(0,115200,8,0,1,0)</message>
</record>
<record>
  <date>2016-11-11T02:44:07</date>
  <millis>1478803447344</millis>
  <sequence>3734</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>162</thread>
  <message>recv:lo</message>
</record>
<record>
  <date>2016-11-11T02:44:07</date>
  <millis>1478803447346</millis>
  <sequence>3735</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>162</thread>
  <message>recv:cal FILE="control.lua" fil</message>
</record>
<record>
  <date>2016-11-11T02:44:07</date>
  <millis>1478803447348</millis>
  <sequence>3736</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>162</thread>
  <message>recv:e.remove(FILE)</message>
</record>
<record>
  <date>2016-11-11T02:44:07</date>
  <millis>1478803447350</millis>
  <sequence>3737</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>162</thread>
  <message>recv: file.open(FILE,"w+") ua</message>
</record>
<record>
  <date>2016-11-11T02:44:07</date>
  <millis>1478803447351</millis>
  <sequence>3738</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>162</thread>
  <message>recv:rt.setup(0,115200,8,</message>
</record>
<record>
  <date>2016-11-11T02:44:07</date>
  <millis>1478803447354</millis>
  <sequence>3739</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>162</thread>
  <message>recv:0,1,0)&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:44:07</date>
  <millis>1478803447538</millis>
  <sequence>3740</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>162</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:44:07</date>
  <millis>1478803447552</millis>
  <sequence>3741</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_Receiver=function(rcvBuf) if string.match(rcvBuf,"^ESP_cmd_close")==nil then file.write(string.gsub(rcvBuf, '\r', '')) uart.write(0, "&gt; ") else uart.on("data") </message>
</record>
<record>
  <date>2016-11-11T02:44:07</date>
  <millis>1478803447582</millis>
  <sequence>3742</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>162</thread>
  <message>recv:&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T02:44:07</date>
  <millis>1478803447602</millis>
  <sequence>3743</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:file.flush() file.close() FILE=nil rcvBuf=nil ESP_Receiver=nil uart.setup(0,115200,8,0,1,1) str="\r\n--Done--\r\n&gt; " print(str) str=nil collectgarbage() end end uart.on("data",'\r',ESP_Receiver,0)</message>
</record>
<record>
  <date>2016-11-11T02:44:07</date>
  <millis>1478803447643</millis>
  <sequence>3744</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>162</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:44:07</date>
  <millis>1478803447657</millis>
  <sequence>3745</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local M = {}

-- status pin = 0, alarm 1
-- relay pin = 6 and 7, alarm 2, 3

function M.status_LED(delay)
    gpio.mode(0, gpio.OUTPUT)
    status0 = 0
        
    tmr.alarm(1, delay, 1, function()
        if status0 == 0 then
            status0 = 1
  </message>
</record>
<record>
  <date>2016-11-11T02:44:07</date>
  <millis>1478803447687</millis>
  <sequence>3746</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>162</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:44:07</date>
  <millis>1478803447705</millis>
  <sequence>3747</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:          gpio.write(0, gpio.HIGH)
        else
            status0 = 0
            gpio.write(0, gpio.LOW)
        end 
    end)
      
end

-- One on/off relay
function M.relay_onoff()
    gpio.mode(6, gpio.OUTPUT)
    gpio.mode(7, gpio.OUTPUT)
    tmr</message>
</record>
<record>
  <date>2016-11-11T02:44:07</date>
  <millis>1478803447736</millis>
  <sequence>3748</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>162</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:44:07</date>
  <millis>1478803447751</millis>
  <sequence>3749</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:.alarm(4, 2000, tmr.ALARM_AUTO, function()
        if gpio.read(6) == 0 then
        gpio.write(6, gpio.HIGH)
        gpio.write(7, gpio.HIGH)
        else        
        tmr.alarm(2, 1000, tmr.ALARM_SINGLE, function() gpio.write(6, gpio.LOW) end)
     </message>
</record>
<record>
  <date>2016-11-11T02:44:07</date>
  <millis>1478803447783</millis>
  <sequence>3750</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>162</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:44:07</date>
  <millis>1478803447798</millis>
  <sequence>3751</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:   tmr.alarm(3, 1000, tmr.ALARM_SINGLE, function() gpio.write(7, gpio.LOW) end)
        end

end)

end

-- loop relay
function M.relay_6(delay, mode)
    gpio.mode(6, gpio.OUTPUT)
    status1 = 0
        
    tmr.alarm(2, delay, mode, function()
        </message>
</record>
<record>
  <date>2016-11-11T02:44:07</date>
  <millis>1478803447828</millis>
  <sequence>3752</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>162</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:44:07</date>
  <millis>1478803447841</millis>
  <sequence>3753</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:if status1 == 0 then
            status1 = 1
            gpio.write(6, gpio.HIGH)
        else
            status1 = 0
            gpio.write(6, gpio.LOW)
        end 
    end)
      
end


function M.relay_7(delay, mode)
    gpio.mode(7, gpio.OUTPUT)
  </message>
</record>
<record>
  <date>2016-11-11T02:44:07</date>
  <millis>1478803447872</millis>
  <sequence>3754</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>162</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:44:07</date>
  <millis>1478803447885</millis>
  <sequence>3755</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:  status2 = 0
        
    tmr.alarm(3, delay, mode, function()
        if status2 == 0 then
            status2 = 1
            gpio.write(7, gpio.HIGH)
        else
            status2 = 0
            gpio.write(7, gpio.LOW)
        end 
    end)
     </message>
</record>
<record>
  <date>2016-11-11T02:44:07</date>
  <millis>1478803447915</millis>
  <sequence>3756</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>162</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:44:07</date>
  <millis>1478803447940</millis>
  <sequence>3757</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending: 
end
return M
</message>
</record>
<record>
  <date>2016-11-11T02:44:07</date>
  <millis>1478803447949</millis>
  <sequence>3758</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>162</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:44:07</date>
  <millis>1478803447973</millis>
  <sequence>3759</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_cmd_close</message>
</record>
<record>
  <date>2016-11-11T02:44:07</date>
  <millis>1478803447986</millis>
  <sequence>3760</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>162</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;--Do</message>
</record>
<record>
  <date>2016-11-11T02:44:07</date>
  <millis>1478803447988</millis>
  <sequence>3761</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>162</thread>
  <message>recv:ne--&lt;CR&gt;&lt;LF&gt;&gt; &lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:44:08</date>
  <millis>1478803448013</millis>
  <sequence>3762</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:44:08</date>
  <millis>1478803448014</millis>
  <sequence>3763</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>162</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:44:08</date>
  <millis>1478803448016</millis>
  <sequence>3764</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>162</thread>
  <message>recv:&gt; &lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T02:44:08</date>
  <millis>1478803448051</millis>
  <sequence>3765</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:dofile("control.lua")</message>
</record>
<record>
  <date>2016-11-11T02:44:08</date>
  <millis>1478803448053</millis>
  <sequence>3766</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>162</thread>
  <message>recv:do</message>
</record>
<record>
  <date>2016-11-11T02:44:08</date>
  <millis>1478803448055</millis>
  <sequence>3767</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>162</thread>
  <message>recv:file("control.lua")&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:44:08</date>
  <millis>1478803448118</millis>
  <sequence>3768</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>162</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:44:08</date>
  <millis>1478803448182</millis>
  <sequence>3769</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>162</thread>
  <message>Operation done. Duration = 959 ms</message>
</record>
<record>
  <date>2016-11-11T02:44:08</date>
  <millis>1478803448707</millis>
  <sequence>3770</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:node.restart()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:44:08</date>
  <millis>1478803448708</millis>
  <sequence>3771</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with saved baud 115200...</message>
</record>
<record>
  <date>2016-11-11T02:44:08</date>
  <millis>1478803448770</millis>
  <sequence>3772</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success. Now we waiting for ESP reboot...</message>
</record>
<record>
  <date>2016-11-11T02:44:10</date>
  <millis>1478803450772</millis>
  <sequence>3773</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with baud 115200...</message>
</record>
<record>
  <date>2016-11-11T02:44:10</date>
  <millis>1478803450773</millis>
  <sequence>3774</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:print(uart.setup(0, 115200, 8, 0, 1, 1 ))&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:44:11</date>
  <millis>1478803451036</millis>
  <sequence>3775</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success.</message>
</record>
<record>
  <date>2016-11-11T02:44:11</date>
  <millis>1478803451088</millis>
  <sequence>3776</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:44:11</date>
  <millis>1478803451090</millis>
  <sequence>3777</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>163</thread>
  <message>
Communication with MCU established.</message>
</record>
<record>
  <date>2016-11-11T02:44:31</date>
  <millis>1478803471590</millis>
  <sequence>3778</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to load file control.lua</message>
</record>
<record>
  <date>2016-11-11T02:44:31</date>
  <millis>1478803471625</millis>
  <sequence>3779</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Loading control.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T02:44:31</date>
  <millis>1478803471626</millis>
  <sequence>3780</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>File reload: Success.</message>
</record>
<record>
  <date>2016-11-11T02:44:32</date>
  <millis>1478803472534</millis>
  <sequence>3781</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>We save known file control.lua</message>
</record>
<record>
  <date>2016-11-11T02:44:32</date>
  <millis>1478803472535</millis>
  <sequence>3782</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to saving file control.lua ...</message>
</record>
<record>
  <date>2016-11-11T02:44:32</date>
  <millis>1478803472537</millis>
  <sequence>3783</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Save file control.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T02:44:32</date>
  <millis>1478803472550</millis>
  <sequence>3784</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP: Try to save file to ESP...</message>
</record>
<record>
  <date>2016-11-11T02:44:32</date>
  <millis>1478803472551</millis>
  <sequence>3785</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Try to save file to ESP in Turbo Mode...</message>
</record>
<record>
  <date>2016-11-11T02:44:32</date>
  <millis>1478803472561</millis>
  <sequence>3786</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>DataTurboSender: start "Smart Mode"</message>
</record>
<record>
  <date>2016-11-11T02:44:32</date>
  <millis>1478803472561</millis>
  <sequence>3787</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Starting...</message>
</record>
<record>
  <date>2016-11-11T02:44:32</date>
  <millis>1478803472708</millis>
  <sequence>3788</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local FILE="control.lua" file.remove(FILE) file.open(FILE,"w+") uart.setup(0,115200,8,0,1,0)</message>
</record>
<record>
  <date>2016-11-11T02:44:32</date>
  <millis>1478803472710</millis>
  <sequence>3789</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>164</thread>
  <message>recv:local</message>
</record>
<record>
  <date>2016-11-11T02:44:32</date>
  <millis>1478803472712</millis>
  <sequence>3790</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>164</thread>
  <message>recv: FILE="control.lua" file.rem</message>
</record>
<record>
  <date>2016-11-11T02:44:32</date>
  <millis>1478803472715</millis>
  <sequence>3791</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>164</thread>
  <message>recv:ove(FILE) file.open(FILE,</message>
</record>
<record>
  <date>2016-11-11T02:44:32</date>
  <millis>1478803472717</millis>
  <sequence>3792</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>164</thread>
  <message>recv:"w+") uart.setup(0</message>
</record>
<record>
  <date>2016-11-11T02:44:32</date>
  <millis>1478803472719</millis>
  <sequence>3793</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>164</thread>
  <message>recv:,115200,8,0,1,0)&lt;CR&gt;</message>
</record>
<record>
  <date>2016-11-11T02:44:32</date>
  <millis>1478803472722</millis>
  <sequence>3794</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>164</thread>
  <message>recv:&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:44:32</date>
  <millis>1478803472912</millis>
  <sequence>3795</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>164</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:44:32</date>
  <millis>1478803472927</millis>
  <sequence>3796</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_Receiver=function(rcvBuf) if string.match(rcvBuf,"^ESP_cmd_close")==nil then file.write(string.gsub(rcvBuf, '\r', '')) uart.write(0, "&gt; ") else uart.on("data") </message>
</record>
<record>
  <date>2016-11-11T02:44:32</date>
  <millis>1478803472954</millis>
  <sequence>3797</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>164</thread>
  <message>recv:&gt;</message>
</record>
<record>
  <date>2016-11-11T02:44:32</date>
  <millis>1478803472955</millis>
  <sequence>3798</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>164</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:44:32</date>
  <millis>1478803472976</millis>
  <sequence>3799</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:file.flush() file.close() FILE=nil rcvBuf=nil ESP_Receiver=nil uart.setup(0,115200,8,0,1,1) str="\r\n--Done--\r\n&gt; " print(str) str=nil collectgarbage() end end uart.on("data",'\r',ESP_Receiver,0)</message>
</record>
<record>
  <date>2016-11-11T02:44:33</date>
  <millis>1478803473014</millis>
  <sequence>3800</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>164</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:44:33</date>
  <millis>1478803473027</millis>
  <sequence>3801</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local M = {}

-- status pin = 0, alarm 1
-- relay pin = 6 and 7, alarm 2, 3

function M.status_LED(delay)
    gpio.mode(0, gpio.OUTPUT)
    status0 = 0
        
    tmr.alarm(1, delay, 1, function()
        if status0 == 0 then
            status0 = 1
  </message>
</record>
<record>
  <date>2016-11-11T02:44:33</date>
  <millis>1478803473056</millis>
  <sequence>3802</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>164</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:44:33</date>
  <millis>1478803473069</millis>
  <sequence>3803</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:          gpio.write(0, gpio.HIGH)
        else
            status0 = 0
            gpio.write(0, gpio.LOW)
        end 
    end)
      
end

-- One on/off relay
function M.relay_onoff()
    gpio.mode(6, gpio.OUTPUT)
    gpio.mode(7, gpio.OUTPUT)
    tmr</message>
</record>
<record>
  <date>2016-11-11T02:44:33</date>
  <millis>1478803473100</millis>
  <sequence>3804</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>164</thread>
  <message>recv:&gt;</message>
</record>
<record>
  <date>2016-11-11T02:44:33</date>
  <millis>1478803473101</millis>
  <sequence>3805</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>164</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T02:44:33</date>
  <millis>1478803473123</millis>
  <sequence>3806</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:.alarm(4, 2000, tmr.ALARM_AUTO, function()
        if gpio.read(6) == 0 then
        print "LOW GPIO"
        gpio.write(6, gpio.HIGH)
        gpio.write(7, gpio.HIGH)
        else        
        tmr.alarm(2, 1000, tmr.ALARM_SINGLE, function() gpio.wr</message>
</record>
<record>
  <date>2016-11-11T02:44:33</date>
  <millis>1478803473158</millis>
  <sequence>3807</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>164</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:44:33</date>
  <millis>1478803473159</millis>
  <sequence>3808</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>164</thread>
  <message>recv:&gt;</message>
</record>
<record>
  <date>2016-11-11T02:44:33</date>
  <millis>1478803473161</millis>
  <sequence>3809</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>164</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T02:44:33</date>
  <millis>1478803473176</millis>
  <sequence>3810</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ite(6, gpio.LOW) end)
        tmr.alarm(3, 1000, tmr.ALARM_SINGLE, function() gpio.write(7, gpio.LOW) end)
        end

end)

end

-- loop relay
function M.relay_6(delay, mode)
    gpio.mode(6, gpio.OUTPUT)
    status1 = 0
        
    tmr.alarm(2, delay</message>
</record>
<record>
  <date>2016-11-11T02:44:33</date>
  <millis>1478803473205</millis>
  <sequence>3811</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>164</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:44:33</date>
  <millis>1478803473224</millis>
  <sequence>3812</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:, mode, function()
        if status1 == 0 then
            status1 = 1
            gpio.write(6, gpio.HIGH)
        else
            status1 = 0
            gpio.write(6, gpio.LOW)
        end 
    end)
      
end


function M.relay_7(delay, mode)
    g</message>
</record>
<record>
  <date>2016-11-11T02:44:33</date>
  <millis>1478803473255</millis>
  <sequence>3813</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>164</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:44:33</date>
  <millis>1478803473272</millis>
  <sequence>3814</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:pio.mode(7, gpio.OUTPUT)
    status2 = 0
        
    tmr.alarm(3, delay, mode, function()
        if status2 == 0 then
            status2 = 1
            gpio.write(7, gpio.HIGH)
        else
            status2 = 0
            gpio.write(7, gpio.LOW)
</message>
</record>
<record>
  <date>2016-11-11T02:44:33</date>
  <millis>1478803473303</millis>
  <sequence>3815</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>164</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:44:33</date>
  <millis>1478803473317</millis>
  <sequence>3816</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:        end 
    end)
      
end
return M
</message>
</record>
<record>
  <date>2016-11-11T02:44:33</date>
  <millis>1478803473328</millis>
  <sequence>3817</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>164</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:44:33</date>
  <millis>1478803473344</millis>
  <sequence>3818</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_cmd_close</message>
</record>
<record>
  <date>2016-11-11T02:44:33</date>
  <millis>1478803473357</millis>
  <sequence>3819</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>164</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:44:33</date>
  <millis>1478803473358</millis>
  <sequence>3820</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>164</thread>
  <message>recv:--Done--&lt;CR&gt;&lt;LF&gt;&gt; &lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:44:33</date>
  <millis>1478803473382</millis>
  <sequence>3821</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:44:33</date>
  <millis>1478803473383</millis>
  <sequence>3822</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>164</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:44:33</date>
  <millis>1478803473385</millis>
  <sequence>3823</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>164</thread>
  <message>recv:&gt; &lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T02:44:33</date>
  <millis>1478803473416</millis>
  <sequence>3824</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:dofile("control.lua")</message>
</record>
<record>
  <date>2016-11-11T02:44:33</date>
  <millis>1478803473418</millis>
  <sequence>3825</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>164</thread>
  <message>recv:do</message>
</record>
<record>
  <date>2016-11-11T02:44:33</date>
  <millis>1478803473419</millis>
  <sequence>3826</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>164</thread>
  <message>recv:file("control.lu</message>
</record>
<record>
  <date>2016-11-11T02:44:33</date>
  <millis>1478803473421</millis>
  <sequence>3827</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>164</thread>
  <message>recv:a")&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:44:33</date>
  <millis>1478803473477</millis>
  <sequence>3828</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>164</thread>
  <message>recv:contr</message>
</record>
<record>
  <date>2016-11-11T02:44:33</date>
  <millis>1478803473478</millis>
  <sequence>3829</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>164</thread>
  <message>recv:ol.lua:28: '='</message>
</record>
<record>
  <date>2016-11-11T02:44:33</date>
  <millis>1478803473479</millis>
  <sequence>3830</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>164</thread>
  <message>recv: expected near </message>
</record>
<record>
  <date>2016-11-11T02:44:33</date>
  <millis>1478803473480</millis>
  <sequence>3831</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>164</thread>
  <message>recv:'?'&lt;CR&gt;&lt;LF&gt;stack</message>
</record>
<record>
  <date>2016-11-11T02:44:33</date>
  <millis>1478803473483</millis>
  <sequence>3832</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>164</thread>
  <message>recv: traceback:&lt;CR&gt;&lt;LF&gt;	[C]: in fun</message>
</record>
<record>
  <date>2016-11-11T02:44:33</date>
  <millis>1478803473484</millis>
  <sequence>3833</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>164</thread>
  <message>recv:ction 'dofile'&lt;CR&gt;&lt;LF&gt;	stdin</message>
</record>
<record>
  <date>2016-11-11T02:44:33</date>
  <millis>1478803473485</millis>
  <sequence>3834</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>164</thread>
  <message>recv::1: in mai</message>
</record>
<record>
  <date>2016-11-11T02:44:33</date>
  <millis>1478803473486</millis>
  <sequence>3835</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>164</thread>
  <message>recv:n chun</message>
</record>
<record>
  <date>2016-11-11T02:44:33</date>
  <millis>1478803473486</millis>
  <sequence>3836</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>164</thread>
  <message>recv:k&lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T02:44:33</date>
  <millis>1478803473533</millis>
  <sequence>3837</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>164</thread>
  <message>Operation done. Duration = 981 ms</message>
</record>
<record>
  <date>2016-11-11T02:44:36</date>
  <millis>1478803476011</millis>
  <sequence>3838</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:node.restart()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:44:36</date>
  <millis>1478803476013</millis>
  <sequence>3839</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with saved baud 115200...</message>
</record>
<record>
  <date>2016-11-11T02:44:36</date>
  <millis>1478803476074</millis>
  <sequence>3840</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success. Now we waiting for ESP reboot...</message>
</record>
<record>
  <date>2016-11-11T02:44:36</date>
  <millis>1478803476205</millis>
  <sequence>3841</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:node.restart()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:44:36</date>
  <millis>1478803476207</millis>
  <sequence>3842</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with saved baud 115200...</message>
</record>
<record>
  <date>2016-11-11T02:44:36</date>
  <millis>1478803476269</millis>
  <sequence>3843</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success. Now we waiting for ESP reboot...</message>
</record>
<record>
  <date>2016-11-11T02:44:38</date>
  <millis>1478803478076</millis>
  <sequence>3844</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with baud 115200...</message>
</record>
<record>
  <date>2016-11-11T02:44:38</date>
  <millis>1478803478077</millis>
  <sequence>3845</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:print(uart.setup(0, 115200, 8, 0, 1, 1 ))&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:44:38</date>
  <millis>1478803478339</millis>
  <sequence>3846</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success.</message>
</record>
<record>
  <date>2016-11-11T02:44:38</date>
  <millis>1478803478390</millis>
  <sequence>3847</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>ERROR: Communication with MCU not established.</message>
</record>
<record>
  <date>2016-11-11T02:44:38</date>
  <millis>1478803478392</millis>
  <sequence>3848</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:44:38</date>
  <millis>1478803478394</millis>
  <sequence>3849</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>165</thread>
  <message>
Communication with MCU established.</message>
</record>
<record>
  <date>2016-11-11T02:44:44</date>
  <millis>1478803484452</millis>
  <sequence>3850</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>We save known file control.lua</message>
</record>
<record>
  <date>2016-11-11T02:44:44</date>
  <millis>1478803484453</millis>
  <sequence>3851</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to saving file control.lua ...</message>
</record>
<record>
  <date>2016-11-11T02:44:44</date>
  <millis>1478803484455</millis>
  <sequence>3852</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Save file control.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T02:44:44</date>
  <millis>1478803484474</millis>
  <sequence>3853</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP: Try to save file to ESP...</message>
</record>
<record>
  <date>2016-11-11T02:44:44</date>
  <millis>1478803484475</millis>
  <sequence>3854</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Try to save file to ESP in Turbo Mode...</message>
</record>
<record>
  <date>2016-11-11T02:44:44</date>
  <millis>1478803484482</millis>
  <sequence>3855</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>DataTurboSender: start "Smart Mode"</message>
</record>
<record>
  <date>2016-11-11T02:44:44</date>
  <millis>1478803484483</millis>
  <sequence>3856</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Starting...</message>
</record>
<record>
  <date>2016-11-11T02:44:44</date>
  <millis>1478803484632</millis>
  <sequence>3857</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local FILE="control.lua" file.remove(FILE) file.open(FILE,"w+") uart.setup(0,115200,8,0,1,0)</message>
</record>
<record>
  <date>2016-11-11T02:44:44</date>
  <millis>1478803484634</millis>
  <sequence>3858</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>166</thread>
  <message>recv:lo</message>
</record>
<record>
  <date>2016-11-11T02:44:44</date>
  <millis>1478803484637</millis>
  <sequence>3859</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>166</thread>
  <message>recv:cal FILE="control.lua" file.remove(</message>
</record>
<record>
  <date>2016-11-11T02:44:44</date>
  <millis>1478803484638</millis>
  <sequence>3860</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>166</thread>
  <message>recv:FILE) file.o</message>
</record>
<record>
  <date>2016-11-11T02:44:44</date>
  <millis>1478803484639</millis>
  <sequence>3861</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>166</thread>
  <message>recv:pen(FILE,"w+") ua</message>
</record>
<record>
  <date>2016-11-11T02:44:44</date>
  <millis>1478803484641</millis>
  <sequence>3862</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>166</thread>
  <message>recv:rt.setup(0,115200,8,0</message>
</record>
<record>
  <date>2016-11-11T02:44:44</date>
  <millis>1478803484643</millis>
  <sequence>3863</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>166</thread>
  <message>recv:,1,0)&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:44:44</date>
  <millis>1478803484823</millis>
  <sequence>3864</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>166</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:44:44</date>
  <millis>1478803484843</millis>
  <sequence>3865</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_Receiver=function(rcvBuf) if string.match(rcvBuf,"^ESP_cmd_close")==nil then file.write(string.gsub(rcvBuf, '\r', '')) uart.write(0, "&gt; ") else uart.on("data") </message>
</record>
<record>
  <date>2016-11-11T02:44:44</date>
  <millis>1478803484868</millis>
  <sequence>3866</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>166</thread>
  <message>recv:&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T02:44:44</date>
  <millis>1478803484880</millis>
  <sequence>3867</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:file.flush() file.close() FILE=nil rcvBuf=nil ESP_Receiver=nil uart.setup(0,115200,8,0,1,1) str="\r\n--Done--\r\n&gt; " print(str) str=nil collectgarbage() end end uart.on("data",'\r',ESP_Receiver,0)</message>
</record>
<record>
  <date>2016-11-11T02:44:44</date>
  <millis>1478803484917</millis>
  <sequence>3868</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>166</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:44:44</date>
  <millis>1478803484929</millis>
  <sequence>3869</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local M = {}

-- status pin = 0, alarm 1
-- relay pin = 6 and 7, alarm 2, 3

function M.status_LED(delay)
    gpio.mode(0, gpio.OUTPUT)
    status0 = 0
        
    tmr.alarm(1, delay, 1, function()
        if status0 == 0 then
            status0 = 1
  </message>
</record>
<record>
  <date>2016-11-11T02:44:44</date>
  <millis>1478803484958</millis>
  <sequence>3870</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>166</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:44:44</date>
  <millis>1478803484971</millis>
  <sequence>3871</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:          gpio.write(0, gpio.HIGH)
        else
            status0 = 0
            gpio.write(0, gpio.LOW)
        end 
    end)
      
end

-- One on/off relay
function M.relay_onoff()
    gpio.mode(6, gpio.OUTPUT)
    gpio.mode(7, gpio.OUTPUT)
    tmr</message>
</record>
<record>
  <date>2016-11-11T02:44:45</date>
  <millis>1478803485001</millis>
  <sequence>3872</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>166</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:44:45</date>
  <millis>1478803485014</millis>
  <sequence>3873</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:.alarm(4, 2000, tmr.ALARM_AUTO, function()
        if gpio.read(6) == 0 then
        print "LOW GPIO"
        gpio.write(6, gpio.HIGH)
        gpio.write(7, gpio.HIGH)
        else        
        tmr.alarm(2, 1000, tmr.ALARM_SINGLE, function() gpio.wr</message>
</record>
<record>
  <date>2016-11-11T02:44:45</date>
  <millis>1478803485048</millis>
  <sequence>3874</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>166</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:44:45</date>
  <millis>1478803485050</millis>
  <sequence>3875</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>166</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:44:45</date>
  <millis>1478803485068</millis>
  <sequence>3876</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ite(6, gpio.LOW) end)
        tmr.alarm(3, 1000, tmr.ALARM_SINGLE, function() gpio.write(7, gpio.LOW) end)
        end

end)

end

-- loop relay
function M.relay_6(delay, mode)
    gpio.mode(6, gpio.OUTPUT)
    status1 = 0
        
    tmr.alarm(2, delay</message>
</record>
<record>
  <date>2016-11-11T02:44:45</date>
  <millis>1478803485097</millis>
  <sequence>3877</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>166</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:44:45</date>
  <millis>1478803485109</millis>
  <sequence>3878</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:, mode, function()
        if status1 == 0 then
            status1 = 1
            gpio.write(6, gpio.HIGH)
        else
            status1 = 0
            gpio.write(6, gpio.LOW)
        end 
    end)
      
end


function M.relay_7(delay, mode)
    g</message>
</record>
<record>
  <date>2016-11-11T02:44:45</date>
  <millis>1478803485139</millis>
  <sequence>3879</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>166</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:44:45</date>
  <millis>1478803485152</millis>
  <sequence>3880</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:pio.mode(7, gpio.OUTPUT)
    status2 = 0
        
    tmr.alarm(3, delay, mode, function()
        if status2 == 0 then
            status2 = 1
            gpio.write(7, gpio.HIGH)
        else
            status2 = 0
            gpio.write(7, gpio.LOW)
</message>
</record>
<record>
  <date>2016-11-11T02:44:45</date>
  <millis>1478803485182</millis>
  <sequence>3881</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>166</thread>
  <message>recv:&gt;</message>
</record>
<record>
  <date>2016-11-11T02:44:45</date>
  <millis>1478803485183</millis>
  <sequence>3882</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>166</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T02:44:45</date>
  <millis>1478803485201</millis>
  <sequence>3883</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:        end 
    end)
      
end
return M
</message>
</record>
<record>
  <date>2016-11-11T02:44:45</date>
  <millis>1478803485212</millis>
  <sequence>3884</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>166</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:44:45</date>
  <millis>1478803485226</millis>
  <sequence>3885</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_cmd_close</message>
</record>
<record>
  <date>2016-11-11T02:44:45</date>
  <millis>1478803485237</millis>
  <sequence>3886</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>166</thread>
  <message>recv:&lt;CR&gt;</message>
</record>
<record>
  <date>2016-11-11T02:44:45</date>
  <millis>1478803485239</millis>
  <sequence>3887</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>166</thread>
  <message>recv:&lt;LF&gt;--Done--&lt;CR&gt;&lt;LF&gt;&gt; &lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:44:45</date>
  <millis>1478803485259</millis>
  <sequence>3888</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:44:45</date>
  <millis>1478803485261</millis>
  <sequence>3889</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>166</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:44:45</date>
  <millis>1478803485262</millis>
  <sequence>3890</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>166</thread>
  <message>recv:&gt; &lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T02:44:45</date>
  <millis>1478803485298</millis>
  <sequence>3891</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:dofile("control.lua")</message>
</record>
<record>
  <date>2016-11-11T02:44:45</date>
  <millis>1478803485299</millis>
  <sequence>3892</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>166</thread>
  <message>recv:d</message>
</record>
<record>
  <date>2016-11-11T02:44:45</date>
  <millis>1478803485301</millis>
  <sequence>3893</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>166</thread>
  <message>recv:ofile("control.lua")&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:44:45</date>
  <millis>1478803485348</millis>
  <sequence>3894</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>166</thread>
  <message>recv:c</message>
</record>
<record>
  <date>2016-11-11T02:44:45</date>
  <millis>1478803485350</millis>
  <sequence>3895</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>166</thread>
  <message>recv:ontrol.lua:28: '=' expe</message>
</record>
<record>
  <date>2016-11-11T02:44:45</date>
  <millis>1478803485352</millis>
  <sequence>3896</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>166</thread>
  <message>recv:cted near '?'&lt;CR&gt;&lt;LF&gt;stack t</message>
</record>
<record>
  <date>2016-11-11T02:44:45</date>
  <millis>1478803485354</millis>
  <sequence>3897</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>166</thread>
  <message>recv:raceback:&lt;CR&gt;&lt;LF&gt;	[C]: in function</message>
</record>
<record>
  <date>2016-11-11T02:44:45</date>
  <millis>1478803485357</millis>
  <sequence>3898</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>166</thread>
  <message>recv: 'dofile'&lt;CR&gt;&lt;LF&gt;	stdin:1: in main chunk&lt;CR&gt;&lt;LF&gt;&gt;</message>
</record>
<record>
  <date>2016-11-11T02:44:45</date>
  <millis>1478803485359</millis>
  <sequence>3899</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>166</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T02:44:45</date>
  <millis>1478803485407</millis>
  <sequence>3900</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>166</thread>
  <message>Operation done. Duration = 930 ms</message>
</record>
<record>
  <date>2016-11-11T02:45:07</date>
  <millis>1478803507232</millis>
  <sequence>3901</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to load file control.lua</message>
</record>
<record>
  <date>2016-11-11T02:45:07</date>
  <millis>1478803507266</millis>
  <sequence>3902</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Loading control.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T02:45:07</date>
  <millis>1478803507267</millis>
  <sequence>3903</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>File reload: Success.</message>
</record>
<record>
  <date>2016-11-11T02:45:08</date>
  <millis>1478803508124</millis>
  <sequence>3904</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>We save known file control.lua</message>
</record>
<record>
  <date>2016-11-11T02:45:08</date>
  <millis>1478803508125</millis>
  <sequence>3905</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to saving file control.lua ...</message>
</record>
<record>
  <date>2016-11-11T02:45:08</date>
  <millis>1478803508127</millis>
  <sequence>3906</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Save file control.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T02:45:08</date>
  <millis>1478803508139</millis>
  <sequence>3907</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP: Try to save file to ESP...</message>
</record>
<record>
  <date>2016-11-11T02:45:08</date>
  <millis>1478803508142</millis>
  <sequence>3908</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Try to save file to ESP in Turbo Mode...</message>
</record>
<record>
  <date>2016-11-11T02:45:08</date>
  <millis>1478803508150</millis>
  <sequence>3909</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>DataTurboSender: start "Smart Mode"</message>
</record>
<record>
  <date>2016-11-11T02:45:08</date>
  <millis>1478803508152</millis>
  <sequence>3910</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Starting...</message>
</record>
<record>
  <date>2016-11-11T02:45:08</date>
  <millis>1478803508304</millis>
  <sequence>3911</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local FILE="control.lua" file.remove(FILE) file.open(FILE,"w+") uart.setup(0,115200,8,0,1,0)</message>
</record>
<record>
  <date>2016-11-11T02:45:08</date>
  <millis>1478803508306</millis>
  <sequence>3912</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>168</thread>
  <message>recv:lo</message>
</record>
<record>
  <date>2016-11-11T02:45:08</date>
  <millis>1478803508308</millis>
  <sequence>3913</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>168</thread>
  <message>recv:cal FILE="control.lua" fi</message>
</record>
<record>
  <date>2016-11-11T02:45:08</date>
  <millis>1478803508310</millis>
  <sequence>3914</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>168</thread>
  <message>recv:le.remove(FILE) file</message>
</record>
<record>
  <date>2016-11-11T02:45:08</date>
  <millis>1478803508312</millis>
  <sequence>3915</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>168</thread>
  <message>recv:.open(FILE,"w+") uart.s</message>
</record>
<record>
  <date>2016-11-11T02:45:08</date>
  <millis>1478803508313</millis>
  <sequence>3916</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>168</thread>
  <message>recv:etup(0,115200,8</message>
</record>
<record>
  <date>2016-11-11T02:45:08</date>
  <millis>1478803508314</millis>
  <sequence>3917</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>168</thread>
  <message>recv:,0,1,0)&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:45:08</date>
  <millis>1478803508491</millis>
  <sequence>3918</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>168</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:45:08</date>
  <millis>1478803508514</millis>
  <sequence>3919</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_Receiver=function(rcvBuf) if string.match(rcvBuf,"^ESP_cmd_close")==nil then file.write(string.gsub(rcvBuf, '\r', '')) uart.write(0, "&gt; ") else uart.on("data") </message>
</record>
<record>
  <date>2016-11-11T02:45:08</date>
  <millis>1478803508539</millis>
  <sequence>3920</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>168</thread>
  <message>recv:&gt;&gt;</message>
</record>
<record>
  <date>2016-11-11T02:45:08</date>
  <millis>1478803508541</millis>
  <sequence>3921</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>168</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T02:45:08</date>
  <millis>1478803508562</millis>
  <sequence>3922</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:file.flush() file.close() FILE=nil rcvBuf=nil ESP_Receiver=nil uart.setup(0,115200,8,0,1,1) str="\r\n--Done--\r\n&gt; " print(str) str=nil collectgarbage() end end uart.on("data",'\r',ESP_Receiver,0)</message>
</record>
<record>
  <date>2016-11-11T02:45:08</date>
  <millis>1478803508599</millis>
  <sequence>3923</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>168</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:45:08</date>
  <millis>1478803508616</millis>
  <sequence>3924</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local M = {}

-- status pin = 0, alarm 1
-- relay pin = 6 and 7, alarm 2, 3

function M.status_LED(delay)
    gpio.mode(0, gpio.OUTPUT)
    status0 = 0
        
    tmr.alarm(1, delay, 1, function()
        if status0 == 0 then
            status0 = 1
  </message>
</record>
<record>
  <date>2016-11-11T02:45:08</date>
  <millis>1478803508644</millis>
  <sequence>3925</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>168</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:45:08</date>
  <millis>1478803508659</millis>
  <sequence>3926</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:          gpio.write(0, gpio.HIGH)
        else
            status0 = 0
            gpio.write(0, gpio.LOW)
        end 
    end)
      
end

-- One on/off relay
function M.relay_onoff()
    gpio.mode(6, gpio.OUTPUT)
    gpio.mode(7, gpio.OUTPUT)
    tmr</message>
</record>
<record>
  <date>2016-11-11T02:45:08</date>
  <millis>1478803508690</millis>
  <sequence>3927</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>168</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:45:08</date>
  <millis>1478803508709</millis>
  <sequence>3928</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:.alarm(4, 2000, tmr.ALARM_AUTO, function()
        if gpio.read(6) == 0 then
        print ("LOW GPIO")
        gpio.write(6, gpio.HIGH)
        gpio.write(7, gpio.HIGH)
        else        
        tmr.alarm(2, 1000, tmr.ALARM_SINGLE, function() gpio.wr</message>
</record>
<record>
  <date>2016-11-11T02:45:08</date>
  <millis>1478803508740</millis>
  <sequence>3929</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>168</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:45:08</date>
  <millis>1478803508753</millis>
  <sequence>3930</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ite(6, gpio.LOW) end)
        tmr.alarm(3, 1000, tmr.ALARM_SINGLE, function() gpio.write(7, gpio.LOW) end)
        end

end)

end

-- loop relay
function M.relay_6(delay, mode)
    gpio.mode(6, gpio.OUTPUT)
    status1 = 0
        
    tmr.alarm(2, delay</message>
</record>
<record>
  <date>2016-11-11T02:45:08</date>
  <millis>1478803508783</millis>
  <sequence>3931</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>168</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:45:08</date>
  <millis>1478803508800</millis>
  <sequence>3932</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:, mode, function()
        if status1 == 0 then
            status1 = 1
            gpio.write(6, gpio.HIGH)
        else
            status1 = 0
            gpio.write(6, gpio.LOW)
        end 
    end)
      
end


function M.relay_7(delay, mode)
    g</message>
</record>
<record>
  <date>2016-11-11T02:45:08</date>
  <millis>1478803508831</millis>
  <sequence>3933</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>168</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:45:08</date>
  <millis>1478803508846</millis>
  <sequence>3934</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:pio.mode(7, gpio.OUTPUT)
    status2 = 0
        
    tmr.alarm(3, delay, mode, function()
        if status2 == 0 then
            status2 = 1
            gpio.write(7, gpio.HIGH)
        else
            status2 = 0
            gpio.write(7, gpio.LOW)
</message>
</record>
<record>
  <date>2016-11-11T02:45:08</date>
  <millis>1478803508876</millis>
  <sequence>3935</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>168</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:45:08</date>
  <millis>1478803508891</millis>
  <sequence>3936</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:        end 
    end)
      
end
return M
</message>
</record>
<record>
  <date>2016-11-11T02:45:08</date>
  <millis>1478803508902</millis>
  <sequence>3937</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>168</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:45:08</date>
  <millis>1478803508919</millis>
  <sequence>3938</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_cmd_close</message>
</record>
<record>
  <date>2016-11-11T02:45:08</date>
  <millis>1478803508930</millis>
  <sequence>3939</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>168</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;-</message>
</record>
<record>
  <date>2016-11-11T02:45:08</date>
  <millis>1478803508931</millis>
  <sequence>3940</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>168</thread>
  <message>recv:-Done--&lt;CR&gt;&lt;LF&gt;&gt; &lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:45:08</date>
  <millis>1478803508961</millis>
  <sequence>3941</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:45:08</date>
  <millis>1478803508962</millis>
  <sequence>3942</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>168</thread>
  <message>recv:&lt;CR&gt;</message>
</record>
<record>
  <date>2016-11-11T02:45:08</date>
  <millis>1478803508967</millis>
  <sequence>3943</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>168</thread>
  <message>recv:&lt;LF&gt;&gt; &lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T02:45:08</date>
  <millis>1478803508996</millis>
  <sequence>3944</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:dofile("control.lua")</message>
</record>
<record>
  <date>2016-11-11T02:45:08</date>
  <millis>1478803508998</millis>
  <sequence>3945</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>168</thread>
  <message>recv:do</message>
</record>
<record>
  <date>2016-11-11T02:45:09</date>
  <millis>1478803509001</millis>
  <sequence>3946</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>168</thread>
  <message>recv:file("control.lua")&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:45:09</date>
  <millis>1478803509056</millis>
  <sequence>3947</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>168</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:45:09</date>
  <millis>1478803509128</millis>
  <sequence>3948</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>168</thread>
  <message>Operation done. Duration = 984 ms</message>
</record>
<record>
  <date>2016-11-11T02:45:10</date>
  <millis>1478803510742</millis>
  <sequence>3949</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:node.restart()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:45:10</date>
  <millis>1478803510743</millis>
  <sequence>3950</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with saved baud 115200...</message>
</record>
<record>
  <date>2016-11-11T02:45:10</date>
  <millis>1478803510806</millis>
  <sequence>3951</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success. Now we waiting for ESP reboot...</message>
</record>
<record>
  <date>2016-11-11T02:45:12</date>
  <millis>1478803512810</millis>
  <sequence>3952</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with baud 115200...</message>
</record>
<record>
  <date>2016-11-11T02:45:12</date>
  <millis>1478803512811</millis>
  <sequence>3953</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:print(uart.setup(0, 115200, 8, 0, 1, 1 ))&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:45:13</date>
  <millis>1478803513074</millis>
  <sequence>3954</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success.</message>
</record>
<record>
  <date>2016-11-11T02:45:13</date>
  <millis>1478803513126</millis>
  <sequence>3955</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:45:13</date>
  <millis>1478803513129</millis>
  <sequence>3956</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>169</thread>
  <message>
Communication with MCU established.</message>
</record>
<record>
  <date>2016-11-11T02:45:13</date>
  <millis>1478803513130</millis>
  <sequence>3957</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>169</thread>
  <message>sending:=node.heap()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:45:15</date>
  <millis>1478803515092</millis>
  <sequence>3958</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:node.restart()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:45:15</date>
  <millis>1478803515093</millis>
  <sequence>3959</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with saved baud 115200...</message>
</record>
<record>
  <date>2016-11-11T02:45:15</date>
  <millis>1478803515157</millis>
  <sequence>3960</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success. Now we waiting for ESP reboot...</message>
</record>
<record>
  <date>2016-11-11T02:45:17</date>
  <millis>1478803517160</millis>
  <sequence>3961</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with baud 115200...</message>
</record>
<record>
  <date>2016-11-11T02:45:17</date>
  <millis>1478803517161</millis>
  <sequence>3962</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:print(uart.setup(0, 115200, 8, 0, 1, 1 ))&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:45:17</date>
  <millis>1478803517425</millis>
  <sequence>3963</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success.</message>
</record>
<record>
  <date>2016-11-11T02:45:17</date>
  <millis>1478803517466</millis>
  <sequence>3964</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:45:17</date>
  <millis>1478803517468</millis>
  <sequence>3965</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>169</thread>
  <message>
Communication with MCU established.</message>
</record>
<record>
  <date>2016-11-11T02:45:37</date>
  <millis>1478803537356</millis>
  <sequence>3966</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to load file control.lua</message>
</record>
<record>
  <date>2016-11-11T02:45:37</date>
  <millis>1478803537390</millis>
  <sequence>3967</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Loading control.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T02:45:37</date>
  <millis>1478803537391</millis>
  <sequence>3968</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>File reload: Success.</message>
</record>
<record>
  <date>2016-11-11T02:45:38</date>
  <millis>1478803538579</millis>
  <sequence>3969</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>We save known file control.lua</message>
</record>
<record>
  <date>2016-11-11T02:45:38</date>
  <millis>1478803538579</millis>
  <sequence>3970</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to saving file control.lua ...</message>
</record>
<record>
  <date>2016-11-11T02:45:38</date>
  <millis>1478803538582</millis>
  <sequence>3971</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Save file control.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T02:45:38</date>
  <millis>1478803538593</millis>
  <sequence>3972</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP: Try to save file to ESP...</message>
</record>
<record>
  <date>2016-11-11T02:45:38</date>
  <millis>1478803538593</millis>
  <sequence>3973</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Try to save file to ESP in Turbo Mode...</message>
</record>
<record>
  <date>2016-11-11T02:45:38</date>
  <millis>1478803538600</millis>
  <sequence>3974</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>DataTurboSender: start "Smart Mode"</message>
</record>
<record>
  <date>2016-11-11T02:45:38</date>
  <millis>1478803538602</millis>
  <sequence>3975</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Starting...</message>
</record>
<record>
  <date>2016-11-11T02:45:38</date>
  <millis>1478803538746</millis>
  <sequence>3976</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local FILE="control.lua" file.remove(FILE) file.open(FILE,"w+") uart.setup(0,115200,8,0,1,0)</message>
</record>
<record>
  <date>2016-11-11T02:45:38</date>
  <millis>1478803538749</millis>
  <sequence>3977</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>170</thread>
  <message>recv:local</message>
</record>
<record>
  <date>2016-11-11T02:45:38</date>
  <millis>1478803538754</millis>
  <sequence>3978</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>170</thread>
  <message>recv: FILE="control.lua" file.remove(FILE) file.open(FILE,"w+</message>
</record>
<record>
  <date>2016-11-11T02:45:38</date>
  <millis>1478803538756</millis>
  <sequence>3979</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>170</thread>
  <message>recv:") uart.setup(0,115200,8</message>
</record>
<record>
  <date>2016-11-11T02:45:38</date>
  <millis>1478803538758</millis>
  <sequence>3980</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>170</thread>
  <message>recv:,0,1,0)&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:45:38</date>
  <millis>1478803538941</millis>
  <sequence>3981</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>170</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:45:38</date>
  <millis>1478803538965</millis>
  <sequence>3982</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_Receiver=function(rcvBuf) if string.match(rcvBuf,"^ESP_cmd_close")==nil then file.write(string.gsub(rcvBuf, '\r', '')) uart.write(0, "&gt; ") else uart.on("data") </message>
</record>
<record>
  <date>2016-11-11T02:45:38</date>
  <millis>1478803538992</millis>
  <sequence>3983</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>170</thread>
  <message>recv:&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T02:45:39</date>
  <millis>1478803539006</millis>
  <sequence>3984</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:file.flush() file.close() FILE=nil rcvBuf=nil ESP_Receiver=nil uart.setup(0,115200,8,0,1,1) str="\r\n--Done--\r\n&gt; " print(str) str=nil collectgarbage() end end uart.on("data",'\r',ESP_Receiver,0)</message>
</record>
<record>
  <date>2016-11-11T02:45:39</date>
  <millis>1478803539045</millis>
  <sequence>3985</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>170</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:45:39</date>
  <millis>1478803539060</millis>
  <sequence>3986</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local M = {}

-- status pin = 0, alarm 1
-- relay pin = 6 and 7, alarm 2, 3

function M.status_LED(delay)
    gpio.mode(0, gpio.OUTPUT)
    status0 = 0
        
    tmr.alarm(1, delay, 1, function()
        if status0 == 0 then
            status0 = 1
  </message>
</record>
<record>
  <date>2016-11-11T02:45:39</date>
  <millis>1478803539089</millis>
  <sequence>3987</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>170</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:45:39</date>
  <millis>1478803539108</millis>
  <sequence>3988</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:          gpio.write(0, gpio.HIGH)
        else
            status0 = 0
            gpio.write(0, gpio.LOW)
        end 
    end)
      
end

-- One on/off relay
function M.relay_onoff()
    gpio.mode(6, gpio.OUTPUT)
    gpio.mode(7, gpio.OUTPUT)
    tmr</message>
</record>
<record>
  <date>2016-11-11T02:45:39</date>
  <millis>1478803539139</millis>
  <sequence>3989</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>170</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:45:39</date>
  <millis>1478803539157</millis>
  <sequence>3990</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:.alarm(5, 2000, tmr.ALARM_AUTO, function()
        if gpio.read(6) == 0 then
        print ("LOW GPIO")
        gpio.write(6, gpio.HIGH)
        gpio.write(7, gpio.HIGH)
        else        
        tmr.alarm(2, 1000, tmr.ALARM_SINGLE, function() gpio.wr</message>
</record>
<record>
  <date>2016-11-11T02:45:39</date>
  <millis>1478803539189</millis>
  <sequence>3991</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>170</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:45:39</date>
  <millis>1478803539203</millis>
  <sequence>3992</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ite(6, gpio.LOW) end)
        tmr.alarm(3, 1000, tmr.ALARM_SINGLE, function() gpio.write(7, gpio.LOW) end)
        end

end)

end

-- loop relay
function M.relay_6(delay, mode)
    gpio.mode(6, gpio.OUTPUT)
    status1 = 0
        
    tmr.alarm(2, delay</message>
</record>
<record>
  <date>2016-11-11T02:45:39</date>
  <millis>1478803539233</millis>
  <sequence>3993</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>170</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:45:39</date>
  <millis>1478803539256</millis>
  <sequence>3994</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:, mode, function()
        if status1 == 0 then
            status1 = 1
            gpio.write(6, gpio.HIGH)
        else
            status1 = 0
            gpio.write(6, gpio.LOW)
        end 
    end)
      
end


function M.relay_7(delay, mode)
    g</message>
</record>
<record>
  <date>2016-11-11T02:45:39</date>
  <millis>1478803539287</millis>
  <sequence>3995</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>170</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:45:39</date>
  <millis>1478803539300</millis>
  <sequence>3996</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:pio.mode(7, gpio.OUTPUT)
    status2 = 0
        
    tmr.alarm(3, delay, mode, function()
        if status2 == 0 then
            status2 = 1
            gpio.write(7, gpio.HIGH)
        else
            status2 = 0
            gpio.write(7, gpio.LOW)
</message>
</record>
<record>
  <date>2016-11-11T02:45:39</date>
  <millis>1478803539331</millis>
  <sequence>3997</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>170</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:45:39</date>
  <millis>1478803539348</millis>
  <sequence>3998</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:        end 
    end)
      
end
return M
</message>
</record>
<record>
  <date>2016-11-11T02:45:39</date>
  <millis>1478803539359</millis>
  <sequence>3999</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>170</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:45:39</date>
  <millis>1478803539373</millis>
  <sequence>4000</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_cmd_close</message>
</record>
<record>
  <date>2016-11-11T02:45:39</date>
  <millis>1478803539387</millis>
  <sequence>4001</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>170</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;--</message>
</record>
<record>
  <date>2016-11-11T02:45:39</date>
  <millis>1478803539387</millis>
  <sequence>4002</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>170</thread>
  <message>recv:Done--&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:45:39</date>
  <millis>1478803539388</millis>
  <sequence>4003</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>170</thread>
  <message>recv:&gt; &lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:45:39</date>
  <millis>1478803539409</millis>
  <sequence>4004</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:45:39</date>
  <millis>1478803539410</millis>
  <sequence>4005</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>170</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:45:39</date>
  <millis>1478803539412</millis>
  <sequence>4006</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>170</thread>
  <message>recv:&gt; &lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T02:45:39</date>
  <millis>1478803539446</millis>
  <sequence>4007</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:dofile("control.lua")</message>
</record>
<record>
  <date>2016-11-11T02:45:39</date>
  <millis>1478803539448</millis>
  <sequence>4008</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>170</thread>
  <message>recv:do</message>
</record>
<record>
  <date>2016-11-11T02:45:39</date>
  <millis>1478803539450</millis>
  <sequence>4009</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>170</thread>
  <message>recv:file("control.lua")&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:45:39</date>
  <millis>1478803539511</millis>
  <sequence>4010</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>170</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:45:39</date>
  <millis>1478803539556</millis>
  <sequence>4011</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>170</thread>
  <message>Operation done. Duration = 962 ms</message>
</record>
<record>
  <date>2016-11-11T02:45:40</date>
  <millis>1478803540649</millis>
  <sequence>4012</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:node.restart()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:45:40</date>
  <millis>1478803540650</millis>
  <sequence>4013</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with saved baud 115200...</message>
</record>
<record>
  <date>2016-11-11T02:45:40</date>
  <millis>1478803540711</millis>
  <sequence>4014</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success. Now we waiting for ESP reboot...</message>
</record>
<record>
  <date>2016-11-11T02:45:42</date>
  <millis>1478803542713</millis>
  <sequence>4015</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with baud 115200...</message>
</record>
<record>
  <date>2016-11-11T02:45:42</date>
  <millis>1478803542718</millis>
  <sequence>4016</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:print(uart.setup(0, 115200, 8, 0, 1, 1 ))&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:45:42</date>
  <millis>1478803542980</millis>
  <sequence>4017</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success.</message>
</record>
<record>
  <date>2016-11-11T02:45:43</date>
  <millis>1478803543014</millis>
  <sequence>4018</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:45:43</date>
  <millis>1478803543016</millis>
  <sequence>4019</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>171</thread>
  <message>
Communication with MCU established.</message>
</record>
<record>
  <date>2016-11-11T02:46:06</date>
  <millis>1478803566044</millis>
  <sequence>4020</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to load file control.lua</message>
</record>
<record>
  <date>2016-11-11T02:46:06</date>
  <millis>1478803566077</millis>
  <sequence>4021</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Loading control.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T02:46:06</date>
  <millis>1478803566078</millis>
  <sequence>4022</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>File reload: Success.</message>
</record>
<record>
  <date>2016-11-11T02:46:06</date>
  <millis>1478803566810</millis>
  <sequence>4023</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>We save known file control.lua</message>
</record>
<record>
  <date>2016-11-11T02:46:06</date>
  <millis>1478803566811</millis>
  <sequence>4024</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to saving file control.lua ...</message>
</record>
<record>
  <date>2016-11-11T02:46:06</date>
  <millis>1478803566813</millis>
  <sequence>4025</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Save file control.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T02:46:06</date>
  <millis>1478803566826</millis>
  <sequence>4026</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP: Try to save file to ESP...</message>
</record>
<record>
  <date>2016-11-11T02:46:06</date>
  <millis>1478803566827</millis>
  <sequence>4027</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Try to save file to ESP in Turbo Mode...</message>
</record>
<record>
  <date>2016-11-11T02:46:06</date>
  <millis>1478803566837</millis>
  <sequence>4028</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>DataTurboSender: start "Smart Mode"</message>
</record>
<record>
  <date>2016-11-11T02:46:06</date>
  <millis>1478803566838</millis>
  <sequence>4029</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Starting...</message>
</record>
<record>
  <date>2016-11-11T02:46:06</date>
  <millis>1478803566993</millis>
  <sequence>4030</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local FILE="control.lua" file.remove(FILE) file.open(FILE,"w+") uart.setup(0,115200,8,0,1,0)</message>
</record>
<record>
  <date>2016-11-11T02:46:06</date>
  <millis>1478803566994</millis>
  <sequence>4031</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>172</thread>
  <message>recv:l</message>
</record>
<record>
  <date>2016-11-11T02:46:06</date>
  <millis>1478803566996</millis>
  <sequence>4032</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>172</thread>
  <message>recv:ocal FILE="control.lua</message>
</record>
<record>
  <date>2016-11-11T02:46:06</date>
  <millis>1478803566999</millis>
  <sequence>4033</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>172</thread>
  <message>recv:" file.remove(FILE) file.open</message>
</record>
<record>
  <date>2016-11-11T02:46:07</date>
  <millis>1478803567000</millis>
  <sequence>4034</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>172</thread>
  <message>recv:(FILE,"w+") uart.setup(</message>
</record>
<record>
  <date>2016-11-11T02:46:07</date>
  <millis>1478803567002</millis>
  <sequence>4035</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>172</thread>
  <message>recv:0,115200,8,0,1,0)&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:46:07</date>
  <millis>1478803567188</millis>
  <sequence>4036</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>172</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:46:07</date>
  <millis>1478803567211</millis>
  <sequence>4037</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_Receiver=function(rcvBuf) if string.match(rcvBuf,"^ESP_cmd_close")==nil then file.write(string.gsub(rcvBuf, '\r', '')) uart.write(0, "&gt; ") else uart.on("data") </message>
</record>
<record>
  <date>2016-11-11T02:46:07</date>
  <millis>1478803567238</millis>
  <sequence>4038</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>172</thread>
  <message>recv:&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T02:46:07</date>
  <millis>1478803567256</millis>
  <sequence>4039</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:file.flush() file.close() FILE=nil rcvBuf=nil ESP_Receiver=nil uart.setup(0,115200,8,0,1,1) str="\r\n--Done--\r\n&gt; " print(str) str=nil collectgarbage() end end uart.on("data",'\r',ESP_Receiver,0)</message>
</record>
<record>
  <date>2016-11-11T02:46:07</date>
  <millis>1478803567294</millis>
  <sequence>4040</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>172</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:46:07</date>
  <millis>1478803567309</millis>
  <sequence>4041</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local M = {}

-- status pin = 0, alarm 1
-- relay pin = 6 and 7, alarm 2, 3

function M.status_LED(delay)
    gpio.mode(0, gpio.OUTPUT)
    status0 = 0
        
    tmr.alarm(1, delay, 1, function()
        if status0 == 0 then
            status0 = 1
  </message>
</record>
<record>
  <date>2016-11-11T02:46:07</date>
  <millis>1478803567339</millis>
  <sequence>4042</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>172</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:46:07</date>
  <millis>1478803567355</millis>
  <sequence>4043</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:          gpio.write(0, gpio.HIGH)
        else
            status0 = 0
            gpio.write(0, gpio.LOW)
        end 
    end)
      
end

-- One on/off relay
function M.relay_onoff()
    gpio.mode(6, gpio.OUTPUT)
    gpio.mode(7, gpio.OUTPUT)
    tmr</message>
</record>
<record>
  <date>2016-11-11T02:46:07</date>
  <millis>1478803567386</millis>
  <sequence>4044</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>172</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:46:07</date>
  <millis>1478803567396</millis>
  <sequence>4045</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>172</thread>
  <message>recv:LOW</message>
</record>
<record>
  <date>2016-11-11T02:46:07</date>
  <millis>1478803567397</millis>
  <sequence>4046</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>172</thread>
  <message>recv: GPIO&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:46:07</date>
  <millis>1478803567406</millis>
  <sequence>4047</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:.alarm(5, 2000, tmr.ALARM_SINGLE, function()
        if gpio.read(6) == 0 then
        --print ("LOW GPIO")
        gpio.write(6, gpio.HIGH)
        gpio.write(7, gpio.HIGH)
        else        
        tmr.alarm(2, 1000, tmr.ALARM_SINGLE, function() gpi</message>
</record>
<record>
  <date>2016-11-11T02:46:07</date>
  <millis>1478803567437</millis>
  <sequence>4048</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>172</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:46:07</date>
  <millis>1478803567456</millis>
  <sequence>4049</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:o.write(6, gpio.LOW) end)
        tmr.alarm(3, 1000, tmr.ALARM_SINGLE, function() gpio.write(7, gpio.LOW) end)
        end

end)

end

-- loop relay
function M.relay_6(delay, mode)
    gpio.mode(6, gpio.OUTPUT)
    status1 = 0
        
    tmr.alarm(2, d</message>
</record>
<record>
  <date>2016-11-11T02:46:07</date>
  <millis>1478803567487</millis>
  <sequence>4050</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>172</thread>
  <message>recv:&gt;</message>
</record>
<record>
  <date>2016-11-11T02:46:07</date>
  <millis>1478803567488</millis>
  <sequence>4051</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>172</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T02:46:07</date>
  <millis>1478803567506</millis>
  <sequence>4052</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:elay, mode, function()
        if status1 == 0 then
            status1 = 1
            gpio.write(6, gpio.HIGH)
        else
            status1 = 0
            gpio.write(6, gpio.LOW)
        end 
    end)
      
end


function M.relay_7(delay, mode)
 </message>
</record>
<record>
  <date>2016-11-11T02:46:07</date>
  <millis>1478803567537</millis>
  <sequence>4053</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>172</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:46:07</date>
  <millis>1478803567550</millis>
  <sequence>4054</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:   gpio.mode(7, gpio.OUTPUT)
    status2 = 0
        
    tmr.alarm(3, delay, mode, function()
        if status2 == 0 then
            status2 = 1
            gpio.write(7, gpio.HIGH)
        else
            status2 = 0
            gpio.write(7, gpio.L</message>
</record>
<record>
  <date>2016-11-11T02:46:07</date>
  <millis>1478803567581</millis>
  <sequence>4055</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>172</thread>
  <message>recv:&gt;</message>
</record>
<record>
  <date>2016-11-11T02:46:07</date>
  <millis>1478803567582</millis>
  <sequence>4056</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>172</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T02:46:07</date>
  <millis>1478803567601</millis>
  <sequence>4057</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:OW)
        end 
    end)
      
end
return M
</message>
</record>
<record>
  <date>2016-11-11T02:46:07</date>
  <millis>1478803567613</millis>
  <sequence>4058</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>172</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:46:07</date>
  <millis>1478803567627</millis>
  <sequence>4059</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_cmd_close</message>
</record>
<record>
  <date>2016-11-11T02:46:07</date>
  <millis>1478803567639</millis>
  <sequence>4060</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>172</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;-</message>
</record>
<record>
  <date>2016-11-11T02:46:07</date>
  <millis>1478803567641</millis>
  <sequence>4061</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>172</thread>
  <message>recv:-Done--&lt;CR&gt;&lt;LF&gt;&gt; &lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:46:07</date>
  <millis>1478803567663</millis>
  <sequence>4062</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:46:07</date>
  <millis>1478803567664</millis>
  <sequence>4063</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>172</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:46:07</date>
  <millis>1478803567667</millis>
  <sequence>4064</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>172</thread>
  <message>recv:&gt; &lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T02:46:07</date>
  <millis>1478803567702</millis>
  <sequence>4065</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:dofile("control.lua")</message>
</record>
<record>
  <date>2016-11-11T02:46:07</date>
  <millis>1478803567704</millis>
  <sequence>4066</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>172</thread>
  <message>recv:d</message>
</record>
<record>
  <date>2016-11-11T02:46:07</date>
  <millis>1478803567705</millis>
  <sequence>4067</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>172</thread>
  <message>recv:ofile("control.lua</message>
</record>
<record>
  <date>2016-11-11T02:46:07</date>
  <millis>1478803567706</millis>
  <sequence>4068</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>172</thread>
  <message>recv:")&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:46:07</date>
  <millis>1478803567767</millis>
  <sequence>4069</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>172</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:46:07</date>
  <millis>1478803567826</millis>
  <sequence>4070</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>172</thread>
  <message>Operation done. Duration = 998 ms</message>
</record>
<record>
  <date>2016-11-11T02:46:08</date>
  <millis>1478803568393</millis>
  <sequence>4071</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:node.restart()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:46:08</date>
  <millis>1478803568394</millis>
  <sequence>4072</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with saved baud 115200...</message>
</record>
<record>
  <date>2016-11-11T02:46:08</date>
  <millis>1478803568457</millis>
  <sequence>4073</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success. Now we waiting for ESP reboot...</message>
</record>
<record>
  <date>2016-11-11T02:46:10</date>
  <millis>1478803570459</millis>
  <sequence>4074</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with baud 115200...</message>
</record>
<record>
  <date>2016-11-11T02:46:10</date>
  <millis>1478803570460</millis>
  <sequence>4075</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:print(uart.setup(0, 115200, 8, 0, 1, 1 ))&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:46:10</date>
  <millis>1478803570722</millis>
  <sequence>4076</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success.</message>
</record>
<record>
  <date>2016-11-11T02:46:10</date>
  <millis>1478803570766</millis>
  <sequence>4077</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:46:10</date>
  <millis>1478803570769</millis>
  <sequence>4078</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>173</thread>
  <message>
Communication with MCU established.</message>
</record>
<record>
  <date>2016-11-11T02:46:24</date>
  <millis>1478803584864</millis>
  <sequence>4079</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>We save known file init.lua</message>
</record>
<record>
  <date>2016-11-11T02:46:24</date>
  <millis>1478803584866</millis>
  <sequence>4080</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to saving file init.lua ...</message>
</record>
<record>
  <date>2016-11-11T02:46:24</date>
  <millis>1478803584868</millis>
  <sequence>4081</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Save file init.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T02:46:24</date>
  <millis>1478803584881</millis>
  <sequence>4082</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP: Try to save file to ESP...</message>
</record>
<record>
  <date>2016-11-11T02:46:24</date>
  <millis>1478803584882</millis>
  <sequence>4083</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Try to save file to ESP in Turbo Mode...</message>
</record>
<record>
  <date>2016-11-11T02:46:24</date>
  <millis>1478803584890</millis>
  <sequence>4084</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>DataTurboSender: start "Smart Mode"</message>
</record>
<record>
  <date>2016-11-11T02:46:24</date>
  <millis>1478803584890</millis>
  <sequence>4085</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Starting...</message>
</record>
<record>
  <date>2016-11-11T02:46:25</date>
  <millis>1478803585012</millis>
  <sequence>4086</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local FILE="init.lua" file.remove(FILE) file.open(FILE,"w+") uart.setup(0,115200,8,0,1,0)</message>
</record>
<record>
  <date>2016-11-11T02:46:25</date>
  <millis>1478803585014</millis>
  <sequence>4087</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>174</thread>
  <message>recv:lo</message>
</record>
<record>
  <date>2016-11-11T02:46:25</date>
  <millis>1478803585015</millis>
  <sequence>4088</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>174</thread>
  <message>recv:cal FILE="ini</message>
</record>
<record>
  <date>2016-11-11T02:46:25</date>
  <millis>1478803585015</millis>
  <sequence>4089</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>174</thread>
  <message>recv:t.lua"</message>
</record>
<record>
  <date>2016-11-11T02:46:25</date>
  <millis>1478803585016</millis>
  <sequence>4090</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>174</thread>
  <message>recv: file.</message>
</record>
<record>
  <date>2016-11-11T02:46:25</date>
  <millis>1478803585021</millis>
  <sequence>4091</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>174</thread>
  <message>recv:remove(FILE) file.open(FILE,"w+") uart.setup(0,115200,8,0,</message>
</record>
<record>
  <date>2016-11-11T02:46:25</date>
  <millis>1478803585022</millis>
  <sequence>4092</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>174</thread>
  <message>recv:1,0)&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:46:25</date>
  <millis>1478803585328</millis>
  <sequence>4093</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>174</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:46:25</date>
  <millis>1478803585348</millis>
  <sequence>4094</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_Receiver=function(rcvBuf) if string.match(rcvBuf,"^ESP_cmd_close")==nil then file.write(string.gsub(rcvBuf, '\r', '')) uart.write(0, "&gt; ") else uart.on("data") </message>
</record>
<record>
  <date>2016-11-11T02:46:25</date>
  <millis>1478803585374</millis>
  <sequence>4095</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>174</thread>
  <message>recv:&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T02:46:25</date>
  <millis>1478803585393</millis>
  <sequence>4096</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:file.flush() file.close() FILE=nil rcvBuf=nil ESP_Receiver=nil uart.setup(0,115200,8,0,1,1) str="\r\n--Done--\r\n&gt; " print(str) str=nil collectgarbage() end end uart.on("data",'\r',ESP_Receiver,0)</message>
</record>
<record>
  <date>2016-11-11T02:46:25</date>
  <millis>1478803585432</millis>
  <sequence>4097</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>174</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:46:25</date>
  <millis>1478803585449</millis>
  <sequence>4098</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:misc = require "misc"
control = require "control"

-- timer 1 = status, 2,3 = relay 

files = file.list()  -- Lists all files in the file system.

misc.button_press()  -- button press interrupt io3
--misc.button_rst()

control.status_LED(300) -- blink st</message>
</record>
<record>
  <date>2016-11-11T02:46:25</date>
  <millis>1478803585478</millis>
  <sequence>4099</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>174</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:46:25</date>
  <millis>1478803585495</millis>
  <sequence>4100</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:atus LED

wifi.setmode(wifi.STATION)
wifi.sta.autoconnect(0) -- auto connect

if files["config.txt"] then
    misc.con_read()
    --tmr.delay(1000000)
    print(" Config exist, user&gt;".. user .. ", pass&gt;" .. password .. ", now set station mode and connect</message>
</record>
<record>
  <date>2016-11-11T02:46:25</date>
  <millis>1478803585525</millis>
  <sequence>4101</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>174</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:46:25</date>
  <millis>1478803585537</millis>
  <sequence>4102</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:")
    
    wifi.sta.config(user, password)
    wifi.sta.connect()
    
    tmr.alarm(4, 5000, 1, function() 
        if wifi.sta.getip()== nil then
            print("IP unavailable.. if info correct then wait, else reconfig by press BTN1 to clean")
   </message>
</record>
<record>
  <date>2016-11-11T02:46:25</date>
  <millis>1478803585569</millis>
  <sequence>4103</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>174</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:46:25</date>
  <millis>1478803585586</millis>
  <sequence>4104</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:     else
            print("connected.. IP is: " .. wifi.sta.getip())
            tmr.stop(4)
            dofile("mqtt.lua")
        end
    end)
    
else
    --wifi.setmode(wifi.STATION)

    control.relay_onoff()
    control.relay_onoff()
    --print</message>
</record>
<record>
  <date>2016-11-11T02:46:25</date>
  <millis>1478803585618</millis>
  <sequence>4105</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>174</thread>
  <message>recv:&gt;</message>
</record>
<record>
  <date>2016-11-11T02:46:25</date>
  <millis>1478803585619</millis>
  <sequence>4106</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>174</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T02:46:25</date>
  <millis>1478803585640</millis>
  <sequence>4107</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending: (tmr.state(2))
    --control.relay_onoff()
    --control.relay_6(2000)
    --control.relay_7(2000)
    --control.relay_6(2000, 1)
    --control.relay_7(2000, 1)
    --if not tmr.alarm(5, 1000, tmr.ALARM_SINGLE, function() print("hey there") end) then pr</message>
</record>
<record>
  <date>2016-11-11T02:46:25</date>
  <millis>1478803585670</millis>
  <sequence>4108</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>174</thread>
  <message>recv:&gt;</message>
</record>
<record>
  <date>2016-11-11T02:46:25</date>
  <millis>1478803585672</millis>
  <sequence>4109</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>174</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T02:46:25</date>
  <millis>1478803585690</millis>
  <sequence>4110</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:int("whoopsie") end
    --tmr.stop(2)
    --tmr.stop(3)

    tmr.alarm(4, 5000, 1, function() 
        if wifi.sta.getip()== nil then
            print("  Config file NOT exists, starting smartconfig..")
            wifi.startsmart(0,
            functio</message>
</record>
<record>
  <date>2016-11-11T02:46:25</date>
  <millis>1478803585721</millis>
  <sequence>4111</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>174</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:46:25</date>
  <millis>1478803585739</millis>
  <sequence>4112</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:n(ssid, password)
            print(string.format("Success. SSID: %s ; PASSWORD: %s", ssid, password)) 
            misc.con_write(ssid, password)
            end)
        else 
            tmr.stop(1)

            tmr.stop(4)
            print("Config d</message>
</record>
<record>
  <date>2016-11-11T02:46:25</date>
  <millis>1478803585771</millis>
  <sequence>4113</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>174</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:46:25</date>
  <millis>1478803585788</millis>
  <sequence>4114</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:one, IP is "..wifi.sta.getip())
            wifi.stopsmart()

            --misc.con_read()
            --print (user .. password)
            dofile("mqtt.lua")
        end
    end)
        

end
</message>
</record>
<record>
  <date>2016-11-11T02:46:25</date>
  <millis>1478803585814</millis>
  <sequence>4115</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>174</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:46:25</date>
  <millis>1478803585828</millis>
  <sequence>4116</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_cmd_close</message>
</record>
<record>
  <date>2016-11-11T02:46:25</date>
  <millis>1478803585842</millis>
  <sequence>4117</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>174</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;--D</message>
</record>
<record>
  <date>2016-11-11T02:46:25</date>
  <millis>1478803585843</millis>
  <sequence>4118</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>174</thread>
  <message>recv:one--&lt;CR&gt;&lt;LF&gt;&gt; &lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:46:25</date>
  <millis>1478803585866</millis>
  <sequence>4119</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:46:25</date>
  <millis>1478803585868</millis>
  <sequence>4120</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>174</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:46:25</date>
  <millis>1478803585869</millis>
  <sequence>4121</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>174</thread>
  <message>recv:&gt; &lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T02:46:25</date>
  <millis>1478803585905</millis>
  <sequence>4122</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:dofile("init.lua")</message>
</record>
<record>
  <date>2016-11-11T02:46:25</date>
  <millis>1478803585907</millis>
  <sequence>4123</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>174</thread>
  <message>recv:d</message>
</record>
<record>
  <date>2016-11-11T02:46:25</date>
  <millis>1478803585910</millis>
  <sequence>4124</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>174</thread>
  <message>recv:ofile("init.lua")&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:46:26</date>
  <millis>1478803586044</millis>
  <sequence>4125</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>174</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:46:26</date>
  <millis>1478803586127</millis>
  <sequence>4126</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>174</thread>
  <message>Operation done. Duration = 1245 ms</message>
</record>
<record>
  <date>2016-11-11T02:46:27</date>
  <millis>1478803587963</millis>
  <sequence>4127</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:node.restart()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:46:27</date>
  <millis>1478803587964</millis>
  <sequence>4128</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with saved baud 115200...</message>
</record>
<record>
  <date>2016-11-11T02:46:28</date>
  <millis>1478803588024</millis>
  <sequence>4129</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success. Now we waiting for ESP reboot...</message>
</record>
<record>
  <date>2016-11-11T02:46:30</date>
  <millis>1478803590026</millis>
  <sequence>4130</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with baud 115200...</message>
</record>
<record>
  <date>2016-11-11T02:46:30</date>
  <millis>1478803590027</millis>
  <sequence>4131</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:print(uart.setup(0, 115200, 8, 0, 1, 1 ))&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:46:30</date>
  <millis>1478803590290</millis>
  <sequence>4132</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success.</message>
</record>
<record>
  <date>2016-11-11T02:46:30</date>
  <millis>1478803590333</millis>
  <sequence>4133</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:46:30</date>
  <millis>1478803590335</millis>
  <sequence>4134</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>175</thread>
  <message>
Communication with MCU established.</message>
</record>
<record>
  <date>2016-11-11T02:46:30</date>
  <millis>1478803590340</millis>
  <sequence>4135</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>175</thread>
  <message>sending:=node.heap()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:46:36</date>
  <millis>1478803596896</millis>
  <sequence>4136</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:node.restart()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:46:36</date>
  <millis>1478803596898</millis>
  <sequence>4137</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with saved baud 115200...</message>
</record>
<record>
  <date>2016-11-11T02:46:36</date>
  <millis>1478803596960</millis>
  <sequence>4138</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success. Now we waiting for ESP reboot...</message>
</record>
<record>
  <date>2016-11-11T02:46:38</date>
  <millis>1478803598961</millis>
  <sequence>4139</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with baud 115200...</message>
</record>
<record>
  <date>2016-11-11T02:46:38</date>
  <millis>1478803598962</millis>
  <sequence>4140</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:print(uart.setup(0, 115200, 8, 0, 1, 1 ))&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:46:39</date>
  <millis>1478803599227</millis>
  <sequence>4141</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success.</message>
</record>
<record>
  <date>2016-11-11T02:46:39</date>
  <millis>1478803599272</millis>
  <sequence>4142</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:46:39</date>
  <millis>1478803599274</millis>
  <sequence>4143</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>175</thread>
  <message>
Communication with MCU established.</message>
</record>
<record>
  <date>2016-11-11T02:47:30</date>
  <millis>1478803650698</millis>
  <sequence>4144</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to load file control.lua</message>
</record>
<record>
  <date>2016-11-11T02:47:30</date>
  <millis>1478803650734</millis>
  <sequence>4145</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Loading control.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T02:47:30</date>
  <millis>1478803650735</millis>
  <sequence>4146</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>File reload: Success.</message>
</record>
<record>
  <date>2016-11-11T02:47:31</date>
  <millis>1478803651418</millis>
  <sequence>4147</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>We save known file control.lua</message>
</record>
<record>
  <date>2016-11-11T02:47:31</date>
  <millis>1478803651419</millis>
  <sequence>4148</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to saving file control.lua ...</message>
</record>
<record>
  <date>2016-11-11T02:47:31</date>
  <millis>1478803651421</millis>
  <sequence>4149</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Save file control.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T02:47:31</date>
  <millis>1478803651432</millis>
  <sequence>4150</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP: Try to save file to ESP...</message>
</record>
<record>
  <date>2016-11-11T02:47:31</date>
  <millis>1478803651433</millis>
  <sequence>4151</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Try to save file to ESP in Turbo Mode...</message>
</record>
<record>
  <date>2016-11-11T02:47:31</date>
  <millis>1478803651439</millis>
  <sequence>4152</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>DataTurboSender: start "Smart Mode"</message>
</record>
<record>
  <date>2016-11-11T02:47:31</date>
  <millis>1478803651442</millis>
  <sequence>4153</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Starting...</message>
</record>
<record>
  <date>2016-11-11T02:47:31</date>
  <millis>1478803651587</millis>
  <sequence>4154</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local FILE="control.lua" file.remove(FILE) file.open(FILE,"w+") uart.setup(0,115200,8,0,1,0)</message>
</record>
<record>
  <date>2016-11-11T02:47:31</date>
  <millis>1478803651589</millis>
  <sequence>4155</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>176</thread>
  <message>recv:lo</message>
</record>
<record>
  <date>2016-11-11T02:47:31</date>
  <millis>1478803651591</millis>
  <sequence>4156</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>176</thread>
  <message>recv:cal FILE="control</message>
</record>
<record>
  <date>2016-11-11T02:47:31</date>
  <millis>1478803651592</millis>
  <sequence>4157</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>176</thread>
  <message>recv:.lua" file.remove(F</message>
</record>
<record>
  <date>2016-11-11T02:47:31</date>
  <millis>1478803651596</millis>
  <sequence>4158</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>176</thread>
  <message>recv:ILE) file.open(FILE,"w+") uart.setup(</message>
</record>
<record>
  <date>2016-11-11T02:47:31</date>
  <millis>1478803651597</millis>
  <sequence>4159</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>176</thread>
  <message>recv:0,115200,8,0,1</message>
</record>
<record>
  <date>2016-11-11T02:47:31</date>
  <millis>1478803651598</millis>
  <sequence>4160</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>176</thread>
  <message>recv:,0)&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:47:31</date>
  <millis>1478803651782</millis>
  <sequence>4161</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>176</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:47:31</date>
  <millis>1478803651807</millis>
  <sequence>4162</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_Receiver=function(rcvBuf) if string.match(rcvBuf,"^ESP_cmd_close")==nil then file.write(string.gsub(rcvBuf, '\r', '')) uart.write(0, "&gt; ") else uart.on("data") </message>
</record>
<record>
  <date>2016-11-11T02:47:31</date>
  <millis>1478803651836</millis>
  <sequence>4163</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>176</thread>
  <message>recv:&gt;&gt;</message>
</record>
<record>
  <date>2016-11-11T02:47:31</date>
  <millis>1478803651838</millis>
  <sequence>4164</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>176</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T02:47:31</date>
  <millis>1478803651859</millis>
  <sequence>4165</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:file.flush() file.close() FILE=nil rcvBuf=nil ESP_Receiver=nil uart.setup(0,115200,8,0,1,1) str="\r\n--Done--\r\n&gt; " print(str) str=nil collectgarbage() end end uart.on("data",'\r',ESP_Receiver,0)</message>
</record>
<record>
  <date>2016-11-11T02:47:31</date>
  <millis>1478803651901</millis>
  <sequence>4166</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>176</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:47:31</date>
  <millis>1478803651916</millis>
  <sequence>4167</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local M = {}

-- status pin = 0, alarm 1
-- relay pin = 6 and 7, alarm 2, 3

function M.status_LED(delay)
    gpio.mode(0, gpio.OUTPUT)
    status0 = 0
        
    tmr.alarm(1, delay, 1, function()
        if status0 == 0 then
            status0 = 1
  </message>
</record>
<record>
  <date>2016-11-11T02:47:31</date>
  <millis>1478803651945</millis>
  <sequence>4168</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>176</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:47:31</date>
  <millis>1478803651969</millis>
  <sequence>4169</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:          gpio.write(0, gpio.HIGH)
        else
            status0 = 0
            gpio.write(0, gpio.LOW)
        end 
    end)
      
end

-- One on/off relay
function M.relay_onoff(times)
    gpio.mode(6, gpio.OUTPUT)
    gpio.mode(7, gpio.OUTPUT)
  </message>
</record>
<record>
  <date>2016-11-11T02:47:32</date>
  <millis>1478803652000</millis>
  <sequence>4170</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>176</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:47:32</date>
  <millis>1478803652016</millis>
  <sequence>4171</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:  tmr.alarm(5, 1000*times*2, tmr.ALARM_SINGLE, function()
        if gpio.read(6) == 0 then
        --print ("LOW GPIO")
        gpio.write(6, gpio.HIGH)
        gpio.write(7, gpio.HIGH)
        else        
        tmr.alarm(2, 1000*times, tmr.ALARM_SIN</message>
</record>
<record>
  <date>2016-11-11T02:47:32</date>
  <millis>1478803652047</millis>
  <sequence>4172</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>176</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:47:32</date>
  <millis>1478803652064</millis>
  <sequence>4173</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:GLE, function() gpio.write(6, gpio.LOW) end)
        tmr.alarm(3, 1000*times, tmr.ALARM_SINGLE, function() gpio.write(7, gpio.LOW) end)
        end

end)

end

-- loop relay
function M.relay_6(delay, mode)
    gpio.mode(6, gpio.OUTPUT)
    status1 = 0
  </message>
</record>
<record>
  <date>2016-11-11T02:47:32</date>
  <millis>1478803652095</millis>
  <sequence>4174</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>176</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:47:32</date>
  <millis>1478803652108</millis>
  <sequence>4175</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:      
    tmr.alarm(2, delay, mode, function()
        if status1 == 0 then
            status1 = 1
            gpio.write(6, gpio.HIGH)
        else
            status1 = 0
            gpio.write(6, gpio.LOW)
        end 
    end)
      
end


function</message>
</record>
<record>
  <date>2016-11-11T02:47:32</date>
  <millis>1478803652139</millis>
  <sequence>4176</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>176</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:47:32</date>
  <millis>1478803652165</millis>
  <sequence>4177</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending: M.relay_7(delay, mode)
    gpio.mode(7, gpio.OUTPUT)
    status2 = 0
        
    tmr.alarm(3, delay, mode, function()
        if status2 == 0 then
            status2 = 1
            gpio.write(7, gpio.HIGH)
        else
            status2 = 0
       </message>
</record>
<record>
  <date>2016-11-11T02:47:32</date>
  <millis>1478803652196</millis>
  <sequence>4178</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>176</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:47:32</date>
  <millis>1478803652210</millis>
  <sequence>4179</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:     gpio.write(7, gpio.LOW)
        end 
    end)
      
end
return M
</message>
</record>
<record>
  <date>2016-11-11T02:47:32</date>
  <millis>1478803652225</millis>
  <sequence>4180</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>176</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:47:32</date>
  <millis>1478803652245</millis>
  <sequence>4181</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_cmd_close</message>
</record>
<record>
  <date>2016-11-11T02:47:32</date>
  <millis>1478803652257</millis>
  <sequence>4182</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>176</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:47:32</date>
  <millis>1478803652264</millis>
  <sequence>4183</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>176</thread>
  <message>recv:--Done--&lt;CR&gt;&lt;LF&gt;&gt; &lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:47:32</date>
  <millis>1478803652298</millis>
  <sequence>4184</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:47:32</date>
  <millis>1478803652299</millis>
  <sequence>4185</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>176</thread>
  <message>recv:&lt;CR&gt;</message>
</record>
<record>
  <date>2016-11-11T02:47:32</date>
  <millis>1478803652300</millis>
  <sequence>4186</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>176</thread>
  <message>recv:&lt;LF&gt;&gt; &lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T02:47:32</date>
  <millis>1478803652332</millis>
  <sequence>4187</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:dofile("control.lua")</message>
</record>
<record>
  <date>2016-11-11T02:47:32</date>
  <millis>1478803652333</millis>
  <sequence>4188</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>176</thread>
  <message>recv:do</message>
</record>
<record>
  <date>2016-11-11T02:47:32</date>
  <millis>1478803652334</millis>
  <sequence>4189</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>176</thread>
  <message>recv:file("control</message>
</record>
<record>
  <date>2016-11-11T02:47:32</date>
  <millis>1478803652336</millis>
  <sequence>4190</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>176</thread>
  <message>recv:.lua")&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:47:32</date>
  <millis>1478803652398</millis>
  <sequence>4191</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>176</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:47:32</date>
  <millis>1478803652467</millis>
  <sequence>4192</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>176</thread>
  <message>Operation done. Duration = 1033 ms</message>
</record>
<record>
  <date>2016-11-11T02:47:33</date>
  <millis>1478803653888</millis>
  <sequence>4193</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>File reload: File changed. Ask before reloading.</message>
</record>
<record>
  <date>2016-11-11T02:47:35</date>
  <millis>1478803655194</millis>
  <sequence>4194</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>File reload: Reload anyway by user choice.</message>
</record>
<record>
  <date>2016-11-11T02:47:35</date>
  <millis>1478803655197</millis>
  <sequence>4195</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to load file init.lua</message>
</record>
<record>
  <date>2016-11-11T02:47:35</date>
  <millis>1478803655232</millis>
  <sequence>4196</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Loading init.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T02:47:35</date>
  <millis>1478803655237</millis>
  <sequence>4197</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>File reload: Success.</message>
</record>
<record>
  <date>2016-11-11T02:47:36</date>
  <millis>1478803656286</millis>
  <sequence>4198</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>We save known file init.lua</message>
</record>
<record>
  <date>2016-11-11T02:47:36</date>
  <millis>1478803656287</millis>
  <sequence>4199</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to saving file init.lua ...</message>
</record>
<record>
  <date>2016-11-11T02:47:36</date>
  <millis>1478803656288</millis>
  <sequence>4200</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Save file init.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T02:47:36</date>
  <millis>1478803656302</millis>
  <sequence>4201</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP: Try to save file to ESP...</message>
</record>
<record>
  <date>2016-11-11T02:47:36</date>
  <millis>1478803656303</millis>
  <sequence>4202</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Try to save file to ESP in Turbo Mode...</message>
</record>
<record>
  <date>2016-11-11T02:47:36</date>
  <millis>1478803656312</millis>
  <sequence>4203</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>DataTurboSender: start "Smart Mode"</message>
</record>
<record>
  <date>2016-11-11T02:47:36</date>
  <millis>1478803656313</millis>
  <sequence>4204</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Starting...</message>
</record>
<record>
  <date>2016-11-11T02:47:36</date>
  <millis>1478803656465</millis>
  <sequence>4205</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local FILE="init.lua" file.remove(FILE) file.open(FILE,"w+") uart.setup(0,115200,8,0,1,0)</message>
</record>
<record>
  <date>2016-11-11T02:47:36</date>
  <millis>1478803656467</millis>
  <sequence>4206</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>178</thread>
  <message>recv:loc</message>
</record>
<record>
  <date>2016-11-11T02:47:36</date>
  <millis>1478803656471</millis>
  <sequence>4207</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>178</thread>
  <message>recv:al FILE="init.lua" file.remove(FILE) file</message>
</record>
<record>
  <date>2016-11-11T02:47:36</date>
  <millis>1478803656474</millis>
  <sequence>4208</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>178</thread>
  <message>recv:.open(FILE,"w+") uart.setup(0,1152</message>
</record>
<record>
  <date>2016-11-11T02:47:36</date>
  <millis>1478803656485</millis>
  <sequence>4209</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>178</thread>
  <message>recv:00,8,0,1,0)&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:47:36</date>
  <millis>1478803656748</millis>
  <sequence>4210</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>178</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:47:36</date>
  <millis>1478803656764</millis>
  <sequence>4211</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_Receiver=function(rcvBuf) if string.match(rcvBuf,"^ESP_cmd_close")==nil then file.write(string.gsub(rcvBuf, '\r', '')) uart.write(0, "&gt; ") else uart.on("data") </message>
</record>
<record>
  <date>2016-11-11T02:47:36</date>
  <millis>1478803656790</millis>
  <sequence>4212</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>178</thread>
  <message>recv:&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T02:47:36</date>
  <millis>1478803656805</millis>
  <sequence>4213</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:file.flush() file.close() FILE=nil rcvBuf=nil ESP_Receiver=nil uart.setup(0,115200,8,0,1,1) str="\r\n--Done--\r\n&gt; " print(str) str=nil collectgarbage() end end uart.on("data",'\r',ESP_Receiver,0)</message>
</record>
<record>
  <date>2016-11-11T02:47:36</date>
  <millis>1478803656843</millis>
  <sequence>4214</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>178</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:47:36</date>
  <millis>1478803656859</millis>
  <sequence>4215</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:misc = require "misc"
control = require "control"

-- timer 1 = status, 2,3 = relay 

files = file.list()  -- Lists all files in the file system.

misc.button_press()  -- button press interrupt io3
--misc.button_rst()

control.status_LED(300) -- blink st</message>
</record>
<record>
  <date>2016-11-11T02:47:36</date>
  <millis>1478803656888</millis>
  <sequence>4216</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>178</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:47:36</date>
  <millis>1478803656908</millis>
  <sequence>4217</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:atus LED

wifi.setmode(wifi.STATION)
wifi.sta.autoconnect(0) -- auto connect

if files["config.txt"] then
    misc.con_read()
    --tmr.delay(1000000)
    print(" Config exist, user&gt;".. user .. ", pass&gt;" .. password .. ", now set station mode and connect</message>
</record>
<record>
  <date>2016-11-11T02:47:36</date>
  <millis>1478803656939</millis>
  <sequence>4218</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>178</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:47:36</date>
  <millis>1478803656954</millis>
  <sequence>4219</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:")
    
    wifi.sta.config(user, password)
    wifi.sta.connect()
    
    tmr.alarm(4, 5000, 1, function() 
        if wifi.sta.getip()== nil then
            print("IP unavailable.. if info correct then wait, else reconfig by press BTN1 to clean")
   </message>
</record>
<record>
  <date>2016-11-11T02:47:36</date>
  <millis>1478803656985</millis>
  <sequence>4220</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>178</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:47:37</date>
  <millis>1478803657000</millis>
  <sequence>4221</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:     else
            print("connected.. IP is: " .. wifi.sta.getip())
            tmr.stop(4)
            dofile("mqtt.lua")
        end
    end)
    
else
    --wifi.setmode(wifi.STATION)

    control.relay_onoff(1)
    control.relay_onoff(2)
    --pri</message>
</record>
<record>
  <date>2016-11-11T02:47:37</date>
  <millis>1478803657033</millis>
  <sequence>4222</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>178</thread>
  <message>recv:&gt;</message>
</record>
<record>
  <date>2016-11-11T02:47:37</date>
  <millis>1478803657035</millis>
  <sequence>4223</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>178</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T02:47:37</date>
  <millis>1478803657056</millis>
  <sequence>4224</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:nt (tmr.state(2))
    --control.relay_onoff()
    --control.relay_6(2000)
    --control.relay_7(2000)
    --control.relay_6(2000, 1)
    --control.relay_7(2000, 1)
    --if not tmr.alarm(5, 1000, tmr.ALARM_SINGLE, function() print("hey there") end) then </message>
</record>
<record>
  <date>2016-11-11T02:47:37</date>
  <millis>1478803657088</millis>
  <sequence>4225</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>178</thread>
  <message>recv:&gt;</message>
</record>
<record>
  <date>2016-11-11T02:47:37</date>
  <millis>1478803657089</millis>
  <sequence>4226</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>178</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T02:47:37</date>
  <millis>1478803657111</millis>
  <sequence>4227</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:print("whoopsie") end
    --tmr.stop(2)
    --tmr.stop(3)

    tmr.alarm(4, 5000, 1, function() 
        if wifi.sta.getip()== nil then
            print("  Config file NOT exists, starting smartconfig..")
            wifi.startsmart(0,
            funct</message>
</record>
<record>
  <date>2016-11-11T02:47:37</date>
  <millis>1478803657144</millis>
  <sequence>4228</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>178</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:47:37</date>
  <millis>1478803657158</millis>
  <sequence>4229</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ion(ssid, password)
            print(string.format("Success. SSID: %s ; PASSWORD: %s", ssid, password)) 
            misc.con_write(ssid, password)
            end)
        else 
            tmr.stop(1)

            tmr.stop(4)
            print("Config</message>
</record>
<record>
  <date>2016-11-11T02:47:37</date>
  <millis>1478803657189</millis>
  <sequence>4230</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>178</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:47:37</date>
  <millis>1478803657204</millis>
  <sequence>4231</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending: done, IP is "..wifi.sta.getip())
            wifi.stopsmart()

            --misc.con_read()
            --print (user .. password)
            dofile("mqtt.lua")
        end
    end)
        

end
</message>
</record>
<record>
  <date>2016-11-11T02:47:37</date>
  <millis>1478803657229</millis>
  <sequence>4232</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>178</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:47:37</date>
  <millis>1478803657244</millis>
  <sequence>4233</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_cmd_close</message>
</record>
<record>
  <date>2016-11-11T02:47:37</date>
  <millis>1478803657257</millis>
  <sequence>4234</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>178</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;-</message>
</record>
<record>
  <date>2016-11-11T02:47:37</date>
  <millis>1478803657258</millis>
  <sequence>4235</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>178</thread>
  <message>recv:-Done--&lt;CR&gt;&lt;LF&gt;&gt; &lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:47:37</date>
  <millis>1478803657290</millis>
  <sequence>4236</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:47:37</date>
  <millis>1478803657291</millis>
  <sequence>4237</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>178</thread>
  <message>recv:&lt;CR&gt;</message>
</record>
<record>
  <date>2016-11-11T02:47:37</date>
  <millis>1478803657293</millis>
  <sequence>4238</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>178</thread>
  <message>recv:&lt;LF&gt;&gt; &lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T02:47:37</date>
  <millis>1478803657335</millis>
  <sequence>4239</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:dofile("init.lua")</message>
</record>
<record>
  <date>2016-11-11T02:47:37</date>
  <millis>1478803657336</millis>
  <sequence>4240</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>178</thread>
  <message>recv:d</message>
</record>
<record>
  <date>2016-11-11T02:47:37</date>
  <millis>1478803657338</millis>
  <sequence>4241</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>178</thread>
  <message>recv:ofile("init.lua</message>
</record>
<record>
  <date>2016-11-11T02:47:37</date>
  <millis>1478803657338</millis>
  <sequence>4242</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>178</thread>
  <message>recv:")&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:47:37</date>
  <millis>1478803657466</millis>
  <sequence>4243</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>178</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:47:37</date>
  <millis>1478803657533</millis>
  <sequence>4244</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>178</thread>
  <message>Operation done. Duration = 1230 ms</message>
</record>
<record>
  <date>2016-11-11T02:47:38</date>
  <millis>1478803658062</millis>
  <sequence>4245</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:node.restart()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:47:38</date>
  <millis>1478803658063</millis>
  <sequence>4246</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with saved baud 115200...</message>
</record>
<record>
  <date>2016-11-11T02:47:38</date>
  <millis>1478803658124</millis>
  <sequence>4247</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success. Now we waiting for ESP reboot...</message>
</record>
<record>
  <date>2016-11-11T02:47:40</date>
  <millis>1478803660126</millis>
  <sequence>4248</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with baud 115200...</message>
</record>
<record>
  <date>2016-11-11T02:47:40</date>
  <millis>1478803660126</millis>
  <sequence>4249</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:print(uart.setup(0, 115200, 8, 0, 1, 1 ))&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:47:40</date>
  <millis>1478803660390</millis>
  <sequence>4250</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success.</message>
</record>
<record>
  <date>2016-11-11T02:47:40</date>
  <millis>1478803660420</millis>
  <sequence>4251</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:47:40</date>
  <millis>1478803660423</millis>
  <sequence>4252</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>179</thread>
  <message>
Communication with MCU established.</message>
</record>
<record>
  <date>2016-11-11T02:48:13</date>
  <millis>1478803693899</millis>
  <sequence>4253</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to load file init.lua</message>
</record>
<record>
  <date>2016-11-11T02:48:13</date>
  <millis>1478803693924</millis>
  <sequence>4254</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Loading init.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T02:48:13</date>
  <millis>1478803693925</millis>
  <sequence>4255</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>File reload: Success.</message>
</record>
<record>
  <date>2016-11-11T02:48:15</date>
  <millis>1478803695114</millis>
  <sequence>4256</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>We save known file init.lua</message>
</record>
<record>
  <date>2016-11-11T02:48:15</date>
  <millis>1478803695115</millis>
  <sequence>4257</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to saving file init.lua ...</message>
</record>
<record>
  <date>2016-11-11T02:48:15</date>
  <millis>1478803695133</millis>
  <sequence>4258</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Save file init.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T02:48:15</date>
  <millis>1478803695226</millis>
  <sequence>4259</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP: Try to save file to ESP...</message>
</record>
<record>
  <date>2016-11-11T02:48:15</date>
  <millis>1478803695343</millis>
  <sequence>4260</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Try to save file to ESP in Turbo Mode...</message>
</record>
<record>
  <date>2016-11-11T02:48:15</date>
  <millis>1478803695350</millis>
  <sequence>4261</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>DataTurboSender: start "Smart Mode"</message>
</record>
<record>
  <date>2016-11-11T02:48:15</date>
  <millis>1478803695350</millis>
  <sequence>4262</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Starting...</message>
</record>
<record>
  <date>2016-11-11T02:48:15</date>
  <millis>1478803695456</millis>
  <sequence>4263</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local FILE="init.lua" file.remove(FILE) file.open(FILE,"w+") uart.setup(0,115200,8,0,1,0)</message>
</record>
<record>
  <date>2016-11-11T02:48:15</date>
  <millis>1478803695457</millis>
  <sequence>4264</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>180</thread>
  <message>recv:lo</message>
</record>
<record>
  <date>2016-11-11T02:48:15</date>
  <millis>1478803695458</millis>
  <sequence>4265</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>180</thread>
  <message>recv:cal FILE="init.lua"</message>
</record>
<record>
  <date>2016-11-11T02:48:15</date>
  <millis>1478803695459</millis>
  <sequence>4266</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>180</thread>
  <message>recv: file.r</message>
</record>
<record>
  <date>2016-11-11T02:48:15</date>
  <millis>1478803695460</millis>
  <sequence>4267</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>180</thread>
  <message>recv:emove</message>
</record>
<record>
  <date>2016-11-11T02:48:15</date>
  <millis>1478803695460</millis>
  <sequence>4268</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>180</thread>
  <message>recv:(FILE</message>
</record>
<record>
  <date>2016-11-11T02:48:15</date>
  <millis>1478803695460</millis>
  <sequence>4269</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>180</thread>
  <message>recv:) fil</message>
</record>
<record>
  <date>2016-11-11T02:48:15</date>
  <millis>1478803695461</millis>
  <sequence>4270</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>180</thread>
  <message>recv:e.open(</message>
</record>
<record>
  <date>2016-11-11T02:48:15</date>
  <millis>1478803695462</millis>
  <sequence>4271</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>180</thread>
  <message>recv:FILE,"</message>
</record>
<record>
  <date>2016-11-11T02:48:15</date>
  <millis>1478803695462</millis>
  <sequence>4272</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>180</thread>
  <message>recv:w+") uart</message>
</record>
<record>
  <date>2016-11-11T02:48:15</date>
  <millis>1478803695463</millis>
  <sequence>4273</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>180</thread>
  <message>recv:.setup(0</message>
</record>
<record>
  <date>2016-11-11T02:48:15</date>
  <millis>1478803695465</millis>
  <sequence>4274</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>180</thread>
  <message>recv:,115200,8,0,1,0)&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:48:15</date>
  <millis>1478803695649</millis>
  <sequence>4275</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>180</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:48:15</date>
  <millis>1478803695663</millis>
  <sequence>4276</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_Receiver=function(rcvBuf) if string.match(rcvBuf,"^ESP_cmd_close")==nil then file.write(string.gsub(rcvBuf, '\r', '')) uart.write(0, "&gt; ") else uart.on("data") </message>
</record>
<record>
  <date>2016-11-11T02:48:15</date>
  <millis>1478803695694</millis>
  <sequence>4277</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>180</thread>
  <message>recv:&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T02:48:15</date>
  <millis>1478803695722</millis>
  <sequence>4278</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:file.flush() file.close() FILE=nil rcvBuf=nil ESP_Receiver=nil uart.setup(0,115200,8,0,1,1) str="\r\n--Done--\r\n&gt; " print(str) str=nil collectgarbage() end end uart.on("data",'\r',ESP_Receiver,0)</message>
</record>
<record>
  <date>2016-11-11T02:48:15</date>
  <millis>1478803695763</millis>
  <sequence>4279</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>180</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:48:15</date>
  <millis>1478803695779</millis>
  <sequence>4280</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:misc = require "misc"
control = require "control"

-- timer 1 = status, 2,3 = relay 

files = file.list()  -- Lists all files in the file system.

misc.button_press()  -- button press interrupt io3
--misc.button_rst()

control.status_LED(300) -- blink st</message>
</record>
<record>
  <date>2016-11-11T02:48:15</date>
  <millis>1478803695810</millis>
  <sequence>4281</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>180</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:48:15</date>
  <millis>1478803695826</millis>
  <sequence>4282</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:atus LED

wifi.setmode(wifi.STATION)
wifi.sta.autoconnect(0) -- auto connect

if files["config.txt"] then
    misc.con_read()
    --tmr.delay(1000000)
    print(" Config exist, user&gt;".. user .. ", pass&gt;" .. password .. ", now set station mode and connect</message>
</record>
<record>
  <date>2016-11-11T02:48:15</date>
  <millis>1478803695858</millis>
  <sequence>4283</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>180</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:48:15</date>
  <millis>1478803695870</millis>
  <sequence>4284</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:")
    
    wifi.sta.config(user, password)
    wifi.sta.connect()
    
    tmr.alarm(4, 5000, 1, function() 
        if wifi.sta.getip()== nil then
            print("IP unavailable.. if info correct then wait, else reconfig by press BTN1 to clean")
   </message>
</record>
<record>
  <date>2016-11-11T02:48:15</date>
  <millis>1478803695901</millis>
  <sequence>4285</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>180</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:48:15</date>
  <millis>1478803695915</millis>
  <sequence>4286</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:     else
            print("connected.. IP is: " .. wifi.sta.getip())
            tmr.stop(4)
            dofile("mqtt.lua")
        end
    end)
    
else
    --wifi.setmode(wifi.STATION)

    control.relay_onoff(1)
    control.relay_onoff(3)
    --pri</message>
</record>
<record>
  <date>2016-11-11T02:48:15</date>
  <millis>1478803695945</millis>
  <sequence>4287</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>180</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:48:15</date>
  <millis>1478803695959</millis>
  <sequence>4288</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:nt (tmr.state(2))
    --control.relay_onoff()
    --control.relay_6(2000)
    --control.relay_7(2000)
    --control.relay_6(2000, 1)
    --control.relay_7(2000, 1)
    --if not tmr.alarm(5, 1000, tmr.ALARM_SINGLE, function() print("hey there") end) then </message>
</record>
<record>
  <date>2016-11-11T02:48:15</date>
  <millis>1478803695989</millis>
  <sequence>4289</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>180</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:48:16</date>
  <millis>1478803696004</millis>
  <sequence>4290</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:print("whoopsie") end
    --tmr.stop(2)
    --tmr.stop(3)

    tmr.alarm(4, 5000, 1, function() 
        if wifi.sta.getip()== nil then
            print("  Config file NOT exists, starting smartconfig..")
            wifi.startsmart(0,
            funct</message>
</record>
<record>
  <date>2016-11-11T02:48:16</date>
  <millis>1478803696035</millis>
  <sequence>4291</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>180</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:48:16</date>
  <millis>1478803696053</millis>
  <sequence>4292</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ion(ssid, password)
            print(string.format("Success. SSID: %s ; PASSWORD: %s", ssid, password)) 
            misc.con_write(ssid, password)
            end)
        else 
            tmr.stop(1)

            tmr.stop(4)
            print("Config</message>
</record>
<record>
  <date>2016-11-11T02:48:16</date>
  <millis>1478803696084</millis>
  <sequence>4293</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>180</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:48:16</date>
  <millis>1478803696102</millis>
  <sequence>4294</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending: done, IP is "..wifi.sta.getip())
            wifi.stopsmart()

            --misc.con_read()
            --print (user .. password)
            dofile("mqtt.lua")
        end
    end)
        

end
</message>
</record>
<record>
  <date>2016-11-11T02:48:16</date>
  <millis>1478803696128</millis>
  <sequence>4295</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>180</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:48:16</date>
  <millis>1478803696146</millis>
  <sequence>4296</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_cmd_close</message>
</record>
<record>
  <date>2016-11-11T02:48:16</date>
  <millis>1478803696159</millis>
  <sequence>4297</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>180</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;-</message>
</record>
<record>
  <date>2016-11-11T02:48:16</date>
  <millis>1478803696160</millis>
  <sequence>4298</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>180</thread>
  <message>recv:-Done--&lt;CR&gt;&lt;LF&gt;&gt;</message>
</record>
<record>
  <date>2016-11-11T02:48:16</date>
  <millis>1478803696160</millis>
  <sequence>4299</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>180</thread>
  <message>recv: &lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:48:16</date>
  <millis>1478803696186</millis>
  <sequence>4300</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:48:16</date>
  <millis>1478803696188</millis>
  <sequence>4301</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>180</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T02:48:16</date>
  <millis>1478803696190</millis>
  <sequence>4302</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>180</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T02:48:16</date>
  <millis>1478803696229</millis>
  <sequence>4303</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>180</thread>
  <message>Operation done. Duration = 885 ms</message>
</record>
<record>
  <date>2016-11-11T02:48:23</date>
  <millis>1478803703871</millis>
  <sequence>4304</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:node.restart()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:48:23</date>
  <millis>1478803703872</millis>
  <sequence>4305</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with saved baud 115200...</message>
</record>
<record>
  <date>2016-11-11T02:48:23</date>
  <millis>1478803703935</millis>
  <sequence>4306</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success. Now we waiting for ESP reboot...</message>
</record>
<record>
  <date>2016-11-11T02:48:25</date>
  <millis>1478803705963</millis>
  <sequence>4307</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with baud 115200...</message>
</record>
<record>
  <date>2016-11-11T02:48:25</date>
  <millis>1478803705969</millis>
  <sequence>4308</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:print(uart.setup(0, 115200, 8, 0, 1, 1 ))&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:48:26</date>
  <millis>1478803706231</millis>
  <sequence>4309</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success.</message>
</record>
<record>
  <date>2016-11-11T02:48:26</date>
  <millis>1478803706278</millis>
  <sequence>4310</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:48:26</date>
  <millis>1478803706280</millis>
  <sequence>4311</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>181</thread>
  <message>
Communication with MCU established.</message>
</record>
<record>
  <date>2016-11-11T02:49:07</date>
  <millis>1478803747059</millis>
  <sequence>4312</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Close port COM11 - Success.</message>
</record>
<record>
  <date>2016-11-11T02:49:07</date>
  <millis>1478803747602</millis>
  <sequence>4313</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Serial port COM11 save as default.</message>
</record>
<record>
  <date>2016-11-11T02:49:07</date>
  <millis>1478803747603</millis>
  <sequence>4314</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Baud rate 115200 save as default.</message>
</record>
<record>
  <date>2016-11-11T02:49:07</date>
  <millis>1478803747605</millis>
  <sequence>4315</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to open port COM11, baud 115200, 8N1</message>
</record>
<record>
  <date>2016-11-11T02:49:07</date>
  <millis>1478803747812</millis>
  <sequence>4316</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Open port COM11 - Success.</message>
</record>
<record>
  <date>2016-11-11T02:49:07</date>
  <millis>1478803747860</millis>
  <sequence>4317</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:49:07</date>
  <millis>1478803747953</millis>
  <sequence>4318</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>183</thread>
  <message>
Communication with MCU established.</message>
</record>
<record>
  <date>2016-11-11T02:49:07</date>
  <millis>1478803747955</millis>
  <sequence>4319</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>183</thread>
  <message>sending:=node.heap()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:49:17</date>
  <millis>1478803757787</millis>
  <sequence>4320</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>We save known file init.lua</message>
</record>
<record>
  <date>2016-11-11T02:49:17</date>
  <millis>1478803757789</millis>
  <sequence>4321</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to saving file init.lua ...</message>
</record>
<record>
  <date>2016-11-11T02:49:17</date>
  <millis>1478803757790</millis>
  <sequence>4322</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Save file init.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T02:49:17</date>
  <millis>1478803757803</millis>
  <sequence>4323</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP: Try to save file to ESP...</message>
</record>
<record>
  <date>2016-11-11T02:49:17</date>
  <millis>1478803757807</millis>
  <sequence>4324</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Try to save file to ESP in Turbo Mode...</message>
</record>
<record>
  <date>2016-11-11T02:49:17</date>
  <millis>1478803757814</millis>
  <sequence>4325</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>DataTurboSender: start "Smart Mode"</message>
</record>
<record>
  <date>2016-11-11T02:49:17</date>
  <millis>1478803757815</millis>
  <sequence>4326</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Starting...</message>
</record>
<record>
  <date>2016-11-11T02:49:17</date>
  <millis>1478803757979</millis>
  <sequence>4327</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local FILE="init.lua" file.remove(FILE) file.open(FILE,"w+") uart.setup(0,115200,8,0,1,0)</message>
</record>
<record>
  <date>2016-11-11T02:49:17</date>
  <millis>1478803757982</millis>
  <sequence>4328</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>184</thread>
  <message>recv:lo</message>
</record>
<record>
  <date>2016-11-11T02:49:18</date>
  <millis>1478803758004</millis>
  <sequence>4329</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>184</thread>
  <message>recv:cal FILE="init.lua" file.remove(FILE) file.open(FILE,"w+") uart.setup(0,115200,8,0,1,0)&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:49:18</date>
  <millis>1478803758175</millis>
  <sequence>4330</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>184</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:49:18</date>
  <millis>1478803758189</millis>
  <sequence>4331</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_Receiver=function(rcvBuf) if string.match(rcvBuf,"^ESP_cmd_close")==nil then file.write(string.gsub(rcvBuf, '\r', '')) uart.write(0, "&gt; ") else uart.on("data") </message>
</record>
<record>
  <date>2016-11-11T02:49:18</date>
  <millis>1478803758218</millis>
  <sequence>4332</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>184</thread>
  <message>recv:&gt;&gt;</message>
</record>
<record>
  <date>2016-11-11T02:49:18</date>
  <millis>1478803758219</millis>
  <sequence>4333</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>184</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T02:49:18</date>
  <millis>1478803758240</millis>
  <sequence>4334</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:file.flush() file.close() FILE=nil rcvBuf=nil ESP_Receiver=nil uart.setup(0,115200,8,0,1,1) str="\r\n--Done--\r\n&gt; " print(str) str=nil collectgarbage() end end uart.on("data",'\r',ESP_Receiver,0)</message>
</record>
<record>
  <date>2016-11-11T02:49:18</date>
  <millis>1478803758280</millis>
  <sequence>4335</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>184</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:49:18</date>
  <millis>1478803758297</millis>
  <sequence>4336</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:misc = require "misc"
control = require "control"

-- timer 1 = status, 2,3 = relay 

files = file.list()  -- Lists all files in the file system.

misc.button_press()  -- button press interrupt io3
--misc.button_rst()

control.status_LED(300) -- blink st</message>
</record>
<record>
  <date>2016-11-11T02:49:18</date>
  <millis>1478803758326</millis>
  <sequence>4337</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>184</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:49:18</date>
  <millis>1478803758339</millis>
  <sequence>4338</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:atus LED

wifi.setmode(wifi.STATION)
wifi.sta.autoconnect(0) -- auto connect

if files["config.txt"] then
    misc.con_read()
    --tmr.delay(1000000)
    print(" Config exist, user&gt;".. user .. ", pass&gt;" .. password .. ", now set station mode and connect</message>
</record>
<record>
  <date>2016-11-11T02:49:18</date>
  <millis>1478803758371</millis>
  <sequence>4339</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>184</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:49:18</date>
  <millis>1478803758389</millis>
  <sequence>4340</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:")
    
    wifi.sta.config(user, password)
    wifi.sta.connect()
    
    tmr.alarm(4, 5000, 1, function() 
        if wifi.sta.getip()== nil then
            print("IP unavailable.. if info correct then wait, else reconfig by press BTN1 to clean")
   </message>
</record>
<record>
  <date>2016-11-11T02:49:18</date>
  <millis>1478803758420</millis>
  <sequence>4341</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>184</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:49:18</date>
  <millis>1478803758436</millis>
  <sequence>4342</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:     else
            print("connected.. IP is: " .. wifi.sta.getip())
            tmr.stop(4)
            dofile("mqtt.lua")
        end
    end)
    
else
    --wifi.setmode(wifi.STATION)

    control.relay_onoff()
    --control.relay_onoff(3)
    --pr</message>
</record>
<record>
  <date>2016-11-11T02:49:18</date>
  <millis>1478803758466</millis>
  <sequence>4343</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>184</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:49:18</date>
  <millis>1478803758482</millis>
  <sequence>4344</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:int (tmr.state(2))
    --control.relay_onoff()
    --control.relay_6(2000)
    --control.relay_7(2000)
    --control.relay_6(2000, 1)
    --control.relay_7(2000, 1)
    --if not tmr.alarm(5, 1000, tmr.ALARM_SINGLE, function() print("hey there") end) then</message>
</record>
<record>
  <date>2016-11-11T02:49:18</date>
  <millis>1478803758513</millis>
  <sequence>4345</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>184</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:49:18</date>
  <millis>1478803758530</millis>
  <sequence>4346</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending: print("whoopsie") end
    --tmr.stop(2)
    --tmr.stop(3)

    tmr.alarm(4, 5000, 1, function() 
        if wifi.sta.getip()== nil then
            print("  Config file NOT exists, starting smartconfig..")
            wifi.startsmart(0,
            func</message>
</record>
<record>
  <date>2016-11-11T02:49:18</date>
  <millis>1478803758561</millis>
  <sequence>4347</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>184</thread>
  <message>recv:&gt;</message>
</record>
<record>
  <date>2016-11-11T02:49:18</date>
  <millis>1478803758563</millis>
  <sequence>4348</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>184</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T02:49:18</date>
  <millis>1478803758582</millis>
  <sequence>4349</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:tion(ssid, password)
            print(string.format("Success. SSID: %s ; PASSWORD: %s", ssid, password)) 
            misc.con_write(ssid, password)
            end)
        else 
            tmr.stop(1)

            tmr.stop(4)
            print("Confi</message>
</record>
<record>
  <date>2016-11-11T02:49:18</date>
  <millis>1478803758613</millis>
  <sequence>4350</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>184</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:49:18</date>
  <millis>1478803758631</millis>
  <sequence>4351</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:g done, IP is "..wifi.sta.getip())
            wifi.stopsmart()

            --misc.con_read()
            --print (user .. password)
            dofile("mqtt.lua")
        end
    end)
        

end
</message>
</record>
<record>
  <date>2016-11-11T02:49:18</date>
  <millis>1478803758657</millis>
  <sequence>4352</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>184</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:49:18</date>
  <millis>1478803758673</millis>
  <sequence>4353</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_cmd_close</message>
</record>
<record>
  <date>2016-11-11T02:49:18</date>
  <millis>1478803758686</millis>
  <sequence>4354</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>184</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;--</message>
</record>
<record>
  <date>2016-11-11T02:49:18</date>
  <millis>1478803758687</millis>
  <sequence>4355</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>184</thread>
  <message>recv:Done--&lt;CR&gt;&lt;LF&gt;&gt; &lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:49:18</date>
  <millis>1478803758712</millis>
  <sequence>4356</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:49:18</date>
  <millis>1478803758713</millis>
  <sequence>4357</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>184</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;&gt;</message>
</record>
<record>
  <date>2016-11-11T02:49:18</date>
  <millis>1478803758714</millis>
  <sequence>4358</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>184</thread>
  <message>recv: &lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T02:49:18</date>
  <millis>1478803758746</millis>
  <sequence>4359</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:dofile("init.lua")</message>
</record>
<record>
  <date>2016-11-11T02:49:18</date>
  <millis>1478803758747</millis>
  <sequence>4360</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>184</thread>
  <message>recv:d</message>
</record>
<record>
  <date>2016-11-11T02:49:18</date>
  <millis>1478803758749</millis>
  <sequence>4361</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>184</thread>
  <message>recv:ofile("init.lua")&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:49:18</date>
  <millis>1478803758932</millis>
  <sequence>4362</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>184</thread>
  <message>recv:co</message>
</record>
<record>
  <date>2016-11-11T02:49:18</date>
  <millis>1478803758935</millis>
  <sequence>4363</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>184</thread>
  <message>recv:ntrol.lua:26: attempt to</message>
</record>
<record>
  <date>2016-11-11T02:49:18</date>
  <millis>1478803758940</millis>
  <sequence>4364</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>184</thread>
  <message>recv: perform arithmetic on a nil value&lt;CR&gt;&lt;LF&gt;stack traceback:&lt;CR&gt;&lt;LF&gt;	cont</message>
</record>
<record>
  <date>2016-11-11T02:49:18</date>
  <millis>1478803758945</millis>
  <sequence>4365</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>184</thread>
  <message>recv:rol.lua:26: in function 'relay_onoff'&lt;CR&gt;&lt;LF&gt;	init.lua:37: in main chu</message>
</record>
<record>
  <date>2016-11-11T02:49:18</date>
  <millis>1478803758946</millis>
  <sequence>4366</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>184</thread>
  <message>recv:nk&lt;CR&gt;&lt;LF&gt;	[C]: in f</message>
</record>
<record>
  <date>2016-11-11T02:49:18</date>
  <millis>1478803758948</millis>
  <sequence>4367</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>184</thread>
  <message>recv:unction 'dofile'&lt;CR&gt;</message>
</record>
<record>
  <date>2016-11-11T02:49:18</date>
  <millis>1478803758951</millis>
  <sequence>4368</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>184</thread>
  <message>recv:&lt;LF&gt;	stdin:1: in main chunk&lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T02:49:18</date>
  <millis>1478803758967</millis>
  <sequence>4369</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>184</thread>
  <message>Operation done. Duration = 1159 ms</message>
</record>
<record>
  <date>2016-11-11T02:50:22</date>
  <millis>1478803822823</millis>
  <sequence>4370</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to load file control.lua</message>
</record>
<record>
  <date>2016-11-11T02:50:22</date>
  <millis>1478803822841</millis>
  <sequence>4371</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Loading control.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T02:50:22</date>
  <millis>1478803822842</millis>
  <sequence>4372</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>File reload: Success.</message>
</record>
<record>
  <date>2016-11-11T02:50:23</date>
  <millis>1478803823504</millis>
  <sequence>4373</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>We save known file control.lua</message>
</record>
<record>
  <date>2016-11-11T02:50:23</date>
  <millis>1478803823505</millis>
  <sequence>4374</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to saving file control.lua ...</message>
</record>
<record>
  <date>2016-11-11T02:50:23</date>
  <millis>1478803823507</millis>
  <sequence>4375</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Save file control.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T02:50:23</date>
  <millis>1478803823511</millis>
  <sequence>4376</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP: Try to save file to ESP...</message>
</record>
<record>
  <date>2016-11-11T02:50:23</date>
  <millis>1478803823512</millis>
  <sequence>4377</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Try to save file to ESP in Turbo Mode...</message>
</record>
<record>
  <date>2016-11-11T02:50:23</date>
  <millis>1478803823520</millis>
  <sequence>4378</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>DataTurboSender: start "Smart Mode"</message>
</record>
<record>
  <date>2016-11-11T02:50:23</date>
  <millis>1478803823530</millis>
  <sequence>4379</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Starting...</message>
</record>
<record>
  <date>2016-11-11T02:50:23</date>
  <millis>1478803823684</millis>
  <sequence>4380</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local FILE="control.lua" file.remove(FILE) file.open(FILE,"w+") uart.setup(0,115200,8,0,1,0)</message>
</record>
<record>
  <date>2016-11-11T02:50:23</date>
  <millis>1478803823686</millis>
  <sequence>4381</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>186</thread>
  <message>recv:lo</message>
</record>
<record>
  <date>2016-11-11T02:50:23</date>
  <millis>1478803823689</millis>
  <sequence>4382</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>186</thread>
  <message>recv:cal FILE="control.lua" file.remove</message>
</record>
<record>
  <date>2016-11-11T02:50:23</date>
  <millis>1478803823690</millis>
  <sequence>4383</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>186</thread>
  <message>recv:(FILE) file.op</message>
</record>
<record>
  <date>2016-11-11T02:50:23</date>
  <millis>1478803823691</millis>
  <sequence>4384</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>186</thread>
  <message>recv:en(FILE,"w+")</message>
</record>
<record>
  <date>2016-11-11T02:50:23</date>
  <millis>1478803823692</millis>
  <sequence>4385</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>186</thread>
  <message>recv: uart.setup(0</message>
</record>
<record>
  <date>2016-11-11T02:50:23</date>
  <millis>1478803823694</millis>
  <sequence>4386</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>186</thread>
  <message>recv:,115200,8,0,1,0)</message>
</record>
<record>
  <date>2016-11-11T02:50:23</date>
  <millis>1478803823695</millis>
  <sequence>4387</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>186</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:50:23</date>
  <millis>1478803823970</millis>
  <sequence>4388</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>186</thread>
  <message>recv:&gt;</message>
</record>
<record>
  <date>2016-11-11T02:50:23</date>
  <millis>1478803823971</millis>
  <sequence>4389</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>186</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T02:50:23</date>
  <millis>1478803823992</millis>
  <sequence>4390</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_Receiver=function(rcvBuf) if string.match(rcvBuf,"^ESP_cmd_close")==nil then file.write(string.gsub(rcvBuf, '\r', '')) uart.write(0, "&gt; ") else uart.on("data") </message>
</record>
<record>
  <date>2016-11-11T02:50:24</date>
  <millis>1478803824019</millis>
  <sequence>4391</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>186</thread>
  <message>recv:&gt;&gt;</message>
</record>
<record>
  <date>2016-11-11T02:50:24</date>
  <millis>1478803824020</millis>
  <sequence>4392</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>186</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T02:50:24</date>
  <millis>1478803824040</millis>
  <sequence>4393</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:file.flush() file.close() FILE=nil rcvBuf=nil ESP_Receiver=nil uart.setup(0,115200,8,0,1,1) str="\r\n--Done--\r\n&gt; " print(str) str=nil collectgarbage() end end uart.on("data",'\r',ESP_Receiver,0)</message>
</record>
<record>
  <date>2016-11-11T02:50:24</date>
  <millis>1478803824082</millis>
  <sequence>4394</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>186</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:50:24</date>
  <millis>1478803824102</millis>
  <sequence>4395</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local M = {}

-- status pin = 0, alarm 1
-- relay pin = 6 and 7, alarm 2, 3

function M.status_LED(delay)
    gpio.mode(0, gpio.OUTPUT)
    status0 = 0
        
    tmr.alarm(1, delay, 1, function()
        if status0 == 0 then
            status0 = 1
  </message>
</record>
<record>
  <date>2016-11-11T02:50:24</date>
  <millis>1478803824138</millis>
  <sequence>4396</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>186</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:50:24</date>
  <millis>1478803824154</millis>
  <sequence>4397</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:          gpio.write(0, gpio.HIGH)
        else
            status0 = 0
            gpio.write(0, gpio.LOW)
        end 
    end)
      
end

-- One on/off relay
function M.relay_onoff()
    gpio.mode(6, gpio.OUTPUT)
    gpio.mode(7, gpio.OUTPUT)
       </message>
</record>
<record>
  <date>2016-11-11T02:50:24</date>
  <millis>1478803824186</millis>
  <sequence>4398</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>186</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:50:24</date>
  <millis>1478803824200</millis>
  <sequence>4399</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending: tmr.alarm(5, 2000, tmr.ALARM_SINGLE, function()
            if gpio.read(6) == 0 then
                --print ("LOW GPIO")
                gpio.write(6, gpio.HIGH)
                gpio.write(7, gpio.HIGH)
            else        
                tmr.ala</message>
</record>
<record>
  <date>2016-11-11T02:50:24</date>
  <millis>1478803824231</millis>
  <sequence>4400</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>186</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:50:24</date>
  <millis>1478803824247</millis>
  <sequence>4401</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:rm(2, 1000, tmr.ALARM_SINGLE, function() gpio.write(6, gpio.LOW) end)
                tmr.alarm(3, 1000, tmr.ALARM_SINGLE, function() gpio.write(7, gpio.LOW) end)
            end

        end)

        tmr.alarm(6, 4000, tmr.ALARM_SINGLE, function()
    </message>
</record>
<record>
  <date>2016-11-11T02:50:24</date>
  <millis>1478803824278</millis>
  <sequence>4402</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>186</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:50:24</date>
  <millis>1478803824291</millis>
  <sequence>4403</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:        if gpio.read(6) == 0 then
                --print ("LOW GPIO")
                gpio.write(6, gpio.HIGH)
                gpio.write(7, gpio.HIGH)
            else        
                tmr.alarm(2, 1000, tmr.ALARM_SINGLE, function() gpio.write(6</message>
</record>
<record>
  <date>2016-11-11T02:50:24</date>
  <millis>1478803824322</millis>
  <sequence>4404</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>186</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:50:24</date>
  <millis>1478803824335</millis>
  <sequence>4405</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:, gpio.LOW) end)
                tmr.alarm(3, 1000, tmr.ALARM_SINGLE, function() gpio.write(7, gpio.LOW) end)
            end

        end)
end

-- loop relay
function M.relay_6(delay, mode)
    gpio.mode(6, gpio.OUTPUT)
    status1 = 0
        
    tmr.</message>
</record>
<record>
  <date>2016-11-11T02:50:24</date>
  <millis>1478803824366</millis>
  <sequence>4406</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>186</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:50:24</date>
  <millis>1478803824383</millis>
  <sequence>4407</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:alarm(2, delay, mode, function()
        if status1 == 0 then
            status1 = 1
            gpio.write(6, gpio.HIGH)
        else
            status1 = 0
            gpio.write(6, gpio.LOW)
        end 
    end)
      
end


function M.relay_7(dela</message>
</record>
<record>
  <date>2016-11-11T02:50:24</date>
  <millis>1478803824417</millis>
  <sequence>4408</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>186</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:50:24</date>
  <millis>1478803824431</millis>
  <sequence>4409</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:y, mode)
    gpio.mode(7, gpio.OUTPUT)
    status2 = 0
        
    tmr.alarm(3, delay, mode, function()
        if status2 == 0 then
            status2 = 1
            gpio.write(7, gpio.HIGH)
        else
            status2 = 0
            gpio.write</message>
</record>
<record>
  <date>2016-11-11T02:50:24</date>
  <millis>1478803824462</millis>
  <sequence>4410</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>186</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:50:24</date>
  <millis>1478803824477</millis>
  <sequence>4411</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:(7, gpio.LOW)
        end 
    end)
      
end
return M
</message>
</record>
<record>
  <date>2016-11-11T02:50:24</date>
  <millis>1478803824491</millis>
  <sequence>4412</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>186</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:50:24</date>
  <millis>1478803824510</millis>
  <sequence>4413</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_cmd_close</message>
</record>
<record>
  <date>2016-11-11T02:50:24</date>
  <millis>1478803824522</millis>
  <sequence>4414</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>186</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:50:24</date>
  <millis>1478803824523</millis>
  <sequence>4415</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>186</thread>
  <message>recv:--Done--&lt;CR&gt;&lt;LF&gt;&gt; &lt;CR&gt;</message>
</record>
<record>
  <date>2016-11-11T02:50:24</date>
  <millis>1478803824524</millis>
  <sequence>4416</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>186</thread>
  <message>recv:&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:50:24</date>
  <millis>1478803824556</millis>
  <sequence>4417</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:50:24</date>
  <millis>1478803824558</millis>
  <sequence>4418</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>186</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:50:24</date>
  <millis>1478803824563</millis>
  <sequence>4419</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>186</thread>
  <message>recv:&gt; &lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T02:50:24</date>
  <millis>1478803824593</millis>
  <sequence>4420</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:dofile("control.lua")</message>
</record>
<record>
  <date>2016-11-11T02:50:24</date>
  <millis>1478803824595</millis>
  <sequence>4421</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>186</thread>
  <message>recv:do</message>
</record>
<record>
  <date>2016-11-11T02:50:24</date>
  <millis>1478803824599</millis>
  <sequence>4422</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>186</thread>
  <message>recv:file("control.lua")&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:50:24</date>
  <millis>1478803824678</millis>
  <sequence>4423</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>186</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:50:24</date>
  <millis>1478803824713</millis>
  <sequence>4424</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>186</thread>
  <message>Operation done. Duration = 1198 ms</message>
</record>
<record>
  <date>2016-11-11T02:50:25</date>
  <millis>1478803825202</millis>
  <sequence>4425</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:node.restart()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:50:25</date>
  <millis>1478803825204</millis>
  <sequence>4426</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with saved baud 115200...</message>
</record>
<record>
  <date>2016-11-11T02:50:25</date>
  <millis>1478803825267</millis>
  <sequence>4427</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success. Now we waiting for ESP reboot...</message>
</record>
<record>
  <date>2016-11-11T02:50:27</date>
  <millis>1478803827269</millis>
  <sequence>4428</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with baud 115200...</message>
</record>
<record>
  <date>2016-11-11T02:50:27</date>
  <millis>1478803827269</millis>
  <sequence>4429</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:print(uart.setup(0, 115200, 8, 0, 1, 1 ))&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:50:27</date>
  <millis>1478803827531</millis>
  <sequence>4430</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success.</message>
</record>
<record>
  <date>2016-11-11T02:50:27</date>
  <millis>1478803827565</millis>
  <sequence>4431</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:50:27</date>
  <millis>1478803827568</millis>
  <sequence>4432</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>187</thread>
  <message>
Communication with MCU established.</message>
</record>
<record>
  <date>2016-11-11T02:50:50</date>
  <millis>1478803850893</millis>
  <sequence>4433</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to load file control.lua</message>
</record>
<record>
  <date>2016-11-11T02:50:50</date>
  <millis>1478803850903</millis>
  <sequence>4434</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Loading control.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T02:50:50</date>
  <millis>1478803850903</millis>
  <sequence>4435</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>File reload: Success.</message>
</record>
<record>
  <date>2016-11-11T02:50:51</date>
  <millis>1478803851470</millis>
  <sequence>4436</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>We save known file control.lua</message>
</record>
<record>
  <date>2016-11-11T02:50:51</date>
  <millis>1478803851477</millis>
  <sequence>4437</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to saving file control.lua ...</message>
</record>
<record>
  <date>2016-11-11T02:50:51</date>
  <millis>1478803851480</millis>
  <sequence>4438</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Save file control.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T02:50:51</date>
  <millis>1478803851517</millis>
  <sequence>4439</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP: Try to save file to ESP...</message>
</record>
<record>
  <date>2016-11-11T02:50:51</date>
  <millis>1478803851520</millis>
  <sequence>4440</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Try to save file to ESP in Turbo Mode...</message>
</record>
<record>
  <date>2016-11-11T02:50:51</date>
  <millis>1478803851525</millis>
  <sequence>4441</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>DataTurboSender: start "Smart Mode"</message>
</record>
<record>
  <date>2016-11-11T02:50:51</date>
  <millis>1478803851528</millis>
  <sequence>4442</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Starting...</message>
</record>
<record>
  <date>2016-11-11T02:50:51</date>
  <millis>1478803851672</millis>
  <sequence>4443</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local FILE="control.lua" file.remove(FILE) file.open(FILE,"w+") uart.setup(0,115200,8,0,1,0)</message>
</record>
<record>
  <date>2016-11-11T02:50:51</date>
  <millis>1478803851674</millis>
  <sequence>4444</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>188</thread>
  <message>recv:loc</message>
</record>
<record>
  <date>2016-11-11T02:50:51</date>
  <millis>1478803851676</millis>
  <sequence>4445</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>188</thread>
  <message>recv:al FILE="control.lua"</message>
</record>
<record>
  <date>2016-11-11T02:50:51</date>
  <millis>1478803851677</millis>
  <sequence>4446</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>188</thread>
  <message>recv: file.remove(F</message>
</record>
<record>
  <date>2016-11-11T02:50:51</date>
  <millis>1478803851678</millis>
  <sequence>4447</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>188</thread>
  <message>recv:ILE) file.ope</message>
</record>
<record>
  <date>2016-11-11T02:50:51</date>
  <millis>1478803851703</millis>
  <sequence>4448</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>188</thread>
  <message>recv:n(FILE,"w+") uart.setup(0,115200,8,0,1,0)&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:50:51</date>
  <millis>1478803851899</millis>
  <sequence>4449</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>188</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:50:51</date>
  <millis>1478803851927</millis>
  <sequence>4450</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_Receiver=function(rcvBuf) if string.match(rcvBuf,"^ESP_cmd_close")==nil then file.write(string.gsub(rcvBuf, '\r', '')) uart.write(0, "&gt; ") else uart.on("data") </message>
</record>
<record>
  <date>2016-11-11T02:50:51</date>
  <millis>1478803851955</millis>
  <sequence>4451</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>188</thread>
  <message>recv:&gt;&gt;</message>
</record>
<record>
  <date>2016-11-11T02:50:51</date>
  <millis>1478803851958</millis>
  <sequence>4452</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>188</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T02:50:51</date>
  <millis>1478803851981</millis>
  <sequence>4453</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:file.flush() file.close() FILE=nil rcvBuf=nil ESP_Receiver=nil uart.setup(0,115200,8,0,1,1) str="\r\n--Done--\r\n&gt; " print(str) str=nil collectgarbage() end end uart.on("data",'\r',ESP_Receiver,0)</message>
</record>
<record>
  <date>2016-11-11T02:50:52</date>
  <millis>1478803852025</millis>
  <sequence>4454</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>188</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:50:52</date>
  <millis>1478803852040</millis>
  <sequence>4455</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local M = {}

-- status pin = 0, alarm 1
-- relay pin = 6 and 7, alarm 2, 3

function M.status_LED(delay)
    gpio.mode(0, gpio.OUTPUT)
    status0 = 0
        
    tmr.alarm(1, delay, 1, function()
        if status0 == 0 then
            status0 = 1
  </message>
</record>
<record>
  <date>2016-11-11T02:50:52</date>
  <millis>1478803852069</millis>
  <sequence>4456</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>188</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:50:52</date>
  <millis>1478803852085</millis>
  <sequence>4457</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:          gpio.write(0, gpio.HIGH)
        else
            status0 = 0
            gpio.write(0, gpio.LOW)
        end 
    end)
      
end

-- One on/off relay
function M.relay_onoff()
    gpio.mode(6, gpio.OUTPUT)
    gpio.mode(7, gpio.OUTPUT)
       </message>
</record>
<record>
  <date>2016-11-11T02:50:52</date>
  <millis>1478803852121</millis>
  <sequence>4458</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>188</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:50:52</date>
  <millis>1478803852139</millis>
  <sequence>4459</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending: tmr.alarm(5, 2000, tmr.ALARM_SINGLE, function()
            if gpio.read(6) == 0 then
                --print ("LOW GPIO")
                gpio.write(6, gpio.HIGH)
                gpio.write(7, gpio.HIGH)
            else        
                tmr.ala</message>
</record>
<record>
  <date>2016-11-11T02:50:52</date>
  <millis>1478803852169</millis>
  <sequence>4460</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>188</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:50:52</date>
  <millis>1478803852185</millis>
  <sequence>4461</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:rm(2, 1000, tmr.ALARM_SINGLE, function() gpio.write(6, gpio.LOW) end)
                tmr.alarm(3, 1000, tmr.ALARM_SINGLE, function() gpio.write(7, gpio.LOW) end)
            end

        end)

        tmr.alarm(6, 6000, tmr.ALARM_SINGLE, function()
    </message>
</record>
<record>
  <date>2016-11-11T02:50:52</date>
  <millis>1478803852215</millis>
  <sequence>4462</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>188</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:50:52</date>
  <millis>1478803852229</millis>
  <sequence>4463</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:        if gpio.read(6) == 0 then
                --print ("LOW GPIO")
                gpio.write(6, gpio.HIGH)
                gpio.write(7, gpio.HIGH)
            else        
                tmr.alarm(2, 1000, tmr.ALARM_SINGLE, function() gpio.write(6</message>
</record>
<record>
  <date>2016-11-11T02:50:52</date>
  <millis>1478803852260</millis>
  <sequence>4464</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>188</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:50:52</date>
  <millis>1478803852277</millis>
  <sequence>4465</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:, gpio.LOW) end)
                tmr.alarm(3, 1000, tmr.ALARM_SINGLE, function() gpio.write(7, gpio.LOW) end)
            end

        end)
end

-- loop relay
function M.relay_6(delay, mode)
    gpio.mode(6, gpio.OUTPUT)
    status1 = 0
        
    tmr.</message>
</record>
<record>
  <date>2016-11-11T02:50:52</date>
  <millis>1478803852308</millis>
  <sequence>4466</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>188</thread>
  <message>recv:&gt;</message>
</record>
<record>
  <date>2016-11-11T02:50:52</date>
  <millis>1478803852308</millis>
  <sequence>4467</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>188</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T02:50:52</date>
  <millis>1478803852328</millis>
  <sequence>4468</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:alarm(2, delay, mode, function()
        if status1 == 0 then
            status1 = 1
            gpio.write(6, gpio.HIGH)
        else
            status1 = 0
            gpio.write(6, gpio.LOW)
        end 
    end)
      
end


function M.relay_7(dela</message>
</record>
<record>
  <date>2016-11-11T02:50:52</date>
  <millis>1478803852360</millis>
  <sequence>4469</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>188</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:50:52</date>
  <millis>1478803852375</millis>
  <sequence>4470</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:y, mode)
    gpio.mode(7, gpio.OUTPUT)
    status2 = 0
        
    tmr.alarm(3, delay, mode, function()
        if status2 == 0 then
            status2 = 1
            gpio.write(7, gpio.HIGH)
        else
            status2 = 0
            gpio.write</message>
</record>
<record>
  <date>2016-11-11T02:50:52</date>
  <millis>1478803852406</millis>
  <sequence>4471</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>188</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:50:52</date>
  <millis>1478803852421</millis>
  <sequence>4472</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:(7, gpio.LOW)
        end 
    end)
      
end
return M
</message>
</record>
<record>
  <date>2016-11-11T02:50:52</date>
  <millis>1478803852435</millis>
  <sequence>4473</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>188</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:50:52</date>
  <millis>1478803852450</millis>
  <sequence>4474</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_cmd_close</message>
</record>
<record>
  <date>2016-11-11T02:50:52</date>
  <millis>1478803852464</millis>
  <sequence>4475</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>188</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:50:52</date>
  <millis>1478803852465</millis>
  <sequence>4476</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>188</thread>
  <message>recv:--Done--&lt;CR&gt;&lt;LF&gt;&gt; &lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:50:52</date>
  <millis>1478803852492</millis>
  <sequence>4477</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:50:52</date>
  <millis>1478803852493</millis>
  <sequence>4478</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>188</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:50:52</date>
  <millis>1478803852495</millis>
  <sequence>4479</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>188</thread>
  <message>recv:&gt; &lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T02:50:52</date>
  <millis>1478803852526</millis>
  <sequence>4480</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:dofile("control.lua")</message>
</record>
<record>
  <date>2016-11-11T02:50:52</date>
  <millis>1478803852528</millis>
  <sequence>4481</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>188</thread>
  <message>recv:d</message>
</record>
<record>
  <date>2016-11-11T02:50:52</date>
  <millis>1478803852530</millis>
  <sequence>4482</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>188</thread>
  <message>recv:ofile("control.lua")&lt;CR&gt;</message>
</record>
<record>
  <date>2016-11-11T02:50:52</date>
  <millis>1478803852531</millis>
  <sequence>4483</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>188</thread>
  <message>recv:&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:50:52</date>
  <millis>1478803852612</millis>
  <sequence>4484</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>188</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:50:52</date>
  <millis>1478803852675</millis>
  <sequence>4485</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>188</thread>
  <message>Operation done. Duration = 1155 ms</message>
</record>
<record>
  <date>2016-11-11T02:50:53</date>
  <millis>1478803853002</millis>
  <sequence>4486</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:node.restart()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:50:53</date>
  <millis>1478803853005</millis>
  <sequence>4487</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with saved baud 115200...</message>
</record>
<record>
  <date>2016-11-11T02:50:53</date>
  <millis>1478803853069</millis>
  <sequence>4488</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success. Now we waiting for ESP reboot...</message>
</record>
<record>
  <date>2016-11-11T02:50:55</date>
  <millis>1478803855070</millis>
  <sequence>4489</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with baud 115200...</message>
</record>
<record>
  <date>2016-11-11T02:50:55</date>
  <millis>1478803855072</millis>
  <sequence>4490</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:print(uart.setup(0, 115200, 8, 0, 1, 1 ))&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:50:55</date>
  <millis>1478803855334</millis>
  <sequence>4491</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success.</message>
</record>
<record>
  <date>2016-11-11T02:50:55</date>
  <millis>1478803855364</millis>
  <sequence>4492</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:50:55</date>
  <millis>1478803855368</millis>
  <sequence>4493</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>189</thread>
  <message>
Communication with MCU established.</message>
</record>
<record>
  <date>2016-11-11T02:51:36</date>
  <millis>1478803896815</millis>
  <sequence>4494</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to load file control.lua</message>
</record>
<record>
  <date>2016-11-11T02:51:36</date>
  <millis>1478803896827</millis>
  <sequence>4495</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Loading control.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T02:51:36</date>
  <millis>1478803896828</millis>
  <sequence>4496</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>File reload: Success.</message>
</record>
<record>
  <date>2016-11-11T02:51:37</date>
  <millis>1478803897667</millis>
  <sequence>4497</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>We save known file control.lua</message>
</record>
<record>
  <date>2016-11-11T02:51:37</date>
  <millis>1478803897668</millis>
  <sequence>4498</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to saving file control.lua ...</message>
</record>
<record>
  <date>2016-11-11T02:51:37</date>
  <millis>1478803897670</millis>
  <sequence>4499</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Save file control.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T02:51:37</date>
  <millis>1478803897674</millis>
  <sequence>4500</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP: Try to save file to ESP...</message>
</record>
<record>
  <date>2016-11-11T02:51:37</date>
  <millis>1478803897675</millis>
  <sequence>4501</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Try to save file to ESP in Turbo Mode...</message>
</record>
<record>
  <date>2016-11-11T02:51:37</date>
  <millis>1478803897683</millis>
  <sequence>4502</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>DataTurboSender: start "Smart Mode"</message>
</record>
<record>
  <date>2016-11-11T02:51:37</date>
  <millis>1478803897684</millis>
  <sequence>4503</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Starting...</message>
</record>
<record>
  <date>2016-11-11T02:51:37</date>
  <millis>1478803897821</millis>
  <sequence>4504</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local FILE="control.lua" file.remove(FILE) file.open(FILE,"w+") uart.setup(0,115200,8,0,1,0)</message>
</record>
<record>
  <date>2016-11-11T02:51:37</date>
  <millis>1478803897823</millis>
  <sequence>4505</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>190</thread>
  <message>recv:loca</message>
</record>
<record>
  <date>2016-11-11T02:51:37</date>
  <millis>1478803897826</millis>
  <sequence>4506</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>190</thread>
  <message>recv:l FILE="control.lua" file.remove(FILE</message>
</record>
<record>
  <date>2016-11-11T02:51:37</date>
  <millis>1478803897829</millis>
  <sequence>4507</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>190</thread>
  <message>recv:) file.open(FILE,"w+") uart</message>
</record>
<record>
  <date>2016-11-11T02:51:37</date>
  <millis>1478803897831</millis>
  <sequence>4508</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>190</thread>
  <message>recv:.setup(0,115200,8,0,1,0)&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:51:38</date>
  <millis>1478803898018</millis>
  <sequence>4509</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>190</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:51:38</date>
  <millis>1478803898033</millis>
  <sequence>4510</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_Receiver=function(rcvBuf) if string.match(rcvBuf,"^ESP_cmd_close")==nil then file.write(string.gsub(rcvBuf, '\r', '')) uart.write(0, "&gt; ") else uart.on("data") </message>
</record>
<record>
  <date>2016-11-11T02:51:38</date>
  <millis>1478803898059</millis>
  <sequence>4511</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>190</thread>
  <message>recv:&gt;&gt;</message>
</record>
<record>
  <date>2016-11-11T02:51:38</date>
  <millis>1478803898060</millis>
  <sequence>4512</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>190</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T02:51:38</date>
  <millis>1478803898080</millis>
  <sequence>4513</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:file.flush() file.close() FILE=nil rcvBuf=nil ESP_Receiver=nil uart.setup(0,115200,8,0,1,1) str="\r\n--Done--\r\n&gt; " print(str) str=nil collectgarbage() end end uart.on("data",'\r',ESP_Receiver,0)</message>
</record>
<record>
  <date>2016-11-11T02:51:38</date>
  <millis>1478803898119</millis>
  <sequence>4514</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>190</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:51:38</date>
  <millis>1478803898132</millis>
  <sequence>4515</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local M = {}

-- status pin = 0, alarm 1
-- relay pin = 6 and 7, alarm 2, 3

function M.status_LED(delay)
    gpio.mode(0, gpio.OUTPUT)
    status0 = 0
        
    tmr.alarm(1, delay, 1, function()
        if status0 == 0 then
            status0 = 1
  </message>
</record>
<record>
  <date>2016-11-11T02:51:38</date>
  <millis>1478803898162</millis>
  <sequence>4516</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>190</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:51:38</date>
  <millis>1478803898179</millis>
  <sequence>4517</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:          gpio.write(0, gpio.HIGH)
        else
            status0 = 0
            gpio.write(0, gpio.LOW)
        end 
    end)
      
end

-- One on/off relay
function M.relay_onoff()
    gpio.mode(6, gpio.OUTPUT)
    gpio.mode(7, gpio.OUTPUT)
       </message>
</record>
<record>
  <date>2016-11-11T02:51:38</date>
  <millis>1478803898211</millis>
  <sequence>4518</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>190</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:51:38</date>
  <millis>1478803898225</millis>
  <sequence>4519</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending: tmr.alarm(5, 1000, tmr.ALARM_SINGLE, function()
            if gpio.read(6) == 0 then
                --print ("LOW GPIO")
                gpio.write(6, gpio.HIGH)
                gpio.write(7, gpio.HIGH)
            else        
                tmr.ala</message>
</record>
<record>
  <date>2016-11-11T02:51:38</date>
  <millis>1478803898256</millis>
  <sequence>4520</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>190</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:51:38</date>
  <millis>1478803898274</millis>
  <sequence>4521</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:rm(2, 2000, tmr.ALARM_SINGLE, function() gpio.write(6, gpio.LOW) end)
                tmr.alarm(3, 2000, tmr.ALARM_SINGLE, function() gpio.write(7, gpio.LOW) end)
            end

        end)

        tmr.alarm(6, 6000, tmr.ALARM_SINGLE, function()
    </message>
</record>
<record>
  <date>2016-11-11T02:51:38</date>
  <millis>1478803898305</millis>
  <sequence>4522</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>190</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:51:38</date>
  <millis>1478803898325</millis>
  <sequence>4523</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:        if gpio.read(6) == 0 then
                --print ("LOW GPIO")
                gpio.write(6, gpio.HIGH)
                gpio.write(7, gpio.HIGH)
            else        
                tmr.alarm(2, 1000, tmr.ALARM_SINGLE, function() gpio.write(6</message>
</record>
<record>
  <date>2016-11-11T02:51:38</date>
  <millis>1478803898356</millis>
  <sequence>4524</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>190</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:51:38</date>
  <millis>1478803898374</millis>
  <sequence>4525</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:, gpio.LOW) end)
                tmr.alarm(3, 1000, tmr.ALARM_SINGLE, function() gpio.write(7, gpio.LOW) end)
            end

        end)
end

-- loop relay
function M.relay_6(delay, mode)
    gpio.mode(6, gpio.OUTPUT)
    status1 = 0
        
    tmr.</message>
</record>
<record>
  <date>2016-11-11T02:51:38</date>
  <millis>1478803898405</millis>
  <sequence>4526</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>190</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:51:38</date>
  <millis>1478803898418</millis>
  <sequence>4527</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:alarm(2, delay, mode, function()
        if status1 == 0 then
            status1 = 1
            gpio.write(6, gpio.HIGH)
        else
            status1 = 0
            gpio.write(6, gpio.LOW)
        end 
    end)
      
end


function M.relay_7(dela</message>
</record>
<record>
  <date>2016-11-11T02:51:38</date>
  <millis>1478803898449</millis>
  <sequence>4528</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>190</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:51:38</date>
  <millis>1478803898462</millis>
  <sequence>4529</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:y, mode)
    gpio.mode(7, gpio.OUTPUT)
    status2 = 0
        
    tmr.alarm(3, delay, mode, function()
        if status2 == 0 then
            status2 = 1
            gpio.write(7, gpio.HIGH)
        else
            status2 = 0
            gpio.write</message>
</record>
<record>
  <date>2016-11-11T02:51:38</date>
  <millis>1478803898493</millis>
  <sequence>4530</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>190</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:51:38</date>
  <millis>1478803898510</millis>
  <sequence>4531</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:(7, gpio.LOW)
        end 
    end)
      
end
return M
</message>
</record>
<record>
  <date>2016-11-11T02:51:38</date>
  <millis>1478803898523</millis>
  <sequence>4532</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>190</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:51:38</date>
  <millis>1478803898539</millis>
  <sequence>4533</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_cmd_close</message>
</record>
<record>
  <date>2016-11-11T02:51:38</date>
  <millis>1478803898551</millis>
  <sequence>4534</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>190</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;--D</message>
</record>
<record>
  <date>2016-11-11T02:51:38</date>
  <millis>1478803898553</millis>
  <sequence>4535</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>190</thread>
  <message>recv:one--&lt;CR&gt;&lt;LF&gt;&gt; &lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:51:38</date>
  <millis>1478803898578</millis>
  <sequence>4536</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:51:38</date>
  <millis>1478803898579</millis>
  <sequence>4537</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>190</thread>
  <message>recv:&lt;CR&gt;</message>
</record>
<record>
  <date>2016-11-11T02:51:38</date>
  <millis>1478803898581</millis>
  <sequence>4538</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>190</thread>
  <message>recv:&lt;LF&gt;&gt; &lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T02:51:38</date>
  <millis>1478803898616</millis>
  <sequence>4539</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:dofile("control.lua")</message>
</record>
<record>
  <date>2016-11-11T02:51:38</date>
  <millis>1478803898617</millis>
  <sequence>4540</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>190</thread>
  <message>recv:d</message>
</record>
<record>
  <date>2016-11-11T02:51:38</date>
  <millis>1478803898619</millis>
  <sequence>4541</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>190</thread>
  <message>recv:ofile("control</message>
</record>
<record>
  <date>2016-11-11T02:51:38</date>
  <millis>1478803898619</millis>
  <sequence>4542</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>190</thread>
  <message>recv:.lua")&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:51:38</date>
  <millis>1478803898693</millis>
  <sequence>4543</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>190</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:51:38</date>
  <millis>1478803898719</millis>
  <sequence>4544</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>190</thread>
  <message>Operation done. Duration = 1043 ms</message>
</record>
<record>
  <date>2016-11-11T02:51:39</date>
  <millis>1478803899737</millis>
  <sequence>4545</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:node.restart()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:51:39</date>
  <millis>1478803899739</millis>
  <sequence>4546</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with saved baud 115200...</message>
</record>
<record>
  <date>2016-11-11T02:51:39</date>
  <millis>1478803899802</millis>
  <sequence>4547</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success. Now we waiting for ESP reboot...</message>
</record>
<record>
  <date>2016-11-11T02:51:41</date>
  <millis>1478803901804</millis>
  <sequence>4548</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with baud 115200...</message>
</record>
<record>
  <date>2016-11-11T02:51:41</date>
  <millis>1478803901806</millis>
  <sequence>4549</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:print(uart.setup(0, 115200, 8, 0, 1, 1 ))&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:51:42</date>
  <millis>1478803902069</millis>
  <sequence>4550</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success.</message>
</record>
<record>
  <date>2016-11-11T02:51:42</date>
  <millis>1478803902107</millis>
  <sequence>4551</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:51:42</date>
  <millis>1478803902109</millis>
  <sequence>4552</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>191</thread>
  <message>
Communication with MCU established.</message>
</record>
<record>
  <date>2016-11-11T02:51:42</date>
  <millis>1478803902110</millis>
  <sequence>4553</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>191</thread>
  <message>sending:=node.heap()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:53:50</date>
  <millis>1478804030847</millis>
  <sequence>4554</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to load file control.lua</message>
</record>
<record>
  <date>2016-11-11T02:53:50</date>
  <millis>1478804030859</millis>
  <sequence>4555</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Loading control.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T02:53:50</date>
  <millis>1478804030859</millis>
  <sequence>4556</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>File reload: Success.</message>
</record>
<record>
  <date>2016-11-11T02:53:51</date>
  <millis>1478804031518</millis>
  <sequence>4557</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>We save known file control.lua</message>
</record>
<record>
  <date>2016-11-11T02:53:51</date>
  <millis>1478804031519</millis>
  <sequence>4558</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to saving file control.lua ...</message>
</record>
<record>
  <date>2016-11-11T02:53:51</date>
  <millis>1478804031521</millis>
  <sequence>4559</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Save file control.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T02:53:51</date>
  <millis>1478804031526</millis>
  <sequence>4560</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP: Try to save file to ESP...</message>
</record>
<record>
  <date>2016-11-11T02:53:51</date>
  <millis>1478804031527</millis>
  <sequence>4561</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Try to save file to ESP in Turbo Mode...</message>
</record>
<record>
  <date>2016-11-11T02:53:51</date>
  <millis>1478804031535</millis>
  <sequence>4562</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>DataTurboSender: start "Smart Mode"</message>
</record>
<record>
  <date>2016-11-11T02:53:51</date>
  <millis>1478804031536</millis>
  <sequence>4563</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Starting...</message>
</record>
<record>
  <date>2016-11-11T02:53:51</date>
  <millis>1478804031655</millis>
  <sequence>4564</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local FILE="control.lua" file.remove(FILE) file.open(FILE,"w+") uart.setup(0,115200,8,0,1,0)</message>
</record>
<record>
  <date>2016-11-11T02:53:51</date>
  <millis>1478804031656</millis>
  <sequence>4565</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>192</thread>
  <message>recv:lo</message>
</record>
<record>
  <date>2016-11-11T02:53:51</date>
  <millis>1478804031658</millis>
  <sequence>4566</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>192</thread>
  <message>recv:cal FILE="control.lua</message>
</record>
<record>
  <date>2016-11-11T02:53:51</date>
  <millis>1478804031659</millis>
  <sequence>4567</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>192</thread>
  <message>recv:" file.remo</message>
</record>
<record>
  <date>2016-11-11T02:53:51</date>
  <millis>1478804031660</millis>
  <sequence>4568</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>192</thread>
  <message>recv:ve(FILE)</message>
</record>
<record>
  <date>2016-11-11T02:53:51</date>
  <millis>1478804031660</millis>
  <sequence>4569</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>192</thread>
  <message>recv: file.o</message>
</record>
<record>
  <date>2016-11-11T02:53:51</date>
  <millis>1478804031661</millis>
  <sequence>4570</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>192</thread>
  <message>recv:pen(FILE,"w+</message>
</record>
<record>
  <date>2016-11-11T02:53:51</date>
  <millis>1478804031662</millis>
  <sequence>4571</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>192</thread>
  <message>recv:") uart.</message>
</record>
<record>
  <date>2016-11-11T02:53:51</date>
  <millis>1478804031663</millis>
  <sequence>4572</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>192</thread>
  <message>recv:setup(0</message>
</record>
<record>
  <date>2016-11-11T02:53:51</date>
  <millis>1478804031664</millis>
  <sequence>4573</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>192</thread>
  <message>recv:,115200,8,0,1,0</message>
</record>
<record>
  <date>2016-11-11T02:53:51</date>
  <millis>1478804031665</millis>
  <sequence>4574</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>192</thread>
  <message>recv:)&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:53:51</date>
  <millis>1478804031849</millis>
  <sequence>4575</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>192</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:53:51</date>
  <millis>1478804031866</millis>
  <sequence>4576</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_Receiver=function(rcvBuf) if string.match(rcvBuf,"^ESP_cmd_close")==nil then file.write(string.gsub(rcvBuf, '\r', '')) uart.write(0, "&gt; ") else uart.on("data") </message>
</record>
<record>
  <date>2016-11-11T02:53:51</date>
  <millis>1478804031893</millis>
  <sequence>4577</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>192</thread>
  <message>recv:&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T02:53:51</date>
  <millis>1478804031908</millis>
  <sequence>4578</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:file.flush() file.close() FILE=nil rcvBuf=nil ESP_Receiver=nil uart.setup(0,115200,8,0,1,1) str="\r\n--Done--\r\n&gt; " print(str) str=nil collectgarbage() end end uart.on("data",'\r',ESP_Receiver,0)</message>
</record>
<record>
  <date>2016-11-11T02:53:51</date>
  <millis>1478804031949</millis>
  <sequence>4579</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>192</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:53:51</date>
  <millis>1478804031963</millis>
  <sequence>4580</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local M = {}

-- status pin = 0, alarm 1
-- relay pin = 6 and 7, alarm 2, 3

function M.status_LED(delay)
    gpio.mode(0, gpio.OUTPUT)
    status0 = 0
        
    tmr.alarm(1, delay, 1, function()
        if status0 == 0 then
            status0 = 1
  </message>
</record>
<record>
  <date>2016-11-11T02:53:51</date>
  <millis>1478804031994</millis>
  <sequence>4581</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>192</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:53:52</date>
  <millis>1478804032007</millis>
  <sequence>4582</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:          gpio.write(0, gpio.HIGH)
        else
            status0 = 0
            gpio.write(0, gpio.LOW)
        end 
    end)
      
end

-- One on/off relay
function M.relay_onoff()
    gpio.mode(6, gpio.OUTPUT)
    gpio.mode(7, gpio.OUTPUT)

    gp</message>
</record>
<record>
  <date>2016-11-11T02:53:52</date>
  <millis>1478804032038</millis>
  <sequence>4583</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>192</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:53:52</date>
  <millis>1478804032053</millis>
  <sequence>4584</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:io.write(6, gpio.LOW)
    gpio.write(6, gpio.LOW)
        tmr.alarm(5, 500, tmr.ALARM_SINGLE, function()
            if gpio.read(6) == 0 then
                tmr.alarm(2, 500, tmr.ALARM_SINGLE, function() gpio.write(6, gpio.HIGH) end)
                tm</message>
</record>
<record>
  <date>2016-11-11T02:53:52</date>
  <millis>1478804032085</millis>
  <sequence>4585</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>192</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:53:52</date>
  <millis>1478804032099</millis>
  <sequence>4586</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:r.alarm(3, 500, tmr.ALARM_SINGLE, function() gpio.write(7, gpio.HIGH) end)
            end

        end)

        tmr.alarm(6, 2000, tmr.ALARM_SINGLE, function()
            if gpio.read(6) == 1 then
                tmr.alarm(2, 500, tmr.ALARM_SINGLE, fu</message>
</record>
<record>
  <date>2016-11-11T02:53:52</date>
  <millis>1478804032130</millis>
  <sequence>4587</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>192</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:53:52</date>
  <millis>1478804032143</millis>
  <sequence>4588</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:nction() gpio.write(6, gpio.LOW) end)
                tmr.alarm(3, 500, tmr.ALARM_SINGLE, function() gpio.write(7, gpio.LOW) end)
            end

        end)
end

-- loop relay
function M.relay_6(delay, mode)
    gpio.mode(6, gpio.OUTPUT)
    status1 =</message>
</record>
<record>
  <date>2016-11-11T02:53:52</date>
  <millis>1478804032174</millis>
  <sequence>4589</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>192</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:53:52</date>
  <millis>1478804032190</millis>
  <sequence>4590</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending: 0
        
    tmr.alarm(2, delay, mode, function()
        if status1 == 0 then
            status1 = 1
            gpio.write(6, gpio.HIGH)
        else
            status1 = 0
            gpio.write(6, gpio.LOW)
        end 
    end)
      
end


fun</message>
</record>
<record>
  <date>2016-11-11T02:53:52</date>
  <millis>1478804032221</millis>
  <sequence>4591</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>192</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:53:52</date>
  <millis>1478804032241</millis>
  <sequence>4592</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ction M.relay_7(delay, mode)
    gpio.mode(7, gpio.OUTPUT)
    status2 = 0
        
    tmr.alarm(3, delay, mode, function()
        if status2 == 0 then
            status2 = 1
            gpio.write(7, gpio.HIGH)
        else
            status2 = 0
  </message>
</record>
<record>
  <date>2016-11-11T02:53:52</date>
  <millis>1478804032272</millis>
  <sequence>4593</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>192</thread>
  <message>recv:&gt;</message>
</record>
<record>
  <date>2016-11-11T02:53:52</date>
  <millis>1478804032273</millis>
  <sequence>4594</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>192</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T02:53:52</date>
  <millis>1478804032292</millis>
  <sequence>4595</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:          gpio.write(7, gpio.LOW)
        end 
    end)
      
end
return M
</message>
</record>
<record>
  <date>2016-11-11T02:53:52</date>
  <millis>1478804032307</millis>
  <sequence>4596</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>192</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:53:52</date>
  <millis>1478804032324</millis>
  <sequence>4597</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_cmd_close</message>
</record>
<record>
  <date>2016-11-11T02:53:52</date>
  <millis>1478804032336</millis>
  <sequence>4598</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>192</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:53:52</date>
  <millis>1478804032337</millis>
  <sequence>4599</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>192</thread>
  <message>recv:--Done--&lt;CR&gt;&lt;LF&gt;&gt; &lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:53:52</date>
  <millis>1478804032361</millis>
  <sequence>4600</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:53:52</date>
  <millis>1478804032362</millis>
  <sequence>4601</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>192</thread>
  <message>recv:&lt;CR&gt;</message>
</record>
<record>
  <date>2016-11-11T02:53:52</date>
  <millis>1478804032364</millis>
  <sequence>4602</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>192</thread>
  <message>recv:&lt;LF&gt;&gt; &lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T02:53:52</date>
  <millis>1478804032398</millis>
  <sequence>4603</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:dofile("control.lua")</message>
</record>
<record>
  <date>2016-11-11T02:53:52</date>
  <millis>1478804032399</millis>
  <sequence>4604</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>192</thread>
  <message>recv:do</message>
</record>
<record>
  <date>2016-11-11T02:53:52</date>
  <millis>1478804032401</millis>
  <sequence>4605</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>192</thread>
  <message>recv:file("control.lua</message>
</record>
<record>
  <date>2016-11-11T02:53:52</date>
  <millis>1478804032402</millis>
  <sequence>4606</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>192</thread>
  <message>recv:")&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:53:52</date>
  <millis>1478804032473</millis>
  <sequence>4607</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>192</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:53:52</date>
  <millis>1478804032531</millis>
  <sequence>4608</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>192</thread>
  <message>Operation done. Duration = 1004 ms</message>
</record>
<record>
  <date>2016-11-11T02:53:52</date>
  <millis>1478804032924</millis>
  <sequence>4609</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:node.restart()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:53:52</date>
  <millis>1478804032927</millis>
  <sequence>4610</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with saved baud 115200...</message>
</record>
<record>
  <date>2016-11-11T02:53:52</date>
  <millis>1478804032989</millis>
  <sequence>4611</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success. Now we waiting for ESP reboot...</message>
</record>
<record>
  <date>2016-11-11T02:53:54</date>
  <millis>1478804034990</millis>
  <sequence>4612</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with baud 115200...</message>
</record>
<record>
  <date>2016-11-11T02:53:54</date>
  <millis>1478804034991</millis>
  <sequence>4613</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:print(uart.setup(0, 115200, 8, 0, 1, 1 ))&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:53:55</date>
  <millis>1478804035254</millis>
  <sequence>4614</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success.</message>
</record>
<record>
  <date>2016-11-11T02:53:55</date>
  <millis>1478804035297</millis>
  <sequence>4615</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:53:55</date>
  <millis>1478804035299</millis>
  <sequence>4616</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>193</thread>
  <message>
Communication with MCU established.</message>
</record>
<record>
  <date>2016-11-11T02:53:55</date>
  <millis>1478804035301</millis>
  <sequence>4617</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>193</thread>
  <message>sending:=node.heap()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:54:17</date>
  <millis>1478804057875</millis>
  <sequence>4618</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:node.restart()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:54:17</date>
  <millis>1478804057877</millis>
  <sequence>4619</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with saved baud 115200...</message>
</record>
<record>
  <date>2016-11-11T02:54:17</date>
  <millis>1478804057940</millis>
  <sequence>4620</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success. Now we waiting for ESP reboot...</message>
</record>
<record>
  <date>2016-11-11T02:54:19</date>
  <millis>1478804059941</millis>
  <sequence>4621</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with baud 115200...</message>
</record>
<record>
  <date>2016-11-11T02:54:19</date>
  <millis>1478804059942</millis>
  <sequence>4622</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:print(uart.setup(0, 115200, 8, 0, 1, 1 ))&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:54:20</date>
  <millis>1478804060207</millis>
  <sequence>4623</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success.</message>
</record>
<record>
  <date>2016-11-11T02:54:20</date>
  <millis>1478804060263</millis>
  <sequence>4624</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:54:20</date>
  <millis>1478804060266</millis>
  <sequence>4625</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>193</thread>
  <message>
Communication with MCU established.</message>
</record>
<record>
  <date>2016-11-11T02:54:20</date>
  <millis>1478804060269</millis>
  <sequence>4626</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>193</thread>
  <message>sending:=node.heap()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:54:53</date>
  <millis>1478804093790</millis>
  <sequence>4627</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to load file control.lua</message>
</record>
<record>
  <date>2016-11-11T02:54:53</date>
  <millis>1478804093804</millis>
  <sequence>4628</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Loading control.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T02:54:53</date>
  <millis>1478804093805</millis>
  <sequence>4629</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>File reload: Success.</message>
</record>
<record>
  <date>2016-11-11T02:54:54</date>
  <millis>1478804094511</millis>
  <sequence>4630</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>We save known file control.lua</message>
</record>
<record>
  <date>2016-11-11T02:54:54</date>
  <millis>1478804094512</millis>
  <sequence>4631</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to saving file control.lua ...</message>
</record>
<record>
  <date>2016-11-11T02:54:54</date>
  <millis>1478804094513</millis>
  <sequence>4632</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Save file control.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T02:54:54</date>
  <millis>1478804094521</millis>
  <sequence>4633</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP: Try to save file to ESP...</message>
</record>
<record>
  <date>2016-11-11T02:54:54</date>
  <millis>1478804094523</millis>
  <sequence>4634</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Try to save file to ESP in Turbo Mode...</message>
</record>
<record>
  <date>2016-11-11T02:54:54</date>
  <millis>1478804094530</millis>
  <sequence>4635</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>DataTurboSender: start "Smart Mode"</message>
</record>
<record>
  <date>2016-11-11T02:54:54</date>
  <millis>1478804094531</millis>
  <sequence>4636</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Starting...</message>
</record>
<record>
  <date>2016-11-11T02:54:54</date>
  <millis>1478804094668</millis>
  <sequence>4637</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local FILE="control.lua" file.remove(FILE) file.open(FILE,"w+") uart.setup(0,115200,8,0,1,0)</message>
</record>
<record>
  <date>2016-11-11T02:54:54</date>
  <millis>1478804094670</millis>
  <sequence>4638</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>194</thread>
  <message>recv:lo</message>
</record>
<record>
  <date>2016-11-11T02:54:54</date>
  <millis>1478804094674</millis>
  <sequence>4639</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>194</thread>
  <message>recv:cal FILE="control.lua" file.remove(FILE) file.open(FILE,"</message>
</record>
<record>
  <date>2016-11-11T02:54:54</date>
  <millis>1478804094678</millis>
  <sequence>4640</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>194</thread>
  <message>recv:w+") uart.setup(0,115200,8,0,1,0)&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:54:54</date>
  <millis>1478804094864</millis>
  <sequence>4641</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>194</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:54:54</date>
  <millis>1478804094883</millis>
  <sequence>4642</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_Receiver=function(rcvBuf) if string.match(rcvBuf,"^ESP_cmd_close")==nil then file.write(string.gsub(rcvBuf, '\r', '')) uart.write(0, "&gt; ") else uart.on("data") </message>
</record>
<record>
  <date>2016-11-11T02:54:54</date>
  <millis>1478804094911</millis>
  <sequence>4643</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>194</thread>
  <message>recv:&gt;&gt;</message>
</record>
<record>
  <date>2016-11-11T02:54:54</date>
  <millis>1478804094913</millis>
  <sequence>4644</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>194</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T02:54:54</date>
  <millis>1478804094934</millis>
  <sequence>4645</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:file.flush() file.close() FILE=nil rcvBuf=nil ESP_Receiver=nil uart.setup(0,115200,8,0,1,1) str="\r\n--Done--\r\n&gt; " print(str) str=nil collectgarbage() end end uart.on("data",'\r',ESP_Receiver,0)</message>
</record>
<record>
  <date>2016-11-11T02:54:54</date>
  <millis>1478804094973</millis>
  <sequence>4646</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>194</thread>
  <message>recv:&gt;</message>
</record>
<record>
  <date>2016-11-11T02:54:54</date>
  <millis>1478804094975</millis>
  <sequence>4647</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>194</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T02:54:54</date>
  <millis>1478804094996</millis>
  <sequence>4648</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local M = {}

-- status pin = 0, alarm 1
-- relay pin = 6 and 7, alarm 2, 3

function M.status_LED(delay)
    gpio.mode(0, gpio.OUTPUT)
    status0 = 0
        
    tmr.alarm(1, delay, 1, function()
        if status0 == 0 then
            status0 = 1
  </message>
</record>
<record>
  <date>2016-11-11T02:54:55</date>
  <millis>1478804095025</millis>
  <sequence>4649</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>194</thread>
  <message>recv:&gt;</message>
</record>
<record>
  <date>2016-11-11T02:54:55</date>
  <millis>1478804095027</millis>
  <sequence>4650</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>194</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T02:54:55</date>
  <millis>1478804095047</millis>
  <sequence>4651</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:          gpio.write(0, gpio.HIGH)
        else
            status0 = 0
            gpio.write(0, gpio.LOW)
        end 
    end)
      
end

-- One on/off relay
function M.relay_onoff()
    gpio.mode(6, gpio.OUTPUT)
    gpio.mode(7, gpio.OUTPUT)

    gp</message>
</record>
<record>
  <date>2016-11-11T02:54:55</date>
  <millis>1478804095078</millis>
  <sequence>4652</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>194</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:54:55</date>
  <millis>1478804095095</millis>
  <sequence>4653</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:io.write(6, gpio.LOW)
    gpio.write(6, gpio.LOW)
        tmr.alarm(A, 500, tmr.ALARM_SINGLE, function()
            if gpio.read(6) == 0 then
                tmr.alarm(2, 500, tmr.ALARM_SINGLE, function() gpio.write(6, gpio.HIGH) end)
                tm</message>
</record>
<record>
  <date>2016-11-11T02:54:55</date>
  <millis>1478804095127</millis>
  <sequence>4654</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>194</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:54:55</date>
  <millis>1478804095139</millis>
  <sequence>4655</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:r.alarm(3, 500, tmr.ALARM_SINGLE, function() gpio.write(7, gpio.HIGH) end)
            end

        end)

        tmr.alarm(B, 2000, tmr.ALARM_SINGLE, function()
            if gpio.read(6) == 1 then
                tmr.alarm(2, 500, tmr.ALARM_SINGLE, fu</message>
</record>
<record>
  <date>2016-11-11T02:54:55</date>
  <millis>1478804095170</millis>
  <sequence>4656</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>194</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:54:55</date>
  <millis>1478804095184</millis>
  <sequence>4657</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:nction() gpio.write(6, gpio.LOW) end)
                tmr.alarm(3, 500, tmr.ALARM_SINGLE, function() gpio.write(7, gpio.LOW) end)
            end

        end)
end

-- loop relay
function M.relay_6(delay, mode)
    gpio.mode(6, gpio.OUTPUT)
    status1 =</message>
</record>
<record>
  <date>2016-11-11T02:54:55</date>
  <millis>1478804095215</millis>
  <sequence>4658</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>194</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:54:55</date>
  <millis>1478804095232</millis>
  <sequence>4659</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending: 0
        
    tmr.alarm(2, delay, mode, function()
        if status1 == 0 then
            status1 = 1
            gpio.write(6, gpio.HIGH)
        else
            status1 = 0
            gpio.write(6, gpio.LOW)
        end 
    end)
      
end


fun</message>
</record>
<record>
  <date>2016-11-11T02:54:55</date>
  <millis>1478804095263</millis>
  <sequence>4660</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>194</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:54:55</date>
  <millis>1478804095275</millis>
  <sequence>4661</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ction M.relay_7(delay, mode)
    gpio.mode(7, gpio.OUTPUT)
    status2 = 0
        
    tmr.alarm(3, delay, mode, function()
        if status2 == 0 then
            status2 = 1
            gpio.write(7, gpio.HIGH)
        else
            status2 = 0
  </message>
</record>
<record>
  <date>2016-11-11T02:54:55</date>
  <millis>1478804095306</millis>
  <sequence>4662</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>194</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:54:55</date>
  <millis>1478804095320</millis>
  <sequence>4663</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:          gpio.write(7, gpio.LOW)
        end 
    end)
      
end
return M
</message>
</record>
<record>
  <date>2016-11-11T02:54:55</date>
  <millis>1478804095335</millis>
  <sequence>4664</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>194</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:54:55</date>
  <millis>1478804095348</millis>
  <sequence>4665</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_cmd_close</message>
</record>
<record>
  <date>2016-11-11T02:54:55</date>
  <millis>1478804095361</millis>
  <sequence>4666</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>194</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;--Don</message>
</record>
<record>
  <date>2016-11-11T02:54:55</date>
  <millis>1478804095363</millis>
  <sequence>4667</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>194</thread>
  <message>recv:e--&lt;CR&gt;&lt;LF&gt;&gt; &lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:54:55</date>
  <millis>1478804095386</millis>
  <sequence>4668</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:54:55</date>
  <millis>1478804095388</millis>
  <sequence>4669</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>194</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:54:55</date>
  <millis>1478804095389</millis>
  <sequence>4670</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>194</thread>
  <message>recv:&gt; &lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T02:54:55</date>
  <millis>1478804095431</millis>
  <sequence>4671</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:dofile("control.lua")</message>
</record>
<record>
  <date>2016-11-11T02:54:55</date>
  <millis>1478804095433</millis>
  <sequence>4672</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>194</thread>
  <message>recv:d</message>
</record>
<record>
  <date>2016-11-11T02:54:55</date>
  <millis>1478804095435</millis>
  <sequence>4673</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>194</thread>
  <message>recv:ofile("control.lua")&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:54:55</date>
  <millis>1478804095506</millis>
  <sequence>4674</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>194</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:54:55</date>
  <millis>1478804095572</millis>
  <sequence>4675</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>194</thread>
  <message>Operation done. Duration = 1048 ms</message>
</record>
<record>
  <date>2016-11-11T02:54:57</date>
  <millis>1478804097091</millis>
  <sequence>4676</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:node.restart()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:54:57</date>
  <millis>1478804097092</millis>
  <sequence>4677</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with saved baud 115200...</message>
</record>
<record>
  <date>2016-11-11T02:54:57</date>
  <millis>1478804097155</millis>
  <sequence>4678</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success. Now we waiting for ESP reboot...</message>
</record>
<record>
  <date>2016-11-11T02:54:59</date>
  <millis>1478804099156</millis>
  <sequence>4679</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with baud 115200...</message>
</record>
<record>
  <date>2016-11-11T02:54:59</date>
  <millis>1478804099158</millis>
  <sequence>4680</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:print(uart.setup(0, 115200, 8, 0, 1, 1 ))&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:54:59</date>
  <millis>1478804099422</millis>
  <sequence>4681</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success.</message>
</record>
<record>
  <date>2016-11-11T02:54:59</date>
  <millis>1478804099454</millis>
  <sequence>4682</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:54:59</date>
  <millis>1478804099456</millis>
  <sequence>4683</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>195</thread>
  <message>
Communication with MCU established.</message>
</record>
<record>
  <date>2016-11-11T02:55:22</date>
  <millis>1478804122942</millis>
  <sequence>4684</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to load file control.lua</message>
</record>
<record>
  <date>2016-11-11T02:55:22</date>
  <millis>1478804122987</millis>
  <sequence>4685</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Loading control.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T02:55:22</date>
  <millis>1478804122988</millis>
  <sequence>4686</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>File reload: Success.</message>
</record>
<record>
  <date>2016-11-11T02:55:24</date>
  <millis>1478804124774</millis>
  <sequence>4687</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>We save known file control.lua</message>
</record>
<record>
  <date>2016-11-11T02:55:24</date>
  <millis>1478804124775</millis>
  <sequence>4688</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to saving file control.lua ...</message>
</record>
<record>
  <date>2016-11-11T02:55:24</date>
  <millis>1478804124777</millis>
  <sequence>4689</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Save file control.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T02:55:24</date>
  <millis>1478804124783</millis>
  <sequence>4690</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP: Try to save file to ESP...</message>
</record>
<record>
  <date>2016-11-11T02:55:24</date>
  <millis>1478804124785</millis>
  <sequence>4691</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Try to save file to ESP in Turbo Mode...</message>
</record>
<record>
  <date>2016-11-11T02:55:24</date>
  <millis>1478804124792</millis>
  <sequence>4692</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>DataTurboSender: start "Smart Mode"</message>
</record>
<record>
  <date>2016-11-11T02:55:24</date>
  <millis>1478804124793</millis>
  <sequence>4693</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Starting...</message>
</record>
<record>
  <date>2016-11-11T02:55:24</date>
  <millis>1478804124933</millis>
  <sequence>4694</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local FILE="control.lua" file.remove(FILE) file.open(FILE,"w+") uart.setup(0,115200,8,0,1,0)</message>
</record>
<record>
  <date>2016-11-11T02:55:24</date>
  <millis>1478804124936</millis>
  <sequence>4695</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>196</thread>
  <message>recv:loca</message>
</record>
<record>
  <date>2016-11-11T02:55:24</date>
  <millis>1478804124939</millis>
  <sequence>4696</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>196</thread>
  <message>recv:l FILE="control.lua" file.remove(FILE) file.op</message>
</record>
<record>
  <date>2016-11-11T02:55:24</date>
  <millis>1478804124943</millis>
  <sequence>4697</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>196</thread>
  <message>recv:en(FILE,"w+") uart.setup(0,115200,8,0,1</message>
</record>
<record>
  <date>2016-11-11T02:55:24</date>
  <millis>1478804124945</millis>
  <sequence>4698</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>196</thread>
  <message>recv:,0)&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:55:25</date>
  <millis>1478804125126</millis>
  <sequence>4699</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>196</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:55:25</date>
  <millis>1478804125142</millis>
  <sequence>4700</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_Receiver=function(rcvBuf) if string.match(rcvBuf,"^ESP_cmd_close")==nil then file.write(string.gsub(rcvBuf, '\r', '')) uart.write(0, "&gt; ") else uart.on("data") </message>
</record>
<record>
  <date>2016-11-11T02:55:25</date>
  <millis>1478804125169</millis>
  <sequence>4701</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>196</thread>
  <message>recv:&gt;&gt;</message>
</record>
<record>
  <date>2016-11-11T02:55:25</date>
  <millis>1478804125170</millis>
  <sequence>4702</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>196</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T02:55:25</date>
  <millis>1478804125189</millis>
  <sequence>4703</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:file.flush() file.close() FILE=nil rcvBuf=nil ESP_Receiver=nil uart.setup(0,115200,8,0,1,1) str="\r\n--Done--\r\n&gt; " print(str) str=nil collectgarbage() end end uart.on("data",'\r',ESP_Receiver,0)</message>
</record>
<record>
  <date>2016-11-11T02:55:25</date>
  <millis>1478804125227</millis>
  <sequence>4704</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>196</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:55:25</date>
  <millis>1478804125257</millis>
  <sequence>4705</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local M = {}

-- status pin = 0, alarm 1
-- relay pin = 6 and 7, alarm 2, 3

function M.status_LED(delay)
    gpio.mode(0, gpio.OUTPUT)
    status0 = 0
        
    tmr.alarm(1, delay, 1, function()
        if status0 == 0 then
            status0 = 1
  </message>
</record>
<record>
  <date>2016-11-11T02:55:25</date>
  <millis>1478804125286</millis>
  <sequence>4706</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>196</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:55:25</date>
  <millis>1478804125305</millis>
  <sequence>4707</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:          gpio.write(0, gpio.HIGH)
        else
            status0 = 0
            gpio.write(0, gpio.LOW)
        end 
    end)
      
end

-- One on/off relay
function M.relay_onoff()
    gpio.mode(6, gpio.OUTPUT)
    gpio.mode(7, gpio.OUTPUT)

    gp</message>
</record>
<record>
  <date>2016-11-11T02:55:25</date>
  <millis>1478804125335</millis>
  <sequence>4708</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>196</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:55:25</date>
  <millis>1478804125352</millis>
  <sequence>4709</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:io.write(6, gpio.LOW)
    gpio.write(6, gpio.LOW)
        tmr.alarm('A', 500, tmr.ALARM_SINGLE, function()
            if gpio.read(6) == 0 then
                tmr.alarm(2, 500, tmr.ALARM_SINGLE, function() gpio.write(6, gpio.HIGH) end)
                </message>
</record>
<record>
  <date>2016-11-11T02:55:25</date>
  <millis>1478804125383</millis>
  <sequence>4710</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>196</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:55:25</date>
  <millis>1478804125400</millis>
  <sequence>4711</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:tmr.alarm(3, 500, tmr.ALARM_SINGLE, function() gpio.write(7, gpio.HIGH) end)
            end

        end)

        tmr.alarm('B', 2000, tmr.ALARM_SINGLE, function()
            if gpio.read(6) == 1 then
                tmr.alarm(2, 500, tmr.ALARM_SINGLE</message>
</record>
<record>
  <date>2016-11-11T02:55:25</date>
  <millis>1478804125430</millis>
  <sequence>4712</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>196</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:55:25</date>
  <millis>1478804125443</millis>
  <sequence>4713</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:, function() gpio.write(6, gpio.LOW) end)
                tmr.alarm(3, 500, tmr.ALARM_SINGLE, function() gpio.write(7, gpio.LOW) end)
            end

        end)
end

-- loop relay
function M.relay_6(delay, mode)
    gpio.mode(6, gpio.OUTPUT)
    statu</message>
</record>
<record>
  <date>2016-11-11T02:55:25</date>
  <millis>1478804125474</millis>
  <sequence>4714</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>196</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:55:25</date>
  <millis>1478804125488</millis>
  <sequence>4715</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:s1 = 0
        
    tmr.alarm(2, delay, mode, function()
        if status1 == 0 then
            status1 = 1
            gpio.write(6, gpio.HIGH)
        else
            status1 = 0
            gpio.write(6, gpio.LOW)
        end 
    end)
      
end

</message>
</record>
<record>
  <date>2016-11-11T02:55:25</date>
  <millis>1478804125519</millis>
  <sequence>4716</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>196</thread>
  <message>recv:&gt;</message>
</record>
<record>
  <date>2016-11-11T02:55:25</date>
  <millis>1478804125520</millis>
  <sequence>4717</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>196</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T02:55:25</date>
  <millis>1478804125538</millis>
  <sequence>4718</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:
function M.relay_7(delay, mode)
    gpio.mode(7, gpio.OUTPUT)
    status2 = 0
        
    tmr.alarm(3, delay, mode, function()
        if status2 == 0 then
            status2 = 1
            gpio.write(7, gpio.HIGH)
        else
            status2 = </message>
</record>
<record>
  <date>2016-11-11T02:55:25</date>
  <millis>1478804125568</millis>
  <sequence>4719</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>196</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:55:25</date>
  <millis>1478804125580</millis>
  <sequence>4720</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:0
            gpio.write(7, gpio.LOW)
        end 
    end)
      
end
return M
</message>
</record>
<record>
  <date>2016-11-11T02:55:25</date>
  <millis>1478804125596</millis>
  <sequence>4721</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>196</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:55:25</date>
  <millis>1478804125609</millis>
  <sequence>4722</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_cmd_close</message>
</record>
<record>
  <date>2016-11-11T02:55:25</date>
  <millis>1478804125620</millis>
  <sequence>4723</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>196</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;-</message>
</record>
<record>
  <date>2016-11-11T02:55:25</date>
  <millis>1478804125622</millis>
  <sequence>4724</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>196</thread>
  <message>recv:-Done--&lt;CR&gt;&lt;LF&gt;&gt; &lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:55:25</date>
  <millis>1478804125651</millis>
  <sequence>4725</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:55:25</date>
  <millis>1478804125652</millis>
  <sequence>4726</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>196</thread>
  <message>recv:&lt;CR&gt;</message>
</record>
<record>
  <date>2016-11-11T02:55:25</date>
  <millis>1478804125654</millis>
  <sequence>4727</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>196</thread>
  <message>recv:&lt;LF&gt;&gt; &lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T02:55:25</date>
  <millis>1478804125689</millis>
  <sequence>4728</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:dofile("control.lua")</message>
</record>
<record>
  <date>2016-11-11T02:55:25</date>
  <millis>1478804125692</millis>
  <sequence>4729</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>196</thread>
  <message>recv:dof</message>
</record>
<record>
  <date>2016-11-11T02:55:25</date>
  <millis>1478804125694</millis>
  <sequence>4730</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>196</thread>
  <message>recv:ile("control.lua")&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:55:25</date>
  <millis>1478804125760</millis>
  <sequence>4731</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>196</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:55:25</date>
  <millis>1478804125807</millis>
  <sequence>4732</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>196</thread>
  <message>Operation done. Duration = 1019 ms</message>
</record>
<record>
  <date>2016-11-11T02:55:26</date>
  <millis>1478804126658</millis>
  <sequence>4733</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:node.restart()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:55:26</date>
  <millis>1478804126662</millis>
  <sequence>4734</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with saved baud 115200...</message>
</record>
<record>
  <date>2016-11-11T02:55:26</date>
  <millis>1478804126723</millis>
  <sequence>4735</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success. Now we waiting for ESP reboot...</message>
</record>
<record>
  <date>2016-11-11T02:55:28</date>
  <millis>1478804128725</millis>
  <sequence>4736</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with baud 115200...</message>
</record>
<record>
  <date>2016-11-11T02:55:28</date>
  <millis>1478804128728</millis>
  <sequence>4737</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:print(uart.setup(0, 115200, 8, 0, 1, 1 ))&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:55:28</date>
  <millis>1478804128992</millis>
  <sequence>4738</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success.</message>
</record>
<record>
  <date>2016-11-11T02:55:29</date>
  <millis>1478804129042</millis>
  <sequence>4739</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:55:29</date>
  <millis>1478804129044</millis>
  <sequence>4740</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>197</thread>
  <message>
Communication with MCU established.</message>
</record>
<record>
  <date>2016-11-11T02:57:24</date>
  <millis>1478804244732</millis>
  <sequence>4741</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to load file control.lua</message>
</record>
<record>
  <date>2016-11-11T02:57:24</date>
  <millis>1478804244745</millis>
  <sequence>4742</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Loading control.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T02:57:24</date>
  <millis>1478804244745</millis>
  <sequence>4743</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>File reload: Success.</message>
</record>
<record>
  <date>2016-11-11T02:57:25</date>
  <millis>1478804245323</millis>
  <sequence>4744</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>We save known file control.lua</message>
</record>
<record>
  <date>2016-11-11T02:57:25</date>
  <millis>1478804245323</millis>
  <sequence>4745</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to saving file control.lua ...</message>
</record>
<record>
  <date>2016-11-11T02:57:25</date>
  <millis>1478804245325</millis>
  <sequence>4746</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Save file control.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T02:57:25</date>
  <millis>1478804245329</millis>
  <sequence>4747</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP: Try to save file to ESP...</message>
</record>
<record>
  <date>2016-11-11T02:57:25</date>
  <millis>1478804245330</millis>
  <sequence>4748</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Try to save file to ESP in Turbo Mode...</message>
</record>
<record>
  <date>2016-11-11T02:57:25</date>
  <millis>1478804245337</millis>
  <sequence>4749</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>DataTurboSender: start "Smart Mode"</message>
</record>
<record>
  <date>2016-11-11T02:57:25</date>
  <millis>1478804245338</millis>
  <sequence>4750</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Starting...</message>
</record>
<record>
  <date>2016-11-11T02:57:25</date>
  <millis>1478804245481</millis>
  <sequence>4751</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local FILE="control.lua" file.remove(FILE) file.open(FILE,"w+") uart.setup(0,115200,8,0,1,0)</message>
</record>
<record>
  <date>2016-11-11T02:57:25</date>
  <millis>1478804245483</millis>
  <sequence>4752</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>198</thread>
  <message>recv:lo</message>
</record>
<record>
  <date>2016-11-11T02:57:25</date>
  <millis>1478804245484</millis>
  <sequence>4753</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>198</thread>
  <message>recv:cal FILE="co</message>
</record>
<record>
  <date>2016-11-11T02:57:25</date>
  <millis>1478804245485</millis>
  <sequence>4754</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>198</thread>
  <message>recv:ntrol.l</message>
</record>
<record>
  <date>2016-11-11T02:57:25</date>
  <millis>1478804245485</millis>
  <sequence>4755</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>198</thread>
  <message>recv:ua" file</message>
</record>
<record>
  <date>2016-11-11T02:57:25</date>
  <millis>1478804245487</millis>
  <sequence>4756</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>198</thread>
  <message>recv:.remove(FILE</message>
</record>
<record>
  <date>2016-11-11T02:57:25</date>
  <millis>1478804245487</millis>
  <sequence>4757</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>198</thread>
  <message>recv:) file.open</message>
</record>
<record>
  <date>2016-11-11T02:57:25</date>
  <millis>1478804245488</millis>
  <sequence>4758</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>198</thread>
  <message>recv:(FILE,"w+"</message>
</record>
<record>
  <date>2016-11-11T02:57:25</date>
  <millis>1478804245489</millis>
  <sequence>4759</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>198</thread>
  <message>recv:) uart.setup</message>
</record>
<record>
  <date>2016-11-11T02:57:25</date>
  <millis>1478804245491</millis>
  <sequence>4760</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>198</thread>
  <message>recv:(0,115200,8,0,1</message>
</record>
<record>
  <date>2016-11-11T02:57:25</date>
  <millis>1478804245497</millis>
  <sequence>4761</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>198</thread>
  <message>recv:,0)&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:57:25</date>
  <millis>1478804245674</millis>
  <sequence>4762</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>198</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:57:25</date>
  <millis>1478804245689</millis>
  <sequence>4763</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_Receiver=function(rcvBuf) if string.match(rcvBuf,"^ESP_cmd_close")==nil then file.write(string.gsub(rcvBuf, '\r', '')) uart.write(0, "&gt; ") else uart.on("data") </message>
</record>
<record>
  <date>2016-11-11T02:57:25</date>
  <millis>1478804245715</millis>
  <sequence>4764</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>198</thread>
  <message>recv:&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T02:57:25</date>
  <millis>1478804245733</millis>
  <sequence>4765</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:file.flush() file.close() FILE=nil rcvBuf=nil ESP_Receiver=nil uart.setup(0,115200,8,0,1,1) str="\r\n--Done--\r\n&gt; " print(str) str=nil collectgarbage() end end uart.on("data",'\r',ESP_Receiver,0)</message>
</record>
<record>
  <date>2016-11-11T02:57:25</date>
  <millis>1478804245771</millis>
  <sequence>4766</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>198</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:57:25</date>
  <millis>1478804245785</millis>
  <sequence>4767</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local M = {}

-- status pin = 0, alarm 1
-- relay pin = 6 and 7, alarm 2, 3

function M.status_LED(delay)
    gpio.mode(0, gpio.OUTPUT)
    status0 = 0
        
    tmr.alarm(1, delay, 1, function()
        if status0 == 0 then
            status0 = 1
  </message>
</record>
<record>
  <date>2016-11-11T02:57:25</date>
  <millis>1478804245813</millis>
  <sequence>4768</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>198</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:57:25</date>
  <millis>1478804245827</millis>
  <sequence>4769</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:          gpio.write(0, gpio.HIGH)
        else
            status0 = 0
            gpio.write(0, gpio.LOW)
        end 
    end)
      
end

-- One on/off relay
function M.relay_onoff()
    gpio.mode(6, gpio.OUTPUT)
    gpio.mode(7, gpio.OUTPUT)
    gpi</message>
</record>
<record>
  <date>2016-11-11T02:57:25</date>
  <millis>1478804245858</millis>
  <sequence>4770</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>198</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:57:25</date>
  <millis>1478804245877</millis>
  <sequence>4771</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:o.write(6, gpio.LOW)
    gpio.write(6, gpio.LOW)

        tmr.alarm(5, 500, tmr.ALARM_AUTO, function()
            if gpio.read(6) == 0 then
                tmr.alarm(2, 500, tmr.ALARM_SINGLE, function() gpio.write(6, gpio.HIGH) end)
                tmr.</message>
</record>
<record>
  <date>2016-11-11T02:57:25</date>
  <millis>1478804245907</millis>
  <sequence>4772</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>198</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:57:25</date>
  <millis>1478804245921</millis>
  <sequence>4773</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:alarm(3, 500, tmr.ALARM_SINGLE, function() gpio.write(7, gpio.HIGH) end)
            else 
                tmr.alarm(2, 500, tmr.ALARM_SINGLE, function() gpio.write(6, gpio.LOW) end)
                tmr.alarm(3, 500, tmr.ALARM_SINGLE, function() gpio.wri</message>
</record>
<record>
  <date>2016-11-11T02:57:25</date>
  <millis>1478804245952</millis>
  <sequence>4774</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>198</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:57:25</date>
  <millis>1478804245967</millis>
  <sequence>4775</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:te(7, gpio.LOW) end)
            end

        end)

        tmr.alarm(6, 2000, tmr.ALARM_SINGLE, function()
            if gpio.read(6) == 1 then
                tmr.alarm(2, 500, tmr.ALARM_SINGLE, function() gpio.write(6, gpio.LOW) end)
                </message>
</record>
<record>
  <date>2016-11-11T02:57:25</date>
  <millis>1478804245998</millis>
  <sequence>4776</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>198</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:57:26</date>
  <millis>1478804246016</millis>
  <sequence>4777</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:tmr.alarm(3, 500, tmr.ALARM_SINGLE, function() gpio.write(7, gpio.LOW) end)
            end

        end)
end

-- loop relay
function M.relay_6(delay, mode)
    gpio.mode(6, gpio.OUTPUT)
    status1 = 0
        
    tmr.alarm(2, delay, mode, function()
 </message>
</record>
<record>
  <date>2016-11-11T02:57:26</date>
  <millis>1478804246047</millis>
  <sequence>4778</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>198</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:57:26</date>
  <millis>1478804246060</millis>
  <sequence>4779</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:       if status1 == 0 then
            status1 = 1
            gpio.write(6, gpio.HIGH)
        else
            status1 = 0
            gpio.write(6, gpio.LOW)
        end 
    end)
      
end


function M.relay_7(delay, mode)
    gpio.mode(7, gpio.OUT</message>
</record>
<record>
  <date>2016-11-11T02:57:26</date>
  <millis>1478804246090</millis>
  <sequence>4780</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>198</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:57:26</date>
  <millis>1478804246103</millis>
  <sequence>4781</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:PUT)
    status2 = 0
        
    tmr.alarm(3, delay, mode, function()
        if status2 == 0 then
            status2 = 1
            gpio.write(7, gpio.HIGH)
        else
            status2 = 0
            gpio.write(7, gpio.LOW)
        end 
    end</message>
</record>
<record>
  <date>2016-11-11T02:57:26</date>
  <millis>1478804246134</millis>
  <sequence>4782</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>198</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:57:26</date>
  <millis>1478804246151</millis>
  <sequence>4783</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:)
      
end
return M
</message>
</record>
<record>
  <date>2016-11-11T02:57:26</date>
  <millis>1478804246160</millis>
  <sequence>4784</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>198</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:57:26</date>
  <millis>1478804246173</millis>
  <sequence>4785</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_cmd_close</message>
</record>
<record>
  <date>2016-11-11T02:57:26</date>
  <millis>1478804246185</millis>
  <sequence>4786</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>198</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;-</message>
</record>
<record>
  <date>2016-11-11T02:57:26</date>
  <millis>1478804246186</millis>
  <sequence>4787</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>198</thread>
  <message>recv:-Done--&lt;CR&gt;&lt;LF&gt;&gt; &lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:57:26</date>
  <millis>1478804246213</millis>
  <sequence>4788</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:57:26</date>
  <millis>1478804246215</millis>
  <sequence>4789</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>198</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:57:26</date>
  <millis>1478804246218</millis>
  <sequence>4790</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>198</thread>
  <message>recv:&gt; &lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T02:57:26</date>
  <millis>1478804246246</millis>
  <sequence>4791</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:dofile("control.lua")</message>
</record>
<record>
  <date>2016-11-11T02:57:26</date>
  <millis>1478804246248</millis>
  <sequence>4792</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>198</thread>
  <message>recv:do</message>
</record>
<record>
  <date>2016-11-11T02:57:26</date>
  <millis>1478804246249</millis>
  <sequence>4793</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>198</thread>
  <message>recv:file("control.lua")&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:57:26</date>
  <millis>1478804246322</millis>
  <sequence>4794</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>198</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:57:26</date>
  <millis>1478804246363</millis>
  <sequence>4795</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>198</thread>
  <message>Operation done. Duration = 1032 ms</message>
</record>
<record>
  <date>2016-11-11T02:57:27</date>
  <millis>1478804247424</millis>
  <sequence>4796</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:node.restart()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:57:27</date>
  <millis>1478804247425</millis>
  <sequence>4797</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with saved baud 115200...</message>
</record>
<record>
  <date>2016-11-11T02:57:27</date>
  <millis>1478804247486</millis>
  <sequence>4798</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success. Now we waiting for ESP reboot...</message>
</record>
<record>
  <date>2016-11-11T02:57:29</date>
  <millis>1478804249487</millis>
  <sequence>4799</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with baud 115200...</message>
</record>
<record>
  <date>2016-11-11T02:57:29</date>
  <millis>1478804249489</millis>
  <sequence>4800</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:print(uart.setup(0, 115200, 8, 0, 1, 1 ))&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:57:29</date>
  <millis>1478804249752</millis>
  <sequence>4801</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success.</message>
</record>
<record>
  <date>2016-11-11T02:57:29</date>
  <millis>1478804249794</millis>
  <sequence>4802</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:57:29</date>
  <millis>1478804249796</millis>
  <sequence>4803</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>199</thread>
  <message>
Communication with MCU established.</message>
</record>
<record>
  <date>2016-11-11T02:57:29</date>
  <millis>1478804249799</millis>
  <sequence>4804</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>199</thread>
  <message>sending:=node.heap()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:57:33</date>
  <millis>1478804253853</millis>
  <sequence>4805</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:node.restart()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:57:33</date>
  <millis>1478804253854</millis>
  <sequence>4806</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with saved baud 115200...</message>
</record>
<record>
  <date>2016-11-11T02:57:33</date>
  <millis>1478804253917</millis>
  <sequence>4807</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success. Now we waiting for ESP reboot...</message>
</record>
<record>
  <date>2016-11-11T02:57:35</date>
  <millis>1478804255918</millis>
  <sequence>4808</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with baud 115200...</message>
</record>
<record>
  <date>2016-11-11T02:57:35</date>
  <millis>1478804255919</millis>
  <sequence>4809</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:print(uart.setup(0, 115200, 8, 0, 1, 1 ))&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:57:36</date>
  <millis>1478804256184</millis>
  <sequence>4810</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success.</message>
</record>
<record>
  <date>2016-11-11T02:57:36</date>
  <millis>1478804256225</millis>
  <sequence>4811</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:57:36</date>
  <millis>1478804256227</millis>
  <sequence>4812</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>199</thread>
  <message>
Communication with MCU established.</message>
</record>
<record>
  <date>2016-11-11T02:57:36</date>
  <millis>1478804256228</millis>
  <sequence>4813</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>199</thread>
  <message>sending:=node.heap()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:58:12</date>
  <millis>1478804292767</millis>
  <sequence>4814</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to load file control.lua</message>
</record>
<record>
  <date>2016-11-11T02:58:12</date>
  <millis>1478804292781</millis>
  <sequence>4815</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Loading control.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T02:58:12</date>
  <millis>1478804292782</millis>
  <sequence>4816</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>File reload: Success.</message>
</record>
<record>
  <date>2016-11-11T02:58:13</date>
  <millis>1478804293664</millis>
  <sequence>4817</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>We save known file control.lua</message>
</record>
<record>
  <date>2016-11-11T02:58:13</date>
  <millis>1478804293665</millis>
  <sequence>4818</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to saving file control.lua ...</message>
</record>
<record>
  <date>2016-11-11T02:58:13</date>
  <millis>1478804293667</millis>
  <sequence>4819</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Save file control.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T02:58:13</date>
  <millis>1478804293673</millis>
  <sequence>4820</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP: Try to save file to ESP...</message>
</record>
<record>
  <date>2016-11-11T02:58:13</date>
  <millis>1478804293674</millis>
  <sequence>4821</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Try to save file to ESP in Turbo Mode...</message>
</record>
<record>
  <date>2016-11-11T02:58:13</date>
  <millis>1478804293681</millis>
  <sequence>4822</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>DataTurboSender: start "Smart Mode"</message>
</record>
<record>
  <date>2016-11-11T02:58:13</date>
  <millis>1478804293682</millis>
  <sequence>4823</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Starting...</message>
</record>
<record>
  <date>2016-11-11T02:58:13</date>
  <millis>1478804293823</millis>
  <sequence>4824</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local FILE="control.lua" file.remove(FILE) file.open(FILE,"w+") uart.setup(0,115200,8,0,1,0)</message>
</record>
<record>
  <date>2016-11-11T02:58:13</date>
  <millis>1478804293824</millis>
  <sequence>4825</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>200</thread>
  <message>recv:l</message>
</record>
<record>
  <date>2016-11-11T02:58:13</date>
  <millis>1478804293827</millis>
  <sequence>4826</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>200</thread>
  <message>recv:ocal FILE="control.lua" file.</message>
</record>
<record>
  <date>2016-11-11T02:58:13</date>
  <millis>1478804293828</millis>
  <sequence>4827</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>200</thread>
  <message>recv:remove(FILE) </message>
</record>
<record>
  <date>2016-11-11T02:58:13</date>
  <millis>1478804293829</millis>
  <sequence>4828</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>200</thread>
  <message>recv:file.open(FIL</message>
</record>
<record>
  <date>2016-11-11T02:58:13</date>
  <millis>1478804293830</millis>
  <sequence>4829</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>200</thread>
  <message>recv:E,"w+") uart.set</message>
</record>
<record>
  <date>2016-11-11T02:58:13</date>
  <millis>1478804293833</millis>
  <sequence>4830</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>200</thread>
  <message>recv:up(0,115200,8,0,1,0)&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:58:14</date>
  <millis>1478804294019</millis>
  <sequence>4831</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>200</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:58:14</date>
  <millis>1478804294044</millis>
  <sequence>4832</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_Receiver=function(rcvBuf) if string.match(rcvBuf,"^ESP_cmd_close")==nil then file.write(string.gsub(rcvBuf, '\r', '')) uart.write(0, "&gt; ") else uart.on("data") </message>
</record>
<record>
  <date>2016-11-11T02:58:14</date>
  <millis>1478804294072</millis>
  <sequence>4833</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>200</thread>
  <message>recv:&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T02:58:14</date>
  <millis>1478804294084</millis>
  <sequence>4834</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:file.flush() file.close() FILE=nil rcvBuf=nil ESP_Receiver=nil uart.setup(0,115200,8,0,1,1) str="\r\n--Done--\r\n&gt; " print(str) str=nil collectgarbage() end end uart.on("data",'\r',ESP_Receiver,0)</message>
</record>
<record>
  <date>2016-11-11T02:58:14</date>
  <millis>1478804294124</millis>
  <sequence>4835</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>200</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:58:14</date>
  <millis>1478804294136</millis>
  <sequence>4836</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local M = {}

-- status pin = 0, alarm 1
-- relay pin = 6 and 7, alarm 2, 3

function M.status_LED(delay)
    gpio.mode(0, gpio.OUTPUT)
    status0 = 0
        
    tmr.alarm(1, delay, 1, function()
        if status0 == 0 then
            status0 = 1
  </message>
</record>
<record>
  <date>2016-11-11T02:58:14</date>
  <millis>1478804294165</millis>
  <sequence>4837</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>200</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:58:14</date>
  <millis>1478804294179</millis>
  <sequence>4838</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:          gpio.write(0, gpio.HIGH)
        else
            status0 = 0
            gpio.write(0, gpio.LOW)
        end 
    end)
      
end

-- One on/off relay
function M.relay_onoff()
    gpio.mode(6, gpio.OUTPUT)
    gpio.mode(7, gpio.OUTPUT)
    gpi</message>
</record>
<record>
  <date>2016-11-11T02:58:14</date>
  <millis>1478804294210</millis>
  <sequence>4839</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>200</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:58:14</date>
  <millis>1478804294226</millis>
  <sequence>4840</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:o.write(6, gpio.LOW)
    gpio.write(6, gpio.LOW)

        tmr.alarm(5, 500, tmr.ALARM_AUTO, function()
            if gpio.read(6) == 0 then
                tmr.alarm(2, 500, tmr.ALARM_SINGLE, function() gpio.write(6, gpio.HIGH) end)
                tmr.</message>
</record>
<record>
  <date>2016-11-11T02:58:14</date>
  <millis>1478804294257</millis>
  <sequence>4841</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>200</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:58:14</date>
  <millis>1478804294272</millis>
  <sequence>4842</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:alarm(3, 500, tmr.ALARM_SINGLE, function() gpio.write(7, gpio.HIGH) end)
            else 
                tmr.alarm(2, 500, tmr.ALARM_SINGLE, function() gpio.write(6, gpio.LOW) end)
                tmr.alarm(3, 500, tmr.ALARM_SINGLE, function() gpio.wri</message>
</record>
<record>
  <date>2016-11-11T02:58:14</date>
  <millis>1478804294303</millis>
  <sequence>4843</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>200</thread>
  <message>recv:&gt;</message>
</record>
<record>
  <date>2016-11-11T02:58:14</date>
  <millis>1478804294304</millis>
  <sequence>4844</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>200</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T02:58:14</date>
  <millis>1478804294323</millis>
  <sequence>4845</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:te(7, gpio.LOW) end)
            end

        end)

end

-- loop relay
function M.relay_6(delay, mode)
    gpio.mode(6, gpio.OUTPUT)
    status1 = 0
        
    tmr.alarm(2, delay, mode, function()
        if status1 == 0 then
            status1 = 1
  </message>
</record>
<record>
  <date>2016-11-11T02:58:14</date>
  <millis>1478804294354</millis>
  <sequence>4846</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>200</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:58:14</date>
  <millis>1478804294367</millis>
  <sequence>4847</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:          gpio.write(6, gpio.HIGH)
        else
            status1 = 0
            gpio.write(6, gpio.LOW)
        end 
    end)
      
end


function M.relay_7(delay, mode)
    gpio.mode(7, gpio.OUTPUT)
    status2 = 0
        
    tmr.alarm(3, delay, </message>
</record>
<record>
  <date>2016-11-11T02:58:14</date>
  <millis>1478804294399</millis>
  <sequence>4848</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>200</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:58:14</date>
  <millis>1478804294416</millis>
  <sequence>4849</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:mode, function()
        if status2 == 0 then
            status2 = 1
            gpio.write(7, gpio.HIGH)
        else
            status2 = 0
            gpio.write(7, gpio.LOW)
        end 
    end)
      
end
return M
</message>
</record>
<record>
  <date>2016-11-11T02:58:14</date>
  <millis>1478804294446</millis>
  <sequence>4850</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>200</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:58:14</date>
  <millis>1478804294458</millis>
  <sequence>4851</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_cmd_close</message>
</record>
<record>
  <date>2016-11-11T02:58:14</date>
  <millis>1478804294471</millis>
  <sequence>4852</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>200</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;--</message>
</record>
<record>
  <date>2016-11-11T02:58:14</date>
  <millis>1478804294472</millis>
  <sequence>4853</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>200</thread>
  <message>recv:Done--&lt;CR&gt;&lt;LF&gt;&gt; &lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:58:14</date>
  <millis>1478804294495</millis>
  <sequence>4854</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:58:14</date>
  <millis>1478804294497</millis>
  <sequence>4855</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>200</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:58:14</date>
  <millis>1478804294498</millis>
  <sequence>4856</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>200</thread>
  <message>recv:&gt; &lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T02:58:14</date>
  <millis>1478804294523</millis>
  <sequence>4857</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>200</thread>
  <message>recv:  Conf</message>
</record>
<record>
  <date>2016-11-11T02:58:14</date>
  <millis>1478804294525</millis>
  <sequence>4858</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>200</thread>
  <message>recv:ig file NOT exists, start</message>
</record>
<record>
  <date>2016-11-11T02:58:14</date>
  <millis>1478804294527</millis>
  <sequence>4859</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>200</thread>
  <message>recv:ing smartconfig..&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:58:14</date>
  <millis>1478804294540</millis>
  <sequence>4860</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:dofile("control.lua")</message>
</record>
<record>
  <date>2016-11-11T02:58:14</date>
  <millis>1478804294541</millis>
  <sequence>4861</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>200</thread>
  <message>recv:d</message>
</record>
<record>
  <date>2016-11-11T02:58:14</date>
  <millis>1478804294542</millis>
  <sequence>4862</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>200</thread>
  <message>recv:ofile("con</message>
</record>
<record>
  <date>2016-11-11T02:58:14</date>
  <millis>1478804294543</millis>
  <sequence>4863</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>200</thread>
  <message>recv:trol.lua")</message>
</record>
<record>
  <date>2016-11-11T02:58:14</date>
  <millis>1478804294544</millis>
  <sequence>4864</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>200</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:58:14</date>
  <millis>1478804294611</millis>
  <sequence>4865</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>200</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:58:14</date>
  <millis>1478804294650</millis>
  <sequence>4866</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>200</thread>
  <message>Operation done. Duration = 975 ms</message>
</record>
<record>
  <date>2016-11-11T02:58:15</date>
  <millis>1478804295093</millis>
  <sequence>4867</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:node.restart()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:58:15</date>
  <millis>1478804295094</millis>
  <sequence>4868</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with saved baud 115200...</message>
</record>
<record>
  <date>2016-11-11T02:58:15</date>
  <millis>1478804295157</millis>
  <sequence>4869</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success. Now we waiting for ESP reboot...</message>
</record>
<record>
  <date>2016-11-11T02:58:17</date>
  <millis>1478804297161</millis>
  <sequence>4870</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with baud 115200...</message>
</record>
<record>
  <date>2016-11-11T02:58:17</date>
  <millis>1478804297162</millis>
  <sequence>4871</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:print(uart.setup(0, 115200, 8, 0, 1, 1 ))&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:58:17</date>
  <millis>1478804297423</millis>
  <sequence>4872</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success.</message>
</record>
<record>
  <date>2016-11-11T02:58:17</date>
  <millis>1478804297453</millis>
  <sequence>4873</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:58:17</date>
  <millis>1478804297455</millis>
  <sequence>4874</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>201</thread>
  <message>
Communication with MCU established.</message>
</record>
<record>
  <date>2016-11-11T02:58:29</date>
  <millis>1478804309700</millis>
  <sequence>4875</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to load file control.lua</message>
</record>
<record>
  <date>2016-11-11T02:58:29</date>
  <millis>1478804309711</millis>
  <sequence>4876</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Loading control.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T02:58:29</date>
  <millis>1478804309711</millis>
  <sequence>4877</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>File reload: Success.</message>
</record>
<record>
  <date>2016-11-11T02:58:30</date>
  <millis>1478804310366</millis>
  <sequence>4878</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>We save known file control.lua</message>
</record>
<record>
  <date>2016-11-11T02:58:30</date>
  <millis>1478804310367</millis>
  <sequence>4879</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to saving file control.lua ...</message>
</record>
<record>
  <date>2016-11-11T02:58:30</date>
  <millis>1478804310370</millis>
  <sequence>4880</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Save file control.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T02:58:30</date>
  <millis>1478804310375</millis>
  <sequence>4881</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP: Try to save file to ESP...</message>
</record>
<record>
  <date>2016-11-11T02:58:30</date>
  <millis>1478804310376</millis>
  <sequence>4882</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Try to save file to ESP in Turbo Mode...</message>
</record>
<record>
  <date>2016-11-11T02:58:30</date>
  <millis>1478804310384</millis>
  <sequence>4883</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>DataTurboSender: start "Smart Mode"</message>
</record>
<record>
  <date>2016-11-11T02:58:30</date>
  <millis>1478804310385</millis>
  <sequence>4884</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Starting...</message>
</record>
<record>
  <date>2016-11-11T02:58:30</date>
  <millis>1478804310529</millis>
  <sequence>4885</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local FILE="control.lua" file.remove(FILE) file.open(FILE,"w+") uart.setup(0,115200,8,0,1,0)</message>
</record>
<record>
  <date>2016-11-11T02:58:30</date>
  <millis>1478804310530</millis>
  <sequence>4886</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>202</thread>
  <message>recv:lo</message>
</record>
<record>
  <date>2016-11-11T02:58:30</date>
  <millis>1478804310533</millis>
  <sequence>4887</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>202</thread>
  <message>recv:cal FILE="control.lua" file.rem</message>
</record>
<record>
  <date>2016-11-11T02:58:30</date>
  <millis>1478804310534</millis>
  <sequence>4888</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>202</thread>
  <message>recv:ove(FILE) fi</message>
</record>
<record>
  <date>2016-11-11T02:58:30</date>
  <millis>1478804310535</millis>
  <sequence>4889</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>202</thread>
  <message>recv:le.open(FILE</message>
</record>
<record>
  <date>2016-11-11T02:58:30</date>
  <millis>1478804310539</millis>
  <sequence>4890</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>202</thread>
  <message>recv:,"w+") uart.setup(0,115200,8,0,1,</message>
</record>
<record>
  <date>2016-11-11T02:58:30</date>
  <millis>1478804310540</millis>
  <sequence>4891</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>202</thread>
  <message>recv:0)&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:58:30</date>
  <millis>1478804310735</millis>
  <sequence>4892</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>202</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:58:30</date>
  <millis>1478804310750</millis>
  <sequence>4893</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_Receiver=function(rcvBuf) if string.match(rcvBuf,"^ESP_cmd_close")==nil then file.write(string.gsub(rcvBuf, '\r', '')) uart.write(0, "&gt; ") else uart.on("data") </message>
</record>
<record>
  <date>2016-11-11T02:58:30</date>
  <millis>1478804310777</millis>
  <sequence>4894</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>202</thread>
  <message>recv:&gt;</message>
</record>
<record>
  <date>2016-11-11T02:58:30</date>
  <millis>1478804310779</millis>
  <sequence>4895</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>202</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:58:30</date>
  <millis>1478804310805</millis>
  <sequence>4896</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:file.flush() file.close() FILE=nil rcvBuf=nil ESP_Receiver=nil uart.setup(0,115200,8,0,1,1) str="\r\n--Done--\r\n&gt; " print(str) str=nil collectgarbage() end end uart.on("data",'\r',ESP_Receiver,0)</message>
</record>
<record>
  <date>2016-11-11T02:58:30</date>
  <millis>1478804310845</millis>
  <sequence>4897</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>202</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:58:30</date>
  <millis>1478804310855</millis>
  <sequence>4898</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>202</thread>
  <message>recv:  Con</message>
</record>
<record>
  <date>2016-11-11T02:58:30</date>
  <millis>1478804310856</millis>
  <sequence>4899</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>202</thread>
  <message>recv:fig file NOT e</message>
</record>
<record>
  <date>2016-11-11T02:58:30</date>
  <millis>1478804310857</millis>
  <sequence>4900</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>202</thread>
  <message>recv:xists, sta</message>
</record>
<record>
  <date>2016-11-11T02:58:30</date>
  <millis>1478804310858</millis>
  <sequence>4901</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>202</thread>
  <message>recv:rting sma</message>
</record>
<record>
  <date>2016-11-11T02:58:30</date>
  <millis>1478804310859</millis>
  <sequence>4902</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>202</thread>
  <message>recv:rtconfig..&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:58:30</date>
  <millis>1478804310872</millis>
  <sequence>4903</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local M = {}

-- status pin = 0, alarm 1
-- relay pin = 6 and 7, alarm 2, 3

function M.status_LED(delay)
    gpio.mode(0, gpio.OUTPUT)
    status0 = 0
        
    tmr.alarm(1, delay, 1, function()
        if status0 == 0 then
            status0 = 1
  </message>
</record>
<record>
  <date>2016-11-11T02:58:30</date>
  <millis>1478804310901</millis>
  <sequence>4904</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>202</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:58:30</date>
  <millis>1478804310921</millis>
  <sequence>4905</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:          gpio.write(0, gpio.HIGH)
        else
            status0 = 0
            gpio.write(0, gpio.LOW)
        end 
    end)
      
end

-- One on/off relay
function M.relay_onoff()
    gpio.mode(6, gpio.OUTPUT)
    gpio.mode(7, gpio.OUTPUT)
    gpi</message>
</record>
<record>
  <date>2016-11-11T02:58:30</date>
  <millis>1478804310953</millis>
  <sequence>4906</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>202</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:58:30</date>
  <millis>1478804310969</millis>
  <sequence>4907</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:o.write(6, gpio.LOW)
    gpio.write(6, gpio.LOW)

        tmr.alarm(5, 500, tmr.ALARM_AUTO, function()
            if gpio.read(6) == 0 then
                tmr.alarm(2, 100, tmr.ALARM_SINGLE, function() gpio.write(6, gpio.HIGH) end)
                tmr.</message>
</record>
<record>
  <date>2016-11-11T02:58:31</date>
  <millis>1478804311003</millis>
  <sequence>4908</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>202</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:58:31</date>
  <millis>1478804311020</millis>
  <sequence>4909</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:alarm(3, 100, tmr.ALARM_SINGLE, function() gpio.write(7, gpio.HIGH) end)
            else 
                tmr.alarm(2, 2000, tmr.ALARM_SINGLE, function() gpio.write(6, gpio.LOW) end)
                tmr.alarm(3, 2000, tmr.ALARM_SINGLE, function() gpio.w</message>
</record>
<record>
  <date>2016-11-11T02:58:31</date>
  <millis>1478804311051</millis>
  <sequence>4910</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>202</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:58:31</date>
  <millis>1478804311065</millis>
  <sequence>4911</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:rite(7, gpio.LOW) end)
            end

        end)

end

-- loop relay
function M.relay_6(delay, mode)
    gpio.mode(6, gpio.OUTPUT)
    status1 = 0
        
    tmr.alarm(2, delay, mode, function()
        if status1 == 0 then
            status1 = 1
</message>
</record>
<record>
  <date>2016-11-11T02:58:31</date>
  <millis>1478804311099</millis>
  <sequence>4912</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>202</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:58:31</date>
  <millis>1478804311112</millis>
  <sequence>4913</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:            gpio.write(6, gpio.HIGH)
        else
            status1 = 0
            gpio.write(6, gpio.LOW)
        end 
    end)
      
end


function M.relay_7(delay, mode)
    gpio.mode(7, gpio.OUTPUT)
    status2 = 0
        
    tmr.alarm(3, delay</message>
</record>
<record>
  <date>2016-11-11T02:58:31</date>
  <millis>1478804311143</millis>
  <sequence>4914</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>202</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:58:31</date>
  <millis>1478804311157</millis>
  <sequence>4915</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:, mode, function()
        if status2 == 0 then
            status2 = 1
            gpio.write(7, gpio.HIGH)
        else
            status2 = 0
            gpio.write(7, gpio.LOW)
        end 
    end)
      
end
return M
</message>
</record>
<record>
  <date>2016-11-11T02:58:31</date>
  <millis>1478804311186</millis>
  <sequence>4916</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>202</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:58:31</date>
  <millis>1478804311204</millis>
  <sequence>4917</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_cmd_close</message>
</record>
<record>
  <date>2016-11-11T02:58:31</date>
  <millis>1478804311217</millis>
  <sequence>4918</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>202</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:58:31</date>
  <millis>1478804311218</millis>
  <sequence>4919</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>202</thread>
  <message>recv:--Done--&lt;CR&gt;&lt;LF&gt;&gt; &lt;CR&gt;</message>
</record>
<record>
  <date>2016-11-11T02:58:31</date>
  <millis>1478804311224</millis>
  <sequence>4920</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>202</thread>
  <message>recv:&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:58:31</date>
  <millis>1478804311243</millis>
  <sequence>4921</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:58:31</date>
  <millis>1478804311245</millis>
  <sequence>4922</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>202</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;&gt;</message>
</record>
<record>
  <date>2016-11-11T02:58:31</date>
  <millis>1478804311251</millis>
  <sequence>4923</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>202</thread>
  <message>recv: &lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T02:58:31</date>
  <millis>1478804311290</millis>
  <sequence>4924</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:dofile("control.lua")</message>
</record>
<record>
  <date>2016-11-11T02:58:31</date>
  <millis>1478804311291</millis>
  <sequence>4925</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>202</thread>
  <message>recv:do</message>
</record>
<record>
  <date>2016-11-11T02:58:31</date>
  <millis>1478804311294</millis>
  <sequence>4926</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>202</thread>
  <message>recv:file("control.lua")&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:58:31</date>
  <millis>1478804311364</millis>
  <sequence>4927</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>202</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:58:31</date>
  <millis>1478804311399</millis>
  <sequence>4928</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>202</thread>
  <message>Operation done. Duration = 1022 ms</message>
</record>
<record>
  <date>2016-11-11T02:58:31</date>
  <millis>1478804311771</millis>
  <sequence>4929</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:node.restart()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:58:31</date>
  <millis>1478804311773</millis>
  <sequence>4930</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with saved baud 115200...</message>
</record>
<record>
  <date>2016-11-11T02:58:31</date>
  <millis>1478804311837</millis>
  <sequence>4931</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success. Now we waiting for ESP reboot...</message>
</record>
<record>
  <date>2016-11-11T02:58:33</date>
  <millis>1478804313839</millis>
  <sequence>4932</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with baud 115200...</message>
</record>
<record>
  <date>2016-11-11T02:58:33</date>
  <millis>1478804313840</millis>
  <sequence>4933</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:print(uart.setup(0, 115200, 8, 0, 1, 1 ))&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:58:34</date>
  <millis>1478804314101</millis>
  <sequence>4934</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success.</message>
</record>
<record>
  <date>2016-11-11T02:58:34</date>
  <millis>1478804314141</millis>
  <sequence>4935</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:58:34</date>
  <millis>1478804314144</millis>
  <sequence>4936</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>203</thread>
  <message>
Communication with MCU established.</message>
</record>
<record>
  <date>2016-11-11T02:58:34</date>
  <millis>1478804314147</millis>
  <sequence>4937</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>203</thread>
  <message>sending:=node.heap()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:59:25</date>
  <millis>1478804365132</millis>
  <sequence>4938</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to load file control.lua</message>
</record>
<record>
  <date>2016-11-11T02:59:25</date>
  <millis>1478804365145</millis>
  <sequence>4939</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Loading control.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T02:59:25</date>
  <millis>1478804365146</millis>
  <sequence>4940</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>File reload: Success.</message>
</record>
<record>
  <date>2016-11-11T02:59:25</date>
  <millis>1478804365793</millis>
  <sequence>4941</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>We save known file control.lua</message>
</record>
<record>
  <date>2016-11-11T02:59:25</date>
  <millis>1478804365793</millis>
  <sequence>4942</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to saving file control.lua ...</message>
</record>
<record>
  <date>2016-11-11T02:59:25</date>
  <millis>1478804365795</millis>
  <sequence>4943</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Save file control.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T02:59:25</date>
  <millis>1478804365801</millis>
  <sequence>4944</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP: Try to save file to ESP...</message>
</record>
<record>
  <date>2016-11-11T02:59:25</date>
  <millis>1478804365802</millis>
  <sequence>4945</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Try to save file to ESP in Turbo Mode...</message>
</record>
<record>
  <date>2016-11-11T02:59:25</date>
  <millis>1478804365809</millis>
  <sequence>4946</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>DataTurboSender: start "Smart Mode"</message>
</record>
<record>
  <date>2016-11-11T02:59:25</date>
  <millis>1478804365811</millis>
  <sequence>4947</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Starting...</message>
</record>
<record>
  <date>2016-11-11T02:59:25</date>
  <millis>1478804365940</millis>
  <sequence>4948</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local FILE="control.lua" file.remove(FILE) file.open(FILE,"w+") uart.setup(0,115200,8,0,1,0)</message>
</record>
<record>
  <date>2016-11-11T02:59:25</date>
  <millis>1478804365942</millis>
  <sequence>4949</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>204</thread>
  <message>recv:loc</message>
</record>
<record>
  <date>2016-11-11T02:59:25</date>
  <millis>1478804365946</millis>
  <sequence>4950</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>204</thread>
  <message>recv:al FILE="control.lua" file.remove(FILE) file.o</message>
</record>
<record>
  <date>2016-11-11T02:59:25</date>
  <millis>1478804365947</millis>
  <sequence>4951</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>204</thread>
  <message>recv:pen(FILE,"w+") ua</message>
</record>
<record>
  <date>2016-11-11T02:59:25</date>
  <millis>1478804365948</millis>
  <sequence>4952</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>204</thread>
  <message>recv:rt.setup</message>
</record>
<record>
  <date>2016-11-11T02:59:25</date>
  <millis>1478804365949</millis>
  <sequence>4953</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>204</thread>
  <message>recv:(0,115200</message>
</record>
<record>
  <date>2016-11-11T02:59:25</date>
  <millis>1478804365950</millis>
  <sequence>4954</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>204</thread>
  <message>recv:,8,0,1,0)</message>
</record>
<record>
  <date>2016-11-11T02:59:25</date>
  <millis>1478804365950</millis>
  <sequence>4955</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>204</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:59:26</date>
  <millis>1478804366135</millis>
  <sequence>4956</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>204</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:59:26</date>
  <millis>1478804366156</millis>
  <sequence>4957</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_Receiver=function(rcvBuf) if string.match(rcvBuf,"^ESP_cmd_close")==nil then file.write(string.gsub(rcvBuf, '\r', '')) uart.write(0, "&gt; ") else uart.on("data") </message>
</record>
<record>
  <date>2016-11-11T02:59:26</date>
  <millis>1478804366184</millis>
  <sequence>4958</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>204</thread>
  <message>recv:&gt;&gt;</message>
</record>
<record>
  <date>2016-11-11T02:59:26</date>
  <millis>1478804366185</millis>
  <sequence>4959</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>204</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T02:59:26</date>
  <millis>1478804366205</millis>
  <sequence>4960</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:file.flush() file.close() FILE=nil rcvBuf=nil ESP_Receiver=nil uart.setup(0,115200,8,0,1,1) str="\r\n--Done--\r\n&gt; " print(str) str=nil collectgarbage() end end uart.on("data",'\r',ESP_Receiver,0)</message>
</record>
<record>
  <date>2016-11-11T02:59:26</date>
  <millis>1478804366246</millis>
  <sequence>4961</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>204</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:59:26</date>
  <millis>1478804366258</millis>
  <sequence>4962</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local M = {}

-- status pin = 0, alarm 1
-- relay pin = 6 and 7, alarm 2, 3

function M.status_LED(delay)
    gpio.mode(0, gpio.OUTPUT)
    status0 = 0
        
    tmr.alarm(1, delay, 1, function()
        if status0 == 0 then
            status0 = 1
  </message>
</record>
<record>
  <date>2016-11-11T02:59:26</date>
  <millis>1478804366288</millis>
  <sequence>4963</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>204</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:59:26</date>
  <millis>1478804366300</millis>
  <sequence>4964</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:          gpio.write(0, gpio.HIGH)
        else
            status0 = 0
            gpio.write(0, gpio.LOW)
        end 
    end)
      
end

-- One on/off relay
function M.relay_onoff()
    gpio.mode(6, gpio.OUTPUT)
    gpio.mode(7, gpio.OUTPUT)
    gpi</message>
</record>
<record>
  <date>2016-11-11T02:59:26</date>
  <millis>1478804366332</millis>
  <sequence>4965</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>204</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:59:26</date>
  <millis>1478804366347</millis>
  <sequence>4966</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:o.write(6, gpio.LOW)
    gpio.write(6, gpio.LOW)

        tmr.alarm(5, 500, tmr.ALARM_AUTO, function()
            if gpio.read(6) == 0 then
                tmr.alarm(2, 100, tmr.ALARM_SINGLE, function() gpio.write(6, gpio.HIGH) end)
                tmr.</message>
</record>
<record>
  <date>2016-11-11T02:59:26</date>
  <millis>1478804366378</millis>
  <sequence>4967</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>204</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:59:26</date>
  <millis>1478804366402</millis>
  <sequence>4968</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:alarm(3, 100, tmr.ALARM_SINGLE, function() gpio.write(7, gpio.HIGH) end)
            else
                gpio.write(6, gpio.LOW)
                gpio.write(6, gpio.LOW) 
                tmr.alarm(2, 2000, tmr.ALARM_SINGLE, function() gpio.write(6, gpio.</message>
</record>
<record>
  <date>2016-11-11T02:59:26</date>
  <millis>1478804366433</millis>
  <sequence>4969</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>204</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:59:26</date>
  <millis>1478804366448</millis>
  <sequence>4970</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:LOW) end)
                tmr.alarm(3, 2000, tmr.ALARM_SINGLE, function() gpio.write(7, gpio.LOW) end)
            end

        end)

end

-- loop relay
function M.relay_6(delay, mode)
    gpio.mode(6, gpio.OUTPUT)
    status1 = 0
        
    tmr.alarm(</message>
</record>
<record>
  <date>2016-11-11T02:59:26</date>
  <millis>1478804366479</millis>
  <sequence>4971</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>204</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:59:26</date>
  <millis>1478804366496</millis>
  <sequence>4972</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:2, delay, mode, function()
        if status1 == 0 then
            status1 = 1
            gpio.write(6, gpio.HIGH)
        else
            status1 = 0
            gpio.write(6, gpio.LOW)
        end 
    end)
      
end


function M.relay_7(delay, mod</message>
</record>
<record>
  <date>2016-11-11T02:59:26</date>
  <millis>1478804366526</millis>
  <sequence>4973</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>204</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:59:26</date>
  <millis>1478804366544</millis>
  <sequence>4974</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:e)
    gpio.mode(7, gpio.OUTPUT)
    status2 = 0
        
    tmr.alarm(3, delay, mode, function()
        if status2 == 0 then
            status2 = 1
            gpio.write(7, gpio.HIGH)
        else
            status2 = 0
            gpio.write(7, gp</message>
</record>
<record>
  <date>2016-11-11T02:59:26</date>
  <millis>1478804366576</millis>
  <sequence>4975</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>204</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:59:26</date>
  <millis>1478804366590</millis>
  <sequence>4976</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:io.LOW)
        end 
    end)
      
end
return M
</message>
</record>
<record>
  <date>2016-11-11T02:59:26</date>
  <millis>1478804366602</millis>
  <sequence>4977</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>204</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:59:26</date>
  <millis>1478804366617</millis>
  <sequence>4978</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_cmd_close</message>
</record>
<record>
  <date>2016-11-11T02:59:26</date>
  <millis>1478804366629</millis>
  <sequence>4979</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>204</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;-</message>
</record>
<record>
  <date>2016-11-11T02:59:26</date>
  <millis>1478804366631</millis>
  <sequence>4980</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>204</thread>
  <message>recv:-Done--&lt;CR&gt;&lt;LF&gt;&gt; &lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:59:26</date>
  <millis>1478804366653</millis>
  <sequence>4981</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:59:26</date>
  <millis>1478804366655</millis>
  <sequence>4982</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>204</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:59:26</date>
  <millis>1478804366656</millis>
  <sequence>4983</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>204</thread>
  <message>recv:&gt; &lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T02:59:26</date>
  <millis>1478804366693</millis>
  <sequence>4984</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:dofile("control.lua")</message>
</record>
<record>
  <date>2016-11-11T02:59:26</date>
  <millis>1478804366695</millis>
  <sequence>4985</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>204</thread>
  <message>recv:dof</message>
</record>
<record>
  <date>2016-11-11T02:59:26</date>
  <millis>1478804366698</millis>
  <sequence>4986</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>204</thread>
  <message>recv:ile("control.lua")&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:59:26</date>
  <millis>1478804366766</millis>
  <sequence>4987</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>204</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:59:26</date>
  <millis>1478804366819</millis>
  <sequence>4988</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>204</thread>
  <message>Operation done. Duration = 1017 ms</message>
</record>
<record>
  <date>2016-11-11T02:59:31</date>
  <millis>1478804371070</millis>
  <sequence>4989</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:node.restart()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:59:31</date>
  <millis>1478804371074</millis>
  <sequence>4990</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with saved baud 115200...</message>
</record>
<record>
  <date>2016-11-11T02:59:31</date>
  <millis>1478804371136</millis>
  <sequence>4991</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success. Now we waiting for ESP reboot...</message>
</record>
<record>
  <date>2016-11-11T02:59:33</date>
  <millis>1478804373138</millis>
  <sequence>4992</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with baud 115200...</message>
</record>
<record>
  <date>2016-11-11T02:59:33</date>
  <millis>1478804373138</millis>
  <sequence>4993</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:print(uart.setup(0, 115200, 8, 0, 1, 1 ))&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:59:33</date>
  <millis>1478804373402</millis>
  <sequence>4994</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success.</message>
</record>
<record>
  <date>2016-11-11T02:59:33</date>
  <millis>1478804373459</millis>
  <sequence>4995</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:59:33</date>
  <millis>1478804373463</millis>
  <sequence>4996</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>205</thread>
  <message>
Communication with MCU established.</message>
</record>
<record>
  <date>2016-11-11T02:59:33</date>
  <millis>1478804373469</millis>
  <sequence>4997</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>205</thread>
  <message>sending:=node.heap()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:59:47</date>
  <millis>1478804387647</millis>
  <sequence>4998</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to load file control.lua</message>
</record>
<record>
  <date>2016-11-11T02:59:47</date>
  <millis>1478804387663</millis>
  <sequence>4999</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Loading control.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T02:59:47</date>
  <millis>1478804387665</millis>
  <sequence>5000</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>File reload: Success.</message>
</record>
<record>
  <date>2016-11-11T02:59:48</date>
  <millis>1478804388399</millis>
  <sequence>5001</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>We save known file control.lua</message>
</record>
<record>
  <date>2016-11-11T02:59:48</date>
  <millis>1478804388400</millis>
  <sequence>5002</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to saving file control.lua ...</message>
</record>
<record>
  <date>2016-11-11T02:59:48</date>
  <millis>1478804388401</millis>
  <sequence>5003</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Save file control.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T02:59:48</date>
  <millis>1478804388406</millis>
  <sequence>5004</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP: Try to save file to ESP...</message>
</record>
<record>
  <date>2016-11-11T02:59:48</date>
  <millis>1478804388407</millis>
  <sequence>5005</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Try to save file to ESP in Turbo Mode...</message>
</record>
<record>
  <date>2016-11-11T02:59:48</date>
  <millis>1478804388416</millis>
  <sequence>5006</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>DataTurboSender: start "Smart Mode"</message>
</record>
<record>
  <date>2016-11-11T02:59:48</date>
  <millis>1478804388417</millis>
  <sequence>5007</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Starting...</message>
</record>
<record>
  <date>2016-11-11T02:59:48</date>
  <millis>1478804388569</millis>
  <sequence>5008</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local FILE="control.lua" file.remove(FILE) file.open(FILE,"w+") uart.setup(0,115200,8,0,1,0)</message>
</record>
<record>
  <date>2016-11-11T02:59:48</date>
  <millis>1478804388572</millis>
  <sequence>5009</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>206</thread>
  <message>recv:lo</message>
</record>
<record>
  <date>2016-11-11T02:59:48</date>
  <millis>1478804388574</millis>
  <sequence>5010</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>206</thread>
  <message>recv:cal FILE="control.lua" file.re</message>
</record>
<record>
  <date>2016-11-11T02:59:48</date>
  <millis>1478804388577</millis>
  <sequence>5011</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>206</thread>
  <message>recv:move(FILE) file.open(FILE,"w</message>
</record>
<record>
  <date>2016-11-11T02:59:48</date>
  <millis>1478804388582</millis>
  <sequence>5012</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>206</thread>
  <message>recv:+") uart.setup(0,115200,8,0,1,0)&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:59:48</date>
  <millis>1478804388766</millis>
  <sequence>5013</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>206</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:59:48</date>
  <millis>1478804388779</millis>
  <sequence>5014</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_Receiver=function(rcvBuf) if string.match(rcvBuf,"^ESP_cmd_close")==nil then file.write(string.gsub(rcvBuf, '\r', '')) uart.write(0, "&gt; ") else uart.on("data") </message>
</record>
<record>
  <date>2016-11-11T02:59:48</date>
  <millis>1478804388807</millis>
  <sequence>5015</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>206</thread>
  <message>recv:&gt;&gt;</message>
</record>
<record>
  <date>2016-11-11T02:59:48</date>
  <millis>1478804388808</millis>
  <sequence>5016</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>206</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T02:59:48</date>
  <millis>1478804388827</millis>
  <sequence>5017</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:file.flush() file.close() FILE=nil rcvBuf=nil ESP_Receiver=nil uart.setup(0,115200,8,0,1,1) str="\r\n--Done--\r\n&gt; " print(str) str=nil collectgarbage() end end uart.on("data",'\r',ESP_Receiver,0)</message>
</record>
<record>
  <date>2016-11-11T02:59:48</date>
  <millis>1478804388867</millis>
  <sequence>5018</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>206</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:59:48</date>
  <millis>1478804388885</millis>
  <sequence>5019</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local M = {}

-- status pin = 0, alarm 1
-- relay pin = 6 and 7, alarm 2, 3

function M.status_LED(delay)
    gpio.mode(0, gpio.OUTPUT)
    status0 = 0
        
    tmr.alarm(1, delay, 1, function()
        if status0 == 0 then
            status0 = 1
  </message>
</record>
<record>
  <date>2016-11-11T02:59:48</date>
  <millis>1478804388914</millis>
  <sequence>5020</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>206</thread>
  <message>recv:&gt;</message>
</record>
<record>
  <date>2016-11-11T02:59:48</date>
  <millis>1478804388915</millis>
  <sequence>5021</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>206</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T02:59:48</date>
  <millis>1478804388936</millis>
  <sequence>5022</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:          gpio.write(0, gpio.HIGH)
        else
            status0 = 0
            gpio.write(0, gpio.LOW)
        end 
    end)
      
end

-- One on/off relay
function M.relay_onoff()
    gpio.mode(6, gpio.OUTPUT)
    gpio.mode(7, gpio.OUTPUT)
    gpi</message>
</record>
<record>
  <date>2016-11-11T02:59:48</date>
  <millis>1478804388968</millis>
  <sequence>5023</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>206</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:59:48</date>
  <millis>1478804388985</millis>
  <sequence>5024</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:o.write(6, gpio.LOW)
    gpio.write(6, gpio.LOW)

        tmr.alarm(5, 500, tmr.ALARM_AUTO, function()
            if gpio.read(6) == 0 then
                tmr.alarm(2, 100, tmr.ALARM_SINGLE, function() gpio.write(6, gpio.HIGH) end)
                tmr.</message>
</record>
<record>
  <date>2016-11-11T02:59:49</date>
  <millis>1478804389016</millis>
  <sequence>5025</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>206</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:59:49</date>
  <millis>1478804389029</millis>
  <sequence>5026</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:alarm(3, 100, tmr.ALARM_SINGLE, function() gpio.write(7, gpio.HIGH) end)
            else
                gpio.write(6, gpio.LOW)
                gpio.write(7, gpio.LOW) 
            end

        end)

end

-- loop relay
function M.relay_6(delay, mode)
 </message>
</record>
<record>
  <date>2016-11-11T02:59:49</date>
  <millis>1478804389060</millis>
  <sequence>5027</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>206</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:59:49</date>
  <millis>1478804389076</millis>
  <sequence>5028</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:   gpio.mode(6, gpio.OUTPUT)
    status1 = 0
        
    tmr.alarm(2, delay, mode, function()
        if status1 == 0 then
            status1 = 1
            gpio.write(6, gpio.HIGH)
        else
            status1 = 0
            gpio.write(6, gpio.L</message>
</record>
<record>
  <date>2016-11-11T02:59:49</date>
  <millis>1478804389107</millis>
  <sequence>5029</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>206</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:59:49</date>
  <millis>1478804389120</millis>
  <sequence>5030</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:OW)
        end 
    end)
      
end


function M.relay_7(delay, mode)
    gpio.mode(7, gpio.OUTPUT)
    status2 = 0
        
    tmr.alarm(3, delay, mode, function()
        if status2 == 0 then
            status2 = 1
            gpio.write(7, gpio.HIG</message>
</record>
<record>
  <date>2016-11-11T02:59:49</date>
  <millis>1478804389151</millis>
  <sequence>5031</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>206</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:59:49</date>
  <millis>1478804389164</millis>
  <sequence>5032</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:H)
        else
            status2 = 0
            gpio.write(7, gpio.LOW)
        end 
    end)
      
end
return M
</message>
</record>
<record>
  <date>2016-11-11T02:59:49</date>
  <millis>1478804389183</millis>
  <sequence>5033</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>206</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T02:59:49</date>
  <millis>1478804389197</millis>
  <sequence>5034</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_cmd_close</message>
</record>
<record>
  <date>2016-11-11T02:59:49</date>
  <millis>1478804389211</millis>
  <sequence>5035</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>206</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;--</message>
</record>
<record>
  <date>2016-11-11T02:59:49</date>
  <millis>1478804389215</millis>
  <sequence>5036</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>206</thread>
  <message>recv:Done--&lt;CR&gt;&lt;LF&gt;&gt; &lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:59:49</date>
  <millis>1478804389241</millis>
  <sequence>5037</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:59:49</date>
  <millis>1478804389243</millis>
  <sequence>5038</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>206</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T02:59:49</date>
  <millis>1478804389244</millis>
  <sequence>5039</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>206</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T02:59:49</date>
  <millis>1478804389306</millis>
  <sequence>5040</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>206</thread>
  <message>Operation done. Duration = 898 ms</message>
</record>
<record>
  <date>2016-11-11T02:59:49</date>
  <millis>1478804389776</millis>
  <sequence>5041</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:node.restart()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:59:49</date>
  <millis>1478804389777</millis>
  <sequence>5042</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with saved baud 115200...</message>
</record>
<record>
  <date>2016-11-11T02:59:49</date>
  <millis>1478804389838</millis>
  <sequence>5043</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success. Now we waiting for ESP reboot...</message>
</record>
<record>
  <date>2016-11-11T02:59:51</date>
  <millis>1478804391839</millis>
  <sequence>5044</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with baud 115200...</message>
</record>
<record>
  <date>2016-11-11T02:59:51</date>
  <millis>1478804391840</millis>
  <sequence>5045</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:print(uart.setup(0, 115200, 8, 0, 1, 1 ))&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:59:52</date>
  <millis>1478804392102</millis>
  <sequence>5046</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success.</message>
</record>
<record>
  <date>2016-11-11T02:59:52</date>
  <millis>1478804392143</millis>
  <sequence>5047</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T02:59:52</date>
  <millis>1478804392144</millis>
  <sequence>5048</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>207</thread>
  <message>
Communication with MCU established.</message>
</record>
<record>
  <date>2016-11-11T03:00:00</date>
  <millis>1478804400277</millis>
  <sequence>5049</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to load file control.lua</message>
</record>
<record>
  <date>2016-11-11T03:00:00</date>
  <millis>1478804400289</millis>
  <sequence>5050</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Loading control.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T03:00:00</date>
  <millis>1478804400289</millis>
  <sequence>5051</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>File reload: Success.</message>
</record>
<record>
  <date>2016-11-11T03:00:00</date>
  <millis>1478804400999</millis>
  <sequence>5052</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>We save known file control.lua</message>
</record>
<record>
  <date>2016-11-11T03:00:00</date>
  <millis>1478804400999</millis>
  <sequence>5053</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to saving file control.lua ...</message>
</record>
<record>
  <date>2016-11-11T03:00:01</date>
  <millis>1478804401001</millis>
  <sequence>5054</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Save file control.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T03:00:01</date>
  <millis>1478804401007</millis>
  <sequence>5055</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP: Try to save file to ESP...</message>
</record>
<record>
  <date>2016-11-11T03:00:01</date>
  <millis>1478804401009</millis>
  <sequence>5056</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Try to save file to ESP in Turbo Mode...</message>
</record>
<record>
  <date>2016-11-11T03:00:01</date>
  <millis>1478804401019</millis>
  <sequence>5057</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>DataTurboSender: start "Smart Mode"</message>
</record>
<record>
  <date>2016-11-11T03:00:01</date>
  <millis>1478804401019</millis>
  <sequence>5058</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Starting...</message>
</record>
<record>
  <date>2016-11-11T03:00:01</date>
  <millis>1478804401162</millis>
  <sequence>5059</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local FILE="control.lua" file.remove(FILE) file.open(FILE,"w+") uart.setup(0,115200,8,0,1,0)</message>
</record>
<record>
  <date>2016-11-11T03:00:01</date>
  <millis>1478804401164</millis>
  <sequence>5060</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>208</thread>
  <message>recv:lo</message>
</record>
<record>
  <date>2016-11-11T03:00:01</date>
  <millis>1478804401166</millis>
  <sequence>5061</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>208</thread>
  <message>recv:cal FILE="control.lua" fi</message>
</record>
<record>
  <date>2016-11-11T03:00:01</date>
  <millis>1478804401169</millis>
  <sequence>5062</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>208</thread>
  <message>recv:le.remove(FILE) file.open(FILE,"w</message>
</record>
<record>
  <date>2016-11-11T03:00:01</date>
  <millis>1478804401172</millis>
  <sequence>5063</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>208</thread>
  <message>recv:+") uart.setup(0,115200,8,0,1</message>
</record>
<record>
  <date>2016-11-11T03:00:01</date>
  <millis>1478804401173</millis>
  <sequence>5064</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>208</thread>
  <message>recv:,0)&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:00:01</date>
  <millis>1478804401358</millis>
  <sequence>5065</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>208</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:00:01</date>
  <millis>1478804401378</millis>
  <sequence>5066</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_Receiver=function(rcvBuf) if string.match(rcvBuf,"^ESP_cmd_close")==nil then file.write(string.gsub(rcvBuf, '\r', '')) uart.write(0, "&gt; ") else uart.on("data") </message>
</record>
<record>
  <date>2016-11-11T03:00:01</date>
  <millis>1478804401405</millis>
  <sequence>5067</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>208</thread>
  <message>recv:&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T03:00:01</date>
  <millis>1478804401417</millis>
  <sequence>5068</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:file.flush() file.close() FILE=nil rcvBuf=nil ESP_Receiver=nil uart.setup(0,115200,8,0,1,1) str="\r\n--Done--\r\n&gt; " print(str) str=nil collectgarbage() end end uart.on("data",'\r',ESP_Receiver,0)</message>
</record>
<record>
  <date>2016-11-11T03:00:01</date>
  <millis>1478804401455</millis>
  <sequence>5069</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>208</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:00:01</date>
  <millis>1478804401473</millis>
  <sequence>5070</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local M = {}

-- status pin = 0, alarm 1
-- relay pin = 6 and 7, alarm 2, 3

function M.status_LED(delay)
    gpio.mode(0, gpio.OUTPUT)
    status0 = 0
        
    tmr.alarm(1, delay, 1, function()
        if status0 == 0 then
            status0 = 1
  </message>
</record>
<record>
  <date>2016-11-11T03:00:01</date>
  <millis>1478804401502</millis>
  <sequence>5071</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>208</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:00:01</date>
  <millis>1478804401519</millis>
  <sequence>5072</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:          gpio.write(0, gpio.HIGH)
        else
            status0 = 0
            gpio.write(0, gpio.LOW)
        end 
    end)
      
end

-- One on/off relay
function M.relay_onoff()
    gpio.mode(6, gpio.OUTPUT)
    gpio.mode(7, gpio.OUTPUT)
    gpi</message>
</record>
<record>
  <date>2016-11-11T03:00:01</date>
  <millis>1478804401549</millis>
  <sequence>5073</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>208</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:00:01</date>
  <millis>1478804401561</millis>
  <sequence>5074</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:o.write(6, gpio.LOW)
    gpio.write(6, gpio.LOW)

        tmr.alarm(5, 500, tmr.ALARM_AUTO, function()
            if gpio.read(6) == 0 then
                tmr.alarm(2, 500, tmr.ALARM_SINGLE, function() gpio.write(6, gpio.HIGH) end)
                tmr.</message>
</record>
<record>
  <date>2016-11-11T03:00:01</date>
  <millis>1478804401593</millis>
  <sequence>5075</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>208</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:00:01</date>
  <millis>1478804401611</millis>
  <sequence>5076</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:alarm(3, 500, tmr.ALARM_SINGLE, function() gpio.write(7, gpio.HIGH) end)
            else
                gpio.write(6, gpio.LOW)
                gpio.write(7, gpio.LOW) 
            end

        end)

end

-- loop relay
function M.relay_6(delay, mode)
 </message>
</record>
<record>
  <date>2016-11-11T03:00:01</date>
  <millis>1478804401641</millis>
  <sequence>5077</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>208</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:00:01</date>
  <millis>1478804401655</millis>
  <sequence>5078</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:   gpio.mode(6, gpio.OUTPUT)
    status1 = 0
        
    tmr.alarm(2, delay, mode, function()
        if status1 == 0 then
            status1 = 1
            gpio.write(6, gpio.HIGH)
        else
            status1 = 0
            gpio.write(6, gpio.L</message>
</record>
<record>
  <date>2016-11-11T03:00:01</date>
  <millis>1478804401685</millis>
  <sequence>5079</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>208</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:00:01</date>
  <millis>1478804401703</millis>
  <sequence>5080</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:OW)
        end 
    end)
      
end


function M.relay_7(delay, mode)
    gpio.mode(7, gpio.OUTPUT)
    status2 = 0
        
    tmr.alarm(3, delay, mode, function()
        if status2 == 0 then
            status2 = 1
            gpio.write(7, gpio.HIG</message>
</record>
<record>
  <date>2016-11-11T03:00:01</date>
  <millis>1478804401733</millis>
  <sequence>5081</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>208</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:00:01</date>
  <millis>1478804401753</millis>
  <sequence>5082</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:H)
        else
            status2 = 0
            gpio.write(7, gpio.LOW)
        end 
    end)
      
end
return M
</message>
</record>
<record>
  <date>2016-11-11T03:00:01</date>
  <millis>1478804401772</millis>
  <sequence>5083</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>208</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:00:01</date>
  <millis>1478804401785</millis>
  <sequence>5084</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_cmd_close</message>
</record>
<record>
  <date>2016-11-11T03:00:01</date>
  <millis>1478804401797</millis>
  <sequence>5085</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>208</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;--</message>
</record>
<record>
  <date>2016-11-11T03:00:01</date>
  <millis>1478804401798</millis>
  <sequence>5086</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>208</thread>
  <message>recv:Done--&lt;CR&gt;&lt;LF&gt;&gt; &lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:00:01</date>
  <millis>1478804401831</millis>
  <sequence>5087</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:00:01</date>
  <millis>1478804401833</millis>
  <sequence>5088</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>208</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;&gt;</message>
</record>
<record>
  <date>2016-11-11T03:00:01</date>
  <millis>1478804401835</millis>
  <sequence>5089</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>208</thread>
  <message>recv: &lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T03:00:01</date>
  <millis>1478804401868</millis>
  <sequence>5090</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:dofile("control.lua")</message>
</record>
<record>
  <date>2016-11-11T03:00:01</date>
  <millis>1478804401870</millis>
  <sequence>5091</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>208</thread>
  <message>recv:dof</message>
</record>
<record>
  <date>2016-11-11T03:00:01</date>
  <millis>1478804401873</millis>
  <sequence>5092</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>208</thread>
  <message>recv:ile("control.lua")&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:00:01</date>
  <millis>1478804401934</millis>
  <sequence>5093</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>208</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:00:01</date>
  <millis>1478804401991</millis>
  <sequence>5094</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>208</thread>
  <message>Operation done. Duration = 978 ms</message>
</record>
<record>
  <date>2016-11-11T03:00:02</date>
  <millis>1478804402881</millis>
  <sequence>5095</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:node.restart()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:00:02</date>
  <millis>1478804402883</millis>
  <sequence>5096</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with saved baud 115200...</message>
</record>
<record>
  <date>2016-11-11T03:00:02</date>
  <millis>1478804402944</millis>
  <sequence>5097</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success. Now we waiting for ESP reboot...</message>
</record>
<record>
  <date>2016-11-11T03:00:04</date>
  <millis>1478804404946</millis>
  <sequence>5098</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with baud 115200...</message>
</record>
<record>
  <date>2016-11-11T03:00:04</date>
  <millis>1478804404947</millis>
  <sequence>5099</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:print(uart.setup(0, 115200, 8, 0, 1, 1 ))&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:00:05</date>
  <millis>1478804405210</millis>
  <sequence>5100</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success.</message>
</record>
<record>
  <date>2016-11-11T03:00:05</date>
  <millis>1478804405255</millis>
  <sequence>5101</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:00:05</date>
  <millis>1478804405260</millis>
  <sequence>5102</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>209</thread>
  <message>
Communication with MCU established.</message>
</record>
<record>
  <date>2016-11-11T03:00:15</date>
  <millis>1478804415301</millis>
  <sequence>5103</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:node.restart()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:00:15</date>
  <millis>1478804415302</millis>
  <sequence>5104</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with saved baud 115200...</message>
</record>
<record>
  <date>2016-11-11T03:00:15</date>
  <millis>1478804415365</millis>
  <sequence>5105</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success. Now we waiting for ESP reboot...</message>
</record>
<record>
  <date>2016-11-11T03:00:16</date>
  <millis>1478804416500</millis>
  <sequence>5106</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>We save known file control.lua</message>
</record>
<record>
  <date>2016-11-11T03:00:16</date>
  <millis>1478804416501</millis>
  <sequence>5107</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to saving file control.lua ...</message>
</record>
<record>
  <date>2016-11-11T03:00:16</date>
  <millis>1478804416503</millis>
  <sequence>5108</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Save file control.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T03:00:16</date>
  <millis>1478804416507</millis>
  <sequence>5109</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP: Try to save file to ESP...</message>
</record>
<record>
  <date>2016-11-11T03:00:16</date>
  <millis>1478804416508</millis>
  <sequence>5110</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Try to save file to ESP in Turbo Mode...</message>
</record>
<record>
  <date>2016-11-11T03:00:16</date>
  <millis>1478804416516</millis>
  <sequence>5111</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>DataTurboSender: start "Smart Mode"</message>
</record>
<record>
  <date>2016-11-11T03:00:16</date>
  <millis>1478804416517</millis>
  <sequence>5112</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Starting...</message>
</record>
<record>
  <date>2016-11-11T03:00:16</date>
  <millis>1478804416644</millis>
  <sequence>5113</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local FILE="control.lua" file.remove(FILE) file.open(FILE,"w+") uart.setup(0,115200,8,0,1,0)</message>
</record>
<record>
  <date>2016-11-11T03:00:16</date>
  <millis>1478804416646</millis>
  <sequence>5114</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>210</thread>
  <message>recv:lo</message>
</record>
<record>
  <date>2016-11-11T03:00:16</date>
  <millis>1478804416650</millis>
  <sequence>5115</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>210</thread>
  <message>recv:cal FILE="control.lua" file.remove(FILE</message>
</record>
<record>
  <date>2016-11-11T03:00:16</date>
  <millis>1478804416653</millis>
  <sequence>5116</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>210</thread>
  <message>recv:) file.open(FILE,"w+") uart.setup(0,115200,8,0</message>
</record>
<record>
  <date>2016-11-11T03:00:16</date>
  <millis>1478804416655</millis>
  <sequence>5117</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>210</thread>
  <message>recv:,1,0)&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:00:16</date>
  <millis>1478804416838</millis>
  <sequence>5118</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>210</thread>
  <message>recv:&gt;</message>
</record>
<record>
  <date>2016-11-11T03:00:16</date>
  <millis>1478804416839</millis>
  <sequence>5119</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>210</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T03:00:16</date>
  <millis>1478804416858</millis>
  <sequence>5120</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_Receiver=function(rcvBuf) if string.match(rcvBuf,"^ESP_cmd_close")==nil then file.write(string.gsub(rcvBuf, '\r', '')) uart.write(0, "&gt; ") else uart.on("data") </message>
</record>
<record>
  <date>2016-11-11T03:00:16</date>
  <millis>1478804416884</millis>
  <sequence>5121</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>210</thread>
  <message>recv:&gt;&gt;</message>
</record>
<record>
  <date>2016-11-11T03:00:16</date>
  <millis>1478804416886</millis>
  <sequence>5122</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>210</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T03:00:16</date>
  <millis>1478804416904</millis>
  <sequence>5123</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:file.flush() file.close() FILE=nil rcvBuf=nil ESP_Receiver=nil uart.setup(0,115200,8,0,1,1) str="\r\n--Done--\r\n&gt; " print(str) str=nil collectgarbage() end end uart.on("data",'\r',ESP_Receiver,0)</message>
</record>
<record>
  <date>2016-11-11T03:00:16</date>
  <millis>1478804416943</millis>
  <sequence>5124</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>210</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:00:16</date>
  <millis>1478804416955</millis>
  <sequence>5125</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local M = {}

-- status pin = 0, alarm 1
-- relay pin = 6 and 7, alarm 2, 3

function M.status_LED(delay)
    gpio.mode(0, gpio.OUTPUT)
    status0 = 0
        
    tmr.alarm(1, delay, 1, function()
        if status0 == 0 then
            status0 = 1
  </message>
</record>
<record>
  <date>2016-11-11T03:00:16</date>
  <millis>1478804416984</millis>
  <sequence>5126</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>210</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:00:17</date>
  <millis>1478804417000</millis>
  <sequence>5127</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:          gpio.write(0, gpio.HIGH)
        else
            status0 = 0
            gpio.write(0, gpio.LOW)
        end 
    end)
      
end

-- One on/off relay
function M.relay_onoff()
    gpio.mode(6, gpio.OUTPUT)
    gpio.mode(7, gpio.OUTPUT)
    gpi</message>
</record>
<record>
  <date>2016-11-11T03:00:17</date>
  <millis>1478804417031</millis>
  <sequence>5128</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>210</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:00:17</date>
  <millis>1478804417050</millis>
  <sequence>5129</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:o.write(6, gpio.LOW)
    gpio.write(6, gpio.LOW)

        tmr.alarm(5, 500, tmr.ALARM_AUTO, function()
            if gpio.read(6) == 0 then
                tmr.alarm(2, 500, tmr.ALARM_SINGLE, function() gpio.write(6, gpio.HIGH) end)
                tmr.</message>
</record>
<record>
  <date>2016-11-11T03:00:17</date>
  <millis>1478804417082</millis>
  <sequence>5130</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>210</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:00:17</date>
  <millis>1478804417098</millis>
  <sequence>5131</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:alarm(3, 500, tmr.ALARM_SINGLE, function() gpio.write(7, gpio.HIGH) end)
            else
                gpio.write(6, gpio.LOW)
                gpio.write(7, gpio.LOW) 
            end

        end)

end

-- loop relay
function M.relay_6(delay, mode)
 </message>
</record>
<record>
  <date>2016-11-11T03:00:17</date>
  <millis>1478804417129</millis>
  <sequence>5132</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>210</thread>
  <message>recv:&gt;</message>
</record>
<record>
  <date>2016-11-11T03:00:17</date>
  <millis>1478804417130</millis>
  <sequence>5133</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>210</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T03:00:17</date>
  <millis>1478804417147</millis>
  <sequence>5134</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:   gpio.mode(6, gpio.OUTPUT)
    status1 = 0
        
    tmr.alarm(2, delay, mode, function()
        if status1 == 0 then
            status1 = 1
            gpio.write(6, gpio.HIGH)
        else
            status1 = 0
            gpio.write(6, gpio.L</message>
</record>
<record>
  <date>2016-11-11T03:00:17</date>
  <millis>1478804417179</millis>
  <sequence>5135</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>210</thread>
  <message>recv:&gt;</message>
</record>
<record>
  <date>2016-11-11T03:00:17</date>
  <millis>1478804417180</millis>
  <sequence>5136</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>210</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T03:00:17</date>
  <millis>1478804417203</millis>
  <sequence>5137</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:OW)
        end 
    end)
      
end


function M.relay_7(delay, mode)
    gpio.mode(7, gpio.OUTPUT)
    status2 = 0
        
    tmr.alarm(3, delay, mode, function()
        if status2 == 0 then
            status2 = 1
            gpio.write(7, gpio.HIG</message>
</record>
<record>
  <date>2016-11-11T03:00:17</date>
  <millis>1478804417233</millis>
  <sequence>5138</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>210</thread>
  <message>recv:&gt;</message>
</record>
<record>
  <date>2016-11-11T03:00:17</date>
  <millis>1478804417236</millis>
  <sequence>5139</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>210</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T03:00:17</date>
  <millis>1478804417253</millis>
  <sequence>5140</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:H)
        else
            status2 = 0
            gpio.write(7, gpio.LOW)
        end 
    end)
      
end
return M
</message>
</record>
<record>
  <date>2016-11-11T03:00:17</date>
  <millis>1478804417271</millis>
  <sequence>5141</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>210</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:00:17</date>
  <millis>1478804417288</millis>
  <sequence>5142</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_cmd_close</message>
</record>
<record>
  <date>2016-11-11T03:00:17</date>
  <millis>1478804417300</millis>
  <sequence>5143</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>210</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;-</message>
</record>
<record>
  <date>2016-11-11T03:00:17</date>
  <millis>1478804417301</millis>
  <sequence>5144</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>210</thread>
  <message>recv:-Done--&lt;CR&gt;&lt;LF&gt;&gt; &lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:00:17</date>
  <millis>1478804417323</millis>
  <sequence>5145</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:00:17</date>
  <millis>1478804417325</millis>
  <sequence>5146</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>210</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:00:17</date>
  <millis>1478804417327</millis>
  <sequence>5147</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>210</thread>
  <message>recv:&gt; &lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T03:00:17</date>
  <millis>1478804417360</millis>
  <sequence>5148</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:dofile("control.lua")</message>
</record>
<record>
  <date>2016-11-11T03:00:17</date>
  <millis>1478804417362</millis>
  <sequence>5149</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>210</thread>
  <message>recv:dofi</message>
</record>
<record>
  <date>2016-11-11T03:00:17</date>
  <millis>1478804417364</millis>
  <sequence>5150</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>210</thread>
  <message>recv:le("control.lua")&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:00:17</date>
  <millis>1478804417384</millis>
  <sequence>5151</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with baud 115200...</message>
</record>
<record>
  <date>2016-11-11T03:00:17</date>
  <millis>1478804417385</millis>
  <sequence>5152</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:print(uart.setup(0, 115200, 8, 0, 1, 1 ))&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:00:17</date>
  <millis>1478804417426</millis>
  <sequence>5153</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>210</thread>
  <message>recv:&gt; p</message>
</record>
<record>
  <date>2016-11-11T03:00:17</date>
  <millis>1478804417436</millis>
  <sequence>5154</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>210</thread>
  <message>Operation done. Duration = 927 ms</message>
</record>
<record>
  <date>2016-11-11T03:00:17</date>
  <millis>1478804417649</millis>
  <sequence>5155</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success.</message>
</record>
<record>
  <date>2016-11-11T03:00:17</date>
  <millis>1478804417810</millis>
  <sequence>5156</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:00:17</date>
  <millis>1478804417812</millis>
  <sequence>5157</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>211</thread>
  <message>
Communication with MCU established.</message>
</record>
<record>
  <date>2016-11-11T03:00:34</date>
  <millis>1478804434631</millis>
  <sequence>5158</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to load file control.lua</message>
</record>
<record>
  <date>2016-11-11T03:00:34</date>
  <millis>1478804434646</millis>
  <sequence>5159</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Loading control.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T03:00:34</date>
  <millis>1478804434647</millis>
  <sequence>5160</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>File reload: Success.</message>
</record>
<record>
  <date>2016-11-11T03:00:35</date>
  <millis>1478804435404</millis>
  <sequence>5161</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>We save known file control.lua</message>
</record>
<record>
  <date>2016-11-11T03:00:35</date>
  <millis>1478804435405</millis>
  <sequence>5162</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to saving file control.lua ...</message>
</record>
<record>
  <date>2016-11-11T03:00:35</date>
  <millis>1478804435407</millis>
  <sequence>5163</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Save file control.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T03:00:35</date>
  <millis>1478804435412</millis>
  <sequence>5164</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP: Try to save file to ESP...</message>
</record>
<record>
  <date>2016-11-11T03:00:35</date>
  <millis>1478804435412</millis>
  <sequence>5165</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Try to save file to ESP in Turbo Mode...</message>
</record>
<record>
  <date>2016-11-11T03:00:35</date>
  <millis>1478804435420</millis>
  <sequence>5166</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>DataTurboSender: start "Smart Mode"</message>
</record>
<record>
  <date>2016-11-11T03:00:35</date>
  <millis>1478804435421</millis>
  <sequence>5167</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Starting...</message>
</record>
<record>
  <date>2016-11-11T03:00:35</date>
  <millis>1478804435583</millis>
  <sequence>5168</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local FILE="control.lua" file.remove(FILE) file.open(FILE,"w+") uart.setup(0,115200,8,0,1,0)</message>
</record>
<record>
  <date>2016-11-11T03:00:35</date>
  <millis>1478804435587</millis>
  <sequence>5169</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>212</thread>
  <message>recv:loc</message>
</record>
<record>
  <date>2016-11-11T03:00:35</date>
  <millis>1478804435588</millis>
  <sequence>5170</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>212</thread>
  <message>recv:al FILE="control.lua"</message>
</record>
<record>
  <date>2016-11-11T03:00:35</date>
  <millis>1478804435589</millis>
  <sequence>5171</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>212</thread>
  <message>recv: file.remov</message>
</record>
<record>
  <date>2016-11-11T03:00:35</date>
  <millis>1478804435590</millis>
  <sequence>5172</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>212</thread>
  <message>recv:e(FILE) f</message>
</record>
<record>
  <date>2016-11-11T03:00:35</date>
  <millis>1478804435591</millis>
  <sequence>5173</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>212</thread>
  <message>recv:ile.open(FILE,"</message>
</record>
<record>
  <date>2016-11-11T03:00:35</date>
  <millis>1478804435593</millis>
  <sequence>5174</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>212</thread>
  <message>recv:w+") uart.set</message>
</record>
<record>
  <date>2016-11-11T03:00:35</date>
  <millis>1478804435593</millis>
  <sequence>5175</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>212</thread>
  <message>recv:up(0,11520</message>
</record>
<record>
  <date>2016-11-11T03:00:35</date>
  <millis>1478804435600</millis>
  <sequence>5176</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>212</thread>
  <message>recv:0,8,0,1,0)&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:00:35</date>
  <millis>1478804435774</millis>
  <sequence>5177</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>212</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:00:35</date>
  <millis>1478804435788</millis>
  <sequence>5178</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_Receiver=function(rcvBuf) if string.match(rcvBuf,"^ESP_cmd_close")==nil then file.write(string.gsub(rcvBuf, '\r', '')) uart.write(0, "&gt; ") else uart.on("data") </message>
</record>
<record>
  <date>2016-11-11T03:00:35</date>
  <millis>1478804435815</millis>
  <sequence>5179</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>212</thread>
  <message>recv:&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T03:00:35</date>
  <millis>1478804435829</millis>
  <sequence>5180</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:file.flush() file.close() FILE=nil rcvBuf=nil ESP_Receiver=nil uart.setup(0,115200,8,0,1,1) str="\r\n--Done--\r\n&gt; " print(str) str=nil collectgarbage() end end uart.on("data",'\r',ESP_Receiver,0)</message>
</record>
<record>
  <date>2016-11-11T03:00:35</date>
  <millis>1478804435868</millis>
  <sequence>5181</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>212</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:00:35</date>
  <millis>1478804435886</millis>
  <sequence>5182</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local M = {}

-- status pin = 0, alarm 1
-- relay pin = 6 and 7, alarm 2, 3

function M.status_LED(delay)
    gpio.mode(0, gpio.OUTPUT)
    status0 = 0
        
    tmr.alarm(1, delay, 1, function()
        if status0 == 0 then
            status0 = 1
  </message>
</record>
<record>
  <date>2016-11-11T03:00:35</date>
  <millis>1478804435915</millis>
  <sequence>5183</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>212</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:00:35</date>
  <millis>1478804435927</millis>
  <sequence>5184</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:          gpio.write(0, gpio.HIGH)
        else
            status0 = 0
            gpio.write(0, gpio.LOW)
        end 
    end)
      
end

-- One on/off relay
function M.relay_onoff()
    gpio.mode(6, gpio.OUTPUT)
    gpio.mode(7, gpio.OUTPUT)
    gpi</message>
</record>
<record>
  <date>2016-11-11T03:00:35</date>
  <millis>1478804435959</millis>
  <sequence>5185</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>212</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:00:35</date>
  <millis>1478804435975</millis>
  <sequence>5186</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:o.write(6, gpio.LOW)
    gpio.write(6, gpio.LOW)

        tmr.alarm(5, 500, tmr.ALARM_AUTO, function()
            if gpio.read(6) == 0 then
                tmr.alarm(2, 1000, tmr.ALARM_SINGLE, function() gpio.write(6, gpio.HIGH) end)
                tmr</message>
</record>
<record>
  <date>2016-11-11T03:00:36</date>
  <millis>1478804436006</millis>
  <sequence>5187</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>212</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:00:36</date>
  <millis>1478804436019</millis>
  <sequence>5188</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:.alarm(3, 1000, tmr.ALARM_SINGLE, function() gpio.write(7, gpio.HIGH) end)
            else
                gpio.write(6, gpio.LOW)
                gpio.write(7, gpio.LOW) 
            end

        end)

end

-- loop relay
function M.relay_6(delay, mode)</message>
</record>
<record>
  <date>2016-11-11T03:00:36</date>
  <millis>1478804436050</millis>
  <sequence>5189</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>212</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:00:36</date>
  <millis>1478804436059</millis>
  <sequence>5190</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>212</thread>
  <message>recv:  C</message>
</record>
<record>
  <date>2016-11-11T03:00:36</date>
  <millis>1478804436061</millis>
  <sequence>5191</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>212</thread>
  <message>recv:onfig file NOT </message>
</record>
<record>
  <date>2016-11-11T03:00:36</date>
  <millis>1478804436066</millis>
  <sequence>5192</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>212</thread>
  <message>recv:exists, starting smartconfig..&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:00:36</date>
  <millis>1478804436073</millis>
  <sequence>5193</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:
    gpio.mode(6, gpio.OUTPUT)
    status1 = 0
        
    tmr.alarm(2, delay, mode, function()
        if status1 == 0 then
            status1 = 1
            gpio.write(6, gpio.HIGH)
        else
            status1 = 0
            gpio.write(6, gpio</message>
</record>
<record>
  <date>2016-11-11T03:00:36</date>
  <millis>1478804436104</millis>
  <sequence>5194</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>212</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:00:36</date>
  <millis>1478804436120</millis>
  <sequence>5195</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:.LOW)
        end 
    end)
      
end


function M.relay_7(delay, mode)
    gpio.mode(7, gpio.OUTPUT)
    status2 = 0
        
    tmr.alarm(3, delay, mode, function()
        if status2 == 0 then
            status2 = 1
            gpio.write(7, gpio.H</message>
</record>
<record>
  <date>2016-11-11T03:00:36</date>
  <millis>1478804436151</millis>
  <sequence>5196</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>212</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:00:36</date>
  <millis>1478804436171</millis>
  <sequence>5197</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:IGH)
        else
            status2 = 0
            gpio.write(7, gpio.LOW)
        end 
    end)
      
end
return M
</message>
</record>
<record>
  <date>2016-11-11T03:00:36</date>
  <millis>1478804436189</millis>
  <sequence>5198</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>212</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:00:36</date>
  <millis>1478804436203</millis>
  <sequence>5199</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_cmd_close</message>
</record>
<record>
  <date>2016-11-11T03:00:36</date>
  <millis>1478804436215</millis>
  <sequence>5200</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>212</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:00:36</date>
  <millis>1478804436216</millis>
  <sequence>5201</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>212</thread>
  <message>recv:--Done--&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:00:36</date>
  <millis>1478804436217</millis>
  <sequence>5202</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>212</thread>
  <message>recv:&gt; &lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:00:36</date>
  <millis>1478804436251</millis>
  <sequence>5203</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:00:36</date>
  <millis>1478804436253</millis>
  <sequence>5204</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>212</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T03:00:36</date>
  <millis>1478804436268</millis>
  <sequence>5205</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>212</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T03:00:36</date>
  <millis>1478804436304</millis>
  <sequence>5206</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>212</thread>
  <message>Operation done. Duration = 891 ms</message>
</record>
<record>
  <date>2016-11-11T03:01:00</date>
  <millis>1478804460695</millis>
  <sequence>5207</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to load file control.lua</message>
</record>
<record>
  <date>2016-11-11T03:01:00</date>
  <millis>1478804460715</millis>
  <sequence>5208</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Loading control.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T03:01:00</date>
  <millis>1478804460716</millis>
  <sequence>5209</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>File reload: Success.</message>
</record>
<record>
  <date>2016-11-11T03:01:01</date>
  <millis>1478804461422</millis>
  <sequence>5210</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>We save known file control.lua</message>
</record>
<record>
  <date>2016-11-11T03:01:01</date>
  <millis>1478804461423</millis>
  <sequence>5211</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to saving file control.lua ...</message>
</record>
<record>
  <date>2016-11-11T03:01:01</date>
  <millis>1478804461425</millis>
  <sequence>5212</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Save file control.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T03:01:01</date>
  <millis>1478804461428</millis>
  <sequence>5213</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP: Try to save file to ESP...</message>
</record>
<record>
  <date>2016-11-11T03:01:01</date>
  <millis>1478804461429</millis>
  <sequence>5214</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Try to save file to ESP in Turbo Mode...</message>
</record>
<record>
  <date>2016-11-11T03:01:01</date>
  <millis>1478804461436</millis>
  <sequence>5215</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>DataTurboSender: start "Smart Mode"</message>
</record>
<record>
  <date>2016-11-11T03:01:01</date>
  <millis>1478804461437</millis>
  <sequence>5216</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Starting...</message>
</record>
<record>
  <date>2016-11-11T03:01:01</date>
  <millis>1478804461568</millis>
  <sequence>5217</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local FILE="control.lua" file.remove(FILE) file.open(FILE,"w+") uart.setup(0,115200,8,0,1,0)</message>
</record>
<record>
  <date>2016-11-11T03:01:01</date>
  <millis>1478804461570</millis>
  <sequence>5218</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>214</thread>
  <message>recv:loc</message>
</record>
<record>
  <date>2016-11-11T03:01:01</date>
  <millis>1478804461572</millis>
  <sequence>5219</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>214</thread>
  <message>recv:al FILE="control.lua" </message>
</record>
<record>
  <date>2016-11-11T03:01:01</date>
  <millis>1478804461573</millis>
  <sequence>5220</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>214</thread>
  <message>recv:file.remove(F</message>
</record>
<record>
  <date>2016-11-11T03:01:01</date>
  <millis>1478804461574</millis>
  <sequence>5221</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>214</thread>
  <message>recv:ILE) fi</message>
</record>
<record>
  <date>2016-11-11T03:01:01</date>
  <millis>1478804461575</millis>
  <sequence>5222</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>214</thread>
  <message>recv:le.open(FILE,"w+")</message>
</record>
<record>
  <date>2016-11-11T03:01:01</date>
  <millis>1478804461578</millis>
  <sequence>5223</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>214</thread>
  <message>recv: uart.setup(0,115200,8,0,1,0)</message>
</record>
<record>
  <date>2016-11-11T03:01:01</date>
  <millis>1478804461579</millis>
  <sequence>5224</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>214</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:01:01</date>
  <millis>1478804461758</millis>
  <sequence>5225</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>214</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:01:01</date>
  <millis>1478804461792</millis>
  <sequence>5226</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_Receiver=function(rcvBuf) if string.match(rcvBuf,"^ESP_cmd_close")==nil then file.write(string.gsub(rcvBuf, '\r', '')) uart.write(0, "&gt; ") else uart.on("data") </message>
</record>
<record>
  <date>2016-11-11T03:01:01</date>
  <millis>1478804461818</millis>
  <sequence>5227</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>214</thread>
  <message>recv:&gt;&gt;</message>
</record>
<record>
  <date>2016-11-11T03:01:01</date>
  <millis>1478804461819</millis>
  <sequence>5228</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>214</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T03:01:01</date>
  <millis>1478804461863</millis>
  <sequence>5229</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:file.flush() file.close() FILE=nil rcvBuf=nil ESP_Receiver=nil uart.setup(0,115200,8,0,1,1) str="\r\n--Done--\r\n&gt; " print(str) str=nil collectgarbage() end end uart.on("data",'\r',ESP_Receiver,0)</message>
</record>
<record>
  <date>2016-11-11T03:01:01</date>
  <millis>1478804461902</millis>
  <sequence>5230</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>214</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:01:01</date>
  <millis>1478804461922</millis>
  <sequence>5231</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local M = {}

-- status pin = 0, alarm 1
-- relay pin = 6 and 7, alarm 2, 3

function M.status_LED(delay)
    gpio.mode(0, gpio.OUTPUT)
    status0 = 0
        
    tmr.alarm(1, delay, 1, function()
        if status0 == 0 then
            status0 = 1
  </message>
</record>
<record>
  <date>2016-11-11T03:01:01</date>
  <millis>1478804461952</millis>
  <sequence>5232</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>214</thread>
  <message>recv:&gt;</message>
</record>
<record>
  <date>2016-11-11T03:01:01</date>
  <millis>1478804461953</millis>
  <sequence>5233</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>214</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T03:01:01</date>
  <millis>1478804461971</millis>
  <sequence>5234</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:          gpio.write(0, gpio.HIGH)
        else
            status0 = 0
            gpio.write(0, gpio.LOW)
        end 
    end)
      
end

-- One on/off relay
function M.relay_onoff()
    gpio.mode(6, gpio.OUTPUT)
    gpio.mode(7, gpio.OUTPUT)
    gpi</message>
</record>
<record>
  <date>2016-11-11T03:01:02</date>
  <millis>1478804462002</millis>
  <sequence>5235</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>214</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:01:02</date>
  <millis>1478804462015</millis>
  <sequence>5236</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:o.write(6, gpio.LOW)
    gpio.write(6, gpio.LOW)

        tmr.alarm(5, 500, tmr.ALARM_AUTO, function()
            if gpio.read(6) == 0 then
                tmr.alarm(2, 750, tmr.ALARM_SINGLE, function() gpio.write(6, gpio.HIGH) end)
                tmr.</message>
</record>
<record>
  <date>2016-11-11T03:01:02</date>
  <millis>1478804462046</millis>
  <sequence>5237</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>214</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:01:02</date>
  <millis>1478804462058</millis>
  <sequence>5238</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:alarm(3, 750, tmr.ALARM_SINGLE, function() gpio.write(7, gpio.HIGH) end)
            else
                gpio.write(6, gpio.LOW)
                gpio.write(7, gpio.LOW) 
            end

        end)

end

-- loop relay
function M.relay_6(delay, mode)
 </message>
</record>
<record>
  <date>2016-11-11T03:01:02</date>
  <millis>1478804462089</millis>
  <sequence>5239</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>214</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:01:02</date>
  <millis>1478804462102</millis>
  <sequence>5240</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:   gpio.mode(6, gpio.OUTPUT)
    status1 = 0
        
    tmr.alarm(2, delay, mode, function()
        if status1 == 0 then
            status1 = 1
            gpio.write(6, gpio.HIGH)
        else
            status1 = 0
            gpio.write(6, gpio.L</message>
</record>
<record>
  <date>2016-11-11T03:01:02</date>
  <millis>1478804462133</millis>
  <sequence>5241</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>214</thread>
  <message>recv:&gt;</message>
</record>
<record>
  <date>2016-11-11T03:01:02</date>
  <millis>1478804462166</millis>
  <sequence>5242</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>214</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T03:01:02</date>
  <millis>1478804462188</millis>
  <sequence>5243</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:OW)
        end 
    end)
      
end


function M.relay_7(delay, mode)
    gpio.mode(7, gpio.OUTPUT)
    status2 = 0
        
    tmr.alarm(3, delay, mode, function()
        if status2 == 0 then
            status2 = 1
            gpio.write(7, gpio.HIG</message>
</record>
<record>
  <date>2016-11-11T03:01:02</date>
  <millis>1478804462220</millis>
  <sequence>5244</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>214</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:01:02</date>
  <millis>1478804462239</millis>
  <sequence>5245</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:H)
        else
            status2 = 0
            gpio.write(7, gpio.LOW)
        end 
    end)
      
end
return M
</message>
</record>
<record>
  <date>2016-11-11T03:01:02</date>
  <millis>1478804462258</millis>
  <sequence>5246</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>214</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:01:02</date>
  <millis>1478804462270</millis>
  <sequence>5247</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_cmd_close</message>
</record>
<record>
  <date>2016-11-11T03:01:02</date>
  <millis>1478804462284</millis>
  <sequence>5248</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>214</thread>
  <message>recv:&lt;CR&gt;</message>
</record>
<record>
  <date>2016-11-11T03:01:02</date>
  <millis>1478804462285</millis>
  <sequence>5249</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>214</thread>
  <message>recv:&lt;LF&gt;--Done--&lt;CR&gt;&lt;LF&gt;&gt; &lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:01:02</date>
  <millis>1478804462320</millis>
  <sequence>5250</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:01:02</date>
  <millis>1478804462322</millis>
  <sequence>5251</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>214</thread>
  <message>recv:&lt;CR&gt;</message>
</record>
<record>
  <date>2016-11-11T03:01:02</date>
  <millis>1478804462325</millis>
  <sequence>5252</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>214</thread>
  <message>recv:&lt;LF&gt;&gt; &lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T03:01:02</date>
  <millis>1478804462366</millis>
  <sequence>5253</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:dofile("control.lua")</message>
</record>
<record>
  <date>2016-11-11T03:01:02</date>
  <millis>1478804462368</millis>
  <sequence>5254</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>214</thread>
  <message>recv:do</message>
</record>
<record>
  <date>2016-11-11T03:01:02</date>
  <millis>1478804462370</millis>
  <sequence>5255</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>214</thread>
  <message>recv:file("control.lua")&lt;CR&gt;</message>
</record>
<record>
  <date>2016-11-11T03:01:02</date>
  <millis>1478804462374</millis>
  <sequence>5256</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>214</thread>
  <message>recv:&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:01:02</date>
  <millis>1478804462433</millis>
  <sequence>5257</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>214</thread>
  <message>recv:&gt;</message>
</record>
<record>
  <date>2016-11-11T03:01:02</date>
  <millis>1478804462435</millis>
  <sequence>5258</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>214</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T03:01:02</date>
  <millis>1478804462491</millis>
  <sequence>5259</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>214</thread>
  <message>Operation done. Duration = 1061 ms</message>
</record>
<record>
  <date>2016-11-11T03:01:02</date>
  <millis>1478804462990</millis>
  <sequence>5260</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:node.restart()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:01:02</date>
  <millis>1478804462992</millis>
  <sequence>5261</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with saved baud 115200...</message>
</record>
<record>
  <date>2016-11-11T03:01:03</date>
  <millis>1478804463054</millis>
  <sequence>5262</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success. Now we waiting for ESP reboot...</message>
</record>
<record>
  <date>2016-11-11T03:01:05</date>
  <millis>1478804465056</millis>
  <sequence>5263</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with baud 115200...</message>
</record>
<record>
  <date>2016-11-11T03:01:05</date>
  <millis>1478804465057</millis>
  <sequence>5264</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:print(uart.setup(0, 115200, 8, 0, 1, 1 ))&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:01:05</date>
  <millis>1478804465321</millis>
  <sequence>5265</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success.</message>
</record>
<record>
  <date>2016-11-11T03:01:05</date>
  <millis>1478804465366</millis>
  <sequence>5266</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:01:05</date>
  <millis>1478804465368</millis>
  <sequence>5267</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>215</thread>
  <message>
Communication with MCU established.</message>
</record>
<record>
  <date>2016-11-11T03:01:38</date>
  <millis>1478804498303</millis>
  <sequence>5268</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to load file control.lua</message>
</record>
<record>
  <date>2016-11-11T03:01:38</date>
  <millis>1478804498313</millis>
  <sequence>5269</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Loading control.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T03:01:38</date>
  <millis>1478804498314</millis>
  <sequence>5270</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>File reload: Success.</message>
</record>
<record>
  <date>2016-11-11T03:01:39</date>
  <millis>1478804499030</millis>
  <sequence>5271</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>We save known file control.lua</message>
</record>
<record>
  <date>2016-11-11T03:01:39</date>
  <millis>1478804499031</millis>
  <sequence>5272</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to saving file control.lua ...</message>
</record>
<record>
  <date>2016-11-11T03:01:39</date>
  <millis>1478804499033</millis>
  <sequence>5273</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Save file control.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T03:01:39</date>
  <millis>1478804499036</millis>
  <sequence>5274</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP: Try to save file to ESP...</message>
</record>
<record>
  <date>2016-11-11T03:01:39</date>
  <millis>1478804499037</millis>
  <sequence>5275</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Try to save file to ESP in Turbo Mode...</message>
</record>
<record>
  <date>2016-11-11T03:01:39</date>
  <millis>1478804499044</millis>
  <sequence>5276</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>DataTurboSender: start "Smart Mode"</message>
</record>
<record>
  <date>2016-11-11T03:01:39</date>
  <millis>1478804499044</millis>
  <sequence>5277</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Starting...</message>
</record>
<record>
  <date>2016-11-11T03:01:39</date>
  <millis>1478804499173</millis>
  <sequence>5278</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local FILE="control.lua" file.remove(FILE) file.open(FILE,"w+") uart.setup(0,115200,8,0,1,0)</message>
</record>
<record>
  <date>2016-11-11T03:01:39</date>
  <millis>1478804499175</millis>
  <sequence>5279</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>216</thread>
  <message>recv:loc</message>
</record>
<record>
  <date>2016-11-11T03:01:39</date>
  <millis>1478804499176</millis>
  <sequence>5280</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>216</thread>
  <message>recv:al FILE="control.lua</message>
</record>
<record>
  <date>2016-11-11T03:01:39</date>
  <millis>1478804499177</millis>
  <sequence>5281</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>216</thread>
  <message>recv:" file.remo</message>
</record>
<record>
  <date>2016-11-11T03:01:39</date>
  <millis>1478804499181</millis>
  <sequence>5282</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>216</thread>
  <message>recv:ve(FILE) file.open(FILE,"w+") uart.setup(</message>
</record>
<record>
  <date>2016-11-11T03:01:39</date>
  <millis>1478804499182</millis>
  <sequence>5283</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>216</thread>
  <message>recv:0,115200,</message>
</record>
<record>
  <date>2016-11-11T03:01:39</date>
  <millis>1478804499182</millis>
  <sequence>5284</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>216</thread>
  <message>recv:8,0,1,</message>
</record>
<record>
  <date>2016-11-11T03:01:39</date>
  <millis>1478804499183</millis>
  <sequence>5285</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>216</thread>
  <message>recv:0)&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:01:39</date>
  <millis>1478804499368</millis>
  <sequence>5286</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>216</thread>
  <message>recv:&gt;</message>
</record>
<record>
  <date>2016-11-11T03:01:39</date>
  <millis>1478804499369</millis>
  <sequence>5287</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>216</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T03:01:39</date>
  <millis>1478804499390</millis>
  <sequence>5288</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_Receiver=function(rcvBuf) if string.match(rcvBuf,"^ESP_cmd_close")==nil then file.write(string.gsub(rcvBuf, '\r', '')) uart.write(0, "&gt; ") else uart.on("data") </message>
</record>
<record>
  <date>2016-11-11T03:01:39</date>
  <millis>1478804499418</millis>
  <sequence>5289</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>216</thread>
  <message>recv:&gt;</message>
</record>
<record>
  <date>2016-11-11T03:01:39</date>
  <millis>1478804499418</millis>
  <sequence>5290</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>216</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:01:39</date>
  <millis>1478804499438</millis>
  <sequence>5291</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:file.flush() file.close() FILE=nil rcvBuf=nil ESP_Receiver=nil uart.setup(0,115200,8,0,1,1) str="\r\n--Done--\r\n&gt; " print(str) str=nil collectgarbage() end end uart.on("data",'\r',ESP_Receiver,0)</message>
</record>
<record>
  <date>2016-11-11T03:01:39</date>
  <millis>1478804499477</millis>
  <sequence>5292</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>216</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:01:39</date>
  <millis>1478804499489</millis>
  <sequence>5293</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local M = {}

-- status pin = 0, alarm 1
-- relay pin = 6 and 7, alarm 2, 3

function M.status_LED(delay)
    gpio.mode(0, gpio.OUTPUT)
    status0 = 0
        
    tmr.alarm(1, delay, 1, function()
        if status0 == 0 then
            status0 = 1
  </message>
</record>
<record>
  <date>2016-11-11T03:01:39</date>
  <millis>1478804499519</millis>
  <sequence>5294</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>216</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:01:39</date>
  <millis>1478804499536</millis>
  <sequence>5295</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:          gpio.write(0, gpio.HIGH)
        else
            status0 = 0
            gpio.write(0, gpio.LOW)
        end 
    end)
      
end

-- One on/off relay
function M.relay_onoff()
    gpio.mode(6, gpio.OUTPUT)
    gpio.mode(7, gpio.OUTPUT)
    gpi</message>
</record>
<record>
  <date>2016-11-11T03:01:39</date>
  <millis>1478804499567</millis>
  <sequence>5296</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>216</thread>
  <message>recv:&gt;</message>
</record>
<record>
  <date>2016-11-11T03:01:39</date>
  <millis>1478804499569</millis>
  <sequence>5297</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>216</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T03:01:39</date>
  <millis>1478804499589</millis>
  <sequence>5298</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:o.write(6, gpio.LOW)
    gpio.write(6, gpio.LOW)

        tmr.alarm(5, 200, tmr.ALARM_AUTO, function()
            if gpio.read(6) == 0 then
                tmr.alarm(2, 500, tmr.ALARM_SINGLE, function() gpio.write(6, gpio.HIGH) end)
                tmr.</message>
</record>
<record>
  <date>2016-11-11T03:01:39</date>
  <millis>1478804499620</millis>
  <sequence>5299</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>216</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:01:39</date>
  <millis>1478804499636</millis>
  <sequence>5300</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:alarm(3, 500, tmr.ALARM_SINGLE, function() gpio.write(7, gpio.HIGH) end)
            else
                gpio.write(6, gpio.LOW)
                gpio.write(7, gpio.LOW) 
            end

        end)

end

-- loop relay
function M.relay_6(delay, mode)
 </message>
</record>
<record>
  <date>2016-11-11T03:01:39</date>
  <millis>1478804499667</millis>
  <sequence>5301</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>216</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:01:39</date>
  <millis>1478804499684</millis>
  <sequence>5302</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:   gpio.mode(6, gpio.OUTPUT)
    status1 = 0
        
    tmr.alarm(2, delay, mode, function()
        if status1 == 0 then
            status1 = 1
            gpio.write(6, gpio.HIGH)
        else
            status1 = 0
            gpio.write(6, gpio.L</message>
</record>
<record>
  <date>2016-11-11T03:01:39</date>
  <millis>1478804499715</millis>
  <sequence>5303</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>216</thread>
  <message>recv:&gt;</message>
</record>
<record>
  <date>2016-11-11T03:01:39</date>
  <millis>1478804499716</millis>
  <sequence>5304</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>216</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T03:01:39</date>
  <millis>1478804499736</millis>
  <sequence>5305</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:OW)
        end 
    end)
      
end


function M.relay_7(delay, mode)
    gpio.mode(7, gpio.OUTPUT)
    status2 = 0
        
    tmr.alarm(3, delay, mode, function()
        if status2 == 0 then
            status2 = 1
            gpio.write(7, gpio.HIG</message>
</record>
<record>
  <date>2016-11-11T03:01:39</date>
  <millis>1478804499767</millis>
  <sequence>5306</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>216</thread>
  <message>recv:&gt;</message>
</record>
<record>
  <date>2016-11-11T03:01:39</date>
  <millis>1478804499768</millis>
  <sequence>5307</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>216</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T03:01:39</date>
  <millis>1478804499786</millis>
  <sequence>5308</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:H)
        else
            status2 = 0
            gpio.write(7, gpio.LOW)
        end 
    end)
      
end
return M
</message>
</record>
<record>
  <date>2016-11-11T03:01:39</date>
  <millis>1478804499805</millis>
  <sequence>5309</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>216</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:01:39</date>
  <millis>1478804499822</millis>
  <sequence>5310</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_cmd_close</message>
</record>
<record>
  <date>2016-11-11T03:01:39</date>
  <millis>1478804499835</millis>
  <sequence>5311</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>216</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;--D</message>
</record>
<record>
  <date>2016-11-11T03:01:39</date>
  <millis>1478804499835</millis>
  <sequence>5312</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>216</thread>
  <message>recv:one--&lt;CR&gt;&lt;LF&gt;&gt; &lt;CR&gt;</message>
</record>
<record>
  <date>2016-11-11T03:01:39</date>
  <millis>1478804499841</millis>
  <sequence>5313</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>216</thread>
  <message>recv:&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:01:39</date>
  <millis>1478804499860</millis>
  <sequence>5314</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:01:39</date>
  <millis>1478804499862</millis>
  <sequence>5315</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>216</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:01:39</date>
  <millis>1478804499863</millis>
  <sequence>5316</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>216</thread>
  <message>recv:&gt; &lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T03:01:39</date>
  <millis>1478804499899</millis>
  <sequence>5317</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:dofile("control.lua")</message>
</record>
<record>
  <date>2016-11-11T03:01:39</date>
  <millis>1478804499900</millis>
  <sequence>5318</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>216</thread>
  <message>recv:do</message>
</record>
<record>
  <date>2016-11-11T03:01:39</date>
  <millis>1478804499902</millis>
  <sequence>5319</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>216</thread>
  <message>recv:file("control.lua")&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:01:39</date>
  <millis>1478804499965</millis>
  <sequence>5320</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>216</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:01:39</date>
  <millis>1478804499990</millis>
  <sequence>5321</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>216</thread>
  <message>Operation done. Duration = 953 ms</message>
</record>
<record>
  <date>2016-11-11T03:01:40</date>
  <millis>1478804500372</millis>
  <sequence>5322</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:node.restart()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:01:40</date>
  <millis>1478804500374</millis>
  <sequence>5323</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with saved baud 115200...</message>
</record>
<record>
  <date>2016-11-11T03:01:40</date>
  <millis>1478804500440</millis>
  <sequence>5324</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success. Now we waiting for ESP reboot...</message>
</record>
<record>
  <date>2016-11-11T03:01:42</date>
  <millis>1478804502442</millis>
  <sequence>5325</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with baud 115200...</message>
</record>
<record>
  <date>2016-11-11T03:01:42</date>
  <millis>1478804502444</millis>
  <sequence>5326</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:print(uart.setup(0, 115200, 8, 0, 1, 1 ))&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:01:42</date>
  <millis>1478804502705</millis>
  <sequence>5327</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success.</message>
</record>
<record>
  <date>2016-11-11T03:01:42</date>
  <millis>1478804502750</millis>
  <sequence>5328</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:01:42</date>
  <millis>1478804502753</millis>
  <sequence>5329</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>217</thread>
  <message>
Communication with MCU established.</message>
</record>
<record>
  <date>2016-11-11T03:02:26</date>
  <millis>1478804546758</millis>
  <sequence>5330</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to load file control.lua</message>
</record>
<record>
  <date>2016-11-11T03:02:26</date>
  <millis>1478804546781</millis>
  <sequence>5331</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Loading control.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T03:02:26</date>
  <millis>1478804546782</millis>
  <sequence>5332</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>File reload: Success.</message>
</record>
<record>
  <date>2016-11-11T03:02:28</date>
  <millis>1478804548938</millis>
  <sequence>5333</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>We save known file control.lua</message>
</record>
<record>
  <date>2016-11-11T03:02:28</date>
  <millis>1478804548939</millis>
  <sequence>5334</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to saving file control.lua ...</message>
</record>
<record>
  <date>2016-11-11T03:02:28</date>
  <millis>1478804548941</millis>
  <sequence>5335</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Save file control.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T03:02:28</date>
  <millis>1478804548945</millis>
  <sequence>5336</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP: Try to save file to ESP...</message>
</record>
<record>
  <date>2016-11-11T03:02:28</date>
  <millis>1478804548946</millis>
  <sequence>5337</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Try to save file to ESP in Turbo Mode...</message>
</record>
<record>
  <date>2016-11-11T03:02:28</date>
  <millis>1478804548954</millis>
  <sequence>5338</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>DataTurboSender: start "Smart Mode"</message>
</record>
<record>
  <date>2016-11-11T03:02:28</date>
  <millis>1478804548955</millis>
  <sequence>5339</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Starting...</message>
</record>
<record>
  <date>2016-11-11T03:02:29</date>
  <millis>1478804549089</millis>
  <sequence>5340</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local FILE="control.lua" file.remove(FILE) file.open(FILE,"w+") uart.setup(0,115200,8,0,1,0)</message>
</record>
<record>
  <date>2016-11-11T03:02:29</date>
  <millis>1478804549091</millis>
  <sequence>5341</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>218</thread>
  <message>recv:loc</message>
</record>
<record>
  <date>2016-11-11T03:02:29</date>
  <millis>1478804549093</millis>
  <sequence>5342</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>218</thread>
  <message>recv:al FILE="control.lua" file.</message>
</record>
<record>
  <date>2016-11-11T03:02:29</date>
  <millis>1478804549093</millis>
  <sequence>5343</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>218</thread>
  <message>recv:remove(FI</message>
</record>
<record>
  <date>2016-11-11T03:02:29</date>
  <millis>1478804549094</millis>
  <sequence>5344</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>218</thread>
  <message>recv:LE) file</message>
</record>
<record>
  <date>2016-11-11T03:02:29</date>
  <millis>1478804549095</millis>
  <sequence>5345</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>218</thread>
  <message>recv:.open(</message>
</record>
<record>
  <date>2016-11-11T03:02:29</date>
  <millis>1478804549095</millis>
  <sequence>5346</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>218</thread>
  <message>recv:FILE,"</message>
</record>
<record>
  <date>2016-11-11T03:02:29</date>
  <millis>1478804549096</millis>
  <sequence>5347</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>218</thread>
  <message>recv:w+") uart</message>
</record>
<record>
  <date>2016-11-11T03:02:29</date>
  <millis>1478804549096</millis>
  <sequence>5348</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>218</thread>
  <message>recv:.setup</message>
</record>
<record>
  <date>2016-11-11T03:02:29</date>
  <millis>1478804549097</millis>
  <sequence>5349</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>218</thread>
  <message>recv:(0,115200,</message>
</record>
<record>
  <date>2016-11-11T03:02:29</date>
  <millis>1478804549098</millis>
  <sequence>5350</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>218</thread>
  <message>recv:8,0,1,0)</message>
</record>
<record>
  <date>2016-11-11T03:02:29</date>
  <millis>1478804549099</millis>
  <sequence>5351</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>218</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:02:29</date>
  <millis>1478804549295</millis>
  <sequence>5352</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>218</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:02:29</date>
  <millis>1478804549332</millis>
  <sequence>5353</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_Receiver=function(rcvBuf) if string.match(rcvBuf,"^ESP_cmd_close")==nil then file.write(string.gsub(rcvBuf, '\r', '')) uart.write(0, "&gt; ") else uart.on("data") </message>
</record>
<record>
  <date>2016-11-11T03:02:29</date>
  <millis>1478804549360</millis>
  <sequence>5354</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>218</thread>
  <message>recv:&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T03:02:29</date>
  <millis>1478804549374</millis>
  <sequence>5355</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:file.flush() file.close() FILE=nil rcvBuf=nil ESP_Receiver=nil uart.setup(0,115200,8,0,1,1) str="\r\n--Done--\r\n&gt; " print(str) str=nil collectgarbage() end end uart.on("data",'\r',ESP_Receiver,0)</message>
</record>
<record>
  <date>2016-11-11T03:02:29</date>
  <millis>1478804549412</millis>
  <sequence>5356</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>218</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:02:29</date>
  <millis>1478804549425</millis>
  <sequence>5357</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local M = {}

-- status pin = 0, alarm 1
-- relay pin = 6 and 7, alarm 2, 3

function M.status_LED(delay)
    gpio.mode(0, gpio.OUTPUT)
    status0 = 0
        
    tmr.alarm(1, delay, 1, function()
        if status0 == 0 then
            status0 = 1
  </message>
</record>
<record>
  <date>2016-11-11T03:02:29</date>
  <millis>1478804549454</millis>
  <sequence>5358</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>218</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:02:29</date>
  <millis>1478804549468</millis>
  <sequence>5359</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:          gpio.write(0, gpio.HIGH)
        else
            status0 = 0
            gpio.write(0, gpio.LOW)
        end 
    end)
      
end

-- One on/off relay
function M.relay_onoff()
    gpio.mode(6, gpio.OUTPUT)
    gpio.mode(7, gpio.OUTPUT)
    gpi</message>
</record>
<record>
  <date>2016-11-11T03:02:29</date>
  <millis>1478804549499</millis>
  <sequence>5360</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>218</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:02:29</date>
  <millis>1478804549516</millis>
  <sequence>5361</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:o.write(6, gpio.LOW)
    gpio.write(6, gpio.LOW)

        tmr.alarm(5, 200, tmr.ALARM_AUTO, function()
            if gpio.read(6) == 0 then
                tmr.alarm(2, 500, tmr.ALARM_SINGLE, function() gpio.write(6, gpio.HIGH) end)
                tmr.</message>
</record>
<record>
  <date>2016-11-11T03:02:29</date>
  <millis>1478804549547</millis>
  <sequence>5362</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>218</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:02:29</date>
  <millis>1478804549564</millis>
  <sequence>5363</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:alarm(3, 500, tmr.ALARM_SINGLE, function() gpio.write(7, gpio.HIGH) end)
            else
                gpio.write(6, gpio.LOW)
                gpio.write(7, gpio.LOW) 
            end

        end)

end

-- loop relay
function M.relay_6(delay, mode)
 </message>
</record>
<record>
  <date>2016-11-11T03:02:29</date>
  <millis>1478804549595</millis>
  <sequence>5364</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>218</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:02:29</date>
  <millis>1478804549612</millis>
  <sequence>5365</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:   gpio.mode(6, gpio.OUTPUT)
    status1 = 0
        
    tmr.alarm(2, delay, mode, function()
        if status1 == 0 then
            status1 = 1
            gpio.write(6, gpio.HIGH)
        else
            status1 = 0
            gpio.write(6, gpio.L</message>
</record>
<record>
  <date>2016-11-11T03:02:29</date>
  <millis>1478804549642</millis>
  <sequence>5366</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>218</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:02:29</date>
  <millis>1478804549657</millis>
  <sequence>5367</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:OW)
        end 
    end)
      
end


function M.relay_7(delay, mode)
    gpio.mode(7, gpio.OUTPUT)
    status2 = 0
        
    tmr.alarm(3, delay, mode, function()
        if status2 == 0 then
            status2 = 1
            gpio.write(7, gpio.HIG</message>
</record>
<record>
  <date>2016-11-11T03:02:29</date>
  <millis>1478804549690</millis>
  <sequence>5368</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>218</thread>
  <message>recv:&gt;</message>
</record>
<record>
  <date>2016-11-11T03:02:29</date>
  <millis>1478804549692</millis>
  <sequence>5369</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>218</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T03:02:29</date>
  <millis>1478804549709</millis>
  <sequence>5370</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:H)
        else
            status2 = 0
            gpio.write(7, gpio.LOW)
        end 
    end)
      
end
return M
</message>
</record>
<record>
  <date>2016-11-11T03:02:29</date>
  <millis>1478804549729</millis>
  <sequence>5371</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>218</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:02:29</date>
  <millis>1478804549746</millis>
  <sequence>5372</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_cmd_close</message>
</record>
<record>
  <date>2016-11-11T03:02:29</date>
  <millis>1478804549760</millis>
  <sequence>5373</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>218</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;-</message>
</record>
<record>
  <date>2016-11-11T03:02:29</date>
  <millis>1478804549761</millis>
  <sequence>5374</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>218</thread>
  <message>recv:-Done--&lt;CR&gt;&lt;LF&gt;&gt; &lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:02:29</date>
  <millis>1478804549786</millis>
  <sequence>5375</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:02:29</date>
  <millis>1478804549788</millis>
  <sequence>5376</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>218</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:02:29</date>
  <millis>1478804549789</millis>
  <sequence>5377</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>218</thread>
  <message>recv:&gt; &lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T03:02:29</date>
  <millis>1478804549825</millis>
  <sequence>5378</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:dofile("control.lua")</message>
</record>
<record>
  <date>2016-11-11T03:02:29</date>
  <millis>1478804549826</millis>
  <sequence>5379</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>218</thread>
  <message>recv:do</message>
</record>
<record>
  <date>2016-11-11T03:02:29</date>
  <millis>1478804549828</millis>
  <sequence>5380</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>218</thread>
  <message>recv:file("control.lua</message>
</record>
<record>
  <date>2016-11-11T03:02:29</date>
  <millis>1478804549828</millis>
  <sequence>5381</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>218</thread>
  <message>recv:")&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:02:29</date>
  <millis>1478804549893</millis>
  <sequence>5382</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>218</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:02:29</date>
  <millis>1478804549932</millis>
  <sequence>5383</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>218</thread>
  <message>Operation done. Duration = 984 ms</message>
</record>
<record>
  <date>2016-11-11T03:02:30</date>
  <millis>1478804550822</millis>
  <sequence>5384</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:node.restart()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:02:30</date>
  <millis>1478804550823</millis>
  <sequence>5385</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with saved baud 115200...</message>
</record>
<record>
  <date>2016-11-11T03:02:30</date>
  <millis>1478804550885</millis>
  <sequence>5386</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success. Now we waiting for ESP reboot...</message>
</record>
<record>
  <date>2016-11-11T03:02:32</date>
  <millis>1478804552887</millis>
  <sequence>5387</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with baud 115200...</message>
</record>
<record>
  <date>2016-11-11T03:02:32</date>
  <millis>1478804552891</millis>
  <sequence>5388</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:print(uart.setup(0, 115200, 8, 0, 1, 1 ))&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:02:33</date>
  <millis>1478804553153</millis>
  <sequence>5389</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success.</message>
</record>
<record>
  <date>2016-11-11T03:02:33</date>
  <millis>1478804553192</millis>
  <sequence>5390</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:02:33</date>
  <millis>1478804553194</millis>
  <sequence>5391</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>219</thread>
  <message>
Communication with MCU established.</message>
</record>
<record>
  <date>2016-11-11T03:02:38</date>
  <millis>1478804558675</millis>
  <sequence>5392</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:node.restart()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:02:38</date>
  <millis>1478804558675</millis>
  <sequence>5393</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with saved baud 115200...</message>
</record>
<record>
  <date>2016-11-11T03:02:38</date>
  <millis>1478804558738</millis>
  <sequence>5394</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success. Now we waiting for ESP reboot...</message>
</record>
<record>
  <date>2016-11-11T03:02:40</date>
  <millis>1478804560740</millis>
  <sequence>5395</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with baud 115200...</message>
</record>
<record>
  <date>2016-11-11T03:02:40</date>
  <millis>1478804560741</millis>
  <sequence>5396</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:print(uart.setup(0, 115200, 8, 0, 1, 1 ))&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:02:41</date>
  <millis>1478804561003</millis>
  <sequence>5397</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success.</message>
</record>
<record>
  <date>2016-11-11T03:02:41</date>
  <millis>1478804561057</millis>
  <sequence>5398</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:02:41</date>
  <millis>1478804561060</millis>
  <sequence>5399</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>219</thread>
  <message>
Communication with MCU established.</message>
</record>
<record>
  <date>2016-11-11T03:03:31</date>
  <millis>1478804611965</millis>
  <sequence>5400</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to load file control.lua</message>
</record>
<record>
  <date>2016-11-11T03:03:31</date>
  <millis>1478804611979</millis>
  <sequence>5401</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Loading control.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T03:03:31</date>
  <millis>1478804611980</millis>
  <sequence>5402</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>File reload: Success.</message>
</record>
<record>
  <date>2016-11-11T03:03:33</date>
  <millis>1478804613016</millis>
  <sequence>5403</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>We save known file control.lua</message>
</record>
<record>
  <date>2016-11-11T03:03:33</date>
  <millis>1478804613017</millis>
  <sequence>5404</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to saving file control.lua ...</message>
</record>
<record>
  <date>2016-11-11T03:03:33</date>
  <millis>1478804613019</millis>
  <sequence>5405</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Save file control.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T03:03:33</date>
  <millis>1478804613025</millis>
  <sequence>5406</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP: Try to save file to ESP...</message>
</record>
<record>
  <date>2016-11-11T03:03:33</date>
  <millis>1478804613026</millis>
  <sequence>5407</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Try to save file to ESP in Turbo Mode...</message>
</record>
<record>
  <date>2016-11-11T03:03:33</date>
  <millis>1478804613032</millis>
  <sequence>5408</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>DataTurboSender: start "Smart Mode"</message>
</record>
<record>
  <date>2016-11-11T03:03:33</date>
  <millis>1478804613034</millis>
  <sequence>5409</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Starting...</message>
</record>
<record>
  <date>2016-11-11T03:03:33</date>
  <millis>1478804613169</millis>
  <sequence>5410</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local FILE="control.lua" file.remove(FILE) file.open(FILE,"w+") uart.setup(0,115200,8,0,1,0)</message>
</record>
<record>
  <date>2016-11-11T03:03:33</date>
  <millis>1478804613172</millis>
  <sequence>5411</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>220</thread>
  <message>recv:local</message>
</record>
<record>
  <date>2016-11-11T03:03:33</date>
  <millis>1478804613179</millis>
  <sequence>5412</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>220</thread>
  <message>recv: FILE="control.lua" file.remove(FILE) file.open(FILE,"w+") uart.setup(0,115200,8,0,1,0)&lt;CR&gt;</message>
</record>
<record>
  <date>2016-11-11T03:03:33</date>
  <millis>1478804613180</millis>
  <sequence>5413</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>220</thread>
  <message>recv:&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:03:33</date>
  <millis>1478804613366</millis>
  <sequence>5414</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>220</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:03:33</date>
  <millis>1478804613389</millis>
  <sequence>5415</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_Receiver=function(rcvBuf) if string.match(rcvBuf,"^ESP_cmd_close")==nil then file.write(string.gsub(rcvBuf, '\r', '')) uart.write(0, "&gt; ") else uart.on("data") </message>
</record>
<record>
  <date>2016-11-11T03:03:33</date>
  <millis>1478804613416</millis>
  <sequence>5416</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>220</thread>
  <message>recv:&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T03:03:33</date>
  <millis>1478804613428</millis>
  <sequence>5417</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:file.flush() file.close() FILE=nil rcvBuf=nil ESP_Receiver=nil uart.setup(0,115200,8,0,1,1) str="\r\n--Done--\r\n&gt; " print(str) str=nil collectgarbage() end end uart.on("data",'\r',ESP_Receiver,0)</message>
</record>
<record>
  <date>2016-11-11T03:03:33</date>
  <millis>1478804613467</millis>
  <sequence>5418</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>220</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:03:33</date>
  <millis>1478804613480</millis>
  <sequence>5419</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local M = {}

-- status pin = 0, alarm 1
-- relay pin = 6 and 7, alarm 2, 3

function M.status_LED(delay)
    gpio.mode(0, gpio.OUTPUT)
    status0 = 0
        
    tmr.alarm(1, delay, 1, function()
        if status0 == 0 then
            status0 = 1
  </message>
</record>
<record>
  <date>2016-11-11T03:03:33</date>
  <millis>1478804613510</millis>
  <sequence>5420</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>220</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:03:33</date>
  <millis>1478804613525</millis>
  <sequence>5421</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:          gpio.write(0, gpio.HIGH)
        else
            status0 = 0
            gpio.write(0, gpio.LOW)
        end 
    end)
      
end

-- One on/off relay
function M.relay_onoff()
    gpio.mode(6, gpio.OUTPUT)
    gpio.mode(7, gpio.OUTPUT)
    gpi</message>
</record>
<record>
  <date>2016-11-11T03:03:33</date>
  <millis>1478804613556</millis>
  <sequence>5422</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>220</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:03:33</date>
  <millis>1478804613576</millis>
  <sequence>5423</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:o.write(6, gpio.LOW)
    gpio.write(7, gpio.LOW)

        tmr.alarm(5, 500, tmr.ALARM_AUTO, function()
            if gpio.read(6) == 0 then
                tmr.alarm(2, 300, tmr.ALARM_SINGLE, function() gpio.write(6, gpio.HIGH) end)
                tmr.</message>
</record>
<record>
  <date>2016-11-11T03:03:33</date>
  <millis>1478804613609</millis>
  <sequence>5424</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>220</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:03:33</date>
  <millis>1478804613627</millis>
  <sequence>5425</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:alarm(3, 300, tmr.ALARM_SINGLE, function() gpio.write(7, gpio.HIGH) end)
            else
                gpio.write(6, gpio.LOW)
                gpio.write(7, gpio.LOW) 
            end

        end)

end

-- loop relay
function M.relay_6(delay, mode)
 </message>
</record>
<record>
  <date>2016-11-11T03:03:33</date>
  <millis>1478804613659</millis>
  <sequence>5426</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>220</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:03:33</date>
  <millis>1478804613679</millis>
  <sequence>5427</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:   gpio.mode(6, gpio.OUTPUT)
    status1 = 0
        
    tmr.alarm(2, delay, mode, function()
        if status1 == 0 then
            status1 = 1
            gpio.write(6, gpio.HIGH)
        else
            status1 = 0
            gpio.write(6, gpio.L</message>
</record>
<record>
  <date>2016-11-11T03:03:33</date>
  <millis>1478804613710</millis>
  <sequence>5428</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>220</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:03:33</date>
  <millis>1478804613724</millis>
  <sequence>5429</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:OW)
        end 
    end)
      
end


function M.relay_7(delay, mode)
    gpio.mode(7, gpio.OUTPUT)
    status2 = 0
        
    tmr.alarm(3, delay, mode, function()
        if status2 == 0 then
            status2 = 1
            gpio.write(7, gpio.HIG</message>
</record>
<record>
  <date>2016-11-11T03:03:33</date>
  <millis>1478804613756</millis>
  <sequence>5430</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>220</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:03:33</date>
  <millis>1478804613775</millis>
  <sequence>5431</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:H)
        else
            status2 = 0
            gpio.write(7, gpio.LOW)
        end 
    end)
      
end
return M
</message>
</record>
<record>
  <date>2016-11-11T03:03:33</date>
  <millis>1478804613794</millis>
  <sequence>5432</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>220</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:03:33</date>
  <millis>1478804613809</millis>
  <sequence>5433</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_cmd_close</message>
</record>
<record>
  <date>2016-11-11T03:03:33</date>
  <millis>1478804613821</millis>
  <sequence>5434</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>220</thread>
  <message>recv:&lt;CR&gt;</message>
</record>
<record>
  <date>2016-11-11T03:03:33</date>
  <millis>1478804613823</millis>
  <sequence>5435</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>220</thread>
  <message>recv:&lt;LF&gt;--Done--&lt;CR&gt;&lt;LF&gt;&gt; &lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:03:33</date>
  <millis>1478804613851</millis>
  <sequence>5436</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:03:33</date>
  <millis>1478804613853</millis>
  <sequence>5437</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>220</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;&gt;</message>
</record>
<record>
  <date>2016-11-11T03:03:33</date>
  <millis>1478804613857</millis>
  <sequence>5438</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>220</thread>
  <message>recv: &lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T03:03:33</date>
  <millis>1478804613886</millis>
  <sequence>5439</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:dofile("control.lua")</message>
</record>
<record>
  <date>2016-11-11T03:03:33</date>
  <millis>1478804613888</millis>
  <sequence>5440</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>220</thread>
  <message>recv:d</message>
</record>
<record>
  <date>2016-11-11T03:03:33</date>
  <millis>1478804613891</millis>
  <sequence>5441</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>220</thread>
  <message>recv:ofile("control.lua")&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:03:33</date>
  <millis>1478804613953</millis>
  <sequence>5442</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>220</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:03:33</date>
  <millis>1478804613981</millis>
  <sequence>5443</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>220</thread>
  <message>Operation done. Duration = 955 ms</message>
</record>
<record>
  <date>2016-11-11T03:03:34</date>
  <millis>1478804614601</millis>
  <sequence>5444</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:node.restart()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:03:34</date>
  <millis>1478804614602</millis>
  <sequence>5445</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with saved baud 115200...</message>
</record>
<record>
  <date>2016-11-11T03:03:34</date>
  <millis>1478804614664</millis>
  <sequence>5446</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success. Now we waiting for ESP reboot...</message>
</record>
<record>
  <date>2016-11-11T03:03:36</date>
  <millis>1478804616666</millis>
  <sequence>5447</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with baud 115200...</message>
</record>
<record>
  <date>2016-11-11T03:03:36</date>
  <millis>1478804616669</millis>
  <sequence>5448</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:print(uart.setup(0, 115200, 8, 0, 1, 1 ))&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:03:36</date>
  <millis>1478804616930</millis>
  <sequence>5449</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success.</message>
</record>
<record>
  <date>2016-11-11T03:03:36</date>
  <millis>1478804616980</millis>
  <sequence>5450</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:03:36</date>
  <millis>1478804616982</millis>
  <sequence>5451</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>221</thread>
  <message>
Communication with MCU established.</message>
</record>
<record>
  <date>2016-11-11T03:03:51</date>
  <millis>1478804631286</millis>
  <sequence>5452</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:node.restart()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:03:51</date>
  <millis>1478804631288</millis>
  <sequence>5453</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with saved baud 115200...</message>
</record>
<record>
  <date>2016-11-11T03:03:51</date>
  <millis>1478804631352</millis>
  <sequence>5454</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success. Now we waiting for ESP reboot...</message>
</record>
<record>
  <date>2016-11-11T03:03:52</date>
  <millis>1478804632916</millis>
  <sequence>5455</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to load file control.lua</message>
</record>
<record>
  <date>2016-11-11T03:03:52</date>
  <millis>1478804632930</millis>
  <sequence>5456</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Loading control.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T03:03:52</date>
  <millis>1478804632930</millis>
  <sequence>5457</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>File reload: Success.</message>
</record>
<record>
  <date>2016-11-11T03:03:53</date>
  <millis>1478804633361</millis>
  <sequence>5458</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with baud 115200...</message>
</record>
<record>
  <date>2016-11-11T03:03:53</date>
  <millis>1478804633362</millis>
  <sequence>5459</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:print(uart.setup(0, 115200, 8, 0, 1, 1 ))&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:03:53</date>
  <millis>1478804633623</millis>
  <sequence>5460</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success.</message>
</record>
<record>
  <date>2016-11-11T03:03:53</date>
  <millis>1478804633658</millis>
  <sequence>5461</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:03:53</date>
  <millis>1478804633660</millis>
  <sequence>5462</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>221</thread>
  <message>
Communication with MCU established.</message>
</record>
<record>
  <date>2016-11-11T03:03:53</date>
  <millis>1478804633664</millis>
  <sequence>5463</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>221</thread>
  <message>sending:=node.heap()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:03:53</date>
  <millis>1478804633822</millis>
  <sequence>5464</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>We save known file control.lua</message>
</record>
<record>
  <date>2016-11-11T03:03:53</date>
  <millis>1478804633824</millis>
  <sequence>5465</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to saving file control.lua ...</message>
</record>
<record>
  <date>2016-11-11T03:03:53</date>
  <millis>1478804633826</millis>
  <sequence>5466</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Save file control.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T03:03:53</date>
  <millis>1478804633831</millis>
  <sequence>5467</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP: Try to save file to ESP...</message>
</record>
<record>
  <date>2016-11-11T03:03:53</date>
  <millis>1478804633833</millis>
  <sequence>5468</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Try to save file to ESP in Turbo Mode...</message>
</record>
<record>
  <date>2016-11-11T03:03:53</date>
  <millis>1478804633839</millis>
  <sequence>5469</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>DataTurboSender: start "Smart Mode"</message>
</record>
<record>
  <date>2016-11-11T03:03:53</date>
  <millis>1478804633841</millis>
  <sequence>5470</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Starting...</message>
</record>
<record>
  <date>2016-11-11T03:03:54</date>
  <millis>1478804634008</millis>
  <sequence>5471</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local FILE="control.lua" file.remove(FILE) file.open(FILE,"w+") uart.setup(0,115200,8,0,1,0)</message>
</record>
<record>
  <date>2016-11-11T03:03:54</date>
  <millis>1478804634010</millis>
  <sequence>5472</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>222</thread>
  <message>recv:loca</message>
</record>
<record>
  <date>2016-11-11T03:03:54</date>
  <millis>1478804634013</millis>
  <sequence>5473</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>222</thread>
  <message>recv:l FILE="control.lua" file.remove(F</message>
</record>
<record>
  <date>2016-11-11T03:03:54</date>
  <millis>1478804634014</millis>
  <sequence>5474</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>222</thread>
  <message>recv:ILE) file.o</message>
</record>
<record>
  <date>2016-11-11T03:03:54</date>
  <millis>1478804634015</millis>
  <sequence>5475</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>222</thread>
  <message>recv:pen(FILE,"</message>
</record>
<record>
  <date>2016-11-11T03:03:54</date>
  <millis>1478804634016</millis>
  <sequence>5476</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>222</thread>
  <message>recv:w+") uart.s</message>
</record>
<record>
  <date>2016-11-11T03:03:54</date>
  <millis>1478804634017</millis>
  <sequence>5477</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>222</thread>
  <message>recv:etup(0,115</message>
</record>
<record>
  <date>2016-11-11T03:03:54</date>
  <millis>1478804634018</millis>
  <sequence>5478</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>222</thread>
  <message>recv:200,8,0,1,</message>
</record>
<record>
  <date>2016-11-11T03:03:54</date>
  <millis>1478804634019</millis>
  <sequence>5479</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>222</thread>
  <message>recv:0)&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:03:54</date>
  <millis>1478804634202</millis>
  <sequence>5480</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>222</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:03:54</date>
  <millis>1478804634214</millis>
  <sequence>5481</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_Receiver=function(rcvBuf) if string.match(rcvBuf,"^ESP_cmd_close")==nil then file.write(string.gsub(rcvBuf, '\r', '')) uart.write(0, "&gt; ") else uart.on("data") </message>
</record>
<record>
  <date>2016-11-11T03:03:54</date>
  <millis>1478804634240</millis>
  <sequence>5482</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>222</thread>
  <message>recv:&gt;&gt;</message>
</record>
<record>
  <date>2016-11-11T03:03:54</date>
  <millis>1478804634242</millis>
  <sequence>5483</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>222</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T03:03:54</date>
  <millis>1478804634260</millis>
  <sequence>5484</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:file.flush() file.close() FILE=nil rcvBuf=nil ESP_Receiver=nil uart.setup(0,115200,8,0,1,1) str="\r\n--Done--\r\n&gt; " print(str) str=nil collectgarbage() end end uart.on("data",'\r',ESP_Receiver,0)</message>
</record>
<record>
  <date>2016-11-11T03:03:54</date>
  <millis>1478804634299</millis>
  <sequence>5485</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>222</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:03:54</date>
  <millis>1478804634311</millis>
  <sequence>5486</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local M = {}

-- status pin = 0, alarm 1
-- relay pin = 6 and 7, alarm 2, 3

function M.status_LED(delay)
    gpio.mode(0, gpio.OUTPUT)
    status0 = 0
        
    tmr.alarm(1, delay, 1, function()
        if status0 == 0 then
            status0 = 1
  </message>
</record>
<record>
  <date>2016-11-11T03:03:54</date>
  <millis>1478804634340</millis>
  <sequence>5487</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>222</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:03:54</date>
  <millis>1478804634353</millis>
  <sequence>5488</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:          gpio.write(0, gpio.HIGH)
        else
            status0 = 0
            gpio.write(0, gpio.LOW)
        end 
    end)
      
end

-- One on/off relay
function M.relay_onoff()
    gpio.mode(6, gpio.OUTPUT)
    gpio.mode(7, gpio.OUTPUT)
    gpi</message>
</record>
<record>
  <date>2016-11-11T03:03:54</date>
  <millis>1478804634384</millis>
  <sequence>5489</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>222</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:03:54</date>
  <millis>1478804634399</millis>
  <sequence>5490</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:o.write(6, gpio.LOW)
    gpio.write(7, gpio.LOW)

        tmr.alarm(5, 300, tmr.ALARM_AUTO, function()
            if gpio.read(6) == 0 then
                tmr.alarm(2, 500, tmr.ALARM_SINGLE, function() gpio.write(6, gpio.HIGH) end)
                tmr.</message>
</record>
<record>
  <date>2016-11-11T03:03:54</date>
  <millis>1478804634431</millis>
  <sequence>5491</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>222</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:03:54</date>
  <millis>1478804634445</millis>
  <sequence>5492</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:alarm(3, 500, tmr.ALARM_SINGLE, function() gpio.write(7, gpio.HIGH) end)
            else
                gpio.write(6, gpio.LOW)
                gpio.write(7, gpio.LOW) 
            end

        end)

end

-- loop relay
function M.relay_6(delay, mode)
 </message>
</record>
<record>
  <date>2016-11-11T03:03:54</date>
  <millis>1478804634477</millis>
  <sequence>5493</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>222</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:03:54</date>
  <millis>1478804634493</millis>
  <sequence>5494</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:   gpio.mode(6, gpio.OUTPUT)
    status1 = 0
        
    tmr.alarm(2, delay, mode, function()
        if status1 == 0 then
            status1 = 1
            gpio.write(6, gpio.HIGH)
        else
            status1 = 0
            gpio.write(6, gpio.L</message>
</record>
<record>
  <date>2016-11-11T03:03:54</date>
  <millis>1478804634523</millis>
  <sequence>5495</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>222</thread>
  <message>recv:&gt;</message>
</record>
<record>
  <date>2016-11-11T03:03:54</date>
  <millis>1478804634525</millis>
  <sequence>5496</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>222</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T03:03:54</date>
  <millis>1478804634548</millis>
  <sequence>5497</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:OW)
        end 
    end)
      
end


function M.relay_7(delay, mode)
    gpio.mode(7, gpio.OUTPUT)
    status2 = 0
        
    tmr.alarm(3, delay, mode, function()
        if status2 == 0 then
            status2 = 1
            gpio.write(7, gpio.HIG</message>
</record>
<record>
  <date>2016-11-11T03:03:54</date>
  <millis>1478804634579</millis>
  <sequence>5498</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>222</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:03:54</date>
  <millis>1478804634597</millis>
  <sequence>5499</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:H)
        else
            status2 = 0
            gpio.write(7, gpio.LOW)
        end 
    end)
      
end
return M
</message>
</record>
<record>
  <date>2016-11-11T03:03:54</date>
  <millis>1478804634617</millis>
  <sequence>5500</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>222</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:03:54</date>
  <millis>1478804634630</millis>
  <sequence>5501</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_cmd_close</message>
</record>
<record>
  <date>2016-11-11T03:03:54</date>
  <millis>1478804634642</millis>
  <sequence>5502</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>222</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;-</message>
</record>
<record>
  <date>2016-11-11T03:03:54</date>
  <millis>1478804634643</millis>
  <sequence>5503</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>222</thread>
  <message>recv:-Done--&lt;CR&gt;&lt;LF&gt;&gt; &lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:03:54</date>
  <millis>1478804634668</millis>
  <sequence>5504</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:03:54</date>
  <millis>1478804634670</millis>
  <sequence>5505</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>222</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:03:54</date>
  <millis>1478804634672</millis>
  <sequence>5506</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>222</thread>
  <message>recv:&gt; &lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T03:03:54</date>
  <millis>1478804634700</millis>
  <sequence>5507</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:dofile("control.lua")</message>
</record>
<record>
  <date>2016-11-11T03:03:54</date>
  <millis>1478804634702</millis>
  <sequence>5508</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>222</thread>
  <message>recv:d</message>
</record>
<record>
  <date>2016-11-11T03:03:54</date>
  <millis>1478804634703</millis>
  <sequence>5509</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>222</thread>
  <message>recv:ofile("control.lua")&lt;CR&gt;</message>
</record>
<record>
  <date>2016-11-11T03:03:54</date>
  <millis>1478804634705</millis>
  <sequence>5510</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>222</thread>
  <message>recv:&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:03:54</date>
  <millis>1478804634766</millis>
  <sequence>5511</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>222</thread>
  <message>recv:&gt;</message>
</record>
<record>
  <date>2016-11-11T03:03:54</date>
  <millis>1478804634767</millis>
  <sequence>5512</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>222</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T03:03:54</date>
  <millis>1478804634836</millis>
  <sequence>5513</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>222</thread>
  <message>Operation done. Duration = 1002 ms</message>
</record>
<record>
  <date>2016-11-11T03:03:55</date>
  <millis>1478804635946</millis>
  <sequence>5514</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:node.restart()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:03:55</date>
  <millis>1478804635948</millis>
  <sequence>5515</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with saved baud 115200...</message>
</record>
<record>
  <date>2016-11-11T03:03:56</date>
  <millis>1478804636010</millis>
  <sequence>5516</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success. Now we waiting for ESP reboot...</message>
</record>
<record>
  <date>2016-11-11T03:03:58</date>
  <millis>1478804638012</millis>
  <sequence>5517</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with baud 115200...</message>
</record>
<record>
  <date>2016-11-11T03:03:58</date>
  <millis>1478804638014</millis>
  <sequence>5518</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:print(uart.setup(0, 115200, 8, 0, 1, 1 ))&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:03:58</date>
  <millis>1478804638277</millis>
  <sequence>5519</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success.</message>
</record>
<record>
  <date>2016-11-11T03:03:58</date>
  <millis>1478804638329</millis>
  <sequence>5520</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:03:58</date>
  <millis>1478804638331</millis>
  <sequence>5521</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>223</thread>
  <message>
Communication with MCU established.</message>
</record>
<record>
  <date>2016-11-11T03:04:06</date>
  <millis>1478804646875</millis>
  <sequence>5522</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to load file control.lua</message>
</record>
<record>
  <date>2016-11-11T03:04:06</date>
  <millis>1478804646886</millis>
  <sequence>5523</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Loading control.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T03:04:06</date>
  <millis>1478804646886</millis>
  <sequence>5524</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>File reload: Success.</message>
</record>
<record>
  <date>2016-11-11T03:04:07</date>
  <millis>1478804647524</millis>
  <sequence>5525</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>We save known file control.lua</message>
</record>
<record>
  <date>2016-11-11T03:04:07</date>
  <millis>1478804647525</millis>
  <sequence>5526</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to saving file control.lua ...</message>
</record>
<record>
  <date>2016-11-11T03:04:07</date>
  <millis>1478804647527</millis>
  <sequence>5527</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Save file control.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T03:04:07</date>
  <millis>1478804647531</millis>
  <sequence>5528</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP: Try to save file to ESP...</message>
</record>
<record>
  <date>2016-11-11T03:04:07</date>
  <millis>1478804647532</millis>
  <sequence>5529</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Try to save file to ESP in Turbo Mode...</message>
</record>
<record>
  <date>2016-11-11T03:04:07</date>
  <millis>1478804647539</millis>
  <sequence>5530</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>DataTurboSender: start "Smart Mode"</message>
</record>
<record>
  <date>2016-11-11T03:04:07</date>
  <millis>1478804647540</millis>
  <sequence>5531</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Starting...</message>
</record>
<record>
  <date>2016-11-11T03:04:07</date>
  <millis>1478804647664</millis>
  <sequence>5532</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local FILE="control.lua" file.remove(FILE) file.open(FILE,"w+") uart.setup(0,115200,8,0,1,0)</message>
</record>
<record>
  <date>2016-11-11T03:04:07</date>
  <millis>1478804647665</millis>
  <sequence>5533</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>224</thread>
  <message>recv:l</message>
</record>
<record>
  <date>2016-11-11T03:04:07</date>
  <millis>1478804647667</millis>
  <sequence>5534</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>224</thread>
  <message>recv:ocal FILE="control.lua</message>
</record>
<record>
  <date>2016-11-11T03:04:07</date>
  <millis>1478804647668</millis>
  <sequence>5535</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>224</thread>
  <message>recv:" file.remove(</message>
</record>
<record>
  <date>2016-11-11T03:04:07</date>
  <millis>1478804647669</millis>
  <sequence>5536</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>224</thread>
  <message>recv:FILE) fil</message>
</record>
<record>
  <date>2016-11-11T03:04:07</date>
  <millis>1478804647670</millis>
  <sequence>5537</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>224</thread>
  <message>recv:e.open</message>
</record>
<record>
  <date>2016-11-11T03:04:07</date>
  <millis>1478804647670</millis>
  <sequence>5538</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>224</thread>
  <message>recv:(FILE,"</message>
</record>
<record>
  <date>2016-11-11T03:04:07</date>
  <millis>1478804647671</millis>
  <sequence>5539</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>224</thread>
  <message>recv:w+") u</message>
</record>
<record>
  <date>2016-11-11T03:04:07</date>
  <millis>1478804647671</millis>
  <sequence>5540</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>224</thread>
  <message>recv:art.set</message>
</record>
<record>
  <date>2016-11-11T03:04:07</date>
  <millis>1478804647672</millis>
  <sequence>5541</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>224</thread>
  <message>recv:up(0,11</message>
</record>
<record>
  <date>2016-11-11T03:04:07</date>
  <millis>1478804647673</millis>
  <sequence>5542</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>224</thread>
  <message>recv:5200,8</message>
</record>
<record>
  <date>2016-11-11T03:04:07</date>
  <millis>1478804647673</millis>
  <sequence>5543</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>224</thread>
  <message>recv:,0,1,0</message>
</record>
<record>
  <date>2016-11-11T03:04:07</date>
  <millis>1478804647674</millis>
  <sequence>5544</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>224</thread>
  <message>recv:)&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:04:07</date>
  <millis>1478804647873</millis>
  <sequence>5545</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>224</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:04:07</date>
  <millis>1478804647889</millis>
  <sequence>5546</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_Receiver=function(rcvBuf) if string.match(rcvBuf,"^ESP_cmd_close")==nil then file.write(string.gsub(rcvBuf, '\r', '')) uart.write(0, "&gt; ") else uart.on("data") </message>
</record>
<record>
  <date>2016-11-11T03:04:07</date>
  <millis>1478804647916</millis>
  <sequence>5547</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>224</thread>
  <message>recv:&gt;&gt;</message>
</record>
<record>
  <date>2016-11-11T03:04:07</date>
  <millis>1478804647917</millis>
  <sequence>5548</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>224</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T03:04:07</date>
  <millis>1478804647936</millis>
  <sequence>5549</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:file.flush() file.close() FILE=nil rcvBuf=nil ESP_Receiver=nil uart.setup(0,115200,8,0,1,1) str="\r\n--Done--\r\n&gt; " print(str) str=nil collectgarbage() end end uart.on("data",'\r',ESP_Receiver,0)</message>
</record>
<record>
  <date>2016-11-11T03:04:07</date>
  <millis>1478804647975</millis>
  <sequence>5550</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>224</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:04:07</date>
  <millis>1478804647990</millis>
  <sequence>5551</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local M = {}

-- status pin = 0, alarm 1
-- relay pin = 6 and 7, alarm 2, 3

function M.status_LED(delay)
    gpio.mode(0, gpio.OUTPUT)
    status0 = 0
        
    tmr.alarm(1, delay, 1, function()
        if status0 == 0 then
            status0 = 1
  </message>
</record>
<record>
  <date>2016-11-11T03:04:08</date>
  <millis>1478804648020</millis>
  <sequence>5552</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>224</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:04:08</date>
  <millis>1478804648038</millis>
  <sequence>5553</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:          gpio.write(0, gpio.HIGH)
        else
            status0 = 0
            gpio.write(0, gpio.LOW)
        end 
    end)
      
end

-- One on/off relay
function M.relay_onoff()
    gpio.mode(6, gpio.OUTPUT)
    gpio.mode(7, gpio.OUTPUT)
    gpi</message>
</record>
<record>
  <date>2016-11-11T03:04:08</date>
  <millis>1478804648070</millis>
  <sequence>5554</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>224</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:04:08</date>
  <millis>1478804648083</millis>
  <sequence>5555</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:o.write(6, gpio.LOW)
    gpio.write(7, gpio.LOW)

        tmr.alarm(5, 1000, tmr.ALARM_AUTO, function()
            if gpio.read(6) == 0 then
                tmr.alarm(2, 500, tmr.ALARM_SINGLE, function() gpio.write(6, gpio.HIGH) end)
                tmr</message>
</record>
<record>
  <date>2016-11-11T03:04:08</date>
  <millis>1478804648114</millis>
  <sequence>5556</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>224</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:04:08</date>
  <millis>1478804648131</millis>
  <sequence>5557</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:.alarm(3, 500, tmr.ALARM_SINGLE, function() gpio.write(7, gpio.HIGH) end)
            else
                gpio.write(6, gpio.LOW)
                gpio.write(7, gpio.LOW) 
            end

        end)

end

-- loop relay
function M.relay_6(delay, mode)
</message>
</record>
<record>
  <date>2016-11-11T03:04:08</date>
  <millis>1478804648162</millis>
  <sequence>5558</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>224</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:04:08</date>
  <millis>1478804648179</millis>
  <sequence>5559</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:    gpio.mode(6, gpio.OUTPUT)
    status1 = 0
        
    tmr.alarm(2, delay, mode, function()
        if status1 == 0 then
            status1 = 1
            gpio.write(6, gpio.HIGH)
        else
            status1 = 0
            gpio.write(6, gpio.</message>
</record>
<record>
  <date>2016-11-11T03:04:08</date>
  <millis>1478804648210</millis>
  <sequence>5560</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>224</thread>
  <message>recv:&gt;</message>
</record>
<record>
  <date>2016-11-11T03:04:08</date>
  <millis>1478804648211</millis>
  <sequence>5561</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>224</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T03:04:08</date>
  <millis>1478804648231</millis>
  <sequence>5562</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:LOW)
        end 
    end)
      
end


function M.relay_7(delay, mode)
    gpio.mode(7, gpio.OUTPUT)
    status2 = 0
        
    tmr.alarm(3, delay, mode, function()
        if status2 == 0 then
            status2 = 1
            gpio.write(7, gpio.HI</message>
</record>
<record>
  <date>2016-11-11T03:04:08</date>
  <millis>1478804648262</millis>
  <sequence>5563</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>224</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:04:08</date>
  <millis>1478804648280</millis>
  <sequence>5564</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:GH)
        else
            status2 = 0
            gpio.write(7, gpio.LOW)
        end 
    end)
      
end
return M
</message>
</record>
<record>
  <date>2016-11-11T03:04:08</date>
  <millis>1478804648300</millis>
  <sequence>5565</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>224</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:04:08</date>
  <millis>1478804648313</millis>
  <sequence>5566</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_cmd_close</message>
</record>
<record>
  <date>2016-11-11T03:04:08</date>
  <millis>1478804648325</millis>
  <sequence>5567</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>224</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:04:08</date>
  <millis>1478804648327</millis>
  <sequence>5568</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>224</thread>
  <message>recv:--Done--&lt;CR&gt;&lt;LF&gt;&gt; &lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:04:08</date>
  <millis>1478804648349</millis>
  <sequence>5569</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:04:08</date>
  <millis>1478804648350</millis>
  <sequence>5570</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>224</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:04:08</date>
  <millis>1478804648353</millis>
  <sequence>5571</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>224</thread>
  <message>recv:&gt; &lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T03:04:08</date>
  <millis>1478804648385</millis>
  <sequence>5572</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:dofile("control.lua")</message>
</record>
<record>
  <date>2016-11-11T03:04:08</date>
  <millis>1478804648387</millis>
  <sequence>5573</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>224</thread>
  <message>recv:do</message>
</record>
<record>
  <date>2016-11-11T03:04:08</date>
  <millis>1478804648390</millis>
  <sequence>5574</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>224</thread>
  <message>recv:file("control.lua")&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:04:08</date>
  <millis>1478804648458</millis>
  <sequence>5575</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>224</thread>
  <message>recv:&gt;</message>
</record>
<record>
  <date>2016-11-11T03:04:08</date>
  <millis>1478804648459</millis>
  <sequence>5576</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>224</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T03:04:08</date>
  <millis>1478804648521</millis>
  <sequence>5577</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>224</thread>
  <message>Operation done. Duration = 989 ms</message>
</record>
<record>
  <date>2016-11-11T03:04:09</date>
  <millis>1478804649225</millis>
  <sequence>5578</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:node.restart()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:04:09</date>
  <millis>1478804649229</millis>
  <sequence>5579</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with saved baud 115200...</message>
</record>
<record>
  <date>2016-11-11T03:04:09</date>
  <millis>1478804649291</millis>
  <sequence>5580</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success. Now we waiting for ESP reboot...</message>
</record>
<record>
  <date>2016-11-11T03:04:11</date>
  <millis>1478804651294</millis>
  <sequence>5581</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with baud 115200...</message>
</record>
<record>
  <date>2016-11-11T03:04:11</date>
  <millis>1478804651295</millis>
  <sequence>5582</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:print(uart.setup(0, 115200, 8, 0, 1, 1 ))&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:04:11</date>
  <millis>1478804651557</millis>
  <sequence>5583</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success.</message>
</record>
<record>
  <date>2016-11-11T03:04:11</date>
  <millis>1478804651605</millis>
  <sequence>5584</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:04:11</date>
  <millis>1478804651607</millis>
  <sequence>5585</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>225</thread>
  <message>
Communication with MCU established.</message>
</record>
<record>
  <date>2016-11-11T03:04:26</date>
  <millis>1478804666591</millis>
  <sequence>5586</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to load file control.lua</message>
</record>
<record>
  <date>2016-11-11T03:04:26</date>
  <millis>1478804666600</millis>
  <sequence>5587</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Loading control.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T03:04:26</date>
  <millis>1478804666602</millis>
  <sequence>5588</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>File reload: Success.</message>
</record>
<record>
  <date>2016-11-11T03:04:27</date>
  <millis>1478804667172</millis>
  <sequence>5589</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>We save known file control.lua</message>
</record>
<record>
  <date>2016-11-11T03:04:27</date>
  <millis>1478804667173</millis>
  <sequence>5590</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to saving file control.lua ...</message>
</record>
<record>
  <date>2016-11-11T03:04:27</date>
  <millis>1478804667176</millis>
  <sequence>5591</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Save file control.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T03:04:27</date>
  <millis>1478804667180</millis>
  <sequence>5592</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP: Try to save file to ESP...</message>
</record>
<record>
  <date>2016-11-11T03:04:27</date>
  <millis>1478804667181</millis>
  <sequence>5593</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Try to save file to ESP in Turbo Mode...</message>
</record>
<record>
  <date>2016-11-11T03:04:27</date>
  <millis>1478804667188</millis>
  <sequence>5594</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>DataTurboSender: start "Smart Mode"</message>
</record>
<record>
  <date>2016-11-11T03:04:27</date>
  <millis>1478804667188</millis>
  <sequence>5595</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Starting...</message>
</record>
<record>
  <date>2016-11-11T03:04:27</date>
  <millis>1478804667335</millis>
  <sequence>5596</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local FILE="control.lua" file.remove(FILE) file.open(FILE,"w+") uart.setup(0,115200,8,0,1,0)</message>
</record>
<record>
  <date>2016-11-11T03:04:27</date>
  <millis>1478804667337</millis>
  <sequence>5597</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>226</thread>
  <message>recv:lo</message>
</record>
<record>
  <date>2016-11-11T03:04:27</date>
  <millis>1478804667338</millis>
  <sequence>5598</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>226</thread>
  <message>recv:cal FILE="control</message>
</record>
<record>
  <date>2016-11-11T03:04:27</date>
  <millis>1478804667339</millis>
  <sequence>5599</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>226</thread>
  <message>recv:.lua" file</message>
</record>
<record>
  <date>2016-11-11T03:04:27</date>
  <millis>1478804667340</millis>
  <sequence>5600</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>226</thread>
  <message>recv:.remove(FI</message>
</record>
<record>
  <date>2016-11-11T03:04:27</date>
  <millis>1478804667341</millis>
  <sequence>5601</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>226</thread>
  <message>recv:LE) file.op</message>
</record>
<record>
  <date>2016-11-11T03:04:27</date>
  <millis>1478804667342</millis>
  <sequence>5602</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>226</thread>
  <message>recv:en(FILE,"w+</message>
</record>
<record>
  <date>2016-11-11T03:04:27</date>
  <millis>1478804667342</millis>
  <sequence>5603</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>226</thread>
  <message>recv:") uart.se</message>
</record>
<record>
  <date>2016-11-11T03:04:27</date>
  <millis>1478804667344</millis>
  <sequence>5604</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>226</thread>
  <message>recv:tup(0,115200,8,</message>
</record>
<record>
  <date>2016-11-11T03:04:27</date>
  <millis>1478804667345</millis>
  <sequence>5605</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>226</thread>
  <message>recv:0,1,0)&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:04:27</date>
  <millis>1478804667533</millis>
  <sequence>5606</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>226</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:04:27</date>
  <millis>1478804667568</millis>
  <sequence>5607</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_Receiver=function(rcvBuf) if string.match(rcvBuf,"^ESP_cmd_close")==nil then file.write(string.gsub(rcvBuf, '\r', '')) uart.write(0, "&gt; ") else uart.on("data") </message>
</record>
<record>
  <date>2016-11-11T03:04:27</date>
  <millis>1478804667595</millis>
  <sequence>5608</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>226</thread>
  <message>recv:&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T03:04:27</date>
  <millis>1478804667614</millis>
  <sequence>5609</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:file.flush() file.close() FILE=nil rcvBuf=nil ESP_Receiver=nil uart.setup(0,115200,8,0,1,1) str="\r\n--Done--\r\n&gt; " print(str) str=nil collectgarbage() end end uart.on("data",'\r',ESP_Receiver,0)</message>
</record>
<record>
  <date>2016-11-11T03:04:27</date>
  <millis>1478804667653</millis>
  <sequence>5610</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>226</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:04:27</date>
  <millis>1478804667665</millis>
  <sequence>5611</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local M = {}

-- status pin = 0, alarm 1
-- relay pin = 6 and 7, alarm 2, 3

function M.status_LED(delay)
    gpio.mode(0, gpio.OUTPUT)
    status0 = 0
        
    tmr.alarm(1, delay, 1, function()
        if status0 == 0 then
            status0 = 1
  </message>
</record>
<record>
  <date>2016-11-11T03:04:27</date>
  <millis>1478804667695</millis>
  <sequence>5612</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>226</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:04:27</date>
  <millis>1478804667711</millis>
  <sequence>5613</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:          gpio.write(0, gpio.HIGH)
        else
            status0 = 0
            gpio.write(0, gpio.LOW)
        end 
    end)
      
end

-- One on/off relay
function M.relay_onoff()
    gpio.mode(6, gpio.OUTPUT)
    gpio.mode(7, gpio.OUTPUT)
    gpi</message>
</record>
<record>
  <date>2016-11-11T03:04:27</date>
  <millis>1478804667744</millis>
  <sequence>5614</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>226</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:04:27</date>
  <millis>1478804667761</millis>
  <sequence>5615</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:o.write(6, gpio.LOW)
    gpio.write(7, gpio.LOW)

        tmr.alarm(5, 1000, tmr.ALARM_SINGLE, function()
            if gpio.read(6) == 0 then
                tmr.alarm(2, 500, tmr.ALARM_SINGLE, function() gpio.write(6, gpio.HIGH) end)
                t</message>
</record>
<record>
  <date>2016-11-11T03:04:27</date>
  <millis>1478804667793</millis>
  <sequence>5616</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>226</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:04:27</date>
  <millis>1478804667806</millis>
  <sequence>5617</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:mr.alarm(3, 500, tmr.ALARM_SINGLE, function() gpio.write(7, gpio.HIGH) end)
            else
                gpio.write(6, gpio.LOW)
                gpio.write(7, gpio.LOW) 
            end

        end)

end

-- loop relay
function M.relay_6(delay, mode</message>
</record>
<record>
  <date>2016-11-11T03:04:27</date>
  <millis>1478804667837</millis>
  <sequence>5618</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>226</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:04:27</date>
  <millis>1478804667850</millis>
  <sequence>5619</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:)
    gpio.mode(6, gpio.OUTPUT)
    status1 = 0
        
    tmr.alarm(2, delay, mode, function()
        if status1 == 0 then
            status1 = 1
            gpio.write(6, gpio.HIGH)
        else
            status1 = 0
            gpio.write(6, gpi</message>
</record>
<record>
  <date>2016-11-11T03:04:27</date>
  <millis>1478804667881</millis>
  <sequence>5620</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>226</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:04:27</date>
  <millis>1478804667898</millis>
  <sequence>5621</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:o.LOW)
        end 
    end)
      
end


function M.relay_7(delay, mode)
    gpio.mode(7, gpio.OUTPUT)
    status2 = 0
        
    tmr.alarm(3, delay, mode, function()
        if status2 == 0 then
            status2 = 1
            gpio.write(7, gpio.</message>
</record>
<record>
  <date>2016-11-11T03:04:27</date>
  <millis>1478804667929</millis>
  <sequence>5622</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>226</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:04:27</date>
  <millis>1478804667946</millis>
  <sequence>5623</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:HIGH)
        else
            status2 = 0
            gpio.write(7, gpio.LOW)
        end 
    end)
      
end
return M
</message>
</record>
<record>
  <date>2016-11-11T03:04:27</date>
  <millis>1478804667966</millis>
  <sequence>5624</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>226</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:04:27</date>
  <millis>1478804667983</millis>
  <sequence>5625</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_cmd_close</message>
</record>
<record>
  <date>2016-11-11T03:04:27</date>
  <millis>1478804667995</millis>
  <sequence>5626</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>226</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;-</message>
</record>
<record>
  <date>2016-11-11T03:04:27</date>
  <millis>1478804667996</millis>
  <sequence>5627</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>226</thread>
  <message>recv:-Done--&lt;CR&gt;&lt;LF&gt;&gt; &lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:04:28</date>
  <millis>1478804668020</millis>
  <sequence>5628</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:04:28</date>
  <millis>1478804668022</millis>
  <sequence>5629</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>226</thread>
  <message>recv:&lt;CR&gt;</message>
</record>
<record>
  <date>2016-11-11T03:04:28</date>
  <millis>1478804668023</millis>
  <sequence>5630</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>226</thread>
  <message>recv:&lt;LF&gt;&gt; &lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T03:04:28</date>
  <millis>1478804668054</millis>
  <sequence>5631</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:dofile("control.lua")</message>
</record>
<record>
  <date>2016-11-11T03:04:28</date>
  <millis>1478804668055</millis>
  <sequence>5632</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>226</thread>
  <message>recv:d</message>
</record>
<record>
  <date>2016-11-11T03:04:28</date>
  <millis>1478804668056</millis>
  <sequence>5633</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>226</thread>
  <message>recv:ofile("control.l</message>
</record>
<record>
  <date>2016-11-11T03:04:28</date>
  <millis>1478804668057</millis>
  <sequence>5634</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>226</thread>
  <message>recv:ua")&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:04:28</date>
  <millis>1478804668120</millis>
  <sequence>5635</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>226</thread>
  <message>recv:&gt;</message>
</record>
<record>
  <date>2016-11-11T03:04:28</date>
  <millis>1478804668121</millis>
  <sequence>5636</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>226</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T03:04:28</date>
  <millis>1478804668184</millis>
  <sequence>5637</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>226</thread>
  <message>Operation done. Duration = 1002 ms</message>
</record>
<record>
  <date>2016-11-11T03:04:28</date>
  <millis>1478804668933</millis>
  <sequence>5638</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:node.restart()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:04:28</date>
  <millis>1478804668936</millis>
  <sequence>5639</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with saved baud 115200...</message>
</record>
<record>
  <date>2016-11-11T03:04:28</date>
  <millis>1478804668998</millis>
  <sequence>5640</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success. Now we waiting for ESP reboot...</message>
</record>
<record>
  <date>2016-11-11T03:04:31</date>
  <millis>1478804671000</millis>
  <sequence>5641</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with baud 115200...</message>
</record>
<record>
  <date>2016-11-11T03:04:31</date>
  <millis>1478804671002</millis>
  <sequence>5642</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:print(uart.setup(0, 115200, 8, 0, 1, 1 ))&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:04:31</date>
  <millis>1478804671266</millis>
  <sequence>5643</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success.</message>
</record>
<record>
  <date>2016-11-11T03:04:31</date>
  <millis>1478804671317</millis>
  <sequence>5644</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:04:31</date>
  <millis>1478804671319</millis>
  <sequence>5645</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>227</thread>
  <message>
Communication with MCU established.</message>
</record>
<record>
  <date>2016-11-11T03:05:57</date>
  <millis>1478804757797</millis>
  <sequence>5646</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to load file control.lua</message>
</record>
<record>
  <date>2016-11-11T03:05:57</date>
  <millis>1478804757813</millis>
  <sequence>5647</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Loading control.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T03:05:57</date>
  <millis>1478804757814</millis>
  <sequence>5648</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>File reload: Success.</message>
</record>
<record>
  <date>2016-11-11T03:05:59</date>
  <millis>1478804759373</millis>
  <sequence>5649</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to load file control.lua</message>
</record>
<record>
  <date>2016-11-11T03:05:59</date>
  <millis>1478804759383</millis>
  <sequence>5650</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Loading control.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T03:05:59</date>
  <millis>1478804759383</millis>
  <sequence>5651</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>File reload: Success.</message>
</record>
<record>
  <date>2016-11-11T03:05:59</date>
  <millis>1478804759976</millis>
  <sequence>5652</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to load file control.lua</message>
</record>
<record>
  <date>2016-11-11T03:05:59</date>
  <millis>1478804759996</millis>
  <sequence>5653</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Loading control.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T03:05:59</date>
  <millis>1478804759997</millis>
  <sequence>5654</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>File reload: Success.</message>
</record>
<record>
  <date>2016-11-11T03:06:01</date>
  <millis>1478804761260</millis>
  <sequence>5655</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>We save known file control.lua</message>
</record>
<record>
  <date>2016-11-11T03:06:01</date>
  <millis>1478804761261</millis>
  <sequence>5656</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to saving file control.lua ...</message>
</record>
<record>
  <date>2016-11-11T03:06:01</date>
  <millis>1478804761263</millis>
  <sequence>5657</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Save file control.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T03:06:01</date>
  <millis>1478804761268</millis>
  <sequence>5658</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP: Try to save file to ESP...</message>
</record>
<record>
  <date>2016-11-11T03:06:01</date>
  <millis>1478804761269</millis>
  <sequence>5659</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Try to save file to ESP in Turbo Mode...</message>
</record>
<record>
  <date>2016-11-11T03:06:01</date>
  <millis>1478804761276</millis>
  <sequence>5660</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>DataTurboSender: start "Smart Mode"</message>
</record>
<record>
  <date>2016-11-11T03:06:01</date>
  <millis>1478804761276</millis>
  <sequence>5661</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Starting...</message>
</record>
<record>
  <date>2016-11-11T03:06:01</date>
  <millis>1478804761410</millis>
  <sequence>5662</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local FILE="control.lua" file.remove(FILE) file.open(FILE,"w+") uart.setup(0,115200,8,0,1,0)</message>
</record>
<record>
  <date>2016-11-11T03:06:01</date>
  <millis>1478804761412</millis>
  <sequence>5663</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>228</thread>
  <message>recv:lo</message>
</record>
<record>
  <date>2016-11-11T03:06:01</date>
  <millis>1478804761414</millis>
  <sequence>5664</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>228</thread>
  <message>recv:cal FILE="control.lua" file.remove</message>
</record>
<record>
  <date>2016-11-11T03:06:01</date>
  <millis>1478804761415</millis>
  <sequence>5665</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>228</thread>
  <message>recv:(FILE) fil</message>
</record>
<record>
  <date>2016-11-11T03:06:01</date>
  <millis>1478804761416</millis>
  <sequence>5666</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>228</thread>
  <message>recv:e.open(FIL</message>
</record>
<record>
  <date>2016-11-11T03:06:01</date>
  <millis>1478804761417</millis>
  <sequence>5667</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>228</thread>
  <message>recv:E,"w+")</message>
</record>
<record>
  <date>2016-11-11T03:06:01</date>
  <millis>1478804761417</millis>
  <sequence>5668</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>228</thread>
  <message>recv: uart.s</message>
</record>
<record>
  <date>2016-11-11T03:06:01</date>
  <millis>1478804761418</millis>
  <sequence>5669</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>228</thread>
  <message>recv:etup(0,1</message>
</record>
<record>
  <date>2016-11-11T03:06:01</date>
  <millis>1478804761419</millis>
  <sequence>5670</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>228</thread>
  <message>recv:15200,8,0,1,</message>
</record>
<record>
  <date>2016-11-11T03:06:01</date>
  <millis>1478804761421</millis>
  <sequence>5671</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>228</thread>
  <message>recv:0)&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:06:01</date>
  <millis>1478804761605</millis>
  <sequence>5672</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>228</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:06:01</date>
  <millis>1478804761620</millis>
  <sequence>5673</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_Receiver=function(rcvBuf) if string.match(rcvBuf,"^ESP_cmd_close")==nil then file.write(string.gsub(rcvBuf, '\r', '')) uart.write(0, "&gt; ") else uart.on("data") </message>
</record>
<record>
  <date>2016-11-11T03:06:01</date>
  <millis>1478804761648</millis>
  <sequence>5674</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>228</thread>
  <message>recv:&gt;</message>
</record>
<record>
  <date>2016-11-11T03:06:01</date>
  <millis>1478804761648</millis>
  <sequence>5675</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>228</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:06:01</date>
  <millis>1478804761669</millis>
  <sequence>5676</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:file.flush() file.close() FILE=nil rcvBuf=nil ESP_Receiver=nil uart.setup(0,115200,8,0,1,1) str="\r\n--Done--\r\n&gt; " print(str) str=nil collectgarbage() end end uart.on("data",'\r',ESP_Receiver,0)</message>
</record>
<record>
  <date>2016-11-11T03:06:01</date>
  <millis>1478804761708</millis>
  <sequence>5677</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>228</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:06:01</date>
  <millis>1478804761733</millis>
  <sequence>5678</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local M = {}

-- status pin = 0, alarm 1
-- relay pin = 6 and 7, alarm 2, 3

function M.status_LED(delay)
    gpio.mode(0, gpio.OUTPUT)
    status0 = 0
        
    tmr.alarm(1, delay, 1, function()
        if status0 == 0 then
            status0 = 1
  </message>
</record>
<record>
  <date>2016-11-11T03:06:01</date>
  <millis>1478804761762</millis>
  <sequence>5679</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>228</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:06:01</date>
  <millis>1478804761775</millis>
  <sequence>5680</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:          gpio.write(0, gpio.HIGH)
        else
            status0 = 0
            gpio.write(0, gpio.LOW)
        end 
    end)
      
end

-- One on/off relay
function M.relay_onoff()
    gpio.mode(6, gpio.OUTPUT)
    gpio.mode(7, gpio.OUTPUT)
    gpi</message>
</record>
<record>
  <date>2016-11-11T03:06:01</date>
  <millis>1478804761805</millis>
  <sequence>5681</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>228</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:06:01</date>
  <millis>1478804761821</millis>
  <sequence>5682</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:o.write(6, gpio.LOW)
    gpio.write(7, gpio.LOW)

    tmr.alarm(6,6000,tmr.ALARM_SINGLE, function()
        tmr.alarm(5, 1000, tmr.ALARM_AUTO, function()
            if gpio.read(6) == 0 then
                tmr.alarm(2, 500, tmr.ALARM_SINGLE, function()</message>
</record>
<record>
  <date>2016-11-11T03:06:01</date>
  <millis>1478804761853</millis>
  <sequence>5683</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>228</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:06:01</date>
  <millis>1478804761867</millis>
  <sequence>5684</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending: gpio.write(6, gpio.HIGH) end)
                tmr.alarm(3, 500, tmr.ALARM_SINGLE, function() gpio.write(7, gpio.HIGH) end)
            else
                gpio.write(6, gpio.LOW)
                gpio.write(7, gpio.LOW) 
            end

        end)
  </message>
</record>
<record>
  <date>2016-11-11T03:06:01</date>
  <millis>1478804761898</millis>
  <sequence>5685</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>228</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:06:01</date>
  <millis>1478804761914</millis>
  <sequence>5686</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:  end)
        
end

-- loop relay
function M.relay_6(delay, mode)
    gpio.mode(6, gpio.OUTPUT)
    status1 = 0
        
    tmr.alarm(2, delay, mode, function()
        if status1 == 0 then
            status1 = 1
            gpio.write(6, gpio.HIGH)
 </message>
</record>
<record>
  <date>2016-11-11T03:06:01</date>
  <millis>1478804761945</millis>
  <sequence>5687</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>228</thread>
  <message>recv:&gt;</message>
</record>
<record>
  <date>2016-11-11T03:06:01</date>
  <millis>1478804761947</millis>
  <sequence>5688</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>228</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T03:06:01</date>
  <millis>1478804761965</millis>
  <sequence>5689</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:       else
            status1 = 0
            gpio.write(6, gpio.LOW)
        end 
    end)
      
end


function M.relay_7(delay, mode)
    gpio.mode(7, gpio.OUTPUT)
    status2 = 0
        
    tmr.alarm(3, delay, mode, function()
        if status2 </message>
</record>
<record>
  <date>2016-11-11T03:06:01</date>
  <millis>1478804761998</millis>
  <sequence>5690</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>228</thread>
  <message>recv:&gt;</message>
</record>
<record>
  <date>2016-11-11T03:06:02</date>
  <millis>1478804762000</millis>
  <sequence>5691</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>228</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T03:06:02</date>
  <millis>1478804762016</millis>
  <sequence>5692</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:== 0 then
            status2 = 1
            gpio.write(7, gpio.HIGH)
        else
            status2 = 0
            gpio.write(7, gpio.LOW)
        end 
    end)
      
end
return M
</message>
</record>
<record>
  <date>2016-11-11T03:06:02</date>
  <millis>1478804762042</millis>
  <sequence>5693</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>228</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:06:02</date>
  <millis>1478804762058</millis>
  <sequence>5694</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_cmd_close</message>
</record>
<record>
  <date>2016-11-11T03:06:02</date>
  <millis>1478804762071</millis>
  <sequence>5695</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>228</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;--Do</message>
</record>
<record>
  <date>2016-11-11T03:06:02</date>
  <millis>1478804762072</millis>
  <sequence>5696</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>228</thread>
  <message>recv:ne--&lt;CR&gt;&lt;LF&gt;&gt; &lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:06:02</date>
  <millis>1478804762096</millis>
  <sequence>5697</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:06:02</date>
  <millis>1478804762098</millis>
  <sequence>5698</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>228</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:06:02</date>
  <millis>1478804762099</millis>
  <sequence>5699</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>228</thread>
  <message>recv:&gt; &lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T03:06:02</date>
  <millis>1478804762133</millis>
  <sequence>5700</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:dofile("control.lua")</message>
</record>
<record>
  <date>2016-11-11T03:06:02</date>
  <millis>1478804762134</millis>
  <sequence>5701</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>228</thread>
  <message>recv:dof</message>
</record>
<record>
  <date>2016-11-11T03:06:02</date>
  <millis>1478804762136</millis>
  <sequence>5702</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>228</thread>
  <message>recv:ile("control.lu</message>
</record>
<record>
  <date>2016-11-11T03:06:02</date>
  <millis>1478804762136</millis>
  <sequence>5703</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>228</thread>
  <message>recv:a")&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:06:02</date>
  <millis>1478804762201</millis>
  <sequence>5704</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>228</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:06:02</date>
  <millis>1478804762243</millis>
  <sequence>5705</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>228</thread>
  <message>Operation done. Duration = 974 ms</message>
</record>
<record>
  <date>2016-11-11T03:06:02</date>
  <millis>1478804762843</millis>
  <sequence>5706</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:node.restart()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:06:02</date>
  <millis>1478804762844</millis>
  <sequence>5707</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with saved baud 115200...</message>
</record>
<record>
  <date>2016-11-11T03:06:02</date>
  <millis>1478804762907</millis>
  <sequence>5708</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success. Now we waiting for ESP reboot...</message>
</record>
<record>
  <date>2016-11-11T03:06:04</date>
  <millis>1478804764909</millis>
  <sequence>5709</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with baud 115200...</message>
</record>
<record>
  <date>2016-11-11T03:06:04</date>
  <millis>1478804764910</millis>
  <sequence>5710</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:print(uart.setup(0, 115200, 8, 0, 1, 1 ))&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:06:05</date>
  <millis>1478804765173</millis>
  <sequence>5711</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success.</message>
</record>
<record>
  <date>2016-11-11T03:06:05</date>
  <millis>1478804765218</millis>
  <sequence>5712</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:06:05</date>
  <millis>1478804765220</millis>
  <sequence>5713</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>229</thread>
  <message>
Communication with MCU established.</message>
</record>
<record>
  <date>2016-11-11T03:07:09</date>
  <millis>1478804829830</millis>
  <sequence>5714</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to load file control.lua</message>
</record>
<record>
  <date>2016-11-11T03:07:09</date>
  <millis>1478804829849</millis>
  <sequence>5715</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Loading control.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T03:07:09</date>
  <millis>1478804829850</millis>
  <sequence>5716</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>File reload: Success.</message>
</record>
<record>
  <date>2016-11-11T03:07:10</date>
  <millis>1478804830497</millis>
  <sequence>5717</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>We save known file control.lua</message>
</record>
<record>
  <date>2016-11-11T03:07:10</date>
  <millis>1478804830497</millis>
  <sequence>5718</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to saving file control.lua ...</message>
</record>
<record>
  <date>2016-11-11T03:07:10</date>
  <millis>1478804830499</millis>
  <sequence>5719</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Save file control.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T03:07:10</date>
  <millis>1478804830504</millis>
  <sequence>5720</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP: Try to save file to ESP...</message>
</record>
<record>
  <date>2016-11-11T03:07:10</date>
  <millis>1478804830505</millis>
  <sequence>5721</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Try to save file to ESP in Turbo Mode...</message>
</record>
<record>
  <date>2016-11-11T03:07:10</date>
  <millis>1478804830513</millis>
  <sequence>5722</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>DataTurboSender: start "Smart Mode"</message>
</record>
<record>
  <date>2016-11-11T03:07:10</date>
  <millis>1478804830515</millis>
  <sequence>5723</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Starting...</message>
</record>
<record>
  <date>2016-11-11T03:07:10</date>
  <millis>1478804830659</millis>
  <sequence>5724</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local FILE="control.lua" file.remove(FILE) file.open(FILE,"w+") uart.setup(0,115200,8,0,1,0)</message>
</record>
<record>
  <date>2016-11-11T03:07:10</date>
  <millis>1478804830661</millis>
  <sequence>5725</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>230</thread>
  <message>recv:lo</message>
</record>
<record>
  <date>2016-11-11T03:07:10</date>
  <millis>1478804830663</millis>
  <sequence>5726</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>230</thread>
  <message>recv:cal FILE="control.lua" f</message>
</record>
<record>
  <date>2016-11-11T03:07:10</date>
  <millis>1478804830666</millis>
  <sequence>5727</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>230</thread>
  <message>recv:ile.remove(FILE) file.open(FILE,"</message>
</record>
<record>
  <date>2016-11-11T03:07:10</date>
  <millis>1478804830668</millis>
  <sequence>5728</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>230</thread>
  <message>recv:w+") uart.setup(0,11520</message>
</record>
<record>
  <date>2016-11-11T03:07:10</date>
  <millis>1478804830669</millis>
  <sequence>5729</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>230</thread>
  <message>recv:0,8,0,1,0)&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:07:10</date>
  <millis>1478804830856</millis>
  <sequence>5730</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>230</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:07:10</date>
  <millis>1478804830875</millis>
  <sequence>5731</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_Receiver=function(rcvBuf) if string.match(rcvBuf,"^ESP_cmd_close")==nil then file.write(string.gsub(rcvBuf, '\r', '')) uart.write(0, "&gt; ") else uart.on("data") </message>
</record>
<record>
  <date>2016-11-11T03:07:10</date>
  <millis>1478804830902</millis>
  <sequence>5732</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>230</thread>
  <message>recv:&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T03:07:10</date>
  <millis>1478804830915</millis>
  <sequence>5733</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:file.flush() file.close() FILE=nil rcvBuf=nil ESP_Receiver=nil uart.setup(0,115200,8,0,1,1) str="\r\n--Done--\r\n&gt; " print(str) str=nil collectgarbage() end end uart.on("data",'\r',ESP_Receiver,0)</message>
</record>
<record>
  <date>2016-11-11T03:07:10</date>
  <millis>1478804830954</millis>
  <sequence>5734</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>230</thread>
  <message>recv:&gt;</message>
</record>
<record>
  <date>2016-11-11T03:07:10</date>
  <millis>1478804830955</millis>
  <sequence>5735</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>230</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T03:07:10</date>
  <millis>1478804830973</millis>
  <sequence>5736</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local M = {}

-- status pin = 0, alarm 1
-- relay pin = 6 and 7, alarm 2, 3

function M.status_LED(delay)
    gpio.mode(0, gpio.OUTPUT)
    status0 = 0
        
    tmr.alarm(1, delay, 1, function()
        if status0 == 0 then
            status0 = 1
  </message>
</record>
<record>
  <date>2016-11-11T03:07:11</date>
  <millis>1478804831002</millis>
  <sequence>5737</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>230</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:07:11</date>
  <millis>1478804831020</millis>
  <sequence>5738</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:          gpio.write(0, gpio.HIGH)
        else
            status0 = 0
            gpio.write(0, gpio.LOW)
        end 
    end)
      
end

-- One on/off relay
function M.relay_onoff()
    gpio.mode(6, gpio.OUTPUT)
    gpio.mode(7, gpio.OUTPUT)
    gpi</message>
</record>
<record>
  <date>2016-11-11T03:07:11</date>
  <millis>1478804831051</millis>
  <sequence>5739</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>230</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:07:11</date>
  <millis>1478804831070</millis>
  <sequence>5740</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:o.write(6, gpio.LOW)
    gpio.write(7, gpio.LOW)

    tmr.alarm(5, 1000, tmr.ALARM_AUTO, function()
        if gpio.read(6) == 0 then
            tmr.alarm(2, 500, tmr.ALARM_SINGLE, function() gpio.write(6, gpio.HIGH) end)
            tmr.alarm(3, 500, t</message>
</record>
<record>
  <date>2016-11-11T03:07:11</date>
  <millis>1478804831100</millis>
  <sequence>5741</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>230</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:07:11</date>
  <millis>1478804831118</millis>
  <sequence>5742</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:mr.ALARM_SINGLE, function() gpio.write(7, gpio.HIGH) end)
        else
            gpio.write(6, gpio.LOW)
            gpio.write(7, gpio.LOW) 
        end

    end)

    tmr.alarm(6,10000, 0, function() tmr.stop(5) end)
        
end

-- loop relay
funct</message>
</record>
<record>
  <date>2016-11-11T03:07:11</date>
  <millis>1478804831150</millis>
  <sequence>5743</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>230</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:07:11</date>
  <millis>1478804831166</millis>
  <sequence>5744</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ion M.relay_6(delay, mode)
    gpio.mode(6, gpio.OUTPUT)
    status1 = 0
        
    tmr.alarm(2, delay, mode, function()
        if status1 == 0 then
            status1 = 1
            gpio.write(6, gpio.HIGH)
        else
            status1 = 0
    </message>
</record>
<record>
  <date>2016-11-11T03:07:11</date>
  <millis>1478804831197</millis>
  <sequence>5745</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>230</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:07:11</date>
  <millis>1478804831210</millis>
  <sequence>5746</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:        gpio.write(6, gpio.LOW)
        end 
    end)
      
end


function M.relay_7(delay, mode)
    gpio.mode(7, gpio.OUTPUT)
    status2 = 0
        
    tmr.alarm(3, delay, mode, function()
        if status2 == 0 then
            status2 = 1
      </message>
</record>
<record>
  <date>2016-11-11T03:07:11</date>
  <millis>1478804831243</millis>
  <sequence>5747</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>230</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:07:11</date>
  <millis>1478804831256</millis>
  <sequence>5748</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:      gpio.write(7, gpio.HIGH)
        else
            status2 = 0
            gpio.write(7, gpio.LOW)
        end 
    end)
      
end
return M
</message>
</record>
<record>
  <date>2016-11-11T03:07:11</date>
  <millis>1478804831278</millis>
  <sequence>5749</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>230</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:07:11</date>
  <millis>1478804831292</millis>
  <sequence>5750</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_cmd_close</message>
</record>
<record>
  <date>2016-11-11T03:07:11</date>
  <millis>1478804831306</millis>
  <sequence>5751</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>230</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:07:11</date>
  <millis>1478804831308</millis>
  <sequence>5752</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>230</thread>
  <message>recv:--Done--&lt;CR&gt;&lt;LF&gt;&gt; &lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:07:11</date>
  <millis>1478804831331</millis>
  <sequence>5753</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:07:11</date>
  <millis>1478804831333</millis>
  <sequence>5754</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>230</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:07:11</date>
  <millis>1478804831335</millis>
  <sequence>5755</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>230</thread>
  <message>recv:&gt; &lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T03:07:11</date>
  <millis>1478804831372</millis>
  <sequence>5756</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:dofile("control.lua")</message>
</record>
<record>
  <date>2016-11-11T03:07:11</date>
  <millis>1478804831374</millis>
  <sequence>5757</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>230</thread>
  <message>recv:dof</message>
</record>
<record>
  <date>2016-11-11T03:07:11</date>
  <millis>1478804831376</millis>
  <sequence>5758</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>230</thread>
  <message>recv:ile("control.lua")&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:07:11</date>
  <millis>1478804831452</millis>
  <sequence>5759</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>230</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:07:11</date>
  <millis>1478804831504</millis>
  <sequence>5760</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>230</thread>
  <message>Operation done. Duration = 997 ms</message>
</record>
<record>
  <date>2016-11-11T03:07:11</date>
  <millis>1478804831833</millis>
  <sequence>5761</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:node.restart()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:07:11</date>
  <millis>1478804831836</millis>
  <sequence>5762</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with saved baud 115200...</message>
</record>
<record>
  <date>2016-11-11T03:07:11</date>
  <millis>1478804831897</millis>
  <sequence>5763</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success. Now we waiting for ESP reboot...</message>
</record>
<record>
  <date>2016-11-11T03:07:13</date>
  <millis>1478804833899</millis>
  <sequence>5764</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with baud 115200...</message>
</record>
<record>
  <date>2016-11-11T03:07:13</date>
  <millis>1478804833900</millis>
  <sequence>5765</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:print(uart.setup(0, 115200, 8, 0, 1, 1 ))&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:07:14</date>
  <millis>1478804834164</millis>
  <sequence>5766</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success.</message>
</record>
<record>
  <date>2016-11-11T03:07:14</date>
  <millis>1478804834217</millis>
  <sequence>5767</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:07:14</date>
  <millis>1478804834220</millis>
  <sequence>5768</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>231</thread>
  <message>
Communication with MCU established.</message>
</record>
<record>
  <date>2016-11-11T03:07:30</date>
  <millis>1478804850902</millis>
  <sequence>5769</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:node.restart()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:07:30</date>
  <millis>1478804850903</millis>
  <sequence>5770</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with saved baud 115200...</message>
</record>
<record>
  <date>2016-11-11T03:07:30</date>
  <millis>1478804850968</millis>
  <sequence>5771</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success. Now we waiting for ESP reboot...</message>
</record>
<record>
  <date>2016-11-11T03:07:32</date>
  <millis>1478804852970</millis>
  <sequence>5772</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with baud 115200...</message>
</record>
<record>
  <date>2016-11-11T03:07:32</date>
  <millis>1478804852971</millis>
  <sequence>5773</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:print(uart.setup(0, 115200, 8, 0, 1, 1 ))&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:07:33</date>
  <millis>1478804853234</millis>
  <sequence>5774</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success.</message>
</record>
<record>
  <date>2016-11-11T03:07:33</date>
  <millis>1478804853299</millis>
  <sequence>5775</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:07:33</date>
  <millis>1478804853302</millis>
  <sequence>5776</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>231</thread>
  <message>
Communication with MCU established.</message>
</record>
<record>
  <date>2016-11-11T03:07:33</date>
  <millis>1478804853305</millis>
  <sequence>5777</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>231</thread>
  <message>sending:=node.heap()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:07:33</date>
  <millis>1478804853724</millis>
  <sequence>5778</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to load file control.lua</message>
</record>
<record>
  <date>2016-11-11T03:07:33</date>
  <millis>1478804853747</millis>
  <sequence>5779</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Loading control.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T03:07:33</date>
  <millis>1478804853749</millis>
  <sequence>5780</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>File reload: Success.</message>
</record>
<record>
  <date>2016-11-11T03:07:34</date>
  <millis>1478804854499</millis>
  <sequence>5781</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>We save known file control.lua</message>
</record>
<record>
  <date>2016-11-11T03:07:34</date>
  <millis>1478804854499</millis>
  <sequence>5782</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to saving file control.lua ...</message>
</record>
<record>
  <date>2016-11-11T03:07:34</date>
  <millis>1478804854501</millis>
  <sequence>5783</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Save file control.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T03:07:34</date>
  <millis>1478804854506</millis>
  <sequence>5784</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP: Try to save file to ESP...</message>
</record>
<record>
  <date>2016-11-11T03:07:34</date>
  <millis>1478804854506</millis>
  <sequence>5785</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Try to save file to ESP in Turbo Mode...</message>
</record>
<record>
  <date>2016-11-11T03:07:34</date>
  <millis>1478804854515</millis>
  <sequence>5786</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>DataTurboSender: start "Smart Mode"</message>
</record>
<record>
  <date>2016-11-11T03:07:34</date>
  <millis>1478804854515</millis>
  <sequence>5787</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Starting...</message>
</record>
<record>
  <date>2016-11-11T03:07:34</date>
  <millis>1478804854646</millis>
  <sequence>5788</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local FILE="control.lua" file.remove(FILE) file.open(FILE,"w+") uart.setup(0,115200,8,0,1,0)</message>
</record>
<record>
  <date>2016-11-11T03:07:34</date>
  <millis>1478804854648</millis>
  <sequence>5789</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>232</thread>
  <message>recv:l</message>
</record>
<record>
  <date>2016-11-11T03:07:34</date>
  <millis>1478804854653</millis>
  <sequence>5790</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>232</thread>
  <message>recv:ocal FILE="control.lua" file.remove(FILE) file.o</message>
</record>
<record>
  <date>2016-11-11T03:07:34</date>
  <millis>1478804854656</millis>
  <sequence>5791</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>232</thread>
  <message>recv:pen</message>
</record>
<record>
  <date>2016-11-11T03:07:34</date>
  <millis>1478804854657</millis>
  <sequence>5792</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>232</thread>
  <message>recv:(FILE,"w+") </message>
</record>
<record>
  <date>2016-11-11T03:07:34</date>
  <millis>1478804854658</millis>
  <sequence>5793</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>232</thread>
  <message>recv:uart.set</message>
</record>
<record>
  <date>2016-11-11T03:07:34</date>
  <millis>1478804854659</millis>
  <sequence>5794</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>232</thread>
  <message>recv:up(0,115200,8</message>
</record>
<record>
  <date>2016-11-11T03:07:34</date>
  <millis>1478804854660</millis>
  <sequence>5795</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>232</thread>
  <message>recv:,0,1,0)&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:07:34</date>
  <millis>1478804854841</millis>
  <sequence>5796</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>232</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:07:34</date>
  <millis>1478804854862</millis>
  <sequence>5797</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_Receiver=function(rcvBuf) if string.match(rcvBuf,"^ESP_cmd_close")==nil then file.write(string.gsub(rcvBuf, '\r', '')) uart.write(0, "&gt; ") else uart.on("data") </message>
</record>
<record>
  <date>2016-11-11T03:07:34</date>
  <millis>1478804854888</millis>
  <sequence>5798</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>232</thread>
  <message>recv:&gt;</message>
</record>
<record>
  <date>2016-11-11T03:07:34</date>
  <millis>1478804854888</millis>
  <sequence>5799</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>232</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:07:34</date>
  <millis>1478804854909</millis>
  <sequence>5800</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:file.flush() file.close() FILE=nil rcvBuf=nil ESP_Receiver=nil uart.setup(0,115200,8,0,1,1) str="\r\n--Done--\r\n&gt; " print(str) str=nil collectgarbage() end end uart.on("data",'\r',ESP_Receiver,0)</message>
</record>
<record>
  <date>2016-11-11T03:07:34</date>
  <millis>1478804854947</millis>
  <sequence>5801</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>232</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:07:34</date>
  <millis>1478804854964</millis>
  <sequence>5802</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local M = {}

-- status pin = 0, alarm 1
-- relay pin = 6 and 7, alarm 2, 3

function M.status_LED(delay)
    gpio.mode(0, gpio.OUTPUT)
    status0 = 0
        
    tmr.alarm(1, delay, 1, function()
        if status0 == 0 then
            status0 = 1
  </message>
</record>
<record>
  <date>2016-11-11T03:07:34</date>
  <millis>1478804854993</millis>
  <sequence>5803</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>232</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:07:35</date>
  <millis>1478804855005</millis>
  <sequence>5804</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:          gpio.write(0, gpio.HIGH)
        else
            status0 = 0
            gpio.write(0, gpio.LOW)
        end 
    end)
      
end

-- One on/off relay
function M.relay_onoff()
    gpio.mode(6, gpio.OUTPUT)
    gpio.mode(7, gpio.OUTPUT)
    gpi</message>
</record>
<record>
  <date>2016-11-11T03:07:35</date>
  <millis>1478804855036</millis>
  <sequence>5805</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>232</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:07:35</date>
  <millis>1478804855050</millis>
  <sequence>5806</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:o.write(6, gpio.LOW)
    gpio.write(7, gpio.LOW)

    tmr.alarm(5, 1000, tmr.ALARM_AUTO, function()
        if gpio.read(6) == 0 then
            tmr.alarm(2, 500, tmr.ALARM_SINGLE, function() gpio.write(6, gpio.HIGH) end)
            tmr.alarm(3, 500, t</message>
</record>
<record>
  <date>2016-11-11T03:07:35</date>
  <millis>1478804855082</millis>
  <sequence>5807</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>232</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:07:35</date>
  <millis>1478804855096</millis>
  <sequence>5808</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:mr.ALARM_SINGLE, function() gpio.write(7, gpio.HIGH) end)
        else
            gpio.write(6, gpio.LOW)
            gpio.write(7, gpio.LOW) 
        end

    end)

    tmr.alarm(6,5000, 0, function() tmr.stop(5) end)
        
end

-- loop relay
functi</message>
</record>
<record>
  <date>2016-11-11T03:07:35</date>
  <millis>1478804855126</millis>
  <sequence>5809</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>232</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:07:35</date>
  <millis>1478804855139</millis>
  <sequence>5810</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:on M.relay_6(delay, mode)
    gpio.mode(6, gpio.OUTPUT)
    status1 = 0
        
    tmr.alarm(2, delay, mode, function()
        if status1 == 0 then
            status1 = 1
            gpio.write(6, gpio.HIGH)
        else
            status1 = 0
     </message>
</record>
<record>
  <date>2016-11-11T03:07:35</date>
  <millis>1478804855169</millis>
  <sequence>5811</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>232</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:07:35</date>
  <millis>1478804855187</millis>
  <sequence>5812</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:       gpio.write(6, gpio.LOW)
        end 
    end)
      
end


function M.relay_7(delay, mode)
    gpio.mode(7, gpio.OUTPUT)
    status2 = 0
        
    tmr.alarm(3, delay, mode, function()
        if status2 == 0 then
            status2 = 1
       </message>
</record>
<record>
  <date>2016-11-11T03:07:35</date>
  <millis>1478804855217</millis>
  <sequence>5813</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>232</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:07:35</date>
  <millis>1478804855235</millis>
  <sequence>5814</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:     gpio.write(7, gpio.HIGH)
        else
            status2 = 0
            gpio.write(7, gpio.LOW)
        end 
    end)
      
end
return M
</message>
</record>
<record>
  <date>2016-11-11T03:07:35</date>
  <millis>1478804855256</millis>
  <sequence>5815</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>232</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:07:35</date>
  <millis>1478804855274</millis>
  <sequence>5816</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_cmd_close</message>
</record>
<record>
  <date>2016-11-11T03:07:35</date>
  <millis>1478804855286</millis>
  <sequence>5817</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>232</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;-</message>
</record>
<record>
  <date>2016-11-11T03:07:35</date>
  <millis>1478804855287</millis>
  <sequence>5818</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>232</thread>
  <message>recv:-Done--&lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T03:07:35</date>
  <millis>1478804855291</millis>
  <sequence>5819</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>232</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:07:35</date>
  <millis>1478804855311</millis>
  <sequence>5820</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:07:35</date>
  <millis>1478804855312</millis>
  <sequence>5821</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>232</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:07:35</date>
  <millis>1478804855315</millis>
  <sequence>5822</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>232</thread>
  <message>recv:&gt; &lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T03:07:35</date>
  <millis>1478804855349</millis>
  <sequence>5823</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:dofile("control.lua")</message>
</record>
<record>
  <date>2016-11-11T03:07:35</date>
  <millis>1478804855351</millis>
  <sequence>5824</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>232</thread>
  <message>recv:do</message>
</record>
<record>
  <date>2016-11-11T03:07:35</date>
  <millis>1478804855354</millis>
  <sequence>5825</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>232</thread>
  <message>recv:file("control.lua")&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:07:35</date>
  <millis>1478804855417</millis>
  <sequence>5826</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>232</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:07:35</date>
  <millis>1478804855454</millis>
  <sequence>5827</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>232</thread>
  <message>Operation done. Duration = 947 ms</message>
</record>
<record>
  <date>2016-11-11T03:07:36</date>
  <millis>1478804856306</millis>
  <sequence>5828</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:node.restart()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:07:36</date>
  <millis>1478804856310</millis>
  <sequence>5829</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with saved baud 115200...</message>
</record>
<record>
  <date>2016-11-11T03:07:36</date>
  <millis>1478804856372</millis>
  <sequence>5830</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success. Now we waiting for ESP reboot...</message>
</record>
<record>
  <date>2016-11-11T03:07:38</date>
  <millis>1478804858375</millis>
  <sequence>5831</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with baud 115200...</message>
</record>
<record>
  <date>2016-11-11T03:07:38</date>
  <millis>1478804858376</millis>
  <sequence>5832</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:print(uart.setup(0, 115200, 8, 0, 1, 1 ))&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:07:38</date>
  <millis>1478804858639</millis>
  <sequence>5833</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success.</message>
</record>
<record>
  <date>2016-11-11T03:07:38</date>
  <millis>1478804858683</millis>
  <sequence>5834</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:07:38</date>
  <millis>1478804858687</millis>
  <sequence>5835</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>233</thread>
  <message>
Communication with MCU established.</message>
</record>
<record>
  <date>2016-11-11T03:08:13</date>
  <millis>1478804893325</millis>
  <sequence>5836</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to load file control.lua</message>
</record>
<record>
  <date>2016-11-11T03:08:13</date>
  <millis>1478804893338</millis>
  <sequence>5837</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Loading control.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T03:08:13</date>
  <millis>1478804893339</millis>
  <sequence>5838</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>File reload: Success.</message>
</record>
<record>
  <date>2016-11-11T03:08:14</date>
  <millis>1478804894609</millis>
  <sequence>5839</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>We save known file control.lua</message>
</record>
<record>
  <date>2016-11-11T03:08:14</date>
  <millis>1478804894609</millis>
  <sequence>5840</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to saving file control.lua ...</message>
</record>
<record>
  <date>2016-11-11T03:08:14</date>
  <millis>1478804894611</millis>
  <sequence>5841</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Save file control.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T03:08:14</date>
  <millis>1478804894616</millis>
  <sequence>5842</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP: Try to save file to ESP...</message>
</record>
<record>
  <date>2016-11-11T03:08:14</date>
  <millis>1478804894617</millis>
  <sequence>5843</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Try to save file to ESP in Turbo Mode...</message>
</record>
<record>
  <date>2016-11-11T03:08:14</date>
  <millis>1478804894624</millis>
  <sequence>5844</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>DataTurboSender: start "Smart Mode"</message>
</record>
<record>
  <date>2016-11-11T03:08:14</date>
  <millis>1478804894627</millis>
  <sequence>5845</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Starting...</message>
</record>
<record>
  <date>2016-11-11T03:08:14</date>
  <millis>1478804894754</millis>
  <sequence>5846</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local FILE="control.lua" file.remove(FILE) file.open(FILE,"w+") uart.setup(0,115200,8,0,1,0)</message>
</record>
<record>
  <date>2016-11-11T03:08:14</date>
  <millis>1478804894756</millis>
  <sequence>5847</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>234</thread>
  <message>recv:lo</message>
</record>
<record>
  <date>2016-11-11T03:08:14</date>
  <millis>1478804894758</millis>
  <sequence>5848</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>234</thread>
  <message>recv:cal FILE="control.lua" fil</message>
</record>
<record>
  <date>2016-11-11T03:08:14</date>
  <millis>1478804894758</millis>
  <sequence>5849</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>234</thread>
  <message>recv:e.remo</message>
</record>
<record>
  <date>2016-11-11T03:08:14</date>
  <millis>1478804894760</millis>
  <sequence>5850</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>234</thread>
  <message>recv:ve(FILE) file.open(</message>
</record>
<record>
  <date>2016-11-11T03:08:14</date>
  <millis>1478804894761</millis>
  <sequence>5851</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>234</thread>
  <message>recv:FILE,"w+") </message>
</record>
<record>
  <date>2016-11-11T03:08:14</date>
  <millis>1478804894762</millis>
  <sequence>5852</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>234</thread>
  <message>recv:uart.se</message>
</record>
<record>
  <date>2016-11-11T03:08:14</date>
  <millis>1478804894762</millis>
  <sequence>5853</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>234</thread>
  <message>recv:tup(0,115</message>
</record>
<record>
  <date>2016-11-11T03:08:14</date>
  <millis>1478804894763</millis>
  <sequence>5854</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>234</thread>
  <message>recv:200,8,0</message>
</record>
<record>
  <date>2016-11-11T03:08:14</date>
  <millis>1478804894764</millis>
  <sequence>5855</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>234</thread>
  <message>recv:,1,0)&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:08:14</date>
  <millis>1478804894951</millis>
  <sequence>5856</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>234</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:08:14</date>
  <millis>1478804894971</millis>
  <sequence>5857</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_Receiver=function(rcvBuf) if string.match(rcvBuf,"^ESP_cmd_close")==nil then file.write(string.gsub(rcvBuf, '\r', '')) uart.write(0, "&gt; ") else uart.on("data") </message>
</record>
<record>
  <date>2016-11-11T03:08:15</date>
  <millis>1478804895000</millis>
  <sequence>5858</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>234</thread>
  <message>recv:&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T03:08:15</date>
  <millis>1478804895020</millis>
  <sequence>5859</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:file.flush() file.close() FILE=nil rcvBuf=nil ESP_Receiver=nil uart.setup(0,115200,8,0,1,1) str="\r\n--Done--\r\n&gt; " print(str) str=nil collectgarbage() end end uart.on("data",'\r',ESP_Receiver,0)</message>
</record>
<record>
  <date>2016-11-11T03:08:15</date>
  <millis>1478804895059</millis>
  <sequence>5860</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>234</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:08:15</date>
  <millis>1478804895078</millis>
  <sequence>5861</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local M = {}

-- status pin = 0, alarm 1
-- relay pin = 6 and 7, alarm 2, 3

function M.status_LED(delay)
    gpio.mode(0, gpio.OUTPUT)
    status0 = 0
        
    tmr.alarm(1, delay, 1, function()
        if status0 == 0 then
            status0 = 1
  </message>
</record>
<record>
  <date>2016-11-11T03:08:15</date>
  <millis>1478804895108</millis>
  <sequence>5862</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>234</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:08:15</date>
  <millis>1478804895128</millis>
  <sequence>5863</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:          gpio.write(0, gpio.HIGH)
        else
            status0 = 0
            gpio.write(0, gpio.LOW)
        end 
    end)
      
end

-- One on/off relay
function M.relay_onoff()
    gpio.mode(6, gpio.OUTPUT)
    gpio.mode(7, gpio.OUTPUT)
    gpi</message>
</record>
<record>
  <date>2016-11-11T03:08:15</date>
  <millis>1478804895160</millis>
  <sequence>5864</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>234</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:08:15</date>
  <millis>1478804895175</millis>
  <sequence>5865</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:o.write(6, gpio.LOW)
    gpio.write(7, gpio.LOW)

    tmr.alarm(5, 1000, tmr.ALARM_AUTO, function()
        if gpio.read(6) == 0 then
            tmr.alarm(2, 500, tmr.ALARM_SINGLE, function() gpio.write(6, gpio.HIGH) end)
            tmr.alarm(3, 500, t</message>
</record>
<record>
  <date>2016-11-11T03:08:15</date>
  <millis>1478804895206</millis>
  <sequence>5866</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>234</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:08:15</date>
  <millis>1478804895223</millis>
  <sequence>5867</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:mr.ALARM_SINGLE, function() gpio.write(7, gpio.HIGH) end)
        else
            gpio.write(6, gpio.LOW)
            gpio.write(7, gpio.LOW) 
        end

    end)

    tmr.alarm(6,4000, 0, function() tmr.stop(5) end)
        
end

-- loop relay
functi</message>
</record>
<record>
  <date>2016-11-11T03:08:15</date>
  <millis>1478804895254</millis>
  <sequence>5868</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>234</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:08:15</date>
  <millis>1478804895270</millis>
  <sequence>5869</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:on M.relay_6(delay, mode)
    gpio.mode(6, gpio.OUTPUT)
    status1 = 0
        
    tmr.alarm(2, delay, mode, function()
        if status1 == 0 then
            status1 = 1
            gpio.write(6, gpio.HIGH)
        else
            status1 = 0
     </message>
</record>
<record>
  <date>2016-11-11T03:08:15</date>
  <millis>1478804895302</millis>
  <sequence>5870</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>234</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:08:15</date>
  <millis>1478804895320</millis>
  <sequence>5871</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:       gpio.write(6, gpio.LOW)
        end 
    end)
      
end


function M.relay_7(delay, mode)
    gpio.mode(7, gpio.OUTPUT)
    status2 = 0
        
    tmr.alarm(3, delay, mode, function()
        if status2 == 0 then
            status2 = 1
       </message>
</record>
<record>
  <date>2016-11-11T03:08:15</date>
  <millis>1478804895350</millis>
  <sequence>5872</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>234</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:08:15</date>
  <millis>1478804895363</millis>
  <sequence>5873</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:     gpio.write(7, gpio.HIGH)
        else
            status2 = 0
            gpio.write(7, gpio.LOW)
        end 
    end)
      
end
return M
</message>
</record>
<record>
  <date>2016-11-11T03:08:15</date>
  <millis>1478804895384</millis>
  <sequence>5874</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>234</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:08:15</date>
  <millis>1478804895407</millis>
  <sequence>5875</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_cmd_close</message>
</record>
<record>
  <date>2016-11-11T03:08:15</date>
  <millis>1478804895419</millis>
  <sequence>5876</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>234</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;-</message>
</record>
<record>
  <date>2016-11-11T03:08:15</date>
  <millis>1478804895421</millis>
  <sequence>5877</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>234</thread>
  <message>recv:-Done--&lt;CR&gt;&lt;LF&gt;&gt; &lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:08:15</date>
  <millis>1478804895448</millis>
  <sequence>5878</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:08:15</date>
  <millis>1478804895450</millis>
  <sequence>5879</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>234</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:08:15</date>
  <millis>1478804895451</millis>
  <sequence>5880</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>234</thread>
  <message>recv:&gt; &lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T03:08:15</date>
  <millis>1478804895487</millis>
  <sequence>5881</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:dofile("control.lua")</message>
</record>
<record>
  <date>2016-11-11T03:08:15</date>
  <millis>1478804895489</millis>
  <sequence>5882</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>234</thread>
  <message>recv:do</message>
</record>
<record>
  <date>2016-11-11T03:08:15</date>
  <millis>1478804895493</millis>
  <sequence>5883</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>234</thread>
  <message>recv:file("control.lua")&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:08:15</date>
  <millis>1478804895557</millis>
  <sequence>5884</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>234</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:08:15</date>
  <millis>1478804895617</millis>
  <sequence>5885</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>234</thread>
  <message>Operation done. Duration = 998 ms</message>
</record>
<record>
  <date>2016-11-11T03:08:16</date>
  <millis>1478804896509</millis>
  <sequence>5886</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:node.restart()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:08:16</date>
  <millis>1478804896513</millis>
  <sequence>5887</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with saved baud 115200...</message>
</record>
<record>
  <date>2016-11-11T03:08:16</date>
  <millis>1478804896574</millis>
  <sequence>5888</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success. Now we waiting for ESP reboot...</message>
</record>
<record>
  <date>2016-11-11T03:08:18</date>
  <millis>1478804898578</millis>
  <sequence>5889</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with baud 115200...</message>
</record>
<record>
  <date>2016-11-11T03:08:18</date>
  <millis>1478804898586</millis>
  <sequence>5890</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:print(uart.setup(0, 115200, 8, 0, 1, 1 ))&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:08:18</date>
  <millis>1478804898850</millis>
  <sequence>5891</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success.</message>
</record>
<record>
  <date>2016-11-11T03:08:18</date>
  <millis>1478804898895</millis>
  <sequence>5892</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:08:18</date>
  <millis>1478804898898</millis>
  <sequence>5893</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>235</thread>
  <message>
Communication with MCU established.</message>
</record>
<record>
  <date>2016-11-11T03:08:18</date>
  <millis>1478804898899</millis>
  <sequence>5894</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>235</thread>
  <message>sending:=node.heap()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:08:50</date>
  <millis>1478804930698</millis>
  <sequence>5895</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to load file control.lua</message>
</record>
<record>
  <date>2016-11-11T03:08:50</date>
  <millis>1478804930711</millis>
  <sequence>5896</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Loading control.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T03:08:50</date>
  <millis>1478804930711</millis>
  <sequence>5897</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>File reload: Success.</message>
</record>
<record>
  <date>2016-11-11T03:08:51</date>
  <millis>1478804931372</millis>
  <sequence>5898</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>We save known file control.lua</message>
</record>
<record>
  <date>2016-11-11T03:08:51</date>
  <millis>1478804931373</millis>
  <sequence>5899</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to saving file control.lua ...</message>
</record>
<record>
  <date>2016-11-11T03:08:51</date>
  <millis>1478804931375</millis>
  <sequence>5900</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Save file control.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T03:08:51</date>
  <millis>1478804931380</millis>
  <sequence>5901</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP: Try to save file to ESP...</message>
</record>
<record>
  <date>2016-11-11T03:08:51</date>
  <millis>1478804931381</millis>
  <sequence>5902</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Try to save file to ESP in Turbo Mode...</message>
</record>
<record>
  <date>2016-11-11T03:08:51</date>
  <millis>1478804931387</millis>
  <sequence>5903</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>DataTurboSender: start "Smart Mode"</message>
</record>
<record>
  <date>2016-11-11T03:08:51</date>
  <millis>1478804931389</millis>
  <sequence>5904</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Starting...</message>
</record>
<record>
  <date>2016-11-11T03:08:51</date>
  <millis>1478804931529</millis>
  <sequence>5905</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local FILE="control.lua" file.remove(FILE) file.open(FILE,"w+") uart.setup(0,115200,8,0,1,0)</message>
</record>
<record>
  <date>2016-11-11T03:08:51</date>
  <millis>1478804931531</millis>
  <sequence>5906</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>236</thread>
  <message>recv:loca</message>
</record>
<record>
  <date>2016-11-11T03:08:51</date>
  <millis>1478804931534</millis>
  <sequence>5907</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>236</thread>
  <message>recv:l FILE="control.lua" file.remove(FILE</message>
</record>
<record>
  <date>2016-11-11T03:08:51</date>
  <millis>1478804931535</millis>
  <sequence>5908</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>236</thread>
  <message>recv:) file.open(FILE,"</message>
</record>
<record>
  <date>2016-11-11T03:08:51</date>
  <millis>1478804931537</millis>
  <sequence>5909</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>236</thread>
  <message>recv:w+") uart.setup(0,115200,8</message>
</record>
<record>
  <date>2016-11-11T03:08:51</date>
  <millis>1478804931539</millis>
  <sequence>5910</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>236</thread>
  <message>recv:,0,1,0)&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:08:51</date>
  <millis>1478804931724</millis>
  <sequence>5911</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>236</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:08:51</date>
  <millis>1478804931743</millis>
  <sequence>5912</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_Receiver=function(rcvBuf) if string.match(rcvBuf,"^ESP_cmd_close")==nil then file.write(string.gsub(rcvBuf, '\r', '')) uart.write(0, "&gt; ") else uart.on("data") </message>
</record>
<record>
  <date>2016-11-11T03:08:51</date>
  <millis>1478804931770</millis>
  <sequence>5913</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>236</thread>
  <message>recv:&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T03:08:51</date>
  <millis>1478804931783</millis>
  <sequence>5914</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:file.flush() file.close() FILE=nil rcvBuf=nil ESP_Receiver=nil uart.setup(0,115200,8,0,1,1) str="\r\n--Done--\r\n&gt; " print(str) str=nil collectgarbage() end end uart.on("data",'\r',ESP_Receiver,0)</message>
</record>
<record>
  <date>2016-11-11T03:08:51</date>
  <millis>1478804931822</millis>
  <sequence>5915</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>236</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:08:51</date>
  <millis>1478804931836</millis>
  <sequence>5916</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local M = {}

-- status pin = 0, alarm 1
-- relay pin = 6 and 7, alarm 2, 3

function M.status_LED(delay)
    gpio.mode(0, gpio.OUTPUT)
    status0 = 0
        
    tmr.alarm(1, delay, 1, function()
        if status0 == 0 then
            status0 = 1
  </message>
</record>
<record>
  <date>2016-11-11T03:08:51</date>
  <millis>1478804931866</millis>
  <sequence>5917</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>236</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:08:51</date>
  <millis>1478804931879</millis>
  <sequence>5918</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:          gpio.write(0, gpio.HIGH)
        else
            status0 = 0
            gpio.write(0, gpio.LOW)
        end 
    end)
      
end

-- One on/off relay
function M.relay_onoff()
    gpio.mode(6, gpio.OUTPUT)
    gpio.mode(7, gpio.OUTPUT)
    gpi</message>
</record>
<record>
  <date>2016-11-11T03:08:51</date>
  <millis>1478804931910</millis>
  <sequence>5919</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>236</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:08:51</date>
  <millis>1478804931924</millis>
  <sequence>5920</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:o.write(6, gpio.LOW)
    gpio.write(7, gpio.LOW)

    tmr.alarm(5, 1000, tmr.ALARM_AUTO, function()
        if gpio.read(6) == 0 then
            gpio.write(6, gpio.HIGH)
            gpio.write(7, gpio.HIGH)
        else
            gpio.write(6, gpio.LO</message>
</record>
<record>
  <date>2016-11-11T03:08:51</date>
  <millis>1478804931958</millis>
  <sequence>5921</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>236</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:08:51</date>
  <millis>1478804931979</millis>
  <sequence>5922</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:W)
            gpio.write(7, gpio.LOW) 
        end

    end)

    tmr.alarm(6,4000, 0, function() tmr.stop(5) end)
        
end

-- loop relay
function M.relay_6(delay, mode)
    gpio.mode(6, gpio.OUTPUT)
    status1 = 0
        
    tmr.alarm(2, delay,</message>
</record>
<record>
  <date>2016-11-11T03:08:52</date>
  <millis>1478804932013</millis>
  <sequence>5923</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>236</thread>
  <message>recv:&gt;</message>
</record>
<record>
  <date>2016-11-11T03:08:52</date>
  <millis>1478804932014</millis>
  <sequence>5924</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>236</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T03:08:52</date>
  <millis>1478804932033</millis>
  <sequence>5925</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending: mode, function()
        if status1 == 0 then
            status1 = 1
            gpio.write(6, gpio.HIGH)
        else
            status1 = 0
            gpio.write(6, gpio.LOW)
        end 
    end)
      
end


function M.relay_7(delay, mode)
    gp</message>
</record>
<record>
  <date>2016-11-11T03:08:52</date>
  <millis>1478804932063</millis>
  <sequence>5926</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>236</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:08:52</date>
  <millis>1478804932081</millis>
  <sequence>5927</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:io.mode(7, gpio.OUTPUT)
    status2 = 0
        
    tmr.alarm(3, delay, mode, function()
        if status2 == 0 then
            status2 = 1
            gpio.write(7, gpio.HIGH)
        else
            status2 = 0
            gpio.write(7, gpio.LOW)
 </message>
</record>
<record>
  <date>2016-11-11T03:08:52</date>
  <millis>1478804932112</millis>
  <sequence>5928</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>236</thread>
  <message>recv:&gt;</message>
</record>
<record>
  <date>2016-11-11T03:08:52</date>
  <millis>1478804932113</millis>
  <sequence>5929</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>236</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T03:08:52</date>
  <millis>1478804932133</millis>
  <sequence>5930</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:       end 
    end)
      
end
return M
</message>
</record>
<record>
  <date>2016-11-11T03:08:52</date>
  <millis>1478804932146</millis>
  <sequence>5931</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>236</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:08:52</date>
  <millis>1478804932163</millis>
  <sequence>5932</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_cmd_close</message>
</record>
<record>
  <date>2016-11-11T03:08:52</date>
  <millis>1478804932175</millis>
  <sequence>5933</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>236</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;-</message>
</record>
<record>
  <date>2016-11-11T03:08:52</date>
  <millis>1478804932177</millis>
  <sequence>5934</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>236</thread>
  <message>recv:-Done--&lt;CR&gt;&lt;LF&gt;&gt; &lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:08:52</date>
  <millis>1478804932202</millis>
  <sequence>5935</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:08:52</date>
  <millis>1478804932203</millis>
  <sequence>5936</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>236</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:08:52</date>
  <millis>1478804932204</millis>
  <sequence>5937</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>236</thread>
  <message>recv:&gt; &lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T03:08:52</date>
  <millis>1478804932234</millis>
  <sequence>5938</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:dofile("control.lua")</message>
</record>
<record>
  <date>2016-11-11T03:08:52</date>
  <millis>1478804932235</millis>
  <sequence>5939</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>236</thread>
  <message>recv:do</message>
</record>
<record>
  <date>2016-11-11T03:08:52</date>
  <millis>1478804932237</millis>
  <sequence>5940</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>236</thread>
  <message>recv:file("control.lua")</message>
</record>
<record>
  <date>2016-11-11T03:08:52</date>
  <millis>1478804932238</millis>
  <sequence>5941</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>236</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:08:52</date>
  <millis>1478804932298</millis>
  <sequence>5942</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>236</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:08:52</date>
  <millis>1478804932347</millis>
  <sequence>5943</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>236</thread>
  <message>Operation done. Duration = 966 ms</message>
</record>
<record>
  <date>2016-11-11T03:08:52</date>
  <millis>1478804932829</millis>
  <sequence>5944</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:node.restart()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:08:52</date>
  <millis>1478804932831</millis>
  <sequence>5945</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with saved baud 115200...</message>
</record>
<record>
  <date>2016-11-11T03:08:52</date>
  <millis>1478804932892</millis>
  <sequence>5946</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success. Now we waiting for ESP reboot...</message>
</record>
<record>
  <date>2016-11-11T03:08:54</date>
  <millis>1478804934895</millis>
  <sequence>5947</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with baud 115200...</message>
</record>
<record>
  <date>2016-11-11T03:08:54</date>
  <millis>1478804934896</millis>
  <sequence>5948</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:print(uart.setup(0, 115200, 8, 0, 1, 1 ))&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:08:55</date>
  <millis>1478804935160</millis>
  <sequence>5949</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success.</message>
</record>
<record>
  <date>2016-11-11T03:08:55</date>
  <millis>1478804935202</millis>
  <sequence>5950</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:08:55</date>
  <millis>1478804935204</millis>
  <sequence>5951</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>237</thread>
  <message>
Communication with MCU established.</message>
</record>
<record>
  <date>2016-11-11T03:13:55</date>
  <millis>1478805235027</millis>
  <sequence>5952</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:=node.chipid()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:14:13</date>
  <millis>1478805253457</millis>
  <sequence>5953</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:=node.flashid()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:14:15</date>
  <millis>1478805255103</millis>
  <sequence>5954</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:=node.info()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:19:32</date>
  <millis>1478805572148</millis>
  <sequence>5955</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to open file mqtt_config.lua</message>
</record>
<record>
  <date>2016-11-11T03:19:32</date>
  <millis>1478805572149</millis>
  <sequence>5956</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>File name: C:\Users\hechao\Dropbox\ED_work\6-Project\ESP\ESP Relay Board\R1\mqtt_config.lua</message>
</record>
<record>
  <date>2016-11-11T03:19:32</date>
  <millis>1478805572151</millis>
  <sequence>5957</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to load file mqtt_config.lua</message>
</record>
<record>
  <date>2016-11-11T03:19:32</date>
  <millis>1478805572218</millis>
  <sequence>5958</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Loading mqtt_config.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T03:19:32</date>
  <millis>1478805572219</millis>
  <sequence>5959</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Open "mqtt_config.lua": Success.</message>
</record>
<record>
  <date>2016-11-11T03:19:33</date>
  <millis>1478805573299</millis>
  <sequence>5960</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>We save known file mqtt_config.lua</message>
</record>
<record>
  <date>2016-11-11T03:19:33</date>
  <millis>1478805573301</millis>
  <sequence>5961</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to saving file mqtt_config.lua ...</message>
</record>
<record>
  <date>2016-11-11T03:19:33</date>
  <millis>1478805573303</millis>
  <sequence>5962</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Save file mqtt_config.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T03:19:33</date>
  <millis>1478805573308</millis>
  <sequence>5963</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP: Try to save file to ESP...</message>
</record>
<record>
  <date>2016-11-11T03:19:33</date>
  <millis>1478805573309</millis>
  <sequence>5964</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Try to save file to ESP in Turbo Mode...</message>
</record>
<record>
  <date>2016-11-11T03:19:33</date>
  <millis>1478805573316</millis>
  <sequence>5965</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>DataTurboSender: start "Smart Mode"</message>
</record>
<record>
  <date>2016-11-11T03:19:33</date>
  <millis>1478805573319</millis>
  <sequence>5966</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Starting...</message>
</record>
<record>
  <date>2016-11-11T03:19:33</date>
  <millis>1478805573445</millis>
  <sequence>5967</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local FILE="mqtt_config.lua" file.remove(FILE) file.open(FILE,"w+") uart.setup(0,115200,8,0,1,0)</message>
</record>
<record>
  <date>2016-11-11T03:19:33</date>
  <millis>1478805573447</millis>
  <sequence>5968</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>240</thread>
  <message>recv:loc</message>
</record>
<record>
  <date>2016-11-11T03:19:33</date>
  <millis>1478805573448</millis>
  <sequence>5969</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>240</thread>
  <message>recv:al FILE="mqtt_conf</message>
</record>
<record>
  <date>2016-11-11T03:19:33</date>
  <millis>1478805573452</millis>
  <sequence>5970</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>240</thread>
  <message>recv:ig.lua" file.remove(FILE) file.open(FILE,"w+"</message>
</record>
<record>
  <date>2016-11-11T03:19:33</date>
  <millis>1478805573457</millis>
  <sequence>5971</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>240</thread>
  <message>recv:) uart.setup(0,115200,8,0,1,0)&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:19:33</date>
  <millis>1478805573733</millis>
  <sequence>5972</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>240</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:19:33</date>
  <millis>1478805573738</millis>
  <sequence>5973</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>240</thread>
  <message>recv:  Conf</message>
</record>
<record>
  <date>2016-11-11T03:19:33</date>
  <millis>1478805573741</millis>
  <sequence>5974</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>240</thread>
  <message>recv:ig file NOT exists, starting smartcon</message>
</record>
<record>
  <date>2016-11-11T03:19:33</date>
  <millis>1478805573743</millis>
  <sequence>5975</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>240</thread>
  <message>recv:fig..&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:19:33</date>
  <millis>1478805573757</millis>
  <sequence>5976</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_Receiver=function(rcvBuf) if string.match(rcvBuf,"^ESP_cmd_close")==nil then file.write(string.gsub(rcvBuf, '\r', '')) uart.write(0, "&gt; ") else uart.on("data") </message>
</record>
<record>
  <date>2016-11-11T03:19:33</date>
  <millis>1478805573784</millis>
  <sequence>5977</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>240</thread>
  <message>recv:&gt;&gt;</message>
</record>
<record>
  <date>2016-11-11T03:19:33</date>
  <millis>1478805573786</millis>
  <sequence>5978</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>240</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T03:19:33</date>
  <millis>1478805573809</millis>
  <sequence>5979</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:file.flush() file.close() FILE=nil rcvBuf=nil ESP_Receiver=nil uart.setup(0,115200,8,0,1,1) str="\r\n--Done--\r\n&gt; " print(str) str=nil collectgarbage() end end uart.on("data",'\r',ESP_Receiver,0)</message>
</record>
<record>
  <date>2016-11-11T03:19:33</date>
  <millis>1478805573848</millis>
  <sequence>5980</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>240</thread>
  <message>recv:&gt;</message>
</record>
<record>
  <date>2016-11-11T03:19:33</date>
  <millis>1478805573850</millis>
  <sequence>5981</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>240</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T03:19:33</date>
  <millis>1478805573868</millis>
  <sequence>5982</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local M = {}

--M.SSID = {}

--M.SSID["myWifi"] = "12345679ABCDEF"

M.HOST = "m11.cloudmqtt.com"  
M.PORT = 19311  
M.MQTTUSER = "swqzxzhr"
M.MQTTPASS = "9JMcxVeUNz3t"

M.ENDPOINT = "nodemcu/"  

return M  
</message>
</record>
<record>
  <date>2016-11-11T03:19:33</date>
  <millis>1478805573893</millis>
  <sequence>5983</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>240</thread>
  <message>recv:&gt;</message>
</record>
<record>
  <date>2016-11-11T03:19:33</date>
  <millis>1478805573895</millis>
  <sequence>5984</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>240</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T03:19:33</date>
  <millis>1478805573912</millis>
  <sequence>5985</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_cmd_close</message>
</record>
<record>
  <date>2016-11-11T03:19:33</date>
  <millis>1478805573926</millis>
  <sequence>5986</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>240</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;--</message>
</record>
<record>
  <date>2016-11-11T03:19:33</date>
  <millis>1478805573927</millis>
  <sequence>5987</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>240</thread>
  <message>recv:Done--&lt;CR&gt;&lt;LF&gt;&gt; &lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:19:33</date>
  <millis>1478805573951</millis>
  <sequence>5988</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:19:33</date>
  <millis>1478805573954</millis>
  <sequence>5989</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>240</thread>
  <message>recv:&lt;CR&gt;</message>
</record>
<record>
  <date>2016-11-11T03:19:33</date>
  <millis>1478805573956</millis>
  <sequence>5990</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>240</thread>
  <message>recv:&lt;LF&gt;&gt; &lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T03:19:33</date>
  <millis>1478805573990</millis>
  <sequence>5991</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:dofile("mqtt_config.lua")</message>
</record>
<record>
  <date>2016-11-11T03:19:33</date>
  <millis>1478805573991</millis>
  <sequence>5992</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>240</thread>
  <message>recv:do</message>
</record>
<record>
  <date>2016-11-11T03:19:33</date>
  <millis>1478805573993</millis>
  <sequence>5993</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>240</thread>
  <message>recv:file("mqtt_conf</message>
</record>
<record>
  <date>2016-11-11T03:19:33</date>
  <millis>1478805573994</millis>
  <sequence>5994</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>240</thread>
  <message>recv:ig.lua")&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:19:34</date>
  <millis>1478805574015</millis>
  <sequence>5995</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>240</thread>
  <message>recv:&gt;</message>
</record>
<record>
  <date>2016-11-11T03:19:34</date>
  <millis>1478805574017</millis>
  <sequence>5996</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>240</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T03:19:34</date>
  <millis>1478805574071</millis>
  <sequence>5997</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>240</thread>
  <message>Operation done. Duration = 761 ms</message>
</record>
<record>
  <date>2016-11-11T03:19:37</date>
  <millis>1478805577819</millis>
  <sequence>5998</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>File reload: File changed. Ask before reloading.</message>
</record>
<record>
  <date>2016-11-11T03:19:39</date>
  <millis>1478805579891</millis>
  <sequence>5999</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>File reload: Reload anyway by user choice.</message>
</record>
<record>
  <date>2016-11-11T03:19:39</date>
  <millis>1478805579892</millis>
  <sequence>6000</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to load file init.lua</message>
</record>
<record>
  <date>2016-11-11T03:19:39</date>
  <millis>1478805579907</millis>
  <sequence>6001</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Loading init.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T03:19:39</date>
  <millis>1478805579908</millis>
  <sequence>6002</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>File reload: Success.</message>
</record>
<record>
  <date>2016-11-11T03:19:40</date>
  <millis>1478805580765</millis>
  <sequence>6003</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>We save known file init.lua</message>
</record>
<record>
  <date>2016-11-11T03:19:40</date>
  <millis>1478805580765</millis>
  <sequence>6004</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to saving file init.lua ...</message>
</record>
<record>
  <date>2016-11-11T03:19:40</date>
  <millis>1478805580767</millis>
  <sequence>6005</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Save file init.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T03:19:40</date>
  <millis>1478805580773</millis>
  <sequence>6006</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP: Try to save file to ESP...</message>
</record>
<record>
  <date>2016-11-11T03:19:40</date>
  <millis>1478805580774</millis>
  <sequence>6007</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Try to save file to ESP in Turbo Mode...</message>
</record>
<record>
  <date>2016-11-11T03:19:40</date>
  <millis>1478805580780</millis>
  <sequence>6008</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>DataTurboSender: start "Smart Mode"</message>
</record>
<record>
  <date>2016-11-11T03:19:40</date>
  <millis>1478805580782</millis>
  <sequence>6009</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Starting...</message>
</record>
<record>
  <date>2016-11-11T03:19:40</date>
  <millis>1478805580917</millis>
  <sequence>6010</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local FILE="init.lua" file.remove(FILE) file.open(FILE,"w+") uart.setup(0,115200,8,0,1,0)</message>
</record>
<record>
  <date>2016-11-11T03:19:40</date>
  <millis>1478805580919</millis>
  <sequence>6011</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>242</thread>
  <message>recv:local</message>
</record>
<record>
  <date>2016-11-11T03:19:40</date>
  <millis>1478805580924</millis>
  <sequence>6012</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>242</thread>
  <message>recv: FILE="init.lua" file.remove(FILE) file.open(FILE,"w+") uart.</message>
</record>
<record>
  <date>2016-11-11T03:19:40</date>
  <millis>1478805580926</millis>
  <sequence>6013</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>242</thread>
  <message>recv:setup(0,115200,8,</message>
</record>
<record>
  <date>2016-11-11T03:19:40</date>
  <millis>1478805580927</millis>
  <sequence>6014</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>242</thread>
  <message>recv:0,1,0)&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:19:41</date>
  <millis>1478805581198</millis>
  <sequence>6015</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>242</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:19:41</date>
  <millis>1478805581225</millis>
  <sequence>6016</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_Receiver=function(rcvBuf) if string.match(rcvBuf,"^ESP_cmd_close")==nil then file.write(string.gsub(rcvBuf, '\r', '')) uart.write(0, "&gt; ") else uart.on("data") </message>
</record>
<record>
  <date>2016-11-11T03:19:41</date>
  <millis>1478805581253</millis>
  <sequence>6017</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>242</thread>
  <message>recv:&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T03:19:41</date>
  <millis>1478805581265</millis>
  <sequence>6018</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:file.flush() file.close() FILE=nil rcvBuf=nil ESP_Receiver=nil uart.setup(0,115200,8,0,1,1) str="\r\n--Done--\r\n&gt; " print(str) str=nil collectgarbage() end end uart.on("data",'\r',ESP_Receiver,0)</message>
</record>
<record>
  <date>2016-11-11T03:19:41</date>
  <millis>1478805581304</millis>
  <sequence>6019</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>242</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:19:41</date>
  <millis>1478805581325</millis>
  <sequence>6020</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:misc = require "misc"
control = require "control"
mqtt_conf = require "mqtt_config"

print mqtt_conf.MQTTUSER
-- timer 1 = status, 2,3 = relay 

files = file.list()  -- Lists all files in the file system.

misc.button_press()  -- button press interrupt i</message>
</record>
<record>
  <date>2016-11-11T03:19:41</date>
  <millis>1478805581355</millis>
  <sequence>6021</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>242</thread>
  <message>recv:&gt;</message>
</record>
<record>
  <date>2016-11-11T03:19:41</date>
  <millis>1478805581356</millis>
  <sequence>6022</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>242</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T03:19:41</date>
  <millis>1478805581374</millis>
  <sequence>6023</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:o3
--misc.button_rst()

control.status_LED(300) -- blink status LED

wifi.setmode(wifi.STATION)
wifi.sta.autoconnect(0) -- auto connect

if files["config.txt"] then
    misc.con_read()
    --tmr.delay(1000000)
    print(" Config exist, user&gt;".. user .. "</message>
</record>
<record>
  <date>2016-11-11T03:19:41</date>
  <millis>1478805581405</millis>
  <sequence>6024</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>242</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:19:41</date>
  <millis>1478805581424</millis>
  <sequence>6025</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:, pass&gt;" .. password .. ", now set station mode and connect")
    
    wifi.sta.config(user, password)
    wifi.sta.connect()
    
    tmr.alarm(4, 5000, 1, function() 
        if wifi.sta.getip()== nil then
            print("IP unavailable.. if info co</message>
</record>
<record>
  <date>2016-11-11T03:19:41</date>
  <millis>1478805581456</millis>
  <sequence>6026</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>242</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:19:41</date>
  <millis>1478805581469</millis>
  <sequence>6027</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:rrect then wait, else reconfig by press BTN1 to clean")
        else
            print("connected.. IP is: " .. wifi.sta.getip())
            tmr.stop(4)
            dofile("mqtt.lua")
        end
    end)
    
else
    control.relay_onoff() -- for test
</message>
</record>
<record>
  <date>2016-11-11T03:19:41</date>
  <millis>1478805581501</millis>
  <sequence>6028</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>242</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:19:41</date>
  <millis>1478805581519</millis>
  <sequence>6029</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:
    tmr.alarm(4, 5000, 1, function() 
        if wifi.sta.getip()== nil then
            print("  Config file NOT exists, starting smartconfig..")
            wifi.startsmart(0,
            function(ssid, password)
            print(string.format("Succe</message>
</record>
<record>
  <date>2016-11-11T03:19:41</date>
  <millis>1478805581551</millis>
  <sequence>6030</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>242</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:19:41</date>
  <millis>1478805581568</millis>
  <sequence>6031</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ss. SSID: %s ; PASSWORD: %s", ssid, password)) 
            misc.con_write(ssid, password)
            end)
        else 
            tmr.stop(1)

            tmr.stop(4)
            print("Config done, IP is "..wifi.sta.getip())
            wifi.stopsma</message>
</record>
<record>
  <date>2016-11-11T03:19:41</date>
  <millis>1478805581600</millis>
  <sequence>6032</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>242</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:19:41</date>
  <millis>1478805581612</millis>
  <sequence>6033</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:rt()

            --misc.con_read()
            --print (user .. password)
            dofile("mqtt.lua")
        end
    end)
        

end
</message>
</record>
<record>
  <date>2016-11-11T03:19:41</date>
  <millis>1478805581633</millis>
  <sequence>6034</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>242</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:19:41</date>
  <millis>1478805581647</millis>
  <sequence>6035</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_cmd_close</message>
</record>
<record>
  <date>2016-11-11T03:19:41</date>
  <millis>1478805581660</millis>
  <sequence>6036</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>242</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;-</message>
</record>
<record>
  <date>2016-11-11T03:19:41</date>
  <millis>1478805581661</millis>
  <sequence>6037</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>242</thread>
  <message>recv:-Done--&lt;CR&gt;&lt;LF&gt;&gt; &lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:19:41</date>
  <millis>1478805581683</millis>
  <sequence>6038</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:19:41</date>
  <millis>1478805581685</millis>
  <sequence>6039</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>242</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:19:41</date>
  <millis>1478805581688</millis>
  <sequence>6040</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>242</thread>
  <message>recv:&gt; &lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T03:19:41</date>
  <millis>1478805581723</millis>
  <sequence>6041</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:dofile("init.lua")</message>
</record>
<record>
  <date>2016-11-11T03:19:41</date>
  <millis>1478805581727</millis>
  <sequence>6042</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>242</thread>
  <message>recv:do</message>
</record>
<record>
  <date>2016-11-11T03:19:41</date>
  <millis>1478805581729</millis>
  <sequence>6043</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>242</thread>
  <message>recv:file("init.lua")&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:19:41</date>
  <millis>1478805581769</millis>
  <sequence>6044</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>242</thread>
  <message>recv:init</message>
</record>
<record>
  <date>2016-11-11T03:19:41</date>
  <millis>1478805581771</millis>
  <sequence>6045</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>242</thread>
  <message>recv:.lua:5: '=' expected near </message>
</record>
<record>
  <date>2016-11-11T03:19:41</date>
  <millis>1478805581772</millis>
  <sequence>6046</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>242</thread>
  <message>recv:'mqtt_conf'&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:19:41</date>
  <millis>1478805581775</millis>
  <sequence>6047</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>242</thread>
  <message>recv:stack traceback:&lt;CR&gt;&lt;LF&gt;	[C]: in </message>
</record>
<record>
  <date>2016-11-11T03:19:41</date>
  <millis>1478805581778</millis>
  <sequence>6048</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>242</thread>
  <message>recv:function 'dofile'&lt;CR&gt;&lt;LF&gt;	stdin:1: in main ch</message>
</record>
<record>
  <date>2016-11-11T03:19:41</date>
  <millis>1478805581780</millis>
  <sequence>6049</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>242</thread>
  <message>recv:unk&lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T03:19:41</date>
  <millis>1478805581835</millis>
  <sequence>6050</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>242</thread>
  <message>Operation done. Duration = 1061 ms</message>
</record>
<record>
  <date>2016-11-11T03:19:59</date>
  <millis>1478805599300</millis>
  <sequence>6051</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to load file init.lua</message>
</record>
<record>
  <date>2016-11-11T03:19:59</date>
  <millis>1478805599311</millis>
  <sequence>6052</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Loading init.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T03:19:59</date>
  <millis>1478805599312</millis>
  <sequence>6053</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>File reload: Success.</message>
</record>
<record>
  <date>2016-11-11T03:20:00</date>
  <millis>1478805600003</millis>
  <sequence>6054</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>We save known file init.lua</message>
</record>
<record>
  <date>2016-11-11T03:20:00</date>
  <millis>1478805600005</millis>
  <sequence>6055</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to saving file init.lua ...</message>
</record>
<record>
  <date>2016-11-11T03:20:00</date>
  <millis>1478805600006</millis>
  <sequence>6056</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Save file init.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T03:20:00</date>
  <millis>1478805600012</millis>
  <sequence>6057</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP: Try to save file to ESP...</message>
</record>
<record>
  <date>2016-11-11T03:20:00</date>
  <millis>1478805600012</millis>
  <sequence>6058</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Try to save file to ESP in Turbo Mode...</message>
</record>
<record>
  <date>2016-11-11T03:20:00</date>
  <millis>1478805600020</millis>
  <sequence>6059</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>DataTurboSender: start "Smart Mode"</message>
</record>
<record>
  <date>2016-11-11T03:20:00</date>
  <millis>1478805600022</millis>
  <sequence>6060</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Starting...</message>
</record>
<record>
  <date>2016-11-11T03:20:00</date>
  <millis>1478805600159</millis>
  <sequence>6061</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local FILE="init.lua" file.remove(FILE) file.open(FILE,"w+") uart.setup(0,115200,8,0,1,0)</message>
</record>
<record>
  <date>2016-11-11T03:20:00</date>
  <millis>1478805600161</millis>
  <sequence>6062</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>244</thread>
  <message>recv:lo</message>
</record>
<record>
  <date>2016-11-11T03:20:00</date>
  <millis>1478805600162</millis>
  <sequence>6063</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>244</thread>
  <message>recv:cal FILE="init.</message>
</record>
<record>
  <date>2016-11-11T03:20:00</date>
  <millis>1478805600163</millis>
  <sequence>6064</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>244</thread>
  <message>recv:lua" file.remov</message>
</record>
<record>
  <date>2016-11-11T03:20:00</date>
  <millis>1478805600164</millis>
  <sequence>6065</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>244</thread>
  <message>recv:e(FILE) file.op</message>
</record>
<record>
  <date>2016-11-11T03:20:00</date>
  <millis>1478805600165</millis>
  <sequence>6066</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>244</thread>
  <message>recv:en(FILE,"w+"</message>
</record>
<record>
  <date>2016-11-11T03:20:00</date>
  <millis>1478805600166</millis>
  <sequence>6067</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>244</thread>
  <message>recv:) uart.setup</message>
</record>
<record>
  <date>2016-11-11T03:20:00</date>
  <millis>1478805600168</millis>
  <sequence>6068</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>244</thread>
  <message>recv:(0,115200,8,0,1</message>
</record>
<record>
  <date>2016-11-11T03:20:00</date>
  <millis>1478805600169</millis>
  <sequence>6069</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>244</thread>
  <message>recv:,0)&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:20:00</date>
  <millis>1478805600349</millis>
  <sequence>6070</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>244</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:20:00</date>
  <millis>1478805600380</millis>
  <sequence>6071</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_Receiver=function(rcvBuf) if string.match(rcvBuf,"^ESP_cmd_close")==nil then file.write(string.gsub(rcvBuf, '\r', '')) uart.write(0, "&gt; ") else uart.on("data") </message>
</record>
<record>
  <date>2016-11-11T03:20:00</date>
  <millis>1478805600408</millis>
  <sequence>6072</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>244</thread>
  <message>recv:&gt;</message>
</record>
<record>
  <date>2016-11-11T03:20:00</date>
  <millis>1478805600410</millis>
  <sequence>6073</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>244</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:20:00</date>
  <millis>1478805600427</millis>
  <sequence>6074</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:file.flush() file.close() FILE=nil rcvBuf=nil ESP_Receiver=nil uart.setup(0,115200,8,0,1,1) str="\r\n--Done--\r\n&gt; " print(str) str=nil collectgarbage() end end uart.on("data",'\r',ESP_Receiver,0)</message>
</record>
<record>
  <date>2016-11-11T03:20:00</date>
  <millis>1478805600466</millis>
  <sequence>6075</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>244</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:20:00</date>
  <millis>1478805600479</millis>
  <sequence>6076</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:misc = require "misc"
control = require "control"
mqtt_conf = require "mqtt_config"

print (mqtt_conf.MQTTUSER)
-- timer 1 = status, 2,3 = relay 

files = file.list()  -- Lists all files in the file system.

misc.button_press()  -- button press interrupt</message>
</record>
<record>
  <date>2016-11-11T03:20:00</date>
  <millis>1478805600508</millis>
  <sequence>6077</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>244</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:20:00</date>
  <millis>1478805600529</millis>
  <sequence>6078</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending: io3
--misc.button_rst()

control.status_LED(300) -- blink status LED

wifi.setmode(wifi.STATION)
wifi.sta.autoconnect(0) -- auto connect

if files["config.txt"] then
    misc.con_read()
    --tmr.delay(1000000)
    print(" Config exist, user&gt;".. user ..</message>
</record>
<record>
  <date>2016-11-11T03:20:00</date>
  <millis>1478805600560</millis>
  <sequence>6079</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>244</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:20:00</date>
  <millis>1478805600573</millis>
  <sequence>6080</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending: ", pass&gt;" .. password .. ", now set station mode and connect")
    
    wifi.sta.config(user, password)
    wifi.sta.connect()
    
    tmr.alarm(4, 5000, 1, function() 
        if wifi.sta.getip()== nil then
            print("IP unavailable.. if info </message>
</record>
<record>
  <date>2016-11-11T03:20:00</date>
  <millis>1478805600606</millis>
  <sequence>6081</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>244</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:20:00</date>
  <millis>1478805600624</millis>
  <sequence>6082</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:correct then wait, else reconfig by press BTN1 to clean")
        else
            print("connected.. IP is: " .. wifi.sta.getip())
            tmr.stop(4)
            dofile("mqtt.lua")
        end
    end)
    
else
    control.relay_onoff() -- for tes</message>
</record>
<record>
  <date>2016-11-11T03:20:00</date>
  <millis>1478805600655</millis>
  <sequence>6083</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>244</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:20:00</date>
  <millis>1478805600671</millis>
  <sequence>6084</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:t

    tmr.alarm(4, 5000, 1, function() 
        if wifi.sta.getip()== nil then
            print("  Config file NOT exists, starting smartconfig..")
            wifi.startsmart(0,
            function(ssid, password)
            print(string.format("Suc</message>
</record>
<record>
  <date>2016-11-11T03:20:00</date>
  <millis>1478805600703</millis>
  <sequence>6085</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>244</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:20:00</date>
  <millis>1478805600715</millis>
  <sequence>6086</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:cess. SSID: %s ; PASSWORD: %s", ssid, password)) 
            misc.con_write(ssid, password)
            end)
        else 
            tmr.stop(1)

            tmr.stop(4)
            print("Config done, IP is "..wifi.sta.getip())
            wifi.stops</message>
</record>
<record>
  <date>2016-11-11T03:20:00</date>
  <millis>1478805600746</millis>
  <sequence>6087</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>244</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:20:00</date>
  <millis>1478805600760</millis>
  <sequence>6088</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:mart()

            --misc.con_read()
            --print (user .. password)
            dofile("mqtt.lua")
        end
    end)
        

end
</message>
</record>
<record>
  <date>2016-11-11T03:20:00</date>
  <millis>1478805600781</millis>
  <sequence>6089</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>244</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:20:00</date>
  <millis>1478805600794</millis>
  <sequence>6090</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_cmd_close</message>
</record>
<record>
  <date>2016-11-11T03:20:00</date>
  <millis>1478805600806</millis>
  <sequence>6091</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>244</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;-</message>
</record>
<record>
  <date>2016-11-11T03:20:00</date>
  <millis>1478805600808</millis>
  <sequence>6092</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>244</thread>
  <message>recv:-Done--&lt;CR&gt;&lt;LF&gt;&gt; &lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:20:00</date>
  <millis>1478805600836</millis>
  <sequence>6093</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:20:00</date>
  <millis>1478805600838</millis>
  <sequence>6094</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>244</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:20:00</date>
  <millis>1478805600839</millis>
  <sequence>6095</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>244</thread>
  <message>recv:&gt; &lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T03:20:00</date>
  <millis>1478805600869</millis>
  <sequence>6096</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:dofile("init.lua")</message>
</record>
<record>
  <date>2016-11-11T03:20:00</date>
  <millis>1478805600871</millis>
  <sequence>6097</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>244</thread>
  <message>recv:d</message>
</record>
<record>
  <date>2016-11-11T03:20:00</date>
  <millis>1478805600873</millis>
  <sequence>6098</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>244</thread>
  <message>recv:ofile("init.lua")&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:20:01</date>
  <millis>1478805601124</millis>
  <sequence>6099</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>244</thread>
  <message>recv:swqzx</message>
</record>
<record>
  <date>2016-11-11T03:20:01</date>
  <millis>1478805601125</millis>
  <sequence>6100</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>244</thread>
  <message>recv:zhr&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:20:01</date>
  <millis>1478805601221</millis>
  <sequence>6101</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>244</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:20:01</date>
  <millis>1478805601274</millis>
  <sequence>6102</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>244</thread>
  <message>Operation done. Duration = 1261 ms</message>
</record>
<record>
  <date>2016-11-11T03:22:33</date>
  <millis>1478805753190</millis>
  <sequence>6103</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to load file init.lua</message>
</record>
<record>
  <date>2016-11-11T03:22:33</date>
  <millis>1478805753203</millis>
  <sequence>6104</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Loading init.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T03:22:33</date>
  <millis>1478805753204</millis>
  <sequence>6105</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>File reload: Success.</message>
</record>
<record>
  <date>2016-11-11T03:22:34</date>
  <millis>1478805754017</millis>
  <sequence>6106</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>We save known file init.lua</message>
</record>
<record>
  <date>2016-11-11T03:22:34</date>
  <millis>1478805754018</millis>
  <sequence>6107</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to saving file init.lua ...</message>
</record>
<record>
  <date>2016-11-11T03:22:34</date>
  <millis>1478805754020</millis>
  <sequence>6108</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Save file init.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T03:22:34</date>
  <millis>1478805754025</millis>
  <sequence>6109</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP: Try to save file to ESP...</message>
</record>
<record>
  <date>2016-11-11T03:22:34</date>
  <millis>1478805754026</millis>
  <sequence>6110</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Try to save file to ESP in Turbo Mode...</message>
</record>
<record>
  <date>2016-11-11T03:22:34</date>
  <millis>1478805754033</millis>
  <sequence>6111</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>DataTurboSender: start "Smart Mode"</message>
</record>
<record>
  <date>2016-11-11T03:22:34</date>
  <millis>1478805754035</millis>
  <sequence>6112</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Starting...</message>
</record>
<record>
  <date>2016-11-11T03:22:34</date>
  <millis>1478805754173</millis>
  <sequence>6113</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local FILE="init.lua" file.remove(FILE) file.open(FILE,"w+") uart.setup(0,115200,8,0,1,0)</message>
</record>
<record>
  <date>2016-11-11T03:22:34</date>
  <millis>1478805754175</millis>
  <sequence>6114</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>247</thread>
  <message>recv:l</message>
</record>
<record>
  <date>2016-11-11T03:22:34</date>
  <millis>1478805754178</millis>
  <sequence>6115</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>247</thread>
  <message>recv:ocal FILE="init.lua" file.remo</message>
</record>
<record>
  <date>2016-11-11T03:22:34</date>
  <millis>1478805754179</millis>
  <sequence>6116</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>247</thread>
  <message>recv:ve(FILE) file</message>
</record>
<record>
  <date>2016-11-11T03:22:34</date>
  <millis>1478805754181</millis>
  <sequence>6117</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>247</thread>
  <message>recv:.open(FILE,"w+") uar</message>
</record>
<record>
  <date>2016-11-11T03:22:34</date>
  <millis>1478805754183</millis>
  <sequence>6118</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>247</thread>
  <message>recv:t.setup(0,115200,8,0,1,0</message>
</record>
<record>
  <date>2016-11-11T03:22:34</date>
  <millis>1478805754185</millis>
  <sequence>6119</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>247</thread>
  <message>recv:)&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:22:34</date>
  <millis>1478805754364</millis>
  <sequence>6120</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>247</thread>
  <message>recv:&gt;</message>
</record>
<record>
  <date>2016-11-11T03:22:34</date>
  <millis>1478805754365</millis>
  <sequence>6121</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>247</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T03:22:34</date>
  <millis>1478805754385</millis>
  <sequence>6122</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_Receiver=function(rcvBuf) if string.match(rcvBuf,"^ESP_cmd_close")==nil then file.write(string.gsub(rcvBuf, '\r', '')) uart.write(0, "&gt; ") else uart.on("data") </message>
</record>
<record>
  <date>2016-11-11T03:22:34</date>
  <millis>1478805754412</millis>
  <sequence>6123</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>247</thread>
  <message>recv:&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T03:22:34</date>
  <millis>1478805754427</millis>
  <sequence>6124</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:file.flush() file.close() FILE=nil rcvBuf=nil ESP_Receiver=nil uart.setup(0,115200,8,0,1,1) str="\r\n--Done--\r\n&gt; " print(str) str=nil collectgarbage() end end uart.on("data",'\r',ESP_Receiver,0)</message>
</record>
<record>
  <date>2016-11-11T03:22:34</date>
  <millis>1478805754466</millis>
  <sequence>6125</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>247</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:22:34</date>
  <millis>1478805754478</millis>
  <sequence>6126</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:misc = require "misc"
control = require "control"

-- timer 1 = status, 2,3 = relay 

files = file.list()  -- Lists all files in the file system.

misc.button_press()  -- button press interrupt io3
--misc.button_rst()

control.status_LED(300) -- blink st</message>
</record>
<record>
  <date>2016-11-11T03:22:34</date>
  <millis>1478805754507</millis>
  <sequence>6127</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>247</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:22:34</date>
  <millis>1478805754519</millis>
  <sequence>6128</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:atus LED

wifi.setmode(wifi.STATION)
wifi.sta.autoconnect(0) -- auto connect

if files["config.txt"] then
    misc.con_read()
    --tmr.delay(1000000)
    print(" Config exist, user&gt;".. user .. ", pass&gt;" .. password .. ", now set station mode and connect</message>
</record>
<record>
  <date>2016-11-11T03:22:34</date>
  <millis>1478805754550</millis>
  <sequence>6129</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>247</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:22:34</date>
  <millis>1478805754566</millis>
  <sequence>6130</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:")
    
    wifi.sta.config(user, password)
    wifi.sta.connect()
    
    tmr.alarm(4, 5000, 1, function() 
        if wifi.sta.getip()== nil then
            print("IP unavailable.. if info correct then wait, else reconfig by press BTN1 to clean")
   </message>
</record>
<record>
  <date>2016-11-11T03:22:34</date>
  <millis>1478805754598</millis>
  <sequence>6131</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>247</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:22:34</date>
  <millis>1478805754611</millis>
  <sequence>6132</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:     else
            print("connected.. IP is: " .. wifi.sta.getip())
            tmr.stop(4)
            dofile("mqtt.lua")
        end
    end)
    
else
    control.relay_onoff() -- for test

    tmr.alarm(4, 5000, 1, function() 
        if wifi.sta.</message>
</record>
<record>
  <date>2016-11-11T03:22:34</date>
  <millis>1478805754643</millis>
  <sequence>6133</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>247</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:22:34</date>
  <millis>1478805754659</millis>
  <sequence>6134</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:getip()== nil then
            print("  Config file NOT exists, starting smartconfig..")
            wifi.startsmart(0,
            function(ssid, password)
            print(string.format("Success. SSID: %s ; PASSWORD: %s", ssid, password)) 
           </message>
</record>
<record>
  <date>2016-11-11T03:22:34</date>
  <millis>1478805754691</millis>
  <sequence>6135</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>247</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:22:34</date>
  <millis>1478805754703</millis>
  <sequence>6136</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending: misc.con_write(ssid, password)
            end)
        else 
            tmr.stop(1)

            tmr.stop(4)
            print("Config done, IP is "..wifi.sta.getip())
            wifi.stopsmart()

            --misc.con_read()
            --print (us</message>
</record>
<record>
  <date>2016-11-11T03:22:34</date>
  <millis>1478805754734</millis>
  <sequence>6137</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>247</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:22:34</date>
  <millis>1478805754748</millis>
  <sequence>6138</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:er .. password)
            dofile("mqtt.lua")
        end
    end)
        

end
</message>
</record>
<record>
  <date>2016-11-11T03:22:34</date>
  <millis>1478805754763</millis>
  <sequence>6139</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>247</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:22:34</date>
  <millis>1478805754794</millis>
  <sequence>6140</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_cmd_close</message>
</record>
<record>
  <date>2016-11-11T03:22:34</date>
  <millis>1478805754809</millis>
  <sequence>6141</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>247</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;--</message>
</record>
<record>
  <date>2016-11-11T03:22:34</date>
  <millis>1478805754811</millis>
  <sequence>6142</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>247</thread>
  <message>recv:Done--&lt;CR&gt;&lt;LF&gt;&gt; &lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:22:34</date>
  <millis>1478805754851</millis>
  <sequence>6143</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:22:34</date>
  <millis>1478805754853</millis>
  <sequence>6144</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>247</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:22:34</date>
  <millis>1478805754855</millis>
  <sequence>6145</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>247</thread>
  <message>recv:&gt; &lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T03:22:34</date>
  <millis>1478805754888</millis>
  <sequence>6146</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:dofile("init.lua")</message>
</record>
<record>
  <date>2016-11-11T03:22:34</date>
  <millis>1478805754889</millis>
  <sequence>6147</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>247</thread>
  <message>recv:d</message>
</record>
<record>
  <date>2016-11-11T03:22:34</date>
  <millis>1478805754892</millis>
  <sequence>6148</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>247</thread>
  <message>recv:ofile("init.lua")&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:22:35</date>
  <millis>1478805755019</millis>
  <sequence>6149</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>247</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:22:35</date>
  <millis>1478805755070</millis>
  <sequence>6150</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>247</thread>
  <message>Operation done. Duration = 1043 ms</message>
</record>
<record>
  <date>2016-11-11T03:22:36</date>
  <millis>1478805756716</millis>
  <sequence>6151</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to open file mqtt.lua</message>
</record>
<record>
  <date>2016-11-11T03:22:36</date>
  <millis>1478805756717</millis>
  <sequence>6152</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>File name: C:\Users\hechao\Dropbox\ED_work\6-Project\ESP\ESP Relay Board\R1\mqtt.lua</message>
</record>
<record>
  <date>2016-11-11T03:22:36</date>
  <millis>1478805756718</millis>
  <sequence>6153</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to load file mqtt.lua</message>
</record>
<record>
  <date>2016-11-11T03:22:36</date>
  <millis>1478805756754</millis>
  <sequence>6154</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Loading mqtt.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T03:22:36</date>
  <millis>1478805756755</millis>
  <sequence>6155</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Open "mqtt.lua": Success.</message>
</record>
<record>
  <date>2016-11-11T03:22:38</date>
  <millis>1478805758043</millis>
  <sequence>6156</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to load file mqtt.lua</message>
</record>
<record>
  <date>2016-11-11T03:22:38</date>
  <millis>1478805758067</millis>
  <sequence>6157</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Loading mqtt.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T03:22:38</date>
  <millis>1478805758068</millis>
  <sequence>6158</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>File reload: Success.</message>
</record>
<record>
  <date>2016-11-11T03:22:38</date>
  <millis>1478805758833</millis>
  <sequence>6159</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>We save known file mqtt.lua</message>
</record>
<record>
  <date>2016-11-11T03:22:38</date>
  <millis>1478805758833</millis>
  <sequence>6160</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to saving file mqtt.lua ...</message>
</record>
<record>
  <date>2016-11-11T03:22:38</date>
  <millis>1478805758835</millis>
  <sequence>6161</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Save file mqtt.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T03:22:38</date>
  <millis>1478805758840</millis>
  <sequence>6162</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP: Try to save file to ESP...</message>
</record>
<record>
  <date>2016-11-11T03:22:38</date>
  <millis>1478805758841</millis>
  <sequence>6163</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Try to save file to ESP in Turbo Mode...</message>
</record>
<record>
  <date>2016-11-11T03:22:38</date>
  <millis>1478805758848</millis>
  <sequence>6164</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>DataTurboSender: start "Smart Mode"</message>
</record>
<record>
  <date>2016-11-11T03:22:38</date>
  <millis>1478805758849</millis>
  <sequence>6165</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Starting...</message>
</record>
<record>
  <date>2016-11-11T03:22:38</date>
  <millis>1478805758991</millis>
  <sequence>6166</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local FILE="mqtt.lua" file.remove(FILE) file.open(FILE,"w+") uart.setup(0,115200,8,0,1,0)</message>
</record>
<record>
  <date>2016-11-11T03:22:38</date>
  <millis>1478805758993</millis>
  <sequence>6167</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>251</thread>
  <message>recv:lo</message>
</record>
<record>
  <date>2016-11-11T03:22:38</date>
  <millis>1478805758998</millis>
  <sequence>6168</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>251</thread>
  <message>recv:cal FILE="mqtt.lua" file.remove(FILE) file.open(FILE,"w+") uart</message>
</record>
<record>
  <date>2016-11-11T03:22:38</date>
  <millis>1478805758999</millis>
  <sequence>6169</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>251</thread>
  <message>recv:.setup(0,115</message>
</record>
<record>
  <date>2016-11-11T03:22:39</date>
  <millis>1478805759001</millis>
  <sequence>6170</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>251</thread>
  <message>recv:200,8,0,1,0)&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:22:39</date>
  <millis>1478805759272</millis>
  <sequence>6171</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>251</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:22:39</date>
  <millis>1478805759299</millis>
  <sequence>6172</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_Receiver=function(rcvBuf) if string.match(rcvBuf,"^ESP_cmd_close")==nil then file.write(string.gsub(rcvBuf, '\r', '')) uart.write(0, "&gt; ") else uart.on("data") </message>
</record>
<record>
  <date>2016-11-11T03:22:39</date>
  <millis>1478805759326</millis>
  <sequence>6173</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>251</thread>
  <message>recv:&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T03:22:39</date>
  <millis>1478805759343</millis>
  <sequence>6174</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:file.flush() file.close() FILE=nil rcvBuf=nil ESP_Receiver=nil uart.setup(0,115200,8,0,1,1) str="\r\n--Done--\r\n&gt; " print(str) str=nil collectgarbage() end end uart.on("data",'\r',ESP_Receiver,0)</message>
</record>
<record>
  <date>2016-11-11T03:22:39</date>
  <millis>1478805759385</millis>
  <sequence>6175</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>251</thread>
  <message>recv:&gt;</message>
</record>
<record>
  <date>2016-11-11T03:22:39</date>
  <millis>1478805759386</millis>
  <sequence>6176</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>251</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T03:22:39</date>
  <millis>1478805759403</millis>
  <sequence>6177</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:control = require "control"

mqtt_conf = require "mqtt_config"

print ()

print("Running file mqtt")
tmr.delay(100000)

control.status_LED(2000)

gpio6 = 6
gpio.mode(gpio6, gpio.OUTPUT)
gpio.write(gpio6, gpio.LOW)

gpio7 = 7
gpio.mode(gpio7, gpio.OUTPUT)</message>
</record>
<record>
  <date>2016-11-11T03:22:39</date>
  <millis>1478805759433</millis>
  <sequence>6178</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>251</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:22:39</date>
  <millis>1478805759445</millis>
  <sequence>6179</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:
gpio.write(gpio7, gpio.LOW)

-- init mqtt client with keepalive timer 120sec
m = mqtt.Client(M.ENDPOINT, 120, mqtt_conf.MQTTUSER, mqtt_conf.MQTTPASS)

-- setup Last Will and Testament (optional)
-- Broker will publish a message with qos = 0, retain = 0,</message>
</record>
<record>
  <date>2016-11-11T03:22:39</date>
  <millis>1478805759476</millis>
  <sequence>6180</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>251</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:22:39</date>
  <millis>1478805759494</millis>
  <sequence>6181</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending: data = "offline" 
-- to topic "/lwt" if client don't send keepalive packet
m:lwt("/lwt", "offline", 0, 0)

m:on("connect", function(client) print ("connected") end)
m:on("offline", function(client) print ("offline") end)

-- on publish message receive e</message>
</record>
<record>
  <date>2016-11-11T03:22:39</date>
  <millis>1478805759525</millis>
  <sequence>6182</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>251</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:22:39</date>
  <millis>1478805759544</millis>
  <sequence>6183</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:vent
m:on("message", function(conn, topic, data)
  print("Topic   " ..topic.. " get info. If command match then will run" )
  if topic == "Light1" then
    if data == "ON" then
        print("received message: ON@light1")
        gpio.write(gpio6, gpio.H</message>
</record>
<record>
  <date>2016-11-11T03:22:39</date>
  <millis>1478805759575</millis>
  <sequence>6184</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>251</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:22:39</date>
  <millis>1478805759591</millis>
  <sequence>6185</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:IGH)
    end
    if data == "OFF" then
        print("received message: OFF@light1")
        gpio.write(gpio6, gpio.LOW)
    end
    
  end
    
  if topic == "Light2" then
    if data == "ON" then
        print("received message: ON@light2")
        gpi</message>
</record>
<record>
  <date>2016-11-11T03:22:39</date>
  <millis>1478805759622</millis>
  <sequence>6186</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>251</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:22:39</date>
  <millis>1478805759640</millis>
  <sequence>6187</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:o.write(gpio7, gpio.HIGH)
    end
    if data == "OFF" then
        print("received message: OFF@light2")
        gpio.write(gpio7, gpio.LOW)
    end
    
  end
     
end)

-- send0/publish chip ID
m:connect("m11.cloudmqtt.com", 19311, 0, function(conn)
</message>
</record>
<record>
  <date>2016-11-11T03:22:39</date>
  <millis>1478805759671</millis>
  <sequence>6188</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>251</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:22:39</date>
  <millis>1478805759684</millis>
  <sequence>6189</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:    print("Your ID: " ..node.chipid().." connected")
    -- subscribe both topic
    m:subscribe({["Light1"]=0, ["Light2"]=0}, function(conn) 
        print("subscribe Light 1 and 2 success")
    end)
        
    m:publish("ID is: ", node.chipid(),0,0, </message>
</record>
<record>
  <date>2016-11-11T03:22:39</date>
  <millis>1478805759715</millis>
  <sequence>6190</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>251</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:22:39</date>
  <millis>1478805759729</millis>
  <sequence>6191</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:function(conn) 
        print("sent ID") 
    end)
end)



</message>
</record>
<record>
  <date>2016-11-11T03:22:39</date>
  <millis>1478805759743</millis>
  <sequence>6192</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>251</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:22:39</date>
  <millis>1478805759756</millis>
  <sequence>6193</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_cmd_close</message>
</record>
<record>
  <date>2016-11-11T03:22:39</date>
  <millis>1478805759769</millis>
  <sequence>6194</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>251</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;-</message>
</record>
<record>
  <date>2016-11-11T03:22:39</date>
  <millis>1478805759770</millis>
  <sequence>6195</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>251</thread>
  <message>recv:-Done--&lt;CR&gt;&lt;LF&gt;&gt; &lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:22:39</date>
  <millis>1478805759795</millis>
  <sequence>6196</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:22:39</date>
  <millis>1478805759797</millis>
  <sequence>6197</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>251</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:22:39</date>
  <millis>1478805759798</millis>
  <sequence>6198</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>251</thread>
  <message>recv:&gt; &lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T03:22:39</date>
  <millis>1478805759831</millis>
  <sequence>6199</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:dofile("mqtt.lua")</message>
</record>
<record>
  <date>2016-11-11T03:22:39</date>
  <millis>1478805759832</millis>
  <sequence>6200</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>251</thread>
  <message>recv:d</message>
</record>
<record>
  <date>2016-11-11T03:22:39</date>
  <millis>1478805759834</millis>
  <sequence>6201</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>251</thread>
  <message>recv:ofile("mqtt.lua</message>
</record>
<record>
  <date>2016-11-11T03:22:39</date>
  <millis>1478805759834</millis>
  <sequence>6202</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>251</thread>
  <message>recv:")&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:22:39</date>
  <millis>1478805759888</millis>
  <sequence>6203</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>251</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:22:39</date>
  <millis>1478805759892</millis>
  <sequence>6204</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>251</thread>
  <message>recv:Running file mqtt&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:22:40</date>
  <millis>1478805760063</millis>
  <sequence>6205</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>251</thread>
  <message>recv:mqtt.lua:21: attempt </message>
</record>
<record>
  <date>2016-11-11T03:22:40</date>
  <millis>1478805760069</millis>
  <sequence>6206</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>251</thread>
  <message>recv:to index global 'M' (a nil value)&lt;CR&gt;&lt;LF&gt;stack traceback:&lt;CR&gt;&lt;LF&gt;	mqtt.lua:21: in main chunk&lt;CR&gt;&lt;LF&gt;	[C]: in function</message>
</record>
<record>
  <date>2016-11-11T03:22:40</date>
  <millis>1478805760116</millis>
  <sequence>6207</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>251</thread>
  <message>recv: 'dofile'&lt;CR&gt;&lt;LF&gt;	stdin:1: in main chunk&lt;CR&gt;&lt;LF&gt;&gt;   Config file NOT exists, starting smartconfig..&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:22:40</date>
  <millis>1478805760188</millis>
  <sequence>6208</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>251</thread>
  <message>Operation done. Duration = 1346 ms</message>
</record>
<record>
  <date>2016-11-11T03:23:17</date>
  <millis>1478805797037</millis>
  <sequence>6209</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to load file mqtt.lua</message>
</record>
<record>
  <date>2016-11-11T03:23:17</date>
  <millis>1478805797056</millis>
  <sequence>6210</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Loading mqtt.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T03:23:17</date>
  <millis>1478805797062</millis>
  <sequence>6211</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>File reload: Success.</message>
</record>
<record>
  <date>2016-11-11T03:23:17</date>
  <millis>1478805797671</millis>
  <sequence>6212</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>We save known file mqtt.lua</message>
</record>
<record>
  <date>2016-11-11T03:23:17</date>
  <millis>1478805797672</millis>
  <sequence>6213</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to saving file mqtt.lua ...</message>
</record>
<record>
  <date>2016-11-11T03:23:17</date>
  <millis>1478805797673</millis>
  <sequence>6214</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Save file mqtt.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T03:23:17</date>
  <millis>1478805797679</millis>
  <sequence>6215</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP: Try to save file to ESP...</message>
</record>
<record>
  <date>2016-11-11T03:23:17</date>
  <millis>1478805797681</millis>
  <sequence>6216</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Try to save file to ESP in Turbo Mode...</message>
</record>
<record>
  <date>2016-11-11T03:23:17</date>
  <millis>1478805797696</millis>
  <sequence>6217</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>DataTurboSender: start "Smart Mode"</message>
</record>
<record>
  <date>2016-11-11T03:23:17</date>
  <millis>1478805797698</millis>
  <sequence>6218</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Starting...</message>
</record>
<record>
  <date>2016-11-11T03:23:17</date>
  <millis>1478805797828</millis>
  <sequence>6219</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local FILE="mqtt.lua" file.remove(FILE) file.open(FILE,"w+") uart.setup(0,115200,8,0,1,0)</message>
</record>
<record>
  <date>2016-11-11T03:23:17</date>
  <millis>1478805797829</millis>
  <sequence>6220</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>253</thread>
  <message>recv:lo</message>
</record>
<record>
  <date>2016-11-11T03:23:17</date>
  <millis>1478805797831</millis>
  <sequence>6221</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>253</thread>
  <message>recv:cal FILE="mqtt.lu</message>
</record>
<record>
  <date>2016-11-11T03:23:17</date>
  <millis>1478805797832</millis>
  <sequence>6222</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>253</thread>
  <message>recv:a" file.remo</message>
</record>
<record>
  <date>2016-11-11T03:23:17</date>
  <millis>1478805797833</millis>
  <sequence>6223</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>253</thread>
  <message>recv:ve(FILE) file.op</message>
</record>
<record>
  <date>2016-11-11T03:23:17</date>
  <millis>1478805797835</millis>
  <sequence>6224</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>253</thread>
  <message>recv:en(FILE,"w+") u</message>
</record>
<record>
  <date>2016-11-11T03:23:17</date>
  <millis>1478805797835</millis>
  <sequence>6225</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>253</thread>
  <message>recv:art.setup(0</message>
</record>
<record>
  <date>2016-11-11T03:23:17</date>
  <millis>1478805797837</millis>
  <sequence>6226</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>253</thread>
  <message>recv:,115200,8,0,1,0</message>
</record>
<record>
  <date>2016-11-11T03:23:17</date>
  <millis>1478805797841</millis>
  <sequence>6227</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>253</thread>
  <message>recv:)&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:23:18</date>
  <millis>1478805798018</millis>
  <sequence>6228</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>253</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:23:18</date>
  <millis>1478805798031</millis>
  <sequence>6229</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_Receiver=function(rcvBuf) if string.match(rcvBuf,"^ESP_cmd_close")==nil then file.write(string.gsub(rcvBuf, '\r', '')) uart.write(0, "&gt; ") else uart.on("data") </message>
</record>
<record>
  <date>2016-11-11T03:23:18</date>
  <millis>1478805798057</millis>
  <sequence>6230</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>253</thread>
  <message>recv:&gt;</message>
</record>
<record>
  <date>2016-11-11T03:23:18</date>
  <millis>1478805798058</millis>
  <sequence>6231</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>253</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:23:18</date>
  <millis>1478805798075</millis>
  <sequence>6232</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:file.flush() file.close() FILE=nil rcvBuf=nil ESP_Receiver=nil uart.setup(0,115200,8,0,1,1) str="\r\n--Done--\r\n&gt; " print(str) str=nil collectgarbage() end end uart.on("data",'\r',ESP_Receiver,0)</message>
</record>
<record>
  <date>2016-11-11T03:23:18</date>
  <millis>1478805798114</millis>
  <sequence>6233</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>253</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:23:18</date>
  <millis>1478805798132</millis>
  <sequence>6234</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:control = require "control"

mqtt_conf = require "mqtt_config"

print ()

print("Running file mqtt")
tmr.delay(100000)

control.status_LED(2000)

gpio6 = 6
gpio.mode(gpio6, gpio.OUTPUT)
gpio.write(gpio6, gpio.LOW)

gpio7 = 7
gpio.mode(gpio7, gpio.OUTPUT)</message>
</record>
<record>
  <date>2016-11-11T03:23:18</date>
  <millis>1478805798161</millis>
  <sequence>6235</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>253</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:23:18</date>
  <millis>1478805798178</millis>
  <sequence>6236</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:
gpio.write(gpio7, gpio.LOW)

-- init mqtt client with keepalive timer 120sec
m = mqtt.Client(mqtt_conf.ENDPOINT, 120, mqtt_conf.MQTTUSER, mqtt_conf.MQTTPASS)

-- setup Last Will and Testament (optional)
-- Broker will publish a message with qos = 0, ret</message>
</record>
<record>
  <date>2016-11-11T03:23:18</date>
  <millis>1478805798209</millis>
  <sequence>6237</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>253</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:23:18</date>
  <millis>1478805798228</millis>
  <sequence>6238</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ain = 0, data = "offline" 
-- to topic "/lwt" if client don't send keepalive packet
m:lwt("/lwt", "offline", 0, 0)

m:on("connect", function(client) print ("connected") end)
m:on("offline", function(client) print ("offline") end)

-- on publish message r</message>
</record>
<record>
  <date>2016-11-11T03:23:18</date>
  <millis>1478805798260</millis>
  <sequence>6239</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>253</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:23:18</date>
  <millis>1478805798273</millis>
  <sequence>6240</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:eceive event
m:on("message", function(conn, topic, data)
  print("Topic   " ..topic.. " get info. If command match then will run" )
  if topic == "Light1" then
    if data == "ON" then
        print("received message: ON@light1")
        gpio.write(gpio6</message>
</record>
<record>
  <date>2016-11-11T03:23:18</date>
  <millis>1478805798304</millis>
  <sequence>6241</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>253</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:23:18</date>
  <millis>1478805798317</millis>
  <sequence>6242</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:, gpio.HIGH)
    end
    if data == "OFF" then
        print("received message: OFF@light1")
        gpio.write(gpio6, gpio.LOW)
    end
    
  end
    
  if topic == "Light2" then
    if data == "ON" then
        print("received message: ON@light2")
   </message>
</record>
<record>
  <date>2016-11-11T03:23:18</date>
  <millis>1478805798347</millis>
  <sequence>6243</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>253</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:23:18</date>
  <millis>1478805798376</millis>
  <sequence>6244</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:     gpio.write(gpio7, gpio.HIGH)
    end
    if data == "OFF" then
        print("received message: OFF@light2")
        gpio.write(gpio7, gpio.LOW)
    end
    
  end
     
end)

-- send0/publish chip ID
m:connect("m11.cloudmqtt.com", 19311, 0, functio</message>
</record>
<record>
  <date>2016-11-11T03:23:18</date>
  <millis>1478805798407</millis>
  <sequence>6245</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>253</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:23:18</date>
  <millis>1478805798421</millis>
  <sequence>6246</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:n(conn)
    print("Your ID: " ..node.chipid().." connected")
    -- subscribe both topic
    m:subscribe({["Light1"]=0, ["Light2"]=0}, function(conn) 
        print("subscribe Light 1 and 2 success")
    end)
        
    m:publish("ID is: ", node.chipid</message>
</record>
<record>
  <date>2016-11-11T03:23:18</date>
  <millis>1478805798452</millis>
  <sequence>6247</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>253</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:23:18</date>
  <millis>1478805798467</millis>
  <sequence>6248</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:(),0,0, function(conn) 
        print("sent ID") 
    end)
end)



</message>
</record>
<record>
  <date>2016-11-11T03:23:18</date>
  <millis>1478805798481</millis>
  <sequence>6249</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>253</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:23:18</date>
  <millis>1478805798498</millis>
  <sequence>6250</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_cmd_close</message>
</record>
<record>
  <date>2016-11-11T03:23:18</date>
  <millis>1478805798510</millis>
  <sequence>6251</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>253</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;-</message>
</record>
<record>
  <date>2016-11-11T03:23:18</date>
  <millis>1478805798514</millis>
  <sequence>6252</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>253</thread>
  <message>recv:-Done--&lt;CR&gt;&lt;LF&gt;&gt; &lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:23:18</date>
  <millis>1478805798542</millis>
  <sequence>6253</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:23:18</date>
  <millis>1478805798543</millis>
  <sequence>6254</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>253</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:23:18</date>
  <millis>1478805798547</millis>
  <sequence>6255</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>253</thread>
  <message>recv:&gt; &lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T03:23:18</date>
  <millis>1478805798576</millis>
  <sequence>6256</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:dofile("mqtt.lua")</message>
</record>
<record>
  <date>2016-11-11T03:23:18</date>
  <millis>1478805798578</millis>
  <sequence>6257</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>253</thread>
  <message>recv:do</message>
</record>
<record>
  <date>2016-11-11T03:23:18</date>
  <millis>1478805798580</millis>
  <sequence>6258</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>253</thread>
  <message>recv:file("mqtt.lua")&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:23:18</date>
  <millis>1478805798621</millis>
  <sequence>6259</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>253</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:23:18</date>
  <millis>1478805798623</millis>
  <sequence>6260</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>253</thread>
  <message>recv:Running f</message>
</record>
<record>
  <date>2016-11-11T03:23:18</date>
  <millis>1478805798628</millis>
  <sequence>6261</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>253</thread>
  <message>recv:ile mqtt&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:23:18</date>
  <millis>1478805798739</millis>
  <sequence>6262</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>253</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:23:18</date>
  <millis>1478805798811</millis>
  <sequence>6263</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>253</thread>
  <message>Operation done. Duration = 1122 ms</message>
</record>
<record>
  <date>2016-11-11T03:23:19</date>
  <millis>1478805799866</millis>
  <sequence>6264</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:node.restart()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:23:19</date>
  <millis>1478805799867</millis>
  <sequence>6265</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with saved baud 115200...</message>
</record>
<record>
  <date>2016-11-11T03:23:19</date>
  <millis>1478805799930</millis>
  <sequence>6266</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success. Now we waiting for ESP reboot...</message>
</record>
<record>
  <date>2016-11-11T03:23:21</date>
  <millis>1478805801932</millis>
  <sequence>6267</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with baud 115200...</message>
</record>
<record>
  <date>2016-11-11T03:23:21</date>
  <millis>1478805801935</millis>
  <sequence>6268</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:print(uart.setup(0, 115200, 8, 0, 1, 1 ))&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:23:22</date>
  <millis>1478805802199</millis>
  <sequence>6269</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success.</message>
</record>
<record>
  <date>2016-11-11T03:23:22</date>
  <millis>1478805802223</millis>
  <sequence>6270</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:23:22</date>
  <millis>1478805802225</millis>
  <sequence>6271</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>254</thread>
  <message>
Communication with MCU established.</message>
</record>
<record>
  <date>2016-11-11T03:27:00</date>
  <millis>1478806020131</millis>
  <sequence>6272</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to load file mqtt_config.lua</message>
</record>
<record>
  <date>2016-11-11T03:27:00</date>
  <millis>1478806020142</millis>
  <sequence>6273</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Loading mqtt_config.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T03:27:00</date>
  <millis>1478806020142</millis>
  <sequence>6274</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>File reload: Success.</message>
</record>
<record>
  <date>2016-11-11T03:27:01</date>
  <millis>1478806021083</millis>
  <sequence>6275</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>We save known file mqtt_config.lua</message>
</record>
<record>
  <date>2016-11-11T03:27:01</date>
  <millis>1478806021084</millis>
  <sequence>6276</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to saving file mqtt_config.lua ...</message>
</record>
<record>
  <date>2016-11-11T03:27:01</date>
  <millis>1478806021085</millis>
  <sequence>6277</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Save file mqtt_config.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T03:27:01</date>
  <millis>1478806021089</millis>
  <sequence>6278</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP: Try to save file to ESP...</message>
</record>
<record>
  <date>2016-11-11T03:27:01</date>
  <millis>1478806021090</millis>
  <sequence>6279</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Try to save file to ESP in Turbo Mode...</message>
</record>
<record>
  <date>2016-11-11T03:27:01</date>
  <millis>1478806021097</millis>
  <sequence>6280</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>DataTurboSender: start "Smart Mode"</message>
</record>
<record>
  <date>2016-11-11T03:27:01</date>
  <millis>1478806021097</millis>
  <sequence>6281</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Starting...</message>
</record>
<record>
  <date>2016-11-11T03:27:01</date>
  <millis>1478806021245</millis>
  <sequence>6282</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local FILE="mqtt_config.lua" file.remove(FILE) file.open(FILE,"w+") uart.setup(0,115200,8,0,1,0)</message>
</record>
<record>
  <date>2016-11-11T03:27:01</date>
  <millis>1478806021246</millis>
  <sequence>6283</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>255</thread>
  <message>recv:loc</message>
</record>
<record>
  <date>2016-11-11T03:27:01</date>
  <millis>1478806021248</millis>
  <sequence>6284</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>255</thread>
  <message>recv:al FILE="mqtt_config.l</message>
</record>
<record>
  <date>2016-11-11T03:27:01</date>
  <millis>1478806021249</millis>
  <sequence>6285</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>255</thread>
  <message>recv:ua" file.r</message>
</record>
<record>
  <date>2016-11-11T03:27:01</date>
  <millis>1478806021253</millis>
  <sequence>6286</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>255</thread>
  <message>recv:emove(FILE) file.open(FILE,"w+") uart.setup(0,</message>
</record>
<record>
  <date>2016-11-11T03:27:01</date>
  <millis>1478806021255</millis>
  <sequence>6287</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>255</thread>
  <message>recv:115200,8,0,1,0)&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:27:01</date>
  <millis>1478806021443</millis>
  <sequence>6288</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>255</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:27:01</date>
  <millis>1478806021464</millis>
  <sequence>6289</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_Receiver=function(rcvBuf) if string.match(rcvBuf,"^ESP_cmd_close")==nil then file.write(string.gsub(rcvBuf, '\r', '')) uart.write(0, "&gt; ") else uart.on("data") </message>
</record>
<record>
  <date>2016-11-11T03:27:01</date>
  <millis>1478806021490</millis>
  <sequence>6290</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>255</thread>
  <message>recv:&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T03:27:01</date>
  <millis>1478806021509</millis>
  <sequence>6291</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:file.flush() file.close() FILE=nil rcvBuf=nil ESP_Receiver=nil uart.setup(0,115200,8,0,1,1) str="\r\n--Done--\r\n&gt; " print(str) str=nil collectgarbage() end end uart.on("data",'\r',ESP_Receiver,0)</message>
</record>
<record>
  <date>2016-11-11T03:27:01</date>
  <millis>1478806021548</millis>
  <sequence>6292</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>255</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:27:01</date>
  <millis>1478806021562</millis>
  <sequence>6293</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local M = {}

--M.SSID = {}

--M.SSID["myWifi"] = "12345679ABCDEF"

M.HOST = "m11.cloudmqtt.com"  
M.PORT = 19311  
M.MQTTUSER = "ed"
M.MQTTPASS = "ed"

M.ENDPOINT = "nodemcu/"  

return M  
</message>
</record>
<record>
  <date>2016-11-11T03:27:01</date>
  <millis>1478806021586</millis>
  <sequence>6294</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>255</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:27:01</date>
  <millis>1478806021599</millis>
  <sequence>6295</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_cmd_close</message>
</record>
<record>
  <date>2016-11-11T03:27:01</date>
  <millis>1478806021611</millis>
  <sequence>6296</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>255</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;-</message>
</record>
<record>
  <date>2016-11-11T03:27:01</date>
  <millis>1478806021612</millis>
  <sequence>6297</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>255</thread>
  <message>recv:-Done--&lt;CR&gt;&lt;LF&gt;&gt; &lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:27:01</date>
  <millis>1478806021642</millis>
  <sequence>6298</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:27:01</date>
  <millis>1478806021643</millis>
  <sequence>6299</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>255</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:27:01</date>
  <millis>1478806021645</millis>
  <sequence>6300</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>255</thread>
  <message>recv:&gt; &lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T03:27:01</date>
  <millis>1478806021676</millis>
  <sequence>6301</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:dofile("mqtt_config.lua")</message>
</record>
<record>
  <date>2016-11-11T03:27:01</date>
  <millis>1478806021678</millis>
  <sequence>6302</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>255</thread>
  <message>recv:dofi</message>
</record>
<record>
  <date>2016-11-11T03:27:01</date>
  <millis>1478806021679</millis>
  <sequence>6303</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>255</thread>
  <message>recv:le("mqtt_config.lu</message>
</record>
<record>
  <date>2016-11-11T03:27:01</date>
  <millis>1478806021680</millis>
  <sequence>6304</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>255</thread>
  <message>recv:a")&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:27:01</date>
  <millis>1478806021702</millis>
  <sequence>6305</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>255</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:27:01</date>
  <millis>1478806021761</millis>
  <sequence>6306</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>255</thread>
  <message>Operation done. Duration = 670 ms</message>
</record>
<record>
  <date>2016-11-11T03:27:02</date>
  <millis>1478806022752</millis>
  <sequence>6307</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to load file mqtt.lua</message>
</record>
<record>
  <date>2016-11-11T03:27:02</date>
  <millis>1478806022761</millis>
  <sequence>6308</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Loading mqtt.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T03:27:02</date>
  <millis>1478806022761</millis>
  <sequence>6309</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>File reload: Success.</message>
</record>
<record>
  <date>2016-11-11T03:27:03</date>
  <millis>1478806023533</millis>
  <sequence>6310</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>We save known file mqtt.lua</message>
</record>
<record>
  <date>2016-11-11T03:27:03</date>
  <millis>1478806023534</millis>
  <sequence>6311</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to saving file mqtt.lua ...</message>
</record>
<record>
  <date>2016-11-11T03:27:03</date>
  <millis>1478806023536</millis>
  <sequence>6312</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Save file mqtt.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T03:27:03</date>
  <millis>1478806023541</millis>
  <sequence>6313</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP: Try to save file to ESP...</message>
</record>
<record>
  <date>2016-11-11T03:27:03</date>
  <millis>1478806023541</millis>
  <sequence>6314</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Try to save file to ESP in Turbo Mode...</message>
</record>
<record>
  <date>2016-11-11T03:27:03</date>
  <millis>1478806023548</millis>
  <sequence>6315</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>DataTurboSender: start "Smart Mode"</message>
</record>
<record>
  <date>2016-11-11T03:27:03</date>
  <millis>1478806023549</millis>
  <sequence>6316</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Starting...</message>
</record>
<record>
  <date>2016-11-11T03:27:03</date>
  <millis>1478806023675</millis>
  <sequence>6317</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local FILE="mqtt.lua" file.remove(FILE) file.open(FILE,"w+") uart.setup(0,115200,8,0,1,0)</message>
</record>
<record>
  <date>2016-11-11T03:27:03</date>
  <millis>1478806023677</millis>
  <sequence>6318</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>257</thread>
  <message>recv:loca</message>
</record>
<record>
  <date>2016-11-11T03:27:03</date>
  <millis>1478806023679</millis>
  <sequence>6319</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>257</thread>
  <message>recv:l FILE="mqtt.lua" fil</message>
</record>
<record>
  <date>2016-11-11T03:27:03</date>
  <millis>1478806023681</millis>
  <sequence>6320</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>257</thread>
  <message>recv:e.remove(FILE) file</message>
</record>
<record>
  <date>2016-11-11T03:27:03</date>
  <millis>1478806023682</millis>
  <sequence>6321</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>257</thread>
  <message>recv:.open(FILE,</message>
</record>
<record>
  <date>2016-11-11T03:27:03</date>
  <millis>1478806023684</millis>
  <sequence>6322</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>257</thread>
  <message>recv:"w+") uart.setup(0,115200,8</message>
</record>
<record>
  <date>2016-11-11T03:27:03</date>
  <millis>1478806023685</millis>
  <sequence>6323</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>257</thread>
  <message>recv:,0,1,0)&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:27:03</date>
  <millis>1478806023959</millis>
  <sequence>6324</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>257</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:27:03</date>
  <millis>1478806023974</millis>
  <sequence>6325</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_Receiver=function(rcvBuf) if string.match(rcvBuf,"^ESP_cmd_close")==nil then file.write(string.gsub(rcvBuf, '\r', '')) uart.write(0, "&gt; ") else uart.on("data") </message>
</record>
<record>
  <date>2016-11-11T03:27:04</date>
  <millis>1478806024001</millis>
  <sequence>6326</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>257</thread>
  <message>recv:&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T03:27:04</date>
  <millis>1478806024017</millis>
  <sequence>6327</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:file.flush() file.close() FILE=nil rcvBuf=nil ESP_Receiver=nil uart.setup(0,115200,8,0,1,1) str="\r\n--Done--\r\n&gt; " print(str) str=nil collectgarbage() end end uart.on("data",'\r',ESP_Receiver,0)</message>
</record>
<record>
  <date>2016-11-11T03:27:04</date>
  <millis>1478806024056</millis>
  <sequence>6328</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>257</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:27:04</date>
  <millis>1478806024068</millis>
  <sequence>6329</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:control = require "control"

mqtt_conf = require "mqtt_config"

print ()

print("Running file mqtt")
tmr.delay(100000)

control.status_LED(2000)

gpio6 = 6
gpio.mode(gpio6, gpio.OUTPUT)
gpio.write(gpio6, gpio.LOW)

gpio7 = 7
gpio.mode(gpio7, gpio.OUTPUT)</message>
</record>
<record>
  <date>2016-11-11T03:27:04</date>
  <millis>1478806024097</millis>
  <sequence>6330</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>257</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:27:04</date>
  <millis>1478806024111</millis>
  <sequence>6331</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:
gpio.write(gpio7, gpio.LOW)

-- init mqtt client with keepalive timer 120sec
m = mqtt.Client(mqtt_conf.ENDPOINT, 120, mqtt_conf.MQTTUSER, mqtt_conf.MQTTPASS)

-- setup Last Will and Testament (optional)
-- Broker will publish a message with qos = 0, ret</message>
</record>
<record>
  <date>2016-11-11T03:27:04</date>
  <millis>1478806024141</millis>
  <sequence>6332</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>257</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:27:04</date>
  <millis>1478806024154</millis>
  <sequence>6333</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ain = 0, data = "offline" 
-- to topic "/lwt" if client don't send keepalive packet
m:lwt("/lwt", "offline", 0, 0)

m:on("connect", function(client) print ("connected") end)
m:on("offline", function(client) print ("offline") end)

-- on publish message r</message>
</record>
<record>
  <date>2016-11-11T03:27:04</date>
  <millis>1478806024186</millis>
  <sequence>6334</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>257</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:27:04</date>
  <millis>1478806024204</millis>
  <sequence>6335</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:eceive event
m:on("message", function(conn, topic, data)
  print("Topic   " ..topic.. " get info. If command match then will run" )
  if topic == "Light1" then
    if data == "ON" then
        print("received message: ON @ light1")
        gpio.write(gpi</message>
</record>
<record>
  <date>2016-11-11T03:27:04</date>
  <millis>1478806024236</millis>
  <sequence>6336</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>257</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:27:04</date>
  <millis>1478806024250</millis>
  <sequence>6337</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:o6, gpio.HIGH)
    end
    if data == "OFF" then
        print("received message: OFF @ light1")
        gpio.write(gpio6, gpio.LOW)
    end
    
  end
    
  if topic == "Light2" then
    if data == "ON" then
        print("received message: ON @ light2</message>
</record>
<record>
  <date>2016-11-11T03:27:04</date>
  <millis>1478806024281</millis>
  <sequence>6338</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>257</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:27:04</date>
  <millis>1478806024295</millis>
  <sequence>6339</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:")
        gpio.write(gpio7, gpio.HIGH)
    end
    if data == "OFF" then
        print("received message: OFF @ light2")
        gpio.write(gpio7, gpio.LOW)
    end
    
  end
     
end)

-- send0/publish chip ID
m:connect("m11.cloudmqtt.com", 19311, 0,</message>
</record>
<record>
  <date>2016-11-11T03:27:04</date>
  <millis>1478806024326</millis>
  <sequence>6340</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>257</thread>
  <message>recv:&gt;</message>
</record>
<record>
  <date>2016-11-11T03:27:04</date>
  <millis>1478806024327</millis>
  <sequence>6341</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>257</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T03:27:04</date>
  <millis>1478806024347</millis>
  <sequence>6342</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending: function(conn)
    print("Your ID: " ..node.chipid().." connected")
    -- subscribe both topic
    m:subscribe({["Light1"]=0, ["Light2"]=0}, function(conn) 
        print("subscribe Light 1 and 2 success")
    end)
        
    m:publish("ID is: ", nod</message>
</record>
<record>
  <date>2016-11-11T03:27:04</date>
  <millis>1478806024378</millis>
  <sequence>6343</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>257</thread>
  <message>recv:&gt;</message>
</record>
<record>
  <date>2016-11-11T03:27:04</date>
  <millis>1478806024379</millis>
  <sequence>6344</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>257</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T03:27:04</date>
  <millis>1478806024397</millis>
  <sequence>6345</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:e.chipid(),0,0, function(conn) 
        print("sent ID") 
    end)
end)



</message>
</record>
<record>
  <date>2016-11-11T03:27:04</date>
  <millis>1478806024412</millis>
  <sequence>6346</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>257</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:27:04</date>
  <millis>1478806024430</millis>
  <sequence>6347</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_cmd_close</message>
</record>
<record>
  <date>2016-11-11T03:27:04</date>
  <millis>1478806024442</millis>
  <sequence>6348</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>257</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;-</message>
</record>
<record>
  <date>2016-11-11T03:27:04</date>
  <millis>1478806024444</millis>
  <sequence>6349</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>257</thread>
  <message>recv:-Done--&lt;CR&gt;&lt;LF&gt;&gt; &lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:27:04</date>
  <millis>1478806024466</millis>
  <sequence>6350</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:27:04</date>
  <millis>1478806024467</millis>
  <sequence>6351</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>257</thread>
  <message>recv:&lt;CR&gt;</message>
</record>
<record>
  <date>2016-11-11T03:27:04</date>
  <millis>1478806024469</millis>
  <sequence>6352</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>257</thread>
  <message>recv:&lt;LF&gt;&gt; &lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T03:27:04</date>
  <millis>1478806024504</millis>
  <sequence>6353</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:dofile("mqtt.lua")</message>
</record>
<record>
  <date>2016-11-11T03:27:04</date>
  <millis>1478806024507</millis>
  <sequence>6354</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>257</thread>
  <message>recv:do</message>
</record>
<record>
  <date>2016-11-11T03:27:04</date>
  <millis>1478806024510</millis>
  <sequence>6355</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>257</thread>
  <message>recv:file("mqtt.lua")&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:27:04</date>
  <millis>1478806024765</millis>
  <sequence>6356</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>257</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:27:04</date>
  <millis>1478806024781</millis>
  <sequence>6357</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>257</thread>
  <message>recv:Running file mqtt&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:27:04</date>
  <millis>1478806024885</millis>
  <sequence>6358</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>257</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:27:04</date>
  <millis>1478806024948</millis>
  <sequence>6359</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>257</thread>
  <message>Operation done. Duration = 1406 ms</message>
</record>
<record>
  <date>2016-11-11T03:27:16</date>
  <millis>1478806036637</millis>
  <sequence>6360</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:node.restart()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:27:16</date>
  <millis>1478806036639</millis>
  <sequence>6361</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with saved baud 115200...</message>
</record>
<record>
  <date>2016-11-11T03:27:16</date>
  <millis>1478806036701</millis>
  <sequence>6362</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success. Now we waiting for ESP reboot...</message>
</record>
<record>
  <date>2016-11-11T03:27:18</date>
  <millis>1478806038703</millis>
  <sequence>6363</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with baud 115200...</message>
</record>
<record>
  <date>2016-11-11T03:27:18</date>
  <millis>1478806038704</millis>
  <sequence>6364</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:print(uart.setup(0, 115200, 8, 0, 1, 1 ))&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:27:18</date>
  <millis>1478806038975</millis>
  <sequence>6365</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success.</message>
</record>
<record>
  <date>2016-11-11T03:27:19</date>
  <millis>1478806039029</millis>
  <sequence>6366</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:27:19</date>
  <millis>1478806039033</millis>
  <sequence>6367</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>258</thread>
  <message>
Communication with MCU established.</message>
</record>
<record>
  <date>2016-11-11T03:28:42</date>
  <millis>1478806122100</millis>
  <sequence>6368</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to load file mqtt_config.lua</message>
</record>
<record>
  <date>2016-11-11T03:28:42</date>
  <millis>1478806122108</millis>
  <sequence>6369</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Loading mqtt_config.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T03:28:42</date>
  <millis>1478806122109</millis>
  <sequence>6370</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>File reload: Success.</message>
</record>
<record>
  <date>2016-11-11T03:28:43</date>
  <millis>1478806123191</millis>
  <sequence>6371</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>We save known file mqtt_config.lua</message>
</record>
<record>
  <date>2016-11-11T03:28:43</date>
  <millis>1478806123192</millis>
  <sequence>6372</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to saving file mqtt_config.lua ...</message>
</record>
<record>
  <date>2016-11-11T03:28:43</date>
  <millis>1478806123194</millis>
  <sequence>6373</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Save file mqtt_config.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T03:28:43</date>
  <millis>1478806123199</millis>
  <sequence>6374</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP: Try to save file to ESP...</message>
</record>
<record>
  <date>2016-11-11T03:28:43</date>
  <millis>1478806123200</millis>
  <sequence>6375</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Try to save file to ESP in Turbo Mode...</message>
</record>
<record>
  <date>2016-11-11T03:28:43</date>
  <millis>1478806123206</millis>
  <sequence>6376</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>DataTurboSender: start "Smart Mode"</message>
</record>
<record>
  <date>2016-11-11T03:28:43</date>
  <millis>1478806123207</millis>
  <sequence>6377</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Starting...</message>
</record>
<record>
  <date>2016-11-11T03:28:43</date>
  <millis>1478806123341</millis>
  <sequence>6378</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local FILE="mqtt_config.lua" file.remove(FILE) file.open(FILE,"w+") uart.setup(0,115200,8,0,1,0)</message>
</record>
<record>
  <date>2016-11-11T03:28:43</date>
  <millis>1478806123342</millis>
  <sequence>6379</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>259</thread>
  <message>recv:l</message>
</record>
<record>
  <date>2016-11-11T03:28:43</date>
  <millis>1478806123343</millis>
  <sequence>6380</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>259</thread>
  <message>recv:ocal FILE="mqtt</message>
</record>
<record>
  <date>2016-11-11T03:28:43</date>
  <millis>1478806123347</millis>
  <sequence>6381</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>259</thread>
  <message>recv:_config.lua" file.remove(FILE) file.o</message>
</record>
<record>
  <date>2016-11-11T03:28:43</date>
  <millis>1478806123347</millis>
  <sequence>6382</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>259</thread>
  <message>recv:pen(FILE,"</message>
</record>
<record>
  <date>2016-11-11T03:28:43</date>
  <millis>1478806123349</millis>
  <sequence>6383</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>259</thread>
  <message>recv:w+") uart.setu</message>
</record>
<record>
  <date>2016-11-11T03:28:43</date>
  <millis>1478806123350</millis>
  <sequence>6384</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>259</thread>
  <message>recv:p(0,115200,</message>
</record>
<record>
  <date>2016-11-11T03:28:43</date>
  <millis>1478806123351</millis>
  <sequence>6385</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>259</thread>
  <message>recv:8,0,1,0)&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:28:43</date>
  <millis>1478806123530</millis>
  <sequence>6386</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>259</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:28:43</date>
  <millis>1478806123560</millis>
  <sequence>6387</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_Receiver=function(rcvBuf) if string.match(rcvBuf,"^ESP_cmd_close")==nil then file.write(string.gsub(rcvBuf, '\r', '')) uart.write(0, "&gt; ") else uart.on("data") </message>
</record>
<record>
  <date>2016-11-11T03:28:43</date>
  <millis>1478806123588</millis>
  <sequence>6388</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>259</thread>
  <message>recv:&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T03:28:43</date>
  <millis>1478806123612</millis>
  <sequence>6389</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:file.flush() file.close() FILE=nil rcvBuf=nil ESP_Receiver=nil uart.setup(0,115200,8,0,1,1) str="\r\n--Done--\r\n&gt; " print(str) str=nil collectgarbage() end end uart.on("data",'\r',ESP_Receiver,0)</message>
</record>
<record>
  <date>2016-11-11T03:28:43</date>
  <millis>1478806123652</millis>
  <sequence>6390</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>259</thread>
  <message>recv:&gt;</message>
</record>
<record>
  <date>2016-11-11T03:28:43</date>
  <millis>1478806123653</millis>
  <sequence>6391</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>259</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T03:28:43</date>
  <millis>1478806123681</millis>
  <sequence>6392</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local M = {}

--M.SSID = {}

--M.SSID["myWifi"] = "12345679ABCDEF"

M.HOST = "m11.cloudmqtt.com"  
M.PORT = 19311  
M.MQTTUSER = "swqzxezhr"
M.MQTTPASS = "9JMcxVeUNz3t"

M.ENDPOINT = "nodemcu/"  

return M  
</message>
</record>
<record>
  <date>2016-11-11T03:28:43</date>
  <millis>1478806123709</millis>
  <sequence>6393</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>259</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:28:43</date>
  <millis>1478806123730</millis>
  <sequence>6394</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_cmd_close</message>
</record>
<record>
  <date>2016-11-11T03:28:43</date>
  <millis>1478806123747</millis>
  <sequence>6395</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>259</thread>
  <message>recv:&lt;CR&gt;</message>
</record>
<record>
  <date>2016-11-11T03:28:43</date>
  <millis>1478806123755</millis>
  <sequence>6396</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>259</thread>
  <message>recv:&lt;LF&gt;--Done--&lt;CR&gt;&lt;LF&gt;&gt; &lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:28:43</date>
  <millis>1478806123782</millis>
  <sequence>6397</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:28:43</date>
  <millis>1478806123785</millis>
  <sequence>6398</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>259</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;&gt; &lt;CR&gt;</message>
</record>
<record>
  <date>2016-11-11T03:28:43</date>
  <millis>1478806123787</millis>
  <sequence>6399</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>259</thread>
  <message>recv:&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T03:28:43</date>
  <millis>1478806123844</millis>
  <sequence>6400</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>259</thread>
  <message>Operation done. Duration = 644 ms</message>
</record>
<record>
  <date>2016-11-11T03:28:47</date>
  <millis>1478806127566</millis>
  <sequence>6401</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileManager: Add EventListener: Success.</message>
</record>
<record>
  <date>2016-11-11T03:28:47</date>
  <millis>1478806127576</millis>
  <sequence>6402</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileManager: Starting...</message>
</record>
<record>
  <date>2016-11-11T03:28:47</date>
  <millis>1478806127708</millis>
  <sequence>6403</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending: _dir=function() local k,v,l print("~~~File ".."list START~~~") for k,v in pairs(file.list()) do l = string.format("%-15s",k) print(l.." : "..v.." bytes") end print("~~~File ".."list END~~~") end _dir() _dir=nil</message>
</record>
<record>
  <date>2016-11-11T03:28:47</date>
  <millis>1478806127880</millis>
  <sequence>6404</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>261</thread>
  <message>FileManager: File list found! Do parsing...</message>
</record>
<record>
  <date>2016-11-11T03:28:47</date>
  <millis>1478806127886</millis>
  <sequence>6405</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>261</thread>
  <message>FileManager found file config.txt</message>
</record>
<record>
  <date>2016-11-11T03:28:47</date>
  <millis>1478806127895</millis>
  <sequence>6406</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>261</thread>
  <message>FileManager found file control.lua</message>
</record>
<record>
  <date>2016-11-11T03:28:47</date>
  <millis>1478806127906</millis>
  <sequence>6407</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>261</thread>
  <message>FileManager found file init.lua</message>
</record>
<record>
  <date>2016-11-11T03:28:47</date>
  <millis>1478806127911</millis>
  <sequence>6408</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>261</thread>
  <message>FileManager found file misc.lua</message>
</record>
<record>
  <date>2016-11-11T03:28:47</date>
  <millis>1478806127921</millis>
  <sequence>6409</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>261</thread>
  <message>FileManager found file mqtt.lua</message>
</record>
<record>
  <date>2016-11-11T03:28:47</date>
  <millis>1478806127928</millis>
  <sequence>6410</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>261</thread>
  <message>FileManager found file mqtt_config.lua</message>
</record>
<record>
  <date>2016-11-11T03:28:47</date>
  <millis>1478806127930</millis>
  <sequence>6411</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>261</thread>
  <message>FileManager: File list parsing done, found 6 file(s).</message>
</record>
<record>
  <date>2016-11-11T03:28:47</date>
  <millis>1478806127962</millis>
  <sequence>6412</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>261</thread>
  <message>sending:r,u,t=file.fsinfo() print("Total : "..t.." bytes\r\nUsed  : "..u.." bytes\r\nRemain: "..r.." bytes\r\n") r=nil u=nil t=nil&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:28:51</date>
  <millis>1478806131863</millis>
  <sequence>6413</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:dofile("mqtt.lua")&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:29:31</date>
  <millis>1478806171529</millis>
  <sequence>6414</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>We save known file mqtt.lua</message>
</record>
<record>
  <date>2016-11-11T03:29:31</date>
  <millis>1478806171530</millis>
  <sequence>6415</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to saving file mqtt.lua ...</message>
</record>
<record>
  <date>2016-11-11T03:29:31</date>
  <millis>1478806171532</millis>
  <sequence>6416</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Save file mqtt.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T03:29:31</date>
  <millis>1478806171534</millis>
  <sequence>6417</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP: Try to save file to ESP...</message>
</record>
<record>
  <date>2016-11-11T03:29:31</date>
  <millis>1478806171535</millis>
  <sequence>6418</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Try to save file to ESP in Turbo Mode...</message>
</record>
<record>
  <date>2016-11-11T03:29:31</date>
  <millis>1478806171542</millis>
  <sequence>6419</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>DataTurboSender: start "Smart Mode"</message>
</record>
<record>
  <date>2016-11-11T03:29:31</date>
  <millis>1478806171543</millis>
  <sequence>6420</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Starting...</message>
</record>
<record>
  <date>2016-11-11T03:29:31</date>
  <millis>1478806171685</millis>
  <sequence>6421</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local FILE="mqtt.lua" file.remove(FILE) file.open(FILE,"w+") uart.setup(0,115200,8,0,1,0)</message>
</record>
<record>
  <date>2016-11-11T03:29:31</date>
  <millis>1478806171687</millis>
  <sequence>6422</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>263</thread>
  <message>recv:lo</message>
</record>
<record>
  <date>2016-11-11T03:29:31</date>
  <millis>1478806171689</millis>
  <sequence>6423</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>263</thread>
  <message>recv:cal FILE="mqtt.lua" </message>
</record>
<record>
  <date>2016-11-11T03:29:31</date>
  <millis>1478806171690</millis>
  <sequence>6424</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>263</thread>
  <message>recv:file.remove</message>
</record>
<record>
  <date>2016-11-11T03:29:31</date>
  <millis>1478806171691</millis>
  <sequence>6425</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>263</thread>
  <message>recv:(FILE) file.ope</message>
</record>
<record>
  <date>2016-11-11T03:29:31</date>
  <millis>1478806171693</millis>
  <sequence>6426</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>263</thread>
  <message>recv:n(FILE,"w+") uart.setup(0,</message>
</record>
<record>
  <date>2016-11-11T03:29:31</date>
  <millis>1478806171695</millis>
  <sequence>6427</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>263</thread>
  <message>recv:115200,8,0,1,0)&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:29:31</date>
  <millis>1478806171875</millis>
  <sequence>6428</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>263</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:29:31</date>
  <millis>1478806171893</millis>
  <sequence>6429</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_Receiver=function(rcvBuf) if string.match(rcvBuf,"^ESP_cmd_close")==nil then file.write(string.gsub(rcvBuf, '\r', '')) uart.write(0, "&gt; ") else uart.on("data") </message>
</record>
<record>
  <date>2016-11-11T03:29:31</date>
  <millis>1478806171920</millis>
  <sequence>6430</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>263</thread>
  <message>recv:&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T03:29:31</date>
  <millis>1478806171933</millis>
  <sequence>6431</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:file.flush() file.close() FILE=nil rcvBuf=nil ESP_Receiver=nil uart.setup(0,115200,8,0,1,1) str="\r\n--Done--\r\n&gt; " print(str) str=nil collectgarbage() end end uart.on("data",'\r',ESP_Receiver,0)</message>
</record>
<record>
  <date>2016-11-11T03:29:31</date>
  <millis>1478806171972</millis>
  <sequence>6432</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>263</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:29:31</date>
  <millis>1478806171985</millis>
  <sequence>6433</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:control = require "control"

mqtt_conf = require "mqtt_config"

print ()

print("Running file mqtt")
tmr.delay(100000)

control.status_LED(2000)

gpio6 = 6
gpio.mode(gpio6, gpio.OUTPUT)
gpio.write(gpio6, gpio.LOW)

gpio7 = 7
gpio.mode(gpio7, gpio.OUTPUT)</message>
</record>
<record>
  <date>2016-11-11T03:29:32</date>
  <millis>1478806172015</millis>
  <sequence>6434</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>263</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:29:32</date>
  <millis>1478806172036</millis>
  <sequence>6435</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:
gpio.write(gpio7, gpio.LOW)

print (mqtt_conf.MQTTPASS)
-- init mqtt client with keepalive timer 120sec
m = mqtt.Client(mqtt_conf.ENDPOINT, 120, mqtt_conf.MQTTUSER, mqtt_conf.MQTTPASS)

-- setup Last Will and Testament (optional)
-- Broker will publish </message>
</record>
<record>
  <date>2016-11-11T03:29:32</date>
  <millis>1478806172068</millis>
  <sequence>6436</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>263</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:29:32</date>
  <millis>1478806172087</millis>
  <sequence>6437</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:a message with qos = 0, retain = 0, data = "offline" 
-- to topic "/lwt" if client don't send keepalive packet
m:lwt("/lwt", "offline", 0, 0)

m:on("connect", function(client) print ("connected") end)
m:on("offline", function(client) print ("offline") en</message>
</record>
<record>
  <date>2016-11-11T03:29:32</date>
  <millis>1478806172118</millis>
  <sequence>6438</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>263</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:29:32</date>
  <millis>1478806172137</millis>
  <sequence>6439</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:d)

-- on publish message receive event
m:on("message", function(conn, topic, data)
  print("Topic   " ..topic.. " get info. If command match then will run" )
  if topic == "Light1" then
    if data == "ON" then
        print("received message: ON @ ligh</message>
</record>
<record>
  <date>2016-11-11T03:29:32</date>
  <millis>1478806172169</millis>
  <sequence>6440</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>263</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:29:32</date>
  <millis>1478806172182</millis>
  <sequence>6441</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:t1")
        gpio.write(gpio6, gpio.HIGH)
    end
    if data == "OFF" then
        print("received message: OFF @ light1")
        gpio.write(gpio6, gpio.LOW)
    end
    
  end
    
  if topic == "Light2" then
    if data == "ON" then
        print("re</message>
</record>
<record>
  <date>2016-11-11T03:29:32</date>
  <millis>1478806172214</millis>
  <sequence>6442</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>263</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:29:32</date>
  <millis>1478806172227</millis>
  <sequence>6443</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ceived message: ON @ light2")
        gpio.write(gpio7, gpio.HIGH)
    end
    if data == "OFF" then
        print("received message: OFF @ light2")
        gpio.write(gpio7, gpio.LOW)
    end
    
  end
     
end)

-- send0/publish chip ID
m:connect("m1</message>
</record>
<record>
  <date>2016-11-11T03:29:32</date>
  <millis>1478806172258</millis>
  <sequence>6444</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>263</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:29:32</date>
  <millis>1478806172270</millis>
  <sequence>6445</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:1.cloudmqtt.com", 19311, 0, function(conn)
    print("Your ID: " ..node.chipid().." connected")
    -- subscribe both topic
    m:subscribe({["Light1"]=0, ["Light2"]=0}, function(conn) 
        print("subscribe Light 1 and 2 success")
    end)
        
 </message>
</record>
<record>
  <date>2016-11-11T03:29:32</date>
  <millis>1478806172303</millis>
  <sequence>6446</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>263</thread>
  <message>recv:&gt;</message>
</record>
<record>
  <date>2016-11-11T03:29:32</date>
  <millis>1478806172304</millis>
  <sequence>6447</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>263</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T03:29:32</date>
  <millis>1478806172323</millis>
  <sequence>6448</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:   m:publish("ID is: ", node.chipid(),0,0, function(conn) 
        print("sent ID") 
    end)
end)



</message>
</record>
<record>
  <date>2016-11-11T03:29:32</date>
  <millis>1478806172341</millis>
  <sequence>6449</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>263</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:29:32</date>
  <millis>1478806172354</millis>
  <sequence>6450</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_cmd_close</message>
</record>
<record>
  <date>2016-11-11T03:29:32</date>
  <millis>1478806172367</millis>
  <sequence>6451</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>263</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;-</message>
</record>
<record>
  <date>2016-11-11T03:29:32</date>
  <millis>1478806172368</millis>
  <sequence>6452</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>263</thread>
  <message>recv:-Done--&lt;CR&gt;&lt;LF&gt;&gt; &lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:29:32</date>
  <millis>1478806172397</millis>
  <sequence>6453</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:29:32</date>
  <millis>1478806172400</millis>
  <sequence>6454</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>263</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;&gt;</message>
</record>
<record>
  <date>2016-11-11T03:29:32</date>
  <millis>1478806172401</millis>
  <sequence>6455</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>263</thread>
  <message>recv: &lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T03:29:32</date>
  <millis>1478806172433</millis>
  <sequence>6456</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:dofile("mqtt.lua")</message>
</record>
<record>
  <date>2016-11-11T03:29:32</date>
  <millis>1478806172435</millis>
  <sequence>6457</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>263</thread>
  <message>recv:do</message>
</record>
<record>
  <date>2016-11-11T03:29:32</date>
  <millis>1478806172437</millis>
  <sequence>6458</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>263</thread>
  <message>recv:file("mqtt.lua")&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:29:32</date>
  <millis>1478806172478</millis>
  <sequence>6459</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>263</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:29:32</date>
  <millis>1478806172480</millis>
  <sequence>6460</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>263</thread>
  <message>recv:Run</message>
</record>
<record>
  <date>2016-11-11T03:29:32</date>
  <millis>1478806172483</millis>
  <sequence>6461</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>263</thread>
  <message>recv:ning file mqtt&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:29:32</date>
  <millis>1478806172588</millis>
  <sequence>6462</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>263</thread>
  <message>recv:ed</message>
</record>
<record>
  <date>2016-11-11T03:29:32</date>
  <millis>1478806172589</millis>
  <sequence>6463</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>263</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:29:32</date>
  <millis>1478806172602</millis>
  <sequence>6464</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>263</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:29:32</date>
  <millis>1478806172648</millis>
  <sequence>6465</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>263</thread>
  <message>Operation done. Duration = 1113 ms</message>
</record>
<record>
  <date>2016-11-11T03:29:37</date>
  <millis>1478806177123</millis>
  <sequence>6466</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:node.restart()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:29:37</date>
  <millis>1478806177124</millis>
  <sequence>6467</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with saved baud 115200...</message>
</record>
<record>
  <date>2016-11-11T03:29:37</date>
  <millis>1478806177186</millis>
  <sequence>6468</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success. Now we waiting for ESP reboot...</message>
</record>
<record>
  <date>2016-11-11T03:29:39</date>
  <millis>1478806179189</millis>
  <sequence>6469</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with baud 115200...</message>
</record>
<record>
  <date>2016-11-11T03:29:39</date>
  <millis>1478806179192</millis>
  <sequence>6470</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:print(uart.setup(0, 115200, 8, 0, 1, 1 ))&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:29:39</date>
  <millis>1478806179454</millis>
  <sequence>6471</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success.</message>
</record>
<record>
  <date>2016-11-11T03:29:39</date>
  <millis>1478806179502</millis>
  <sequence>6472</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:29:39</date>
  <millis>1478806179505</millis>
  <sequence>6473</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>264</thread>
  <message>
Communication with MCU established.</message>
</record>
<record>
  <date>2016-11-11T03:30:08</date>
  <millis>1478806208208</millis>
  <sequence>6474</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>We save known file mqtt.lua</message>
</record>
<record>
  <date>2016-11-11T03:30:08</date>
  <millis>1478806208212</millis>
  <sequence>6475</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to saving file mqtt.lua ...</message>
</record>
<record>
  <date>2016-11-11T03:30:08</date>
  <millis>1478806208214</millis>
  <sequence>6476</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Save file mqtt.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T03:30:08</date>
  <millis>1478806208219</millis>
  <sequence>6477</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP: Try to save file to ESP...</message>
</record>
<record>
  <date>2016-11-11T03:30:08</date>
  <millis>1478806208229</millis>
  <sequence>6478</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Try to save file to ESP in Turbo Mode...</message>
</record>
<record>
  <date>2016-11-11T03:30:08</date>
  <millis>1478806208243</millis>
  <sequence>6479</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>DataTurboSender: start "Smart Mode"</message>
</record>
<record>
  <date>2016-11-11T03:30:08</date>
  <millis>1478806208246</millis>
  <sequence>6480</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Starting...</message>
</record>
<record>
  <date>2016-11-11T03:30:08</date>
  <millis>1478806208371</millis>
  <sequence>6481</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local FILE="mqtt.lua" file.remove(FILE) file.open(FILE,"w+") uart.setup(0,115200,8,0,1,0)</message>
</record>
<record>
  <date>2016-11-11T03:30:08</date>
  <millis>1478806208373</millis>
  <sequence>6482</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>265</thread>
  <message>recv:loca</message>
</record>
<record>
  <date>2016-11-11T03:30:08</date>
  <millis>1478806208375</millis>
  <sequence>6483</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>265</thread>
  <message>recv:l FILE="mqtt.lua" f</message>
</record>
<record>
  <date>2016-11-11T03:30:08</date>
  <millis>1478806208377</millis>
  <sequence>6484</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>265</thread>
  <message>recv:ile.remove(FILE) file.open(FIL</message>
</record>
<record>
  <date>2016-11-11T03:30:08</date>
  <millis>1478806208379</millis>
  <sequence>6485</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>265</thread>
  <message>recv:E,"w+") uart.setup(0,</message>
</record>
<record>
  <date>2016-11-11T03:30:08</date>
  <millis>1478806208380</millis>
  <sequence>6486</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>265</thread>
  <message>recv:115200,8,0,1,0)</message>
</record>
<record>
  <date>2016-11-11T03:30:08</date>
  <millis>1478806208381</millis>
  <sequence>6487</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>265</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:30:08</date>
  <millis>1478806208568</millis>
  <sequence>6488</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>265</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:30:08</date>
  <millis>1478806208583</millis>
  <sequence>6489</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_Receiver=function(rcvBuf) if string.match(rcvBuf,"^ESP_cmd_close")==nil then file.write(string.gsub(rcvBuf, '\r', '')) uart.write(0, "&gt; ") else uart.on("data") </message>
</record>
<record>
  <date>2016-11-11T03:30:08</date>
  <millis>1478806208610</millis>
  <sequence>6490</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>265</thread>
  <message>recv:&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T03:30:08</date>
  <millis>1478806208624</millis>
  <sequence>6491</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:file.flush() file.close() FILE=nil rcvBuf=nil ESP_Receiver=nil uart.setup(0,115200,8,0,1,1) str="\r\n--Done--\r\n&gt; " print(str) str=nil collectgarbage() end end uart.on("data",'\r',ESP_Receiver,0)</message>
</record>
<record>
  <date>2016-11-11T03:30:08</date>
  <millis>1478806208666</millis>
  <sequence>6492</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>265</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:30:08</date>
  <millis>1478806208681</millis>
  <sequence>6493</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:control = require "control"

mqtt_conf = require "mqtt_config"

print ()

print("Running file mqtt")
tmr.delay(100000)

control.status_LED(2000)

gpio6 = 6
gpio.mode(gpio6, gpio.OUTPUT)
gpio.write(gpio6, gpio.LOW)

gpio7 = 7
gpio.mode(gpio7, gpio.OUTPUT)</message>
</record>
<record>
  <date>2016-11-11T03:30:08</date>
  <millis>1478806208710</millis>
  <sequence>6494</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>265</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:30:08</date>
  <millis>1478806208727</millis>
  <sequence>6495</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:
gpio.write(gpio7, gpio.LOW)

print (mqtt_conf.MQTTPASS)

-- init mqtt client with keepalive timer 120sec
m = mqtt.Client(mqtt_conf.ENDPOINT, 120, mqtt_conf.MQTTUSER, mqtt_conf.MQTTPASS)

-- setup Last Will and Testament (optional)
-- Broker will publish</message>
</record>
<record>
  <date>2016-11-11T03:30:08</date>
  <millis>1478806208759</millis>
  <sequence>6496</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>265</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:30:08</date>
  <millis>1478806208773</millis>
  <sequence>6497</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending: a message with qos = 0, retain = 0, data = "offline" 
-- to topic "/lwt" if client don't send keepalive packet
m:lwt("/lwt", "offline", 0, 0)

m:on("connect", function(client) print ("connected") end)
m:on("offline", function(client) print ("offline") e</message>
</record>
<record>
  <date>2016-11-11T03:30:08</date>
  <millis>1478806208804</millis>
  <sequence>6498</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>265</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:30:08</date>
  <millis>1478806208822</millis>
  <sequence>6499</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:nd)

-- on publish message receive event
m:on("message", function(conn, topic, data)
  print("Topic   " ..topic.. " get info. If command match then will run" )
  if topic == "Light1" then
    if data == "ON" then
        print("received message: ON @ lig</message>
</record>
<record>
  <date>2016-11-11T03:30:08</date>
  <millis>1478806208854</millis>
  <sequence>6500</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>265</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:30:08</date>
  <millis>1478806208868</millis>
  <sequence>6501</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ht1")
        gpio.write(gpio6, gpio.HIGH)
    end
    if data == "OFF" then
        print("received message: OFF @ light1")
        gpio.write(gpio6, gpio.LOW)
    end
    
  end
    
  if topic == "Light2" then
    if data == "ON" then
        print("r</message>
</record>
<record>
  <date>2016-11-11T03:30:08</date>
  <millis>1478806208899</millis>
  <sequence>6502</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>265</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:30:08</date>
  <millis>1478806208913</millis>
  <sequence>6503</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:eceived message: ON @ light2")
        gpio.write(gpio7, gpio.HIGH)
    end
    if data == "OFF" then
        print("received message: OFF @ light2")
        gpio.write(gpio7, gpio.LOW)
    end
    
  end
     
end)

-- send0/publish chip ID
m:connect("m</message>
</record>
<record>
  <date>2016-11-11T03:30:08</date>
  <millis>1478806208945</millis>
  <sequence>6504</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>265</thread>
  <message>recv:&gt;</message>
</record>
<record>
  <date>2016-11-11T03:30:08</date>
  <millis>1478806208946</millis>
  <sequence>6505</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>265</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T03:30:08</date>
  <millis>1478806208966</millis>
  <sequence>6506</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:11.cloudmqtt.com", 19311, 0, function(conn)
    print("Your ID: " ..node.chipid().." connected")
    -- subscribe both topic
    m:subscribe({["Light1"]=0, ["Light2"]=0}, function(conn) 
        print("subscribe Light 1 and 2 success")
    end)
        
</message>
</record>
<record>
  <date>2016-11-11T03:30:08</date>
  <millis>1478806208997</millis>
  <sequence>6507</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>265</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:30:09</date>
  <millis>1478806209014</millis>
  <sequence>6508</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:    m:publish("ID is: ", node.chipid(),0,0, function(conn) 
        print("sent ID") 
    end)
end)



</message>
</record>
<record>
  <date>2016-11-11T03:30:09</date>
  <millis>1478806209033</millis>
  <sequence>6509</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>265</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:30:09</date>
  <millis>1478806209046</millis>
  <sequence>6510</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_cmd_close</message>
</record>
<record>
  <date>2016-11-11T03:30:09</date>
  <millis>1478806209059</millis>
  <sequence>6511</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>265</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;--</message>
</record>
<record>
  <date>2016-11-11T03:30:09</date>
  <millis>1478806209061</millis>
  <sequence>6512</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>265</thread>
  <message>recv:Done--&lt;CR&gt;&lt;LF&gt;&gt; &lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:30:09</date>
  <millis>1478806209082</millis>
  <sequence>6513</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:30:09</date>
  <millis>1478806209084</millis>
  <sequence>6514</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>265</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:30:09</date>
  <millis>1478806209087</millis>
  <sequence>6515</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>265</thread>
  <message>recv:&gt; &lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T03:30:09</date>
  <millis>1478806209124</millis>
  <sequence>6516</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:dofile("mqtt.lua")</message>
</record>
<record>
  <date>2016-11-11T03:30:09</date>
  <millis>1478806209128</millis>
  <sequence>6517</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>265</thread>
  <message>recv:dofi</message>
</record>
<record>
  <date>2016-11-11T03:30:09</date>
  <millis>1478806209130</millis>
  <sequence>6518</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>265</thread>
  <message>recv:le("mqtt.lua")&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:30:09</date>
  <millis>1478806209171</millis>
  <sequence>6519</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>265</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:30:09</date>
  <millis>1478806209173</millis>
  <sequence>6520</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>265</thread>
  <message>recv:Run</message>
</record>
<record>
  <date>2016-11-11T03:30:09</date>
  <millis>1478806209176</millis>
  <sequence>6521</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>265</thread>
  <message>recv:ning file mqtt&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:30:09</date>
  <millis>1478806209281</millis>
  <sequence>6522</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>265</thread>
  <message>recv:9JMcxVe</message>
</record>
<record>
  <date>2016-11-11T03:30:09</date>
  <millis>1478806209283</millis>
  <sequence>6523</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>265</thread>
  <message>recv:UNz3t&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:30:09</date>
  <millis>1478806209294</millis>
  <sequence>6524</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>265</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:30:09</date>
  <millis>1478806209364</millis>
  <sequence>6525</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>265</thread>
  <message>Operation done. Duration = 1133 ms</message>
</record>
<record>
  <date>2016-11-11T03:30:50</date>
  <millis>1478806250897</millis>
  <sequence>6526</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>We save known file mqtt.lua</message>
</record>
<record>
  <date>2016-11-11T03:30:50</date>
  <millis>1478806250899</millis>
  <sequence>6527</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to saving file mqtt.lua ...</message>
</record>
<record>
  <date>2016-11-11T03:30:50</date>
  <millis>1478806250901</millis>
  <sequence>6528</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Save file mqtt.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T03:30:50</date>
  <millis>1478806250906</millis>
  <sequence>6529</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP: Try to save file to ESP...</message>
</record>
<record>
  <date>2016-11-11T03:30:50</date>
  <millis>1478806250907</millis>
  <sequence>6530</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Try to save file to ESP in Turbo Mode...</message>
</record>
<record>
  <date>2016-11-11T03:30:50</date>
  <millis>1478806250922</millis>
  <sequence>6531</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>DataTurboSender: start "Smart Mode"</message>
</record>
<record>
  <date>2016-11-11T03:30:50</date>
  <millis>1478806250923</millis>
  <sequence>6532</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Starting...</message>
</record>
<record>
  <date>2016-11-11T03:30:51</date>
  <millis>1478806251047</millis>
  <sequence>6533</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local FILE="mqtt.lua" file.remove(FILE) file.open(FILE,"w+") uart.setup(0,115200,8,0,1,0)</message>
</record>
<record>
  <date>2016-11-11T03:30:51</date>
  <millis>1478806251052</millis>
  <sequence>6534</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>267</thread>
  <message>recv:lo</message>
</record>
<record>
  <date>2016-11-11T03:30:51</date>
  <millis>1478806251053</millis>
  <sequence>6535</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>267</thread>
  <message>recv:cal FILE="mqtt.lua" file.remove(FILE)</message>
</record>
<record>
  <date>2016-11-11T03:30:51</date>
  <millis>1478806251054</millis>
  <sequence>6536</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>267</thread>
  <message>recv: file.open(</message>
</record>
<record>
  <date>2016-11-11T03:30:51</date>
  <millis>1478806251055</millis>
  <sequence>6537</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>267</thread>
  <message>recv:FILE,"w+") u</message>
</record>
<record>
  <date>2016-11-11T03:30:51</date>
  <millis>1478806251056</millis>
  <sequence>6538</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>267</thread>
  <message>recv:art.setup(</message>
</record>
<record>
  <date>2016-11-11T03:30:51</date>
  <millis>1478806251057</millis>
  <sequence>6539</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>267</thread>
  <message>recv:0,115200,8,0,</message>
</record>
<record>
  <date>2016-11-11T03:30:51</date>
  <millis>1478806251058</millis>
  <sequence>6540</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>267</thread>
  <message>recv:1,0)&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:30:51</date>
  <millis>1478806251238</millis>
  <sequence>6541</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>267</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:30:51</date>
  <millis>1478806251278</millis>
  <sequence>6542</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_Receiver=function(rcvBuf) if string.match(rcvBuf,"^ESP_cmd_close")==nil then file.write(string.gsub(rcvBuf, '\r', '')) uart.write(0, "&gt; ") else uart.on("data") </message>
</record>
<record>
  <date>2016-11-11T03:30:51</date>
  <millis>1478806251317</millis>
  <sequence>6543</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>267</thread>
  <message>recv:&gt;&gt;</message>
</record>
<record>
  <date>2016-11-11T03:30:51</date>
  <millis>1478806251320</millis>
  <sequence>6544</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>267</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T03:30:51</date>
  <millis>1478806251339</millis>
  <sequence>6545</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:file.flush() file.close() FILE=nil rcvBuf=nil ESP_Receiver=nil uart.setup(0,115200,8,0,1,1) str="\r\n--Done--\r\n&gt; " print(str) str=nil collectgarbage() end end uart.on("data",'\r',ESP_Receiver,0)</message>
</record>
<record>
  <date>2016-11-11T03:30:51</date>
  <millis>1478806251380</millis>
  <sequence>6546</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>267</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:30:51</date>
  <millis>1478806251401</millis>
  <sequence>6547</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:control = require "control"

mqtt_conf = require "mqtt_config"

print ()

print("Running file mqtt")
tmr.delay(100000)

control.status_LED(2000)

gpio6 = 6
gpio.mode(gpio6, gpio.OUTPUT)
gpio.write(gpio6, gpio.LOW)

gpio7 = 7
gpio.mode(gpio7, gpio.OUTPUT)</message>
</record>
<record>
  <date>2016-11-11T03:30:51</date>
  <millis>1478806251432</millis>
  <sequence>6548</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>267</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:30:51</date>
  <millis>1478806251446</millis>
  <sequence>6549</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:
gpio.write(gpio7, gpio.LOW)

print (mqtt_conf.MQTTPASS)

-- init mqtt client with keepalive timer 120sec
m = mqtt.Client("nodemcu/", 120, "swqzxezhr", "9JMcxVeUNz3t")

-- setup Last Will and Testament (optional)
-- Broker will publish a message with qos</message>
</record>
<record>
  <date>2016-11-11T03:30:51</date>
  <millis>1478806251483</millis>
  <sequence>6550</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>267</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:30:51</date>
  <millis>1478806251508</millis>
  <sequence>6551</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending: = 0, retain = 0, data = "offline" 
-- to topic "/lwt" if client don't send keepalive packet
m:lwt("/lwt", "offline", 0, 0)

m:on("connect", function(client) print ("connected") end)
m:on("offline", function(client) print ("offline") end)

-- on publish </message>
</record>
<record>
  <date>2016-11-11T03:30:51</date>
  <millis>1478806251541</millis>
  <sequence>6552</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>267</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:30:51</date>
  <millis>1478806251555</millis>
  <sequence>6553</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:message receive event
m:on("message", function(conn, topic, data)
  print("Topic   " ..topic.. " get info. If command match then will run" )
  if topic == "Light1" then
    if data == "ON" then
        print("received message: ON @ light1")
        gpio.</message>
</record>
<record>
  <date>2016-11-11T03:30:51</date>
  <millis>1478806251586</millis>
  <sequence>6554</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>267</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:30:51</date>
  <millis>1478806251599</millis>
  <sequence>6555</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:write(gpio6, gpio.HIGH)
    end
    if data == "OFF" then
        print("received message: OFF @ light1")
        gpio.write(gpio6, gpio.LOW)
    end
    
  end
    
  if topic == "Light2" then
    if data == "ON" then
        print("received message: ON</message>
</record>
<record>
  <date>2016-11-11T03:30:51</date>
  <millis>1478806251631</millis>
  <sequence>6556</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>267</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:30:51</date>
  <millis>1478806251650</millis>
  <sequence>6557</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending: @ light2")
        gpio.write(gpio7, gpio.HIGH)
    end
    if data == "OFF" then
        print("received message: OFF @ light2")
        gpio.write(gpio7, gpio.LOW)
    end
    
  end
     
end)

-- send0/publish chip ID
m:connect("m11.cloudmqtt.com", </message>
</record>
<record>
  <date>2016-11-11T03:30:51</date>
  <millis>1478806251682</millis>
  <sequence>6558</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>267</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:30:51</date>
  <millis>1478806251699</millis>
  <sequence>6559</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:19311, 0, function(conn)
    print("Your ID: " ..node.chipid().." connected")
    -- subscribe both topic
    m:subscribe({["Light1"]=0, ["Light2"]=0}, function(conn) 
        print("subscribe Light 1 and 2 success")
    end)
        
    m:publish("ID i</message>
</record>
<record>
  <date>2016-11-11T03:30:51</date>
  <millis>1478806251730</millis>
  <sequence>6560</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>267</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:30:51</date>
  <millis>1478806251749</millis>
  <sequence>6561</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:s: ", node.chipid(),0,0, function(conn) 
        print("sent ID") 
    end)
end)



</message>
</record>
<record>
  <date>2016-11-11T03:30:51</date>
  <millis>1478806251766</millis>
  <sequence>6562</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>267</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:30:51</date>
  <millis>1478806251789</millis>
  <sequence>6563</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_cmd_close</message>
</record>
<record>
  <date>2016-11-11T03:30:51</date>
  <millis>1478806251801</millis>
  <sequence>6564</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>267</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:30:51</date>
  <millis>1478806251802</millis>
  <sequence>6565</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>267</thread>
  <message>recv:--Done--&lt;CR&gt;&lt;LF&gt;&gt; &lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:30:51</date>
  <millis>1478806251837</millis>
  <sequence>6566</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:30:51</date>
  <millis>1478806251839</millis>
  <sequence>6567</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>267</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:30:51</date>
  <millis>1478806251840</millis>
  <sequence>6568</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>267</thread>
  <message>recv:&gt; &lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T03:30:51</date>
  <millis>1478806251880</millis>
  <sequence>6569</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:dofile("mqtt.lua")</message>
</record>
<record>
  <date>2016-11-11T03:30:51</date>
  <millis>1478806251882</millis>
  <sequence>6570</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>267</thread>
  <message>recv:d</message>
</record>
<record>
  <date>2016-11-11T03:30:51</date>
  <millis>1478806251885</millis>
  <sequence>6571</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>267</thread>
  <message>recv:ofile("mqtt.lua")&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:30:51</date>
  <millis>1478806251925</millis>
  <sequence>6572</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>267</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:30:51</date>
  <millis>1478806251927</millis>
  <sequence>6573</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>267</thread>
  <message>recv:Run</message>
</record>
<record>
  <date>2016-11-11T03:30:51</date>
  <millis>1478806251929</millis>
  <sequence>6574</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>267</thread>
  <message>recv:ning file mqtt&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:30:52</date>
  <millis>1478806252034</millis>
  <sequence>6575</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>267</thread>
  <message>recv:9J</message>
</record>
<record>
  <date>2016-11-11T03:30:52</date>
  <millis>1478806252036</millis>
  <sequence>6576</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>267</thread>
  <message>recv:McxVeUNz3t&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:30:52</date>
  <millis>1478806252048</millis>
  <sequence>6577</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>267</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:30:52</date>
  <millis>1478806252100</millis>
  <sequence>6578</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>267</thread>
  <message>Operation done. Duration = 1191 ms</message>
</record>
<record>
  <date>2016-11-11T03:31:17</date>
  <millis>1478806277329</millis>
  <sequence>6579</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>We save known file mqtt.lua</message>
</record>
<record>
  <date>2016-11-11T03:31:17</date>
  <millis>1478806277338</millis>
  <sequence>6580</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to saving file mqtt.lua ...</message>
</record>
<record>
  <date>2016-11-11T03:31:17</date>
  <millis>1478806277341</millis>
  <sequence>6581</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Save file mqtt.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T03:31:17</date>
  <millis>1478806277359</millis>
  <sequence>6582</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP: Try to save file to ESP...</message>
</record>
<record>
  <date>2016-11-11T03:31:17</date>
  <millis>1478806277362</millis>
  <sequence>6583</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Try to save file to ESP in Turbo Mode...</message>
</record>
<record>
  <date>2016-11-11T03:31:17</date>
  <millis>1478806277370</millis>
  <sequence>6584</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>DataTurboSender: start "Smart Mode"</message>
</record>
<record>
  <date>2016-11-11T03:31:17</date>
  <millis>1478806277372</millis>
  <sequence>6585</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Starting...</message>
</record>
<record>
  <date>2016-11-11T03:31:17</date>
  <millis>1478806277503</millis>
  <sequence>6586</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local FILE="mqtt.lua" file.remove(FILE) file.open(FILE,"w+") uart.setup(0,115200,8,0,1,0)</message>
</record>
<record>
  <date>2016-11-11T03:31:17</date>
  <millis>1478806277505</millis>
  <sequence>6587</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>269</thread>
  <message>recv:lo</message>
</record>
<record>
  <date>2016-11-11T03:31:17</date>
  <millis>1478806277507</millis>
  <sequence>6588</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>269</thread>
  <message>recv:cal FILE="mqtt.lua" file</message>
</record>
<record>
  <date>2016-11-11T03:31:17</date>
  <millis>1478806277509</millis>
  <sequence>6589</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>269</thread>
  <message>recv:.remove(FILE) file</message>
</record>
<record>
  <date>2016-11-11T03:31:17</date>
  <millis>1478806277510</millis>
  <sequence>6590</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>269</thread>
  <message>recv:.open(FILE,"w+") u</message>
</record>
<record>
  <date>2016-11-11T03:31:17</date>
  <millis>1478806277511</millis>
  <sequence>6591</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>269</thread>
  <message>recv:art.setup(0,</message>
</record>
<record>
  <date>2016-11-11T03:31:17</date>
  <millis>1478806277512</millis>
  <sequence>6592</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>269</thread>
  <message>recv:115200,8,0,</message>
</record>
<record>
  <date>2016-11-11T03:31:17</date>
  <millis>1478806277513</millis>
  <sequence>6593</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>269</thread>
  <message>recv:1,0)&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:31:17</date>
  <millis>1478806277693</millis>
  <sequence>6594</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>269</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:31:17</date>
  <millis>1478806277707</millis>
  <sequence>6595</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_Receiver=function(rcvBuf) if string.match(rcvBuf,"^ESP_cmd_close")==nil then file.write(string.gsub(rcvBuf, '\r', '')) uart.write(0, "&gt; ") else uart.on("data") </message>
</record>
<record>
  <date>2016-11-11T03:31:17</date>
  <millis>1478806277735</millis>
  <sequence>6596</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>269</thread>
  <message>recv:&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T03:31:17</date>
  <millis>1478806277753</millis>
  <sequence>6597</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:file.flush() file.close() FILE=nil rcvBuf=nil ESP_Receiver=nil uart.setup(0,115200,8,0,1,1) str="\r\n--Done--\r\n&gt; " print(str) str=nil collectgarbage() end end uart.on("data",'\r',ESP_Receiver,0)</message>
</record>
<record>
  <date>2016-11-11T03:31:17</date>
  <millis>1478806277794</millis>
  <sequence>6598</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>269</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:31:17</date>
  <millis>1478806277807</millis>
  <sequence>6599</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:control = require "control"

mqtt_conf = require "mqtt_config"

print("Running file mqtt")
tmr.delay(100000)

control.status_LED(2000)

gpio6 = 6
gpio.mode(gpio6, gpio.OUTPUT)
gpio.write(gpio6, gpio.LOW)

gpio7 = 7
gpio.mode(gpio7, gpio.OUTPUT)
gpio.writ</message>
</record>
<record>
  <date>2016-11-11T03:31:17</date>
  <millis>1478806277836</millis>
  <sequence>6600</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>269</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:31:17</date>
  <millis>1478806277853</millis>
  <sequence>6601</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:e(gpio7, gpio.LOW)

print (mqtt_conf.MQTTPASS)

-- init mqtt client with keepalive timer 120sec
m = mqtt.Client("nodemcu", 120, "swqzxezhr", "9JMcxVeUNz3t")

-- setup Last Will and Testament (optional)
-- Broker will publish a message with qos = 0, retai</message>
</record>
<record>
  <date>2016-11-11T03:31:17</date>
  <millis>1478806277885</millis>
  <sequence>6602</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>269</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:31:17</date>
  <millis>1478806277904</millis>
  <sequence>6603</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:n = 0, data = "offline" 
-- to topic "/lwt" if client don't send keepalive packet
m:lwt("/lwt", "offline", 0, 0)

m:on("connect", function(client) print ("connected") end)
m:on("offline", function(client) print ("offline") end)

-- on publish message rec</message>
</record>
<record>
  <date>2016-11-11T03:31:17</date>
  <millis>1478806277935</millis>
  <sequence>6604</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>269</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:31:17</date>
  <millis>1478806277953</millis>
  <sequence>6605</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:eive event
m:on("message", function(conn, topic, data)
  print("Topic   " ..topic.. " get info. If command match then will run" )
  if topic == "Light1" then
    if data == "ON" then
        print("received message: ON @ light1")
        gpio.write(gpio6</message>
</record>
<record>
  <date>2016-11-11T03:31:17</date>
  <millis>1478806277985</millis>
  <sequence>6606</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>269</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:31:18</date>
  <millis>1478806278003</millis>
  <sequence>6607</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:, gpio.HIGH)
    end
    if data == "OFF" then
        print("received message: OFF @ light1")
        gpio.write(gpio6, gpio.LOW)
    end
    
  end
    
  if topic == "Light2" then
    if data == "ON" then
        print("received message: ON @ light2")</message>
</record>
<record>
  <date>2016-11-11T03:31:18</date>
  <millis>1478806278034</millis>
  <sequence>6608</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>269</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:31:18</date>
  <millis>1478806278051</millis>
  <sequence>6609</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:
        gpio.write(gpio7, gpio.HIGH)
    end
    if data == "OFF" then
        print("received message: OFF @ light2")
        gpio.write(gpio7, gpio.LOW)
    end
    
  end
     
end)

-- send0/publish chip ID
m:connect("m11.cloudmqtt.com", 19311, 0, f</message>
</record>
<record>
  <date>2016-11-11T03:31:18</date>
  <millis>1478806278082</millis>
  <sequence>6610</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>269</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:31:18</date>
  <millis>1478806278099</millis>
  <sequence>6611</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:unction(conn)
    print("Your ID: " ..node.chipid().." connected")
    -- subscribe both topic
    m:subscribe({["Light1"]=0, ["Light2"]=0}, function(conn) 
        print("subscribe Light 1 and 2 success")
    end)
        
    m:publish("ID is: ", node.</message>
</record>
<record>
  <date>2016-11-11T03:31:18</date>
  <millis>1478806278130</millis>
  <sequence>6612</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>269</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:31:18</date>
  <millis>1478806278147</millis>
  <sequence>6613</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:chipid(),0,0, function(conn) 
        print("sent ID") 
    end)
end)



</message>
</record>
<record>
  <date>2016-11-11T03:31:18</date>
  <millis>1478806278162</millis>
  <sequence>6614</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>269</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:31:18</date>
  <millis>1478806278179</millis>
  <sequence>6615</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_cmd_close</message>
</record>
<record>
  <date>2016-11-11T03:31:18</date>
  <millis>1478806278192</millis>
  <sequence>6616</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>269</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;--D</message>
</record>
<record>
  <date>2016-11-11T03:31:18</date>
  <millis>1478806278193</millis>
  <sequence>6617</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>269</thread>
  <message>recv:one--&lt;CR&gt;&lt;LF&gt;&gt; &lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:31:18</date>
  <millis>1478806278216</millis>
  <sequence>6618</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:31:18</date>
  <millis>1478806278217</millis>
  <sequence>6619</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>269</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:31:18</date>
  <millis>1478806278220</millis>
  <sequence>6620</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>269</thread>
  <message>recv:&gt; &lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T03:31:18</date>
  <millis>1478806278260</millis>
  <sequence>6621</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:dofile("mqtt.lua")</message>
</record>
<record>
  <date>2016-11-11T03:31:18</date>
  <millis>1478806278262</millis>
  <sequence>6622</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>269</thread>
  <message>recv:d</message>
</record>
<record>
  <date>2016-11-11T03:31:18</date>
  <millis>1478806278263</millis>
  <sequence>6623</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>269</thread>
  <message>recv:ofile("mqtt.l</message>
</record>
<record>
  <date>2016-11-11T03:31:18</date>
  <millis>1478806278264</millis>
  <sequence>6624</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>269</thread>
  <message>recv:ua")&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:31:18</date>
  <millis>1478806278307</millis>
  <sequence>6625</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>269</thread>
  <message>recv:Run</message>
</record>
<record>
  <date>2016-11-11T03:31:18</date>
  <millis>1478806278309</millis>
  <sequence>6626</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>269</thread>
  <message>recv:ning file mqtt&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:31:18</date>
  <millis>1478806278416</millis>
  <sequence>6627</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>269</thread>
  <message>recv:9JMcxV</message>
</record>
<record>
  <date>2016-11-11T03:31:18</date>
  <millis>1478806278417</millis>
  <sequence>6628</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>269</thread>
  <message>recv:eUNz3t&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:31:18</date>
  <millis>1478806278429</millis>
  <sequence>6629</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>269</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:31:18</date>
  <millis>1478806278490</millis>
  <sequence>6630</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>269</thread>
  <message>Operation done. Duration = 1127 ms</message>
</record>
<record>
  <date>2016-11-11T03:31:19</date>
  <millis>1478806279742</millis>
  <sequence>6631</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:node.restart()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:31:19</date>
  <millis>1478806279750</millis>
  <sequence>6632</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with saved baud 115200...</message>
</record>
<record>
  <date>2016-11-11T03:31:19</date>
  <millis>1478806279818</millis>
  <sequence>6633</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success. Now we waiting for ESP reboot...</message>
</record>
<record>
  <date>2016-11-11T03:31:21</date>
  <millis>1478806281820</millis>
  <sequence>6634</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with baud 115200...</message>
</record>
<record>
  <date>2016-11-11T03:31:21</date>
  <millis>1478806281821</millis>
  <sequence>6635</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:print(uart.setup(0, 115200, 8, 0, 1, 1 ))&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:31:22</date>
  <millis>1478806282083</millis>
  <sequence>6636</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success.</message>
</record>
<record>
  <date>2016-11-11T03:31:22</date>
  <millis>1478806282130</millis>
  <sequence>6637</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:31:22</date>
  <millis>1478806282132</millis>
  <sequence>6638</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>270</thread>
  <message>
Communication with MCU established.</message>
</record>
<record>
  <date>2016-11-11T03:33:31</date>
  <millis>1478806411796</millis>
  <sequence>6639</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:node.restart()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:33:31</date>
  <millis>1478806411797</millis>
  <sequence>6640</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with saved baud 115200...</message>
</record>
<record>
  <date>2016-11-11T03:33:31</date>
  <millis>1478806411861</millis>
  <sequence>6641</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success. Now we waiting for ESP reboot...</message>
</record>
<record>
  <date>2016-11-11T03:33:33</date>
  <millis>1478806413863</millis>
  <sequence>6642</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with baud 115200...</message>
</record>
<record>
  <date>2016-11-11T03:33:33</date>
  <millis>1478806413874</millis>
  <sequence>6643</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:print(uart.setup(0, 115200, 8, 0, 1, 1 ))&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:33:34</date>
  <millis>1478806414135</millis>
  <sequence>6644</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success.</message>
</record>
<record>
  <date>2016-11-11T03:33:34</date>
  <millis>1478806414165</millis>
  <sequence>6645</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:33:34</date>
  <millis>1478806414168</millis>
  <sequence>6646</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>270</thread>
  <message>
Communication with MCU established.</message>
</record>
<record>
  <date>2016-11-11T03:33:34</date>
  <millis>1478806414170</millis>
  <sequence>6647</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>270</thread>
  <message>sending:=node.heap()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:35:41</date>
  <millis>1478806541828</millis>
  <sequence>6648</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:node.restart()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:35:41</date>
  <millis>1478806541830</millis>
  <sequence>6649</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with saved baud 115200...</message>
</record>
<record>
  <date>2016-11-11T03:35:41</date>
  <millis>1478806541892</millis>
  <sequence>6650</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success. Now we waiting for ESP reboot...</message>
</record>
<record>
  <date>2016-11-11T03:35:43</date>
  <millis>1478806543894</millis>
  <sequence>6651</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with baud 115200...</message>
</record>
<record>
  <date>2016-11-11T03:35:43</date>
  <millis>1478806543895</millis>
  <sequence>6652</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:print(uart.setup(0, 115200, 8, 0, 1, 1 ))&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:35:44</date>
  <millis>1478806544158</millis>
  <sequence>6653</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success.</message>
</record>
<record>
  <date>2016-11-11T03:35:44</date>
  <millis>1478806544188</millis>
  <sequence>6654</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:35:44</date>
  <millis>1478806544190</millis>
  <sequence>6655</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>270</thread>
  <message>
Communication with MCU established.</message>
</record>
<record>
  <date>2016-11-11T03:36:51</date>
  <millis>1478806611194</millis>
  <sequence>6656</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>We save known file mqtt.lua</message>
</record>
<record>
  <date>2016-11-11T03:36:51</date>
  <millis>1478806611197</millis>
  <sequence>6657</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to saving file mqtt.lua ...</message>
</record>
<record>
  <date>2016-11-11T03:36:51</date>
  <millis>1478806611200</millis>
  <sequence>6658</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Save file mqtt.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T03:36:51</date>
  <millis>1478806611204</millis>
  <sequence>6659</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP: Try to save file to ESP...</message>
</record>
<record>
  <date>2016-11-11T03:36:51</date>
  <millis>1478806611215</millis>
  <sequence>6660</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Try to save file to ESP in Turbo Mode...</message>
</record>
<record>
  <date>2016-11-11T03:36:51</date>
  <millis>1478806611229</millis>
  <sequence>6661</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>DataTurboSender: start "Smart Mode"</message>
</record>
<record>
  <date>2016-11-11T03:36:51</date>
  <millis>1478806611231</millis>
  <sequence>6662</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Starting...</message>
</record>
<record>
  <date>2016-11-11T03:36:51</date>
  <millis>1478806611357</millis>
  <sequence>6663</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local FILE="mqtt.lua" file.remove(FILE) file.open(FILE,"w+") uart.setup(0,115200,8,0,1,0)</message>
</record>
<record>
  <date>2016-11-11T03:36:51</date>
  <millis>1478806611359</millis>
  <sequence>6664</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>271</thread>
  <message>recv:lo</message>
</record>
<record>
  <date>2016-11-11T03:36:51</date>
  <millis>1478806611361</millis>
  <sequence>6665</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>271</thread>
  <message>recv:cal FILE="mqtt.lua" file.</message>
</record>
<record>
  <date>2016-11-11T03:36:51</date>
  <millis>1478806611363</millis>
  <sequence>6666</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>271</thread>
  <message>recv:remove(FILE) fil</message>
</record>
<record>
  <date>2016-11-11T03:36:51</date>
  <millis>1478806611364</millis>
  <sequence>6667</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>271</thread>
  <message>recv:e.open(FI</message>
</record>
<record>
  <date>2016-11-11T03:36:51</date>
  <millis>1478806611365</millis>
  <sequence>6668</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>271</thread>
  <message>recv:LE,"w+") uar</message>
</record>
<record>
  <date>2016-11-11T03:36:51</date>
  <millis>1478806611366</millis>
  <sequence>6669</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>271</thread>
  <message>recv:t.setup(0,115200,8,0</message>
</record>
<record>
  <date>2016-11-11T03:36:51</date>
  <millis>1478806611368</millis>
  <sequence>6670</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>271</thread>
  <message>recv:,1,0)&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:36:51</date>
  <millis>1478806611555</millis>
  <sequence>6671</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>271</thread>
  <message>recv:&gt;</message>
</record>
<record>
  <date>2016-11-11T03:36:51</date>
  <millis>1478806611559</millis>
  <sequence>6672</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>271</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T03:36:51</date>
  <millis>1478806611581</millis>
  <sequence>6673</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_Receiver=function(rcvBuf) if string.match(rcvBuf,"^ESP_cmd_close")==nil then file.write(string.gsub(rcvBuf, '\r', '')) uart.write(0, "&gt; ") else uart.on("data") </message>
</record>
<record>
  <date>2016-11-11T03:36:51</date>
  <millis>1478806611609</millis>
  <sequence>6674</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>271</thread>
  <message>recv:&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T03:36:51</date>
  <millis>1478806611625</millis>
  <sequence>6675</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:file.flush() file.close() FILE=nil rcvBuf=nil ESP_Receiver=nil uart.setup(0,115200,8,0,1,1) str="\r\n--Done--\r\n&gt; " print(str) str=nil collectgarbage() end end uart.on("data",'\r',ESP_Receiver,0)</message>
</record>
<record>
  <date>2016-11-11T03:36:51</date>
  <millis>1478806611665</millis>
  <sequence>6676</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>271</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:36:51</date>
  <millis>1478806611681</millis>
  <sequence>6677</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:control = require "control"

mqtt_conf = require "mqtt_config"

print("Running file mqtt")
tmr.delay(100000)

control.status_LED(2000)

gpio6 = 6
gpio.mode(gpio6, gpio.OUTPUT)
gpio.write(gpio6, gpio.LOW)

gpio7 = 7
gpio.mode(gpio7, gpio.OUTPUT)
gpio.writ</message>
</record>
<record>
  <date>2016-11-11T03:36:51</date>
  <millis>1478806611711</millis>
  <sequence>6678</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>271</thread>
  <message>recv:&gt;</message>
</record>
<record>
  <date>2016-11-11T03:36:51</date>
  <millis>1478806611713</millis>
  <sequence>6679</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>271</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T03:36:51</date>
  <millis>1478806611732</millis>
  <sequence>6680</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:e(gpio7, gpio.LOW)

print (mqtt_conf.MQTTPASS)

-- init mqtt client with keepalive timer 120sec
m = mqtt.Client("nodemcu", 120, "swqzxezhr", "9JMcxVeUNz3t")

-- setup Last Will and Testament (optional)
-- Broker will publish a message with qos = 0, retai</message>
</record>
<record>
  <date>2016-11-11T03:36:51</date>
  <millis>1478806611763</millis>
  <sequence>6681</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>271</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:36:51</date>
  <millis>1478806611781</millis>
  <sequence>6682</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:n = 0, data = "offline" 
-- to topic "/lwt" if client don't send keepalive packet
m:lwt("/lwt", "offline", 0, 0)

m:on("connect", function(client) print ("connected") end)
m:on("offline", function(client) print ("offline") end)

-- on publish message rec</message>
</record>
<record>
  <date>2016-11-11T03:36:51</date>
  <millis>1478806611812</millis>
  <sequence>6683</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>271</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:36:51</date>
  <millis>1478806611831</millis>
  <sequence>6684</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:eive event
m:on("message", function(conn, topic, data)
  print("Topic   " ..topic.. " get info. If command match then will run" )
  if topic == "Light1" then
    if data == "ON" then
        print("received message: ON @ light1")
        gpio.write(gpio6</message>
</record>
<record>
  <date>2016-11-11T03:36:51</date>
  <millis>1478806611862</millis>
  <sequence>6685</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>271</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:36:51</date>
  <millis>1478806611877</millis>
  <sequence>6686</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:, gpio.HIGH)
    end
    if data == "OFF" then
        print("received message: OFF @ light1")
        gpio.write(gpio6, gpio.LOW)
    end
    
  end
    
  if topic == "Light2" then
    if data == "ON" then
        print("received message: ON @ light2")</message>
</record>
<record>
  <date>2016-11-11T03:36:51</date>
  <millis>1478806611910</millis>
  <sequence>6687</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>271</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:36:51</date>
  <millis>1478806611927</millis>
  <sequence>6688</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:
        gpio.write(gpio7, gpio.HIGH)
    end
    if data == "OFF" then
        print("received message: OFF @ light2")
        gpio.write(gpio7, gpio.LOW)
    end
    
  end
     
end)

-- send0/publish chip ID
m:connect("m11.cloudmqtt.com", 19311, 0, f</message>
</record>
<record>
  <date>2016-11-11T03:36:51</date>
  <millis>1478806611957</millis>
  <sequence>6689</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>271</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:36:51</date>
  <millis>1478806611975</millis>
  <sequence>6690</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:unction(conn)
    print("Your ID: " ..node.chipid().." connected")
    -- subscribe both topic
    m:subscribe({["Light1"]=0, ["Light2"]=0}, function(conn) 
        print("subscribe Light 1 and 2 success")
    end)
        
    m:publish("ID is: ", node.</message>
</record>
<record>
  <date>2016-11-11T03:36:52</date>
  <millis>1478806612007</millis>
  <sequence>6691</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>271</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:36:52</date>
  <millis>1478806612019</millis>
  <sequence>6692</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:chipid(),0,0, function(conn) 
        print("sent ID") 
    end)
end)



</message>
</record>
<record>
  <date>2016-11-11T03:36:52</date>
  <millis>1478806612034</millis>
  <sequence>6693</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>271</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:36:52</date>
  <millis>1478806612048</millis>
  <sequence>6694</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_cmd_close</message>
</record>
<record>
  <date>2016-11-11T03:36:52</date>
  <millis>1478806612060</millis>
  <sequence>6695</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>271</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;-</message>
</record>
<record>
  <date>2016-11-11T03:36:52</date>
  <millis>1478806612062</millis>
  <sequence>6696</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>271</thread>
  <message>recv:-Done--&lt;CR&gt;&lt;LF&gt;&gt; &lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:36:52</date>
  <millis>1478806612086</millis>
  <sequence>6697</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:36:52</date>
  <millis>1478806612087</millis>
  <sequence>6698</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>271</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:36:52</date>
  <millis>1478806612090</millis>
  <sequence>6699</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>271</thread>
  <message>recv:&gt; &lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T03:36:52</date>
  <millis>1478806612125</millis>
  <sequence>6700</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:dofile("mqtt.lua")</message>
</record>
<record>
  <date>2016-11-11T03:36:52</date>
  <millis>1478806612127</millis>
  <sequence>6701</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>271</thread>
  <message>recv:do</message>
</record>
<record>
  <date>2016-11-11T03:36:52</date>
  <millis>1478806612129</millis>
  <sequence>6702</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>271</thread>
  <message>recv:file("mqtt.lua")&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:36:52</date>
  <millis>1478806612173</millis>
  <sequence>6703</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>271</thread>
  <message>recv:Ru</message>
</record>
<record>
  <date>2016-11-11T03:36:52</date>
  <millis>1478806612175</millis>
  <sequence>6704</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>271</thread>
  <message>recv:nning file mqtt&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:36:52</date>
  <millis>1478806612281</millis>
  <sequence>6705</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>271</thread>
  <message>recv:9JMc</message>
</record>
<record>
  <date>2016-11-11T03:36:52</date>
  <millis>1478806612283</millis>
  <sequence>6706</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>271</thread>
  <message>recv:xVeUNz3t&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:36:52</date>
  <millis>1478806612295</millis>
  <sequence>6707</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>271</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:36:52</date>
  <millis>1478806612365</millis>
  <sequence>6708</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>271</thread>
  <message>Operation done. Duration = 1148 ms</message>
</record>
<record>
  <date>2016-11-11T03:36:53</date>
  <millis>1478806613635</millis>
  <sequence>6709</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:node.restart()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:36:53</date>
  <millis>1478806613638</millis>
  <sequence>6710</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with saved baud 115200...</message>
</record>
<record>
  <date>2016-11-11T03:36:53</date>
  <millis>1478806613701</millis>
  <sequence>6711</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success. Now we waiting for ESP reboot...</message>
</record>
<record>
  <date>2016-11-11T03:36:55</date>
  <millis>1478806615703</millis>
  <sequence>6712</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with baud 115200...</message>
</record>
<record>
  <date>2016-11-11T03:36:55</date>
  <millis>1478806615707</millis>
  <sequence>6713</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:print(uart.setup(0, 115200, 8, 0, 1, 1 ))&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:36:55</date>
  <millis>1478806615971</millis>
  <sequence>6714</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success.</message>
</record>
<record>
  <date>2016-11-11T03:36:56</date>
  <millis>1478806616013</millis>
  <sequence>6715</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:36:56</date>
  <millis>1478806616015</millis>
  <sequence>6716</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>272</thread>
  <message>
Communication with MCU established.</message>
</record>
<record>
  <date>2016-11-11T03:38:35</date>
  <millis>1478806715339</millis>
  <sequence>6717</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:dofile("mqtt.lua")&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:38:38</date>
  <millis>1478806718553</millis>
  <sequence>6718</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:dofile("mqtt.lua")&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:38:40</date>
  <millis>1478806720425</millis>
  <sequence>6719</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:dofile("mqtt.lua")&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:41:49</date>
  <millis>1478806909194</millis>
  <sequence>6720</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:dofile("mqtt.lua")&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:42:16</date>
  <millis>1478806936126</millis>
  <sequence>6721</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:node.restart()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:42:16</date>
  <millis>1478806936130</millis>
  <sequence>6722</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with saved baud 115200...</message>
</record>
<record>
  <date>2016-11-11T03:42:16</date>
  <millis>1478806936192</millis>
  <sequence>6723</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success. Now we waiting for ESP reboot...</message>
</record>
<record>
  <date>2016-11-11T03:42:18</date>
  <millis>1478806938197</millis>
  <sequence>6724</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with baud 115200...</message>
</record>
<record>
  <date>2016-11-11T03:42:18</date>
  <millis>1478806938198</millis>
  <sequence>6725</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:print(uart.setup(0, 115200, 8, 0, 1, 1 ))&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:42:18</date>
  <millis>1478806938462</millis>
  <sequence>6726</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success.</message>
</record>
<record>
  <date>2016-11-11T03:42:18</date>
  <millis>1478806938508</millis>
  <sequence>6727</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:42:18</date>
  <millis>1478806938510</millis>
  <sequence>6728</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>272</thread>
  <message>
Communication with MCU established.</message>
</record>
<record>
  <date>2016-11-11T03:42:42</date>
  <millis>1478806962876</millis>
  <sequence>6729</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>We save known file mqtt.lua</message>
</record>
<record>
  <date>2016-11-11T03:42:42</date>
  <millis>1478806962878</millis>
  <sequence>6730</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to saving file mqtt.lua ...</message>
</record>
<record>
  <date>2016-11-11T03:42:42</date>
  <millis>1478806962881</millis>
  <sequence>6731</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Save file mqtt.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T03:42:42</date>
  <millis>1478806962892</millis>
  <sequence>6732</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP: Try to save file to ESP...</message>
</record>
<record>
  <date>2016-11-11T03:42:42</date>
  <millis>1478806962901</millis>
  <sequence>6733</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Try to save file to ESP in Turbo Mode...</message>
</record>
<record>
  <date>2016-11-11T03:42:42</date>
  <millis>1478806962907</millis>
  <sequence>6734</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>DataTurboSender: start "Smart Mode"</message>
</record>
<record>
  <date>2016-11-11T03:42:42</date>
  <millis>1478806962908</millis>
  <sequence>6735</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Starting...</message>
</record>
<record>
  <date>2016-11-11T03:42:43</date>
  <millis>1478806963046</millis>
  <sequence>6736</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local FILE="mqtt.lua" file.remove(FILE) file.open(FILE,"w+") uart.setup(0,115200,8,0,1,0)</message>
</record>
<record>
  <date>2016-11-11T03:42:43</date>
  <millis>1478806963048</millis>
  <sequence>6737</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>273</thread>
  <message>recv:loc</message>
</record>
<record>
  <date>2016-11-11T03:42:43</date>
  <millis>1478806963053</millis>
  <sequence>6738</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>273</thread>
  <message>recv:al FILE="mqtt.lua" file.remove(FILE) file.open(FILE,"w+") u</message>
</record>
<record>
  <date>2016-11-11T03:42:43</date>
  <millis>1478806963054</millis>
  <sequence>6739</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>273</thread>
  <message>recv:art.setup(0,115</message>
</record>
<record>
  <date>2016-11-11T03:42:43</date>
  <millis>1478806963056</millis>
  <sequence>6740</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>273</thread>
  <message>recv:200,8,0,1,0)&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:42:43</date>
  <millis>1478806963244</millis>
  <sequence>6741</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>273</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:42:43</date>
  <millis>1478806963256</millis>
  <sequence>6742</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_Receiver=function(rcvBuf) if string.match(rcvBuf,"^ESP_cmd_close")==nil then file.write(string.gsub(rcvBuf, '\r', '')) uart.write(0, "&gt; ") else uart.on("data") </message>
</record>
<record>
  <date>2016-11-11T03:42:43</date>
  <millis>1478806963284</millis>
  <sequence>6743</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>273</thread>
  <message>recv:&gt;&gt;</message>
</record>
<record>
  <date>2016-11-11T03:42:43</date>
  <millis>1478806963286</millis>
  <sequence>6744</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>273</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T03:42:43</date>
  <millis>1478806963308</millis>
  <sequence>6745</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:file.flush() file.close() FILE=nil rcvBuf=nil ESP_Receiver=nil uart.setup(0,115200,8,0,1,1) str="\r\n--Done--\r\n&gt; " print(str) str=nil collectgarbage() end end uart.on("data",'\r',ESP_Receiver,0)</message>
</record>
<record>
  <date>2016-11-11T03:42:43</date>
  <millis>1478806963350</millis>
  <sequence>6746</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>273</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:42:43</date>
  <millis>1478806963366</millis>
  <sequence>6747</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:control = require "control"

mqtt_conf = require "mqtt_config"

print("Running file mqtt")
tmr.delay(100000)

control.status_LED(2000)

gpio6 = 6
gpio.mode(gpio6, gpio.OUTPUT)
gpio.write(gpio6, gpio.LOW)

gpio7 = 7
gpio.mode(gpio7, gpio.OUTPUT)
gpio.writ</message>
</record>
<record>
  <date>2016-11-11T03:42:43</date>
  <millis>1478806963396</millis>
  <sequence>6748</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>273</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:42:43</date>
  <millis>1478806963413</millis>
  <sequence>6749</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:e(gpio7, gpio.LOW)

print (mqtt_conf.MQTTPASS)

-- init mqtt client with keepalive timer 120sec
m = mqtt.Client("nodemcu",120,"swqzxezhr","9JMcxVeUNz3t")

-- setup Last Will and Testament (optional)
-- Broker will publish a message with qos = 0, retain =</message>
</record>
<record>
  <date>2016-11-11T03:42:43</date>
  <millis>1478806963447</millis>
  <sequence>6750</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>273</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:42:43</date>
  <millis>1478806963465</millis>
  <sequence>6751</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending: 0, data = "offline" 
-- to topic "/lwt" if client don't send keepalive packet
m:lwt("/lwt", "offline", 0, 0)

m:on("connect", function(client) print ("connected") end)
m:on("offline", function(client) print ("offline") end)

-- on publish message receiv</message>
</record>
<record>
  <date>2016-11-11T03:42:43</date>
  <millis>1478806963496</millis>
  <sequence>6752</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>273</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:42:43</date>
  <millis>1478806963515</millis>
  <sequence>6753</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:e event
m:on("message", function(conn, topic, data)
  print("Topic   " ..topic.. " get info. If command match then will run" )
  if topic == "Light1" then
    if data == "ON" then
        print("received message: ON @ light1")
        gpio.write(gpio6, g</message>
</record>
<record>
  <date>2016-11-11T03:42:43</date>
  <millis>1478806963547</millis>
  <sequence>6754</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>273</thread>
  <message>recv:&gt;</message>
</record>
<record>
  <date>2016-11-11T03:42:43</date>
  <millis>1478806963549</millis>
  <sequence>6755</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>273</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T03:42:43</date>
  <millis>1478806963568</millis>
  <sequence>6756</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:pio.HIGH)
    end
    if data == "OFF" then
        print("received message: OFF @ light1")
        gpio.write(gpio6, gpio.LOW)
    end
    
  end
    
  if topic == "Light2" then
    if data == "ON" then
        print("received message: ON @ light2")
  </message>
</record>
<record>
  <date>2016-11-11T03:42:43</date>
  <millis>1478806963599</millis>
  <sequence>6757</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>273</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:42:43</date>
  <millis>1478806963611</millis>
  <sequence>6758</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:      gpio.write(gpio7, gpio.HIGH)
    end
    if data == "OFF" then
        print("received message: OFF @ light2")
        gpio.write(gpio7, gpio.LOW)
    end
    
  end
     
end)

-- send0/publish chip ID
m:connect("m11.cloudmqtt.com", 19311, 0, func</message>
</record>
<record>
  <date>2016-11-11T03:42:43</date>
  <millis>1478806963643</millis>
  <sequence>6759</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>273</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:42:43</date>
  <millis>1478806963657</millis>
  <sequence>6760</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:tion(conn)
    print("Your ID: " ..node.chipid().." connected")
    -- subscribe both topic
    m:subscribe({["Light1"]=0, ["Light2"]=0}, function(conn) 
        print("subscribe Light 1 and 2 success")
    end)
        
    m:publish("ID is: ", node.chi</message>
</record>
<record>
  <date>2016-11-11T03:42:43</date>
  <millis>1478806963688</millis>
  <sequence>6761</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>273</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:42:43</date>
  <millis>1478806963700</millis>
  <sequence>6762</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:pid(),0,0, function(conn) 
        print("sent ID") 
    end)
end)



</message>
</record>
<record>
  <date>2016-11-11T03:42:43</date>
  <millis>1478806963715</millis>
  <sequence>6763</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>273</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:42:43</date>
  <millis>1478806963727</millis>
  <sequence>6764</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_cmd_close</message>
</record>
<record>
  <date>2016-11-11T03:42:43</date>
  <millis>1478806963741</millis>
  <sequence>6765</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>273</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;--D</message>
</record>
<record>
  <date>2016-11-11T03:42:43</date>
  <millis>1478806963742</millis>
  <sequence>6766</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>273</thread>
  <message>recv:one--&lt;CR&gt;&lt;LF&gt;&gt; &lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:42:43</date>
  <millis>1478806963767</millis>
  <sequence>6767</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:42:43</date>
  <millis>1478806963769</millis>
  <sequence>6768</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>273</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:42:43</date>
  <millis>1478806963771</millis>
  <sequence>6769</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>273</thread>
  <message>recv:&gt; &lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T03:42:43</date>
  <millis>1478806963805</millis>
  <sequence>6770</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:dofile("mqtt.lua")</message>
</record>
<record>
  <date>2016-11-11T03:42:43</date>
  <millis>1478806963807</millis>
  <sequence>6771</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>273</thread>
  <message>recv:do</message>
</record>
<record>
  <date>2016-11-11T03:42:43</date>
  <millis>1478806963808</millis>
  <sequence>6772</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>273</thread>
  <message>recv:file("mqtt.lu</message>
</record>
<record>
  <date>2016-11-11T03:42:43</date>
  <millis>1478806963809</millis>
  <sequence>6773</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>273</thread>
  <message>recv:a")&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:42:43</date>
  <millis>1478806963852</millis>
  <sequence>6774</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>273</thread>
  <message>recv:Ru</message>
</record>
<record>
  <date>2016-11-11T03:42:43</date>
  <millis>1478806963853</millis>
  <sequence>6775</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>273</thread>
  <message>recv:nning file mqtt&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:42:43</date>
  <millis>1478806963961</millis>
  <sequence>6776</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>273</thread>
  <message>recv:9JMcxVeUNz3t&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:42:43</date>
  <millis>1478806963974</millis>
  <sequence>6777</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>273</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:42:44</date>
  <millis>1478806964046</millis>
  <sequence>6778</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>273</thread>
  <message>Operation done. Duration = 1143 ms</message>
</record>
<record>
  <date>2016-11-11T03:42:55</date>
  <millis>1478806975908</millis>
  <sequence>6779</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>We save known file mqtt.lua</message>
</record>
<record>
  <date>2016-11-11T03:42:55</date>
  <millis>1478806975908</millis>
  <sequence>6780</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to saving file mqtt.lua ...</message>
</record>
<record>
  <date>2016-11-11T03:42:55</date>
  <millis>1478806975911</millis>
  <sequence>6781</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Save file mqtt.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T03:42:55</date>
  <millis>1478806975918</millis>
  <sequence>6782</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP: Try to save file to ESP...</message>
</record>
<record>
  <date>2016-11-11T03:42:55</date>
  <millis>1478806975924</millis>
  <sequence>6783</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Try to save file to ESP in Turbo Mode...</message>
</record>
<record>
  <date>2016-11-11T03:42:55</date>
  <millis>1478806975939</millis>
  <sequence>6784</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>DataTurboSender: start "Smart Mode"</message>
</record>
<record>
  <date>2016-11-11T03:42:55</date>
  <millis>1478806975940</millis>
  <sequence>6785</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Starting...</message>
</record>
<record>
  <date>2016-11-11T03:42:56</date>
  <millis>1478806976067</millis>
  <sequence>6786</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local FILE="mqtt.lua" file.remove(FILE) file.open(FILE,"w+") uart.setup(0,115200,8,0,1,0)</message>
</record>
<record>
  <date>2016-11-11T03:42:56</date>
  <millis>1478806976069</millis>
  <sequence>6787</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>275</thread>
  <message>recv:loc</message>
</record>
<record>
  <date>2016-11-11T03:42:56</date>
  <millis>1478806976071</millis>
  <sequence>6788</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>275</thread>
  <message>recv:al FILE="mqtt.lua</message>
</record>
<record>
  <date>2016-11-11T03:42:56</date>
  <millis>1478806976073</millis>
  <sequence>6789</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>275</thread>
  <message>recv:" file.remove(FILE</message>
</record>
<record>
  <date>2016-11-11T03:42:56</date>
  <millis>1478806976074</millis>
  <sequence>6790</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>275</thread>
  <message>recv:) file.open(FILE,"</message>
</record>
<record>
  <date>2016-11-11T03:42:56</date>
  <millis>1478806976076</millis>
  <sequence>6791</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>275</thread>
  <message>recv:w+") uart.setup(0,11</message>
</record>
<record>
  <date>2016-11-11T03:42:56</date>
  <millis>1478806976077</millis>
  <sequence>6792</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>275</thread>
  <message>recv:5200,8,0,1,0</message>
</record>
<record>
  <date>2016-11-11T03:42:56</date>
  <millis>1478806976078</millis>
  <sequence>6793</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>275</thread>
  <message>recv:)&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:42:56</date>
  <millis>1478806976257</millis>
  <sequence>6794</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>275</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:42:56</date>
  <millis>1478806976272</millis>
  <sequence>6795</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_Receiver=function(rcvBuf) if string.match(rcvBuf,"^ESP_cmd_close")==nil then file.write(string.gsub(rcvBuf, '\r', '')) uart.write(0, "&gt; ") else uart.on("data") </message>
</record>
<record>
  <date>2016-11-11T03:42:56</date>
  <millis>1478806976299</millis>
  <sequence>6796</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>275</thread>
  <message>recv:&gt;&gt;</message>
</record>
<record>
  <date>2016-11-11T03:42:56</date>
  <millis>1478806976301</millis>
  <sequence>6797</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>275</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T03:42:56</date>
  <millis>1478806976322</millis>
  <sequence>6798</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:file.flush() file.close() FILE=nil rcvBuf=nil ESP_Receiver=nil uart.setup(0,115200,8,0,1,1) str="\r\n--Done--\r\n&gt; " print(str) str=nil collectgarbage() end end uart.on("data",'\r',ESP_Receiver,0)</message>
</record>
<record>
  <date>2016-11-11T03:42:56</date>
  <millis>1478806976363</millis>
  <sequence>6799</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>275</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:42:56</date>
  <millis>1478806976380</millis>
  <sequence>6800</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:control = require "control"

--mqtt_conf = require "mqtt_config"

print("Running file mqtt")
tmr.delay(100000)

control.status_LED(2000)

gpio6 = 6
gpio.mode(gpio6, gpio.OUTPUT)
gpio.write(gpio6, gpio.LOW)

gpio7 = 7
gpio.mode(gpio7, gpio.OUTPUT)
gpio.wr</message>
</record>
<record>
  <date>2016-11-11T03:42:56</date>
  <millis>1478806976410</millis>
  <sequence>6801</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>275</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:42:56</date>
  <millis>1478806976422</millis>
  <sequence>6802</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ite(gpio7, gpio.LOW)

print (mqtt_conf.MQTTPASS)

-- init mqtt client with keepalive timer 120sec
m = mqtt.Client("nodemcu",120,"swqzxezhr","9JMcxVeUNz3t")

-- setup Last Will and Testament (optional)
-- Broker will publish a message with qos = 0, retain</message>
</record>
<record>
  <date>2016-11-11T03:42:56</date>
  <millis>1478806976454</millis>
  <sequence>6803</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>275</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:42:56</date>
  <millis>1478806976468</millis>
  <sequence>6804</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending: = 0, data = "offline" 
-- to topic "/lwt" if client don't send keepalive packet
m:lwt("/lwt", "offline", 0, 0)

m:on("connect", function(client) print ("connected") end)
m:on("offline", function(client) print ("offline") end)

-- on publish message rece</message>
</record>
<record>
  <date>2016-11-11T03:42:56</date>
  <millis>1478806976499</millis>
  <sequence>6805</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>275</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:42:56</date>
  <millis>1478806976522</millis>
  <sequence>6806</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ive event
m:on("message", function(conn, topic, data)
  print("Topic   " ..topic.. " get info. If command match then will run" )
  if topic == "Light1" then
    if data == "ON" then
        print("received message: ON @ light1")
        gpio.write(gpio6,</message>
</record>
<record>
  <date>2016-11-11T03:42:56</date>
  <millis>1478806976554</millis>
  <sequence>6807</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>275</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:42:56</date>
  <millis>1478806976571</millis>
  <sequence>6808</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending: gpio.HIGH)
    end
    if data == "OFF" then
        print("received message: OFF @ light1")
        gpio.write(gpio6, gpio.LOW)
    end
    
  end
    
  if topic == "Light2" then
    if data == "ON" then
        print("received message: ON @ light2")
</message>
</record>
<record>
  <date>2016-11-11T03:42:56</date>
  <millis>1478806976603</millis>
  <sequence>6809</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>275</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:42:56</date>
  <millis>1478806976621</millis>
  <sequence>6810</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:        gpio.write(gpio7, gpio.HIGH)
    end
    if data == "OFF" then
        print("received message: OFF @ light2")
        gpio.write(gpio7, gpio.LOW)
    end
    
  end
     
end)

-- send0/publish chip ID
m:connect("m11.cloudmqtt.com", 19311, 0, fu</message>
</record>
<record>
  <date>2016-11-11T03:42:56</date>
  <millis>1478806976652</millis>
  <sequence>6811</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>275</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:42:56</date>
  <millis>1478806976665</millis>
  <sequence>6812</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:nction(conn)
    print("Your ID: " ..node.chipid().." connected")
    -- subscribe both topic
    m:subscribe({["Light1"]=0, ["Light2"]=0}, function(conn) 
        print("subscribe Light 1 and 2 success")
    end)
        
    m:publish("ID is: ", node.c</message>
</record>
<record>
  <date>2016-11-11T03:42:56</date>
  <millis>1478806976696</millis>
  <sequence>6813</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>275</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:42:56</date>
  <millis>1478806976709</millis>
  <sequence>6814</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:hipid(),0,0, function(conn) 
        print("sent ID") 
    end)
end)



</message>
</record>
<record>
  <date>2016-11-11T03:42:56</date>
  <millis>1478806976724</millis>
  <sequence>6815</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>275</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:42:56</date>
  <millis>1478806976737</millis>
  <sequence>6816</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_cmd_close</message>
</record>
<record>
  <date>2016-11-11T03:42:56</date>
  <millis>1478806976750</millis>
  <sequence>6817</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>275</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:42:56</date>
  <millis>1478806976752</millis>
  <sequence>6818</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>275</thread>
  <message>recv:--Done--&lt;CR&gt;&lt;LF&gt;&gt; &lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:42:56</date>
  <millis>1478806976774</millis>
  <sequence>6819</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:42:56</date>
  <millis>1478806976776</millis>
  <sequence>6820</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>275</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:42:56</date>
  <millis>1478806976777</millis>
  <sequence>6821</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>275</thread>
  <message>recv:&gt; &lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T03:42:56</date>
  <millis>1478806976812</millis>
  <sequence>6822</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:dofile("mqtt.lua")</message>
</record>
<record>
  <date>2016-11-11T03:42:56</date>
  <millis>1478806976814</millis>
  <sequence>6823</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>275</thread>
  <message>recv:do</message>
</record>
<record>
  <date>2016-11-11T03:42:56</date>
  <millis>1478806976815</millis>
  <sequence>6824</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>275</thread>
  <message>recv:file("mqtt.lua")&lt;CR&gt;</message>
</record>
<record>
  <date>2016-11-11T03:42:56</date>
  <millis>1478806976817</millis>
  <sequence>6825</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>275</thread>
  <message>recv:&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:42:56</date>
  <millis>1478806976858</millis>
  <sequence>6826</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>275</thread>
  <message>recv:Runn</message>
</record>
<record>
  <date>2016-11-11T03:42:56</date>
  <millis>1478806976859</millis>
  <sequence>6827</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>275</thread>
  <message>recv:ing file mq</message>
</record>
<record>
  <date>2016-11-11T03:42:56</date>
  <millis>1478806976860</millis>
  <sequence>6828</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>275</thread>
  <message>recv:tt&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:42:56</date>
  <millis>1478806976965</millis>
  <sequence>6829</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>275</thread>
  <message>recv:9J</message>
</record>
<record>
  <date>2016-11-11T03:42:56</date>
  <millis>1478806976966</millis>
  <sequence>6830</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>275</thread>
  <message>recv:McxVeUNz3t&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:42:56</date>
  <millis>1478806976979</millis>
  <sequence>6831</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>275</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:42:57</date>
  <millis>1478806977002</millis>
  <sequence>6832</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>275</thread>
  <message>Operation done. Duration = 1077 ms</message>
</record>
<record>
  <date>2016-11-11T03:44:59</date>
  <millis>1478807099187</millis>
  <sequence>6833</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>File reload: File changed. Ask before reloading.</message>
</record>
<record>
  <date>2016-11-11T03:45:00</date>
  <millis>1478807100656</millis>
  <sequence>6834</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>File reload: Reload anyway by user choice.</message>
</record>
<record>
  <date>2016-11-11T03:45:00</date>
  <millis>1478807100657</millis>
  <sequence>6835</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to load file mqtt.lua</message>
</record>
<record>
  <date>2016-11-11T03:45:00</date>
  <millis>1478807100700</millis>
  <sequence>6836</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Loading mqtt.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T03:45:00</date>
  <millis>1478807100701</millis>
  <sequence>6837</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>File reload: Success.</message>
</record>
<record>
  <date>2016-11-11T03:45:01</date>
  <millis>1478807101592</millis>
  <sequence>6838</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>We save known file mqtt.lua</message>
</record>
<record>
  <date>2016-11-11T03:45:01</date>
  <millis>1478807101593</millis>
  <sequence>6839</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to saving file mqtt.lua ...</message>
</record>
<record>
  <date>2016-11-11T03:45:01</date>
  <millis>1478807101596</millis>
  <sequence>6840</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Save file mqtt.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T03:45:01</date>
  <millis>1478807101602</millis>
  <sequence>6841</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP: Try to save file to ESP...</message>
</record>
<record>
  <date>2016-11-11T03:45:01</date>
  <millis>1478807101604</millis>
  <sequence>6842</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Try to save file to ESP in Turbo Mode...</message>
</record>
<record>
  <date>2016-11-11T03:45:01</date>
  <millis>1478807101611</millis>
  <sequence>6843</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>DataTurboSender: start "Smart Mode"</message>
</record>
<record>
  <date>2016-11-11T03:45:01</date>
  <millis>1478807101612</millis>
  <sequence>6844</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Starting...</message>
</record>
<record>
  <date>2016-11-11T03:45:01</date>
  <millis>1478807101755</millis>
  <sequence>6845</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local FILE="mqtt.lua" file.remove(FILE) file.open(FILE,"w+") uart.setup(0,115200,8,0,1,0)</message>
</record>
<record>
  <date>2016-11-11T03:45:01</date>
  <millis>1478807101758</millis>
  <sequence>6846</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>277</thread>
  <message>recv:loc</message>
</record>
<record>
  <date>2016-11-11T03:45:01</date>
  <millis>1478807101761</millis>
  <sequence>6847</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>277</thread>
  <message>recv:al FILE="mqtt.lua" file.remove(FILE) file.</message>
</record>
<record>
  <date>2016-11-11T03:45:01</date>
  <millis>1478807101763</millis>
  <sequence>6848</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>277</thread>
  <message>recv:open(FILE,"w+") uar</message>
</record>
<record>
  <date>2016-11-11T03:45:01</date>
  <millis>1478807101765</millis>
  <sequence>6849</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>277</thread>
  <message>recv:t.setup(0,115200,8,0,1,0)&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:45:01</date>
  <millis>1478807101915</millis>
  <sequence>6850</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Operation done. Duration = 309 ms</message>
</record>
<record>
  <date>2016-11-11T03:45:03</date>
  <millis>1478807103710</millis>
  <sequence>6851</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>We save known file mqtt.lua</message>
</record>
<record>
  <date>2016-11-11T03:45:03</date>
  <millis>1478807103710</millis>
  <sequence>6852</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to saving file mqtt.lua ...</message>
</record>
<record>
  <date>2016-11-11T03:45:03</date>
  <millis>1478807103712</millis>
  <sequence>6853</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Save file mqtt.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T03:45:03</date>
  <millis>1478807103717</millis>
  <sequence>6854</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP: Try to save file to ESP...</message>
</record>
<record>
  <date>2016-11-11T03:45:03</date>
  <millis>1478807103718</millis>
  <sequence>6855</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Try to save file to ESP in Turbo Mode...</message>
</record>
<record>
  <date>2016-11-11T03:45:03</date>
  <millis>1478807103724</millis>
  <sequence>6856</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>DataTurboSender: start "Smart Mode"</message>
</record>
<record>
  <date>2016-11-11T03:45:03</date>
  <millis>1478807103725</millis>
  <sequence>6857</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Starting...</message>
</record>
<record>
  <date>2016-11-11T03:45:03</date>
  <millis>1478807103860</millis>
  <sequence>6858</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local FILE="mqtt.lua" file.remove(FILE) file.open(FILE,"w+") uart.setup(0,115200,8,0,1,0)</message>
</record>
<record>
  <date>2016-11-11T03:45:04</date>
  <millis>1478807104048</millis>
  <sequence>6859</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>279</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:45:04</date>
  <millis>1478807104078</millis>
  <sequence>6860</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_Receiver=function(rcvBuf) if string.match(rcvBuf,"^ESP_cmd_close")==nil then file.write(string.gsub(rcvBuf, '\r', '')) uart.write(0, "&gt; ") else uart.on("data") </message>
</record>
<record>
  <date>2016-11-11T03:45:04</date>
  <millis>1478807104106</millis>
  <sequence>6861</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>279</thread>
  <message>recv:&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T03:45:04</date>
  <millis>1478807104127</millis>
  <sequence>6862</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:file.flush() file.close() FILE=nil rcvBuf=nil ESP_Receiver=nil uart.setup(0,115200,8,0,1,1) str="\r\n--Done--\r\n&gt; " print(str) str=nil collectgarbage() end end uart.on("data",'\r',ESP_Receiver,0)</message>
</record>
<record>
  <date>2016-11-11T03:45:04</date>
  <millis>1478807104169</millis>
  <sequence>6863</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>279</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:45:04</date>
  <millis>1478807104183</millis>
  <sequence>6864</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:control = require "control"

--mqtt_conf = require "mqtt_config"

print("Running file mqtt")
tmr.delay(100000)

control.status_LED(2000)

gpio6 = 6
gpio.mode(gpio6, gpio.OUTPUT)
gpio.write(gpio6, gpio.LOW)

gpio7 = 7
gpio.mode(gpio7, gpio.OUTPUT)
gpio.wr</message>
</record>
<record>
  <date>2016-11-11T03:45:04</date>
  <millis>1478807104215</millis>
  <sequence>6865</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>279</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:45:04</date>
  <millis>1478807104228</millis>
  <sequence>6866</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ite(gpio7, gpio.LOW)

print (mqtt_conf.MQTTPASS)

-- init mqtt client with keepalive timer 120sec
m = mqtt.Client("nodemcu",120,"swqzxezhr","9JMcxVeUNz3t")

-- setup Last Will and Testament (optional)
-- Broker will publish a message with qos = 0, retain</message>
</record>
<record>
  <date>2016-11-11T03:45:04</date>
  <millis>1478807104260</millis>
  <sequence>6867</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>279</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:45:04</date>
  <millis>1478807104274</millis>
  <sequence>6868</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending: = 0, data = "offline" 
-- to topic "/lwt" if client don't send keepalive packet
m:lwt("/lwt", "offline", 0, 0)

m:on("connect", function(client) print ("connected") end)
m:on("offline", function(client) print ("offline") end)

-- on publish message rece</message>
</record>
<record>
  <date>2016-11-11T03:45:04</date>
  <millis>1478807104308</millis>
  <sequence>6869</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>279</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:45:04</date>
  <millis>1478807104322</millis>
  <sequence>6870</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ive event
m:on("message", function(conn, topic, data)
  print("Topic   " ..topic.. " get info. If command match then will run" )
  if topic == "Light1" then
    if data == "ON" then
        print("received message: ON @ light1")
        gpio.write(gpio6,</message>
</record>
<record>
  <date>2016-11-11T03:45:04</date>
  <millis>1478807104354</millis>
  <sequence>6871</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>279</thread>
  <message>recv:&gt;</message>
</record>
<record>
  <date>2016-11-11T03:45:04</date>
  <millis>1478807104356</millis>
  <sequence>6872</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>279</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T03:45:04</date>
  <millis>1478807104388</millis>
  <sequence>6873</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending: gpio.HIGH)
    end
    if data == "OFF" then
        print("received message: OFF @ light1")
        gpio.write(gpio6, gpio.LOW)
    end
    
  end
    
  if topic == "Light2" then
    if data == "ON" then
        print("received message: ON @ light2")
</message>
</record>
<record>
  <date>2016-11-11T03:45:04</date>
  <millis>1478807104419</millis>
  <sequence>6874</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>279</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:45:04</date>
  <millis>1478807104437</millis>
  <sequence>6875</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:        gpio.write(gpio7, gpio.HIGH)
    end
    if data == "OFF" then
        print("received message: OFF @ light2")
        gpio.write(gpio7, gpio.LOW)
    end
    
  end
     
end)

-- send0/publish chip ID
m:connect("m11.cloudmqtt.com", 19311, 0, fu</message>
</record>
<record>
  <date>2016-11-11T03:45:04</date>
  <millis>1478807104469</millis>
  <sequence>6876</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>279</thread>
  <message>recv:&gt;</message>
</record>
<record>
  <date>2016-11-11T03:45:04</date>
  <millis>1478807104470</millis>
  <sequence>6877</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>279</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T03:45:04</date>
  <millis>1478807104488</millis>
  <sequence>6878</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:nction(conn)
    print("Your ID: " ..node.chipid().." connected")
    -- subscribe both topic
end, function(client, reason) print("failed reason: "..reason) end))

m:subscribe({["Light1"]=0, ["Light2"]=0}, function(conn) 
    print("subscribe Light 1 and</message>
</record>
<record>
  <date>2016-11-11T03:45:04</date>
  <millis>1478807104519</millis>
  <sequence>6879</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>279</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:45:04</date>
  <millis>1478807104532</millis>
  <sequence>6880</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending: 2 success")
end)
        
m:publish("ID is: ", node.chipid(),0,0, function(conn) 
    print("sent ID") 
end)




</message>
</record>
<record>
  <date>2016-11-11T03:45:04</date>
  <millis>1478807104552</millis>
  <sequence>6881</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>279</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:45:04</date>
  <millis>1478807104568</millis>
  <sequence>6882</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_cmd_close</message>
</record>
<record>
  <date>2016-11-11T03:45:04</date>
  <millis>1478807104581</millis>
  <sequence>6883</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>279</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;--Do</message>
</record>
<record>
  <date>2016-11-11T03:45:04</date>
  <millis>1478807104583</millis>
  <sequence>6884</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>279</thread>
  <message>recv:ne--&lt;CR&gt;&lt;LF&gt;&gt; &lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:45:04</date>
  <millis>1478807104606</millis>
  <sequence>6885</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:45:04</date>
  <millis>1478807104607</millis>
  <sequence>6886</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>279</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:45:04</date>
  <millis>1478807104609</millis>
  <sequence>6887</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>279</thread>
  <message>recv:&gt; &lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T03:45:04</date>
  <millis>1478807104643</millis>
  <sequence>6888</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:dofile("mqtt.lua")</message>
</record>
<record>
  <date>2016-11-11T03:45:04</date>
  <millis>1478807104645</millis>
  <sequence>6889</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>279</thread>
  <message>recv:d</message>
</record>
<record>
  <date>2016-11-11T03:45:04</date>
  <millis>1478807104647</millis>
  <sequence>6890</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>279</thread>
  <message>recv:ofile("mqtt.lua")&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:45:04</date>
  <millis>1478807104716</millis>
  <sequence>6891</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>279</thread>
  <message>recv:mqt</message>
</record>
<record>
  <date>2016-11-11T03:45:04</date>
  <millis>1478807104720</millis>
  <sequence>6892</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>279</thread>
  <message>recv:t.lua:64: unexpected symbol near ')'&lt;CR&gt;&lt;LF&gt;stack traceba</message>
</record>
<record>
  <date>2016-11-11T03:45:04</date>
  <millis>1478807104727</millis>
  <sequence>6893</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>279</thread>
  <message>recv:ck:&lt;CR&gt;&lt;LF&gt;	[C]: in function 'dofile'&lt;CR&gt;&lt;LF&gt;	stdin:1: in main chunk&lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T03:45:04</date>
  <millis>1478807104795</millis>
  <sequence>6894</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>279</thread>
  <message>Operation done. Duration = 1076 ms</message>
</record>
<record>
  <date>2016-11-11T03:45:14</date>
  <millis>1478807114143</millis>
  <sequence>6895</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>We save known file mqtt.lua</message>
</record>
<record>
  <date>2016-11-11T03:45:14</date>
  <millis>1478807114144</millis>
  <sequence>6896</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to saving file mqtt.lua ...</message>
</record>
<record>
  <date>2016-11-11T03:45:14</date>
  <millis>1478807114146</millis>
  <sequence>6897</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Save file mqtt.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T03:45:14</date>
  <millis>1478807114151</millis>
  <sequence>6898</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP: Try to save file to ESP...</message>
</record>
<record>
  <date>2016-11-11T03:45:14</date>
  <millis>1478807114152</millis>
  <sequence>6899</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Try to save file to ESP in Turbo Mode...</message>
</record>
<record>
  <date>2016-11-11T03:45:14</date>
  <millis>1478807114159</millis>
  <sequence>6900</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>DataTurboSender: start "Smart Mode"</message>
</record>
<record>
  <date>2016-11-11T03:45:14</date>
  <millis>1478807114160</millis>
  <sequence>6901</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Starting...</message>
</record>
<record>
  <date>2016-11-11T03:45:14</date>
  <millis>1478807114290</millis>
  <sequence>6902</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local FILE="mqtt.lua" file.remove(FILE) file.open(FILE,"w+") uart.setup(0,115200,8,0,1,0)</message>
</record>
<record>
  <date>2016-11-11T03:45:14</date>
  <millis>1478807114293</millis>
  <sequence>6903</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>281</thread>
  <message>recv:local</message>
</record>
<record>
  <date>2016-11-11T03:45:14</date>
  <millis>1478807114296</millis>
  <sequence>6904</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>281</thread>
  <message>recv: FILE="mqtt.lua" file.remove(FILE) file.open</message>
</record>
<record>
  <date>2016-11-11T03:45:14</date>
  <millis>1478807114297</millis>
  <sequence>6905</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>281</thread>
  <message>recv:(FILE,"w+") uar</message>
</record>
<record>
  <date>2016-11-11T03:45:14</date>
  <millis>1478807114299</millis>
  <sequence>6906</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>281</thread>
  <message>recv:t.setup(0,115200,8,0</message>
</record>
<record>
  <date>2016-11-11T03:45:14</date>
  <millis>1478807114300</millis>
  <sequence>6907</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>281</thread>
  <message>recv:,1,0)&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:45:14</date>
  <millis>1478807114480</millis>
  <sequence>6908</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>281</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:45:14</date>
  <millis>1478807114502</millis>
  <sequence>6909</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_Receiver=function(rcvBuf) if string.match(rcvBuf,"^ESP_cmd_close")==nil then file.write(string.gsub(rcvBuf, '\r', '')) uart.write(0, "&gt; ") else uart.on("data") </message>
</record>
<record>
  <date>2016-11-11T03:45:14</date>
  <millis>1478807114531</millis>
  <sequence>6910</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>281</thread>
  <message>recv:&gt;&gt;</message>
</record>
<record>
  <date>2016-11-11T03:45:14</date>
  <millis>1478807114534</millis>
  <sequence>6911</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>281</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T03:45:14</date>
  <millis>1478807114554</millis>
  <sequence>6912</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:file.flush() file.close() FILE=nil rcvBuf=nil ESP_Receiver=nil uart.setup(0,115200,8,0,1,1) str="\r\n--Done--\r\n&gt; " print(str) str=nil collectgarbage() end end uart.on("data",'\r',ESP_Receiver,0)</message>
</record>
<record>
  <date>2016-11-11T03:45:14</date>
  <millis>1478807114596</millis>
  <sequence>6913</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>281</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:45:14</date>
  <millis>1478807114611</millis>
  <sequence>6914</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:control = require "control"

--mqtt_conf = require "mqtt_config"

print("Running file mqtt")
tmr.delay(100000)

control.status_LED(2000)

gpio6 = 6
gpio.mode(gpio6, gpio.OUTPUT)
gpio.write(gpio6, gpio.LOW)

gpio7 = 7
gpio.mode(gpio7, gpio.OUTPUT)
gpio.wr</message>
</record>
<record>
  <date>2016-11-11T03:45:14</date>
  <millis>1478807114640</millis>
  <sequence>6915</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>281</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:45:14</date>
  <millis>1478807114657</millis>
  <sequence>6916</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ite(gpio7, gpio.LOW)

print (mqtt_conf.MQTTPASS)

-- init mqtt client with keepalive timer 120sec
m = mqtt.Client("nodemcu",120,"swqzxezhr","9JMcxVeUNz3t")

-- setup Last Will and Testament (optional)
-- Broker will publish a message with qos = 0, retain</message>
</record>
<record>
  <date>2016-11-11T03:45:14</date>
  <millis>1478807114689</millis>
  <sequence>6917</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>281</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:45:14</date>
  <millis>1478807114702</millis>
  <sequence>6918</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending: = 0, data = "offline" 
-- to topic "/lwt" if client don't send keepalive packet
m:lwt("/lwt", "offline", 0, 0)

m:on("connect", function(client) print ("connected") end)
m:on("offline", function(client) print ("offline") end)

-- on publish message rece</message>
</record>
<record>
  <date>2016-11-11T03:45:14</date>
  <millis>1478807114733</millis>
  <sequence>6919</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>281</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:45:14</date>
  <millis>1478807114753</millis>
  <sequence>6920</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ive event
m:on("message", function(conn, topic, data)
  print("Topic   " ..topic.. " get info. If command match then will run" )
  if topic == "Light1" then
    if data == "ON" then
        print("received message: ON @ light1")
        gpio.write(gpio6,</message>
</record>
<record>
  <date>2016-11-11T03:45:14</date>
  <millis>1478807114786</millis>
  <sequence>6921</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>281</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:45:14</date>
  <millis>1478807114800</millis>
  <sequence>6922</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending: gpio.HIGH)
    end
    if data == "OFF" then
        print("received message: OFF @ light1")
        gpio.write(gpio6, gpio.LOW)
    end
    
  end
    
  if topic == "Light2" then
    if data == "ON" then
        print("received message: ON @ light2")
</message>
</record>
<record>
  <date>2016-11-11T03:45:14</date>
  <millis>1478807114835</millis>
  <sequence>6923</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>281</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:45:14</date>
  <millis>1478807114854</millis>
  <sequence>6924</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:        gpio.write(gpio7, gpio.HIGH)
    end
    if data == "OFF" then
        print("received message: OFF @ light2")
        gpio.write(gpio7, gpio.LOW)
    end
    
  end
     
end)

-- send0/publish chip ID
m:connect("m11.cloudmqtt.com", 19311, 0, fu</message>
</record>
<record>
  <date>2016-11-11T03:45:14</date>
  <millis>1478807114885</millis>
  <sequence>6925</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>281</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:45:14</date>
  <millis>1478807114903</millis>
  <sequence>6926</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:nction(conn)
    print("Your ID: " ..node.chipid().." connected")
    -- subscribe both topic
end, function(client, reason) print("failed reason: "..reason) end)

m:subscribe({["Light1"]=0, ["Light2"]=0}, function(conn) 
    print("subscribe Light 1 and </message>
</record>
<record>
  <date>2016-11-11T03:45:14</date>
  <millis>1478807114934</millis>
  <sequence>6927</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>281</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:45:14</date>
  <millis>1478807114952</millis>
  <sequence>6928</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:2 success")
end)
        
m:publish("ID is: ", node.chipid(),0,0, function(conn) 
    print("sent ID") 
end)




</message>
</record>
<record>
  <date>2016-11-11T03:45:14</date>
  <millis>1478807114970</millis>
  <sequence>6929</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>281</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:45:14</date>
  <millis>1478807114983</millis>
  <sequence>6930</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_cmd_close</message>
</record>
<record>
  <date>2016-11-11T03:45:14</date>
  <millis>1478807114996</millis>
  <sequence>6931</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>281</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:45:14</date>
  <millis>1478807114998</millis>
  <sequence>6932</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>281</thread>
  <message>recv:--Done--&lt;CR&gt;&lt;LF&gt;&gt; &lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:45:15</date>
  <millis>1478807115024</millis>
  <sequence>6933</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:45:15</date>
  <millis>1478807115026</millis>
  <sequence>6934</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>281</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;&gt;</message>
</record>
<record>
  <date>2016-11-11T03:45:15</date>
  <millis>1478807115027</millis>
  <sequence>6935</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>281</thread>
  <message>recv: &lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T03:45:15</date>
  <millis>1478807115061</millis>
  <sequence>6936</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:dofile("mqtt.lua")</message>
</record>
<record>
  <date>2016-11-11T03:45:15</date>
  <millis>1478807115063</millis>
  <sequence>6937</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>281</thread>
  <message>recv:do</message>
</record>
<record>
  <date>2016-11-11T03:45:15</date>
  <millis>1478807115065</millis>
  <sequence>6938</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>281</thread>
  <message>recv:file("mqtt.lua")</message>
</record>
<record>
  <date>2016-11-11T03:45:15</date>
  <millis>1478807115066</millis>
  <sequence>6939</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>281</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:45:15</date>
  <millis>1478807115109</millis>
  <sequence>6940</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>281</thread>
  <message>recv:R</message>
</record>
<record>
  <date>2016-11-11T03:45:15</date>
  <millis>1478807115111</millis>
  <sequence>6941</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>281</thread>
  <message>recv:unning file mqtt&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:45:15</date>
  <millis>1478807115217</millis>
  <sequence>6942</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>281</thread>
  <message>recv:9J</message>
</record>
<record>
  <date>2016-11-11T03:45:15</date>
  <millis>1478807115219</millis>
  <sequence>6943</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>281</thread>
  <message>recv:McxVeUNz3t&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:45:15</date>
  <millis>1478807115297</millis>
  <sequence>6944</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>281</thread>
  <message>recv:mqtt</message>
</record>
<record>
  <date>2016-11-11T03:45:15</date>
  <millis>1478807115299</millis>
  <sequence>6945</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>281</thread>
  <message>recv:.lua:66: not connected&lt;CR&gt;&lt;LF&gt;stack t</message>
</record>
<record>
  <date>2016-11-11T03:45:15</date>
  <millis>1478807115303</millis>
  <sequence>6946</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>281</thread>
  <message>recv:raceback:&lt;CR&gt;&lt;LF&gt;	[C]: in function 'subscribe</message>
</record>
<record>
  <date>2016-11-11T03:45:15</date>
  <millis>1478807115305</millis>
  <sequence>6947</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>281</thread>
  <message>recv:'&lt;CR&gt;&lt;LF&gt;	mqtt.lua:66: in main chun</message>
</record>
<record>
  <date>2016-11-11T03:45:15</date>
  <millis>1478807115307</millis>
  <sequence>6948</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>281</thread>
  <message>recv:k&lt;CR&gt;&lt;LF&gt;	[C]: in function 'do</message>
</record>
<record>
  <date>2016-11-11T03:45:15</date>
  <millis>1478807115309</millis>
  <sequence>6949</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>281</thread>
  <message>recv:file'&lt;CR&gt;&lt;LF&gt;	stdin:1: in mai</message>
</record>
<record>
  <date>2016-11-11T03:45:15</date>
  <millis>1478807115317</millis>
  <sequence>6950</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>281</thread>
  <message>recv:n chunk&lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T03:45:15</date>
  <millis>1478807115333</millis>
  <sequence>6951</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>281</thread>
  <message>Operation done. Duration = 1180 ms</message>
</record>
<record>
  <date>2016-11-11T03:45:55</date>
  <millis>1478807155870</millis>
  <sequence>6952</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>We save known file mqtt.lua</message>
</record>
<record>
  <date>2016-11-11T03:45:55</date>
  <millis>1478807155871</millis>
  <sequence>6953</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to saving file mqtt.lua ...</message>
</record>
<record>
  <date>2016-11-11T03:45:55</date>
  <millis>1478807155874</millis>
  <sequence>6954</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Save file mqtt.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T03:45:55</date>
  <millis>1478807155899</millis>
  <sequence>6955</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP: Try to save file to ESP...</message>
</record>
<record>
  <date>2016-11-11T03:45:55</date>
  <millis>1478807155900</millis>
  <sequence>6956</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Try to save file to ESP in Turbo Mode...</message>
</record>
<record>
  <date>2016-11-11T03:45:55</date>
  <millis>1478807155913</millis>
  <sequence>6957</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>DataTurboSender: start "Smart Mode"</message>
</record>
<record>
  <date>2016-11-11T03:45:55</date>
  <millis>1478807155914</millis>
  <sequence>6958</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Starting...</message>
</record>
<record>
  <date>2016-11-11T03:45:56</date>
  <millis>1478807156060</millis>
  <sequence>6959</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local FILE="mqtt.lua" file.remove(FILE) file.open(FILE,"w+") uart.setup(0,115200,8,0,1,0)</message>
</record>
<record>
  <date>2016-11-11T03:45:56</date>
  <millis>1478807156064</millis>
  <sequence>6960</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>283</thread>
  <message>recv:local</message>
</record>
<record>
  <date>2016-11-11T03:45:56</date>
  <millis>1478807156064</millis>
  <sequence>6961</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>283</thread>
  <message>recv: FILE="mqtt.lua" file</message>
</record>
<record>
  <date>2016-11-11T03:45:56</date>
  <millis>1478807156066</millis>
  <sequence>6962</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>283</thread>
  <message>recv:.remove(FILE) file</message>
</record>
<record>
  <date>2016-11-11T03:45:56</date>
  <millis>1478807156067</millis>
  <sequence>6963</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>283</thread>
  <message>recv:.open(FILE,"w+"</message>
</record>
<record>
  <date>2016-11-11T03:45:56</date>
  <millis>1478807156076</millis>
  <sequence>6964</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>283</thread>
  <message>recv:) uart.setup(0,115200,8,0,1,0)&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:45:56</date>
  <millis>1478807156251</millis>
  <sequence>6965</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>283</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:45:56</date>
  <millis>1478807156265</millis>
  <sequence>6966</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_Receiver=function(rcvBuf) if string.match(rcvBuf,"^ESP_cmd_close")==nil then file.write(string.gsub(rcvBuf, '\r', '')) uart.write(0, "&gt; ") else uart.on("data") </message>
</record>
<record>
  <date>2016-11-11T03:45:56</date>
  <millis>1478807156292</millis>
  <sequence>6967</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>283</thread>
  <message>recv:&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T03:45:56</date>
  <millis>1478807156309</millis>
  <sequence>6968</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:file.flush() file.close() FILE=nil rcvBuf=nil ESP_Receiver=nil uart.setup(0,115200,8,0,1,1) str="\r\n--Done--\r\n&gt; " print(str) str=nil collectgarbage() end end uart.on("data",'\r',ESP_Receiver,0)</message>
</record>
<record>
  <date>2016-11-11T03:45:56</date>
  <millis>1478807156349</millis>
  <sequence>6969</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>283</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:45:56</date>
  <millis>1478807156365</millis>
  <sequence>6970</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:control = require "control"

--mqtt_conf = require "mqtt_config"

print("Running file mqtt")
tmr.delay(100000)

control.status_LED(2000)

gpio6 = 6
gpio.mode(gpio6, gpio.OUTPUT)
gpio.write(gpio6, gpio.LOW)

gpio7 = 7
gpio.mode(gpio7, gpio.OUTPUT)
gpio.wr</message>
</record>
<record>
  <date>2016-11-11T03:45:56</date>
  <millis>1478807156395</millis>
  <sequence>6971</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>283</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:45:56</date>
  <millis>1478807156407</millis>
  <sequence>6972</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ite(gpio7, gpio.LOW)

print (mqtt_conf.MQTTPASS)

-- init mqtt client with keepalive timer 120sec
m = mqtt.Client("nodemcu",120,"swqzxzhr","9JMcxVeUNz3t")

-- setup Last Will and Testament (optional)
-- Broker will publish a message with qos = 0, retain </message>
</record>
<record>
  <date>2016-11-11T03:45:56</date>
  <millis>1478807156441</millis>
  <sequence>6973</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>283</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:45:56</date>
  <millis>1478807156454</millis>
  <sequence>6974</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:= 0, data = "offline" 
-- to topic "/lwt" if client don't send keepalive packet
m:lwt("/lwt", "offline", 0, 0)

m:on("connect", function(client) print ("connected") end)
m:on("offline", function(client) print ("offline") end)

-- on publish message recei</message>
</record>
<record>
  <date>2016-11-11T03:45:56</date>
  <millis>1478807156486</millis>
  <sequence>6975</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>283</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:45:56</date>
  <millis>1478807156506</millis>
  <sequence>6976</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ve event
m:on("message", function(conn, topic, data)
  print("Topic   " ..topic.. " get info. If command match then will run" )
  if topic == "Light1" then
    if data == "ON" then
        print("received message: ON @ light1")
        gpio.write(gpio6, </message>
</record>
<record>
  <date>2016-11-11T03:45:56</date>
  <millis>1478807156537</millis>
  <sequence>6977</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>283</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:45:56</date>
  <millis>1478807156552</millis>
  <sequence>6978</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:gpio.HIGH)
    end
    if data == "OFF" then
        print("received message: OFF @ light1")
        gpio.write(gpio6, gpio.LOW)
    end
    
  end
    
  if topic == "Light2" then
    if data == "ON" then
        print("received message: ON @ light2")
 </message>
</record>
<record>
  <date>2016-11-11T03:45:56</date>
  <millis>1478807156583</millis>
  <sequence>6979</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>283</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:45:56</date>
  <millis>1478807156601</millis>
  <sequence>6980</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:       gpio.write(gpio7, gpio.HIGH)
    end
    if data == "OFF" then
        print("received message: OFF @ light2")
        gpio.write(gpio7, gpio.LOW)
    end
    
  end
     
end)

-- send0/publish chip ID
m:connect("m11.cloudmqtt.com", 19311, 0, fun</message>
</record>
<record>
  <date>2016-11-11T03:45:56</date>
  <millis>1478807156632</millis>
  <sequence>6981</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>283</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:45:56</date>
  <millis>1478807156650</millis>
  <sequence>6982</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ction(conn)
    print("Your ID: " ..node.chipid().." connected")
    -- subscribe both topic
end, function(client, reason) print("failed reason: "..reason) end)

m:subscribe({["Light1"]=0, ["Light2"]=0}, function(conn) 
    print("subscribe Light 1 and 2</message>
</record>
<record>
  <date>2016-11-11T03:45:56</date>
  <millis>1478807156680</millis>
  <sequence>6983</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>283</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:45:56</date>
  <millis>1478807156698</millis>
  <sequence>6984</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending: success")
end)
        
m:publish("ID is: ", node.chipid(),0,0, function(conn) 
    print("sent ID") 
end)




</message>
</record>
<record>
  <date>2016-11-11T03:45:56</date>
  <millis>1478807156717</millis>
  <sequence>6985</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>283</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:45:56</date>
  <millis>1478807156729</millis>
  <sequence>6986</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_cmd_close</message>
</record>
<record>
  <date>2016-11-11T03:45:56</date>
  <millis>1478807156742</millis>
  <sequence>6987</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>283</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;--</message>
</record>
<record>
  <date>2016-11-11T03:45:56</date>
  <millis>1478807156743</millis>
  <sequence>6988</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>283</thread>
  <message>recv:Done--&lt;CR&gt;&lt;LF&gt;&gt; &lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:45:56</date>
  <millis>1478807156764</millis>
  <sequence>6989</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:45:56</date>
  <millis>1478807156766</millis>
  <sequence>6990</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>283</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:45:56</date>
  <millis>1478807156767</millis>
  <sequence>6991</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>283</thread>
  <message>recv:&gt; &lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T03:45:56</date>
  <millis>1478807156802</millis>
  <sequence>6992</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:dofile("mqtt.lua")</message>
</record>
<record>
  <date>2016-11-11T03:45:56</date>
  <millis>1478807156804</millis>
  <sequence>6993</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>283</thread>
  <message>recv:dofile("</message>
</record>
<record>
  <date>2016-11-11T03:45:56</date>
  <millis>1478807156808</millis>
  <sequence>6994</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>283</thread>
  <message>recv:mqtt.lua")&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:45:56</date>
  <millis>1478807156850</millis>
  <sequence>6995</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>283</thread>
  <message>recv:Runn</message>
</record>
<record>
  <date>2016-11-11T03:45:56</date>
  <millis>1478807156852</millis>
  <sequence>6996</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>283</thread>
  <message>recv:ing file mqtt&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:45:56</date>
  <millis>1478807156958</millis>
  <sequence>6997</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>283</thread>
  <message>recv:9JM</message>
</record>
<record>
  <date>2016-11-11T03:45:56</date>
  <millis>1478807156960</millis>
  <sequence>6998</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>283</thread>
  <message>recv:cxVeUNz3t&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:45:57</date>
  <millis>1478807157037</millis>
  <sequence>6999</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>283</thread>
  <message>recv:m</message>
</record>
<record>
  <date>2016-11-11T03:45:57</date>
  <millis>1478807157038</millis>
  <sequence>7000</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>283</thread>
  <message>recv:qtt.lua:66: not </message>
</record>
<record>
  <date>2016-11-11T03:45:57</date>
  <millis>1478807157041</millis>
  <sequence>7001</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>283</thread>
  <message>recv:connected&lt;CR&gt;&lt;LF&gt;stack traceback:&lt;CR&gt;&lt;LF&gt;	[C]</message>
</record>
<record>
  <date>2016-11-11T03:45:57</date>
  <millis>1478807157042</millis>
  <sequence>7002</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>283</thread>
  <message>recv:: in functi</message>
</record>
<record>
  <date>2016-11-11T03:45:57</date>
  <millis>1478807157044</millis>
  <sequence>7003</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>283</thread>
  <message>recv:on 'subscribe'&lt;CR&gt;&lt;LF&gt;	mqtt</message>
</record>
<record>
  <date>2016-11-11T03:45:57</date>
  <millis>1478807157045</millis>
  <sequence>7004</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>283</thread>
  <message>recv:.lua:66: i</message>
</record>
<record>
  <date>2016-11-11T03:45:57</date>
  <millis>1478807157046</millis>
  <sequence>7005</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>283</thread>
  <message>recv:n main chu</message>
</record>
<record>
  <date>2016-11-11T03:45:57</date>
  <millis>1478807157047</millis>
  <sequence>7006</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>283</thread>
  <message>recv:nk&lt;CR&gt;&lt;LF&gt;	[C]: in</message>
</record>
<record>
  <date>2016-11-11T03:45:57</date>
  <millis>1478807157048</millis>
  <sequence>7007</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>283</thread>
  <message>recv: function</message>
</record>
<record>
  <date>2016-11-11T03:45:57</date>
  <millis>1478807157051</millis>
  <sequence>7008</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>283</thread>
  <message>recv: 'dofile'&lt;CR&gt;&lt;LF&gt;	stdin:1: in main chunk&lt;CR&gt;&lt;LF&gt;&gt;</message>
</record>
<record>
  <date>2016-11-11T03:45:57</date>
  <millis>1478807157052</millis>
  <sequence>7009</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>283</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T03:45:57</date>
  <millis>1478807157088</millis>
  <sequence>7010</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>283</thread>
  <message>Operation done. Duration = 1186 ms</message>
</record>
<record>
  <date>2016-11-11T03:46:03</date>
  <millis>1478807163827</millis>
  <sequence>7011</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:node.restart()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:46:03</date>
  <millis>1478807163830</millis>
  <sequence>7012</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with saved baud 115200...</message>
</record>
<record>
  <date>2016-11-11T03:46:03</date>
  <millis>1478807163892</millis>
  <sequence>7013</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success. Now we waiting for ESP reboot...</message>
</record>
<record>
  <date>2016-11-11T03:46:05</date>
  <millis>1478807165896</millis>
  <sequence>7014</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with baud 115200...</message>
</record>
<record>
  <date>2016-11-11T03:46:05</date>
  <millis>1478807165896</millis>
  <sequence>7015</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:print(uart.setup(0, 115200, 8, 0, 1, 1 ))&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:46:06</date>
  <millis>1478807166159</millis>
  <sequence>7016</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success.</message>
</record>
<record>
  <date>2016-11-11T03:46:06</date>
  <millis>1478807166198</millis>
  <sequence>7017</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:46:06</date>
  <millis>1478807166201</millis>
  <sequence>7018</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>284</thread>
  <message>
Communication with MCU established.</message>
</record>
<record>
  <date>2016-11-11T03:46:47</date>
  <millis>1478807207006</millis>
  <sequence>7019</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>We save known file mqtt_config.lua</message>
</record>
<record>
  <date>2016-11-11T03:46:47</date>
  <millis>1478807207008</millis>
  <sequence>7020</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to saving file mqtt_config.lua ...</message>
</record>
<record>
  <date>2016-11-11T03:46:47</date>
  <millis>1478807207011</millis>
  <sequence>7021</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Save file mqtt_config.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T03:46:47</date>
  <millis>1478807207034</millis>
  <sequence>7022</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP: Try to save file to ESP...</message>
</record>
<record>
  <date>2016-11-11T03:46:47</date>
  <millis>1478807207036</millis>
  <sequence>7023</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Try to save file to ESP in Turbo Mode...</message>
</record>
<record>
  <date>2016-11-11T03:46:47</date>
  <millis>1478807207043</millis>
  <sequence>7024</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>DataTurboSender: start "Smart Mode"</message>
</record>
<record>
  <date>2016-11-11T03:46:47</date>
  <millis>1478807207046</millis>
  <sequence>7025</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Starting...</message>
</record>
<record>
  <date>2016-11-11T03:46:47</date>
  <millis>1478807207181</millis>
  <sequence>7026</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local FILE="mqtt_config.lua" file.remove(FILE) file.open(FILE,"w+") uart.setup(0,115200,8,0,1,0)</message>
</record>
<record>
  <date>2016-11-11T03:46:47</date>
  <millis>1478807207182</millis>
  <sequence>7027</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>285</thread>
  <message>recv:lo</message>
</record>
<record>
  <date>2016-11-11T03:46:47</date>
  <millis>1478807207188</millis>
  <sequence>7028</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>285</thread>
  <message>recv:cal FILE="mqtt_config.lua" file.remove(FILE) file.open(FILE,"w+") uart.s</message>
</record>
<record>
  <date>2016-11-11T03:46:47</date>
  <millis>1478807207189</millis>
  <sequence>7029</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>285</thread>
  <message>recv:etup(0,115200,8</message>
</record>
<record>
  <date>2016-11-11T03:46:47</date>
  <millis>1478807207193</millis>
  <sequence>7030</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>285</thread>
  <message>recv:,0,1,0)&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:46:47</date>
  <millis>1478807207377</millis>
  <sequence>7031</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>285</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:46:47</date>
  <millis>1478807207391</millis>
  <sequence>7032</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_Receiver=function(rcvBuf) if string.match(rcvBuf,"^ESP_cmd_close")==nil then file.write(string.gsub(rcvBuf, '\r', '')) uart.write(0, "&gt; ") else uart.on("data") </message>
</record>
<record>
  <date>2016-11-11T03:46:47</date>
  <millis>1478807207417</millis>
  <sequence>7033</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>285</thread>
  <message>recv:&gt;&gt;</message>
</record>
<record>
  <date>2016-11-11T03:46:47</date>
  <millis>1478807207419</millis>
  <sequence>7034</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>285</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T03:46:47</date>
  <millis>1478807207458</millis>
  <sequence>7035</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:file.flush() file.close() FILE=nil rcvBuf=nil ESP_Receiver=nil uart.setup(0,115200,8,0,1,1) str="\r\n--Done--\r\n&gt; " print(str) str=nil collectgarbage() end end uart.on("data",'\r',ESP_Receiver,0)</message>
</record>
<record>
  <date>2016-11-11T03:46:47</date>
  <millis>1478807207499</millis>
  <sequence>7036</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>285</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:46:47</date>
  <millis>1478807207520</millis>
  <sequence>7037</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local M = {}

--M.SSID = {}

--M.SSID["myWifi"] = "12345679ABCDEF"

M.HOST = "m11.cloudmqtt.com"
M.PORT = 19311
M.MQTTUSER = "swqzxzhr"
M.MQTTPASS = "9JMcxVeUNz3t"

M.ENDPOINT = "nodemcu/"

return M  
</message>
</record>
<record>
  <date>2016-11-11T03:46:47</date>
  <millis>1478807207545</millis>
  <sequence>7038</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>285</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:46:47</date>
  <millis>1478807207557</millis>
  <sequence>7039</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_cmd_close</message>
</record>
<record>
  <date>2016-11-11T03:46:47</date>
  <millis>1478807207569</millis>
  <sequence>7040</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>285</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;-</message>
</record>
<record>
  <date>2016-11-11T03:46:47</date>
  <millis>1478807207571</millis>
  <sequence>7041</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>285</thread>
  <message>recv:-Done--&lt;CR&gt;&lt;LF&gt;&gt; &lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:46:47</date>
  <millis>1478807207637</millis>
  <sequence>7042</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:46:47</date>
  <millis>1478807207638</millis>
  <sequence>7043</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>285</thread>
  <message>recv:&lt;CR&gt;</message>
</record>
<record>
  <date>2016-11-11T03:46:47</date>
  <millis>1478807207641</millis>
  <sequence>7044</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>285</thread>
  <message>recv:&lt;LF&gt;&gt; &lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T03:46:47</date>
  <millis>1478807207676</millis>
  <sequence>7045</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:dofile("mqtt_config.lua")</message>
</record>
<record>
  <date>2016-11-11T03:46:47</date>
  <millis>1478807207678</millis>
  <sequence>7046</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>285</thread>
  <message>recv:do</message>
</record>
<record>
  <date>2016-11-11T03:46:47</date>
  <millis>1478807207679</millis>
  <sequence>7047</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>285</thread>
  <message>recv:file("mqtt_config</message>
</record>
<record>
  <date>2016-11-11T03:46:47</date>
  <millis>1478807207680</millis>
  <sequence>7048</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>285</thread>
  <message>recv:.lua")&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:46:47</date>
  <millis>1478807207703</millis>
  <sequence>7049</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>285</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:46:47</date>
  <millis>1478807207759</millis>
  <sequence>7050</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>285</thread>
  <message>Operation done. Duration = 722 ms</message>
</record>
<record>
  <date>2016-11-11T03:46:51</date>
  <millis>1478807211730</millis>
  <sequence>7051</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>We save known file mqtt.lua</message>
</record>
<record>
  <date>2016-11-11T03:46:51</date>
  <millis>1478807211731</millis>
  <sequence>7052</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to saving file mqtt.lua ...</message>
</record>
<record>
  <date>2016-11-11T03:46:51</date>
  <millis>1478807211734</millis>
  <sequence>7053</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Save file mqtt.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T03:46:51</date>
  <millis>1478807211762</millis>
  <sequence>7054</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP: Try to save file to ESP...</message>
</record>
<record>
  <date>2016-11-11T03:46:51</date>
  <millis>1478807211764</millis>
  <sequence>7055</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Try to save file to ESP in Turbo Mode...</message>
</record>
<record>
  <date>2016-11-11T03:46:51</date>
  <millis>1478807211773</millis>
  <sequence>7056</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>DataTurboSender: start "Smart Mode"</message>
</record>
<record>
  <date>2016-11-11T03:46:51</date>
  <millis>1478807211773</millis>
  <sequence>7057</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Starting...</message>
</record>
<record>
  <date>2016-11-11T03:46:51</date>
  <millis>1478807211909</millis>
  <sequence>7058</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local FILE="mqtt.lua" file.remove(FILE) file.open(FILE,"w+") uart.setup(0,115200,8,0,1,0)</message>
</record>
<record>
  <date>2016-11-11T03:46:51</date>
  <millis>1478807211918</millis>
  <sequence>7059</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>287</thread>
  <message>recv:loc</message>
</record>
<record>
  <date>2016-11-11T03:46:51</date>
  <millis>1478807211920</millis>
  <sequence>7060</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>287</thread>
  <message>recv:al FILE="mqtt.lua" file.</message>
</record>
<record>
  <date>2016-11-11T03:46:51</date>
  <millis>1478807211922</millis>
  <sequence>7061</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>287</thread>
  <message>recv:remove(FILE) file.ope</message>
</record>
<record>
  <date>2016-11-11T03:46:51</date>
  <millis>1478807211925</millis>
  <sequence>7062</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>287</thread>
  <message>recv:n(FILE,"w+") uart.setup(0,115200</message>
</record>
<record>
  <date>2016-11-11T03:46:51</date>
  <millis>1478807211931</millis>
  <sequence>7063</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>287</thread>
  <message>recv:,8,0,1,0)&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:46:52</date>
  <millis>1478807212196</millis>
  <sequence>7064</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>287</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:46:52</date>
  <millis>1478807212209</millis>
  <sequence>7065</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_Receiver=function(rcvBuf) if string.match(rcvBuf,"^ESP_cmd_close")==nil then file.write(string.gsub(rcvBuf, '\r', '')) uart.write(0, "&gt; ") else uart.on("data") </message>
</record>
<record>
  <date>2016-11-11T03:46:52</date>
  <millis>1478807212236</millis>
  <sequence>7066</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>287</thread>
  <message>recv:&gt;</message>
</record>
<record>
  <date>2016-11-11T03:46:52</date>
  <millis>1478807212237</millis>
  <sequence>7067</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>287</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:46:52</date>
  <millis>1478807212255</millis>
  <sequence>7068</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:file.flush() file.close() FILE=nil rcvBuf=nil ESP_Receiver=nil uart.setup(0,115200,8,0,1,1) str="\r\n--Done--\r\n&gt; " print(str) str=nil collectgarbage() end end uart.on("data",'\r',ESP_Receiver,0)</message>
</record>
<record>
  <date>2016-11-11T03:46:52</date>
  <millis>1478807212293</millis>
  <sequence>7069</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>287</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:46:52</date>
  <millis>1478807212318</millis>
  <sequence>7070</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:control = require "control"

mqtt_conf = require "mqtt_config"

print("Running file mqtt")
tmr.delay(100000)

control.status_LED(2000)

gpio6 = 6
gpio.mode(gpio6, gpio.OUTPUT)
gpio.write(gpio6, gpio.LOW)

gpio7 = 7
gpio.mode(gpio7, gpio.OUTPUT)
gpio.writ</message>
</record>
<record>
  <date>2016-11-11T03:46:52</date>
  <millis>1478807212347</millis>
  <sequence>7071</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>287</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:46:52</date>
  <millis>1478807212361</millis>
  <sequence>7072</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:e(gpio7, gpio.LOW)

print (mqtt_conf.MQTTPASS)

-- init mqtt client with keepalive timer 120sec
m = mqtt.Client("nodemcu",120,"swqzxzhr","9JMcxVeUNz3t")

-- setup Last Will and Testament (optional)
-- Broker will publish a message with qos = 0, retain = </message>
</record>
<record>
  <date>2016-11-11T03:46:52</date>
  <millis>1478807212392</millis>
  <sequence>7073</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>287</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:46:52</date>
  <millis>1478807212409</millis>
  <sequence>7074</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:0, data = "offline" 
-- to topic "/lwt" if client don't send keepalive packet
m:lwt("/lwt", "offline", 0, 0)

m:on("connect", function(client) print ("connected") end)
m:on("offline", function(client) print ("offline") end)

-- on publish message receive</message>
</record>
<record>
  <date>2016-11-11T03:46:52</date>
  <millis>1478807212440</millis>
  <sequence>7075</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>287</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:46:52</date>
  <millis>1478807212468</millis>
  <sequence>7076</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending: event
m:on("message", function(conn, topic, data)
  print("Topic   " ..topic.. " get info. If command match then will run" )
  if topic == "Light1" then
    if data == "ON" then
        print("received message: ON @ light1")
        gpio.write(gpio6, gp</message>
</record>
<record>
  <date>2016-11-11T03:46:52</date>
  <millis>1478807212500</millis>
  <sequence>7077</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>287</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:46:52</date>
  <millis>1478807212529</millis>
  <sequence>7078</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:io.HIGH)
    end
    if data == "OFF" then
        print("received message: OFF @ light1")
        gpio.write(gpio6, gpio.LOW)
    end
    
  end
    
  if topic == "Light2" then
    if data == "ON" then
        print("received message: ON @ light2")
   </message>
</record>
<record>
  <date>2016-11-11T03:46:52</date>
  <millis>1478807212559</millis>
  <sequence>7079</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>287</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:46:52</date>
  <millis>1478807212578</millis>
  <sequence>7080</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:     gpio.write(gpio7, gpio.HIGH)
    end
    if data == "OFF" then
        print("received message: OFF @ light2")
        gpio.write(gpio7, gpio.LOW)
    end
    
  end
     
end)

-- send0/publish chip ID
m:connect("m11.cloudmqtt.com", 19311, 0, funct</message>
</record>
<record>
  <date>2016-11-11T03:46:52</date>
  <millis>1478807212608</millis>
  <sequence>7081</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>287</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:46:52</date>
  <millis>1478807212623</millis>
  <sequence>7082</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ion(conn)
    print("Your ID: " ..node.chipid().." connected")
    -- subscribe both topic
end, function(client, reason) print("failed reason: "..reason) end)

m:subscribe({["Light1"]=0, ["Light2"]=0}, function(conn) 
    print("subscribe Light 1 and 2 s</message>
</record>
<record>
  <date>2016-11-11T03:46:52</date>
  <millis>1478807212654</millis>
  <sequence>7083</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>287</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:46:52</date>
  <millis>1478807212673</millis>
  <sequence>7084</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:uccess")
end)
        
m:publish("ID is: ", node.chipid(),0,0, function(conn) 
    print("sent ID") 
end)




</message>
</record>
<record>
  <date>2016-11-11T03:46:52</date>
  <millis>1478807212690</millis>
  <sequence>7085</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>287</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:46:52</date>
  <millis>1478807212718</millis>
  <sequence>7086</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_cmd_close</message>
</record>
<record>
  <date>2016-11-11T03:46:52</date>
  <millis>1478807212730</millis>
  <sequence>7087</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>287</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;--</message>
</record>
<record>
  <date>2016-11-11T03:46:52</date>
  <millis>1478807212757</millis>
  <sequence>7088</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>287</thread>
  <message>recv:Done--&lt;CR&gt;&lt;LF&gt;&gt; &lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:46:52</date>
  <millis>1478807212785</millis>
  <sequence>7089</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:46:52</date>
  <millis>1478807212787</millis>
  <sequence>7090</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>287</thread>
  <message>recv:&lt;CR&gt;</message>
</record>
<record>
  <date>2016-11-11T03:46:52</date>
  <millis>1478807212789</millis>
  <sequence>7091</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>287</thread>
  <message>recv:&lt;LF&gt;&gt; &lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T03:46:52</date>
  <millis>1478807212826</millis>
  <sequence>7092</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:dofile("mqtt.lua")</message>
</record>
<record>
  <date>2016-11-11T03:46:52</date>
  <millis>1478807212829</millis>
  <sequence>7093</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>287</thread>
  <message>recv:dofile</message>
</record>
<record>
  <date>2016-11-11T03:46:52</date>
  <millis>1478807212832</millis>
  <sequence>7094</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>287</thread>
  <message>recv:("mqtt.lua")&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:46:53</date>
  <millis>1478807213088</millis>
  <sequence>7095</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>287</thread>
  <message>recv:Runni</message>
</record>
<record>
  <date>2016-11-11T03:46:53</date>
  <millis>1478807213090</millis>
  <sequence>7096</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>287</thread>
  <message>recv:ng file mqtt&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:46:53</date>
  <millis>1478807213196</millis>
  <sequence>7097</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>287</thread>
  <message>recv:9JMcx</message>
</record>
<record>
  <date>2016-11-11T03:46:53</date>
  <millis>1478807213197</millis>
  <sequence>7098</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>287</thread>
  <message>recv:VeUNz3t&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:46:53</date>
  <millis>1478807213275</millis>
  <sequence>7099</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>287</thread>
  <message>recv:m</message>
</record>
<record>
  <date>2016-11-11T03:46:53</date>
  <millis>1478807213277</millis>
  <sequence>7100</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>287</thread>
  <message>recv:qtt.lua:66: not connect</message>
</record>
<record>
  <date>2016-11-11T03:46:53</date>
  <millis>1478807213280</millis>
  <sequence>7101</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>287</thread>
  <message>recv:ed&lt;CR&gt;&lt;LF&gt;stack traceback:&lt;CR&gt;&lt;LF&gt;	[C]: in funct</message>
</record>
<record>
  <date>2016-11-11T03:46:53</date>
  <millis>1478807213281</millis>
  <sequence>7102</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>287</thread>
  <message>recv:ion 'subscribe</message>
</record>
<record>
  <date>2016-11-11T03:46:53</date>
  <millis>1478807213283</millis>
  <sequence>7103</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>287</thread>
  <message>recv:'&lt;CR&gt;&lt;LF&gt;	mqtt.lua:6</message>
</record>
<record>
  <date>2016-11-11T03:46:53</date>
  <millis>1478807213283</millis>
  <sequence>7104</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>287</thread>
  <message>recv:6: in</message>
</record>
<record>
  <date>2016-11-11T03:46:53</date>
  <millis>1478807213283</millis>
  <sequence>7105</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>287</thread>
  <message>recv: main</message>
</record>
<record>
  <date>2016-11-11T03:46:53</date>
  <millis>1478807213285</millis>
  <sequence>7106</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>287</thread>
  <message>recv: chunk&lt;CR&gt;&lt;LF&gt;	[C]: in</message>
</record>
<record>
  <date>2016-11-11T03:46:53</date>
  <millis>1478807213286</millis>
  <sequence>7107</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>287</thread>
  <message>recv: function 'dofil</message>
</record>
<record>
  <date>2016-11-11T03:46:53</date>
  <millis>1478807213287</millis>
  <sequence>7108</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>287</thread>
  <message>recv:e'&lt;CR&gt;&lt;LF&gt;	stdin</message>
</record>
<record>
  <date>2016-11-11T03:46:53</date>
  <millis>1478807213289</millis>
  <sequence>7109</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>287</thread>
  <message>recv::1: in main chunk&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:46:53</date>
  <millis>1478807213293</millis>
  <sequence>7110</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>287</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:46:53</date>
  <millis>1478807213317</millis>
  <sequence>7111</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>287</thread>
  <message>Operation done. Duration = 1551 ms</message>
</record>
<record>
  <date>2016-11-11T03:47:02</date>
  <millis>1478807222939</millis>
  <sequence>7112</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>We save known file mqtt.lua</message>
</record>
<record>
  <date>2016-11-11T03:47:02</date>
  <millis>1478807222940</millis>
  <sequence>7113</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to saving file mqtt.lua ...</message>
</record>
<record>
  <date>2016-11-11T03:47:02</date>
  <millis>1478807222942</millis>
  <sequence>7114</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Save file mqtt.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T03:47:02</date>
  <millis>1478807222957</millis>
  <sequence>7115</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP: Try to save file to ESP...</message>
</record>
<record>
  <date>2016-11-11T03:47:02</date>
  <millis>1478807222957</millis>
  <sequence>7116</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Try to save file to ESP in Turbo Mode...</message>
</record>
<record>
  <date>2016-11-11T03:47:02</date>
  <millis>1478807222965</millis>
  <sequence>7117</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>DataTurboSender: start "Smart Mode"</message>
</record>
<record>
  <date>2016-11-11T03:47:02</date>
  <millis>1478807222966</millis>
  <sequence>7118</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Starting...</message>
</record>
<record>
  <date>2016-11-11T03:47:03</date>
  <millis>1478807223104</millis>
  <sequence>7119</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local FILE="mqtt.lua" file.remove(FILE) file.open(FILE,"w+") uart.setup(0,115200,8,0,1,0)</message>
</record>
<record>
  <date>2016-11-11T03:47:03</date>
  <millis>1478807223107</millis>
  <sequence>7120</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>289</thread>
  <message>recv:lo</message>
</record>
<record>
  <date>2016-11-11T03:47:03</date>
  <millis>1478807223110</millis>
  <sequence>7121</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>289</thread>
  <message>recv:cal FILE="mqtt.lua" file.remove(FILE) file.open(FILE,"w</message>
</record>
<record>
  <date>2016-11-11T03:47:03</date>
  <millis>1478807223112</millis>
  <sequence>7122</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>289</thread>
  <message>recv:+") uart.setup(0,115</message>
</record>
<record>
  <date>2016-11-11T03:47:03</date>
  <millis>1478807223113</millis>
  <sequence>7123</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>289</thread>
  <message>recv:200,8,0,1,0)&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:47:03</date>
  <millis>1478807223303</millis>
  <sequence>7124</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>289</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:47:03</date>
  <millis>1478807223325</millis>
  <sequence>7125</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_Receiver=function(rcvBuf) if string.match(rcvBuf,"^ESP_cmd_close")==nil then file.write(string.gsub(rcvBuf, '\r', '')) uart.write(0, "&gt; ") else uart.on("data") </message>
</record>
<record>
  <date>2016-11-11T03:47:03</date>
  <millis>1478807223351</millis>
  <sequence>7126</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>289</thread>
  <message>recv:&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T03:47:03</date>
  <millis>1478807223363</millis>
  <sequence>7127</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:file.flush() file.close() FILE=nil rcvBuf=nil ESP_Receiver=nil uart.setup(0,115200,8,0,1,1) str="\r\n--Done--\r\n&gt; " print(str) str=nil collectgarbage() end end uart.on("data",'\r',ESP_Receiver,0)</message>
</record>
<record>
  <date>2016-11-11T03:47:03</date>
  <millis>1478807223404</millis>
  <sequence>7128</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>289</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:47:03</date>
  <millis>1478807223416</millis>
  <sequence>7129</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:control = require "control"

mqtt_conf = require "mqtt_config"

print("Running file mqtt")
tmr.delay(100000)

control.status_LED(2000)

gpio6 = 6
gpio.mode(gpio6, gpio.OUTPUT)
gpio.write(gpio6, gpio.LOW)

gpio7 = 7
gpio.mode(gpio7, gpio.OUTPUT)
gpio.writ</message>
</record>
<record>
  <date>2016-11-11T03:47:03</date>
  <millis>1478807223445</millis>
  <sequence>7130</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>289</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:47:03</date>
  <millis>1478807223457</millis>
  <sequence>7131</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:e(gpio7, gpio.LOW)

print (mqtt_conf.MQTTPASS)

-- init mqtt client with keepalive timer 120sec
m = mqtt.Client("nodemcu",120,"swqzxzhr","9JMcxVeUNz3t")

-- setup Last Will and Testament (optional)
-- Broker will publish a message with qos = 0, retain = </message>
</record>
<record>
  <date>2016-11-11T03:47:03</date>
  <millis>1478807223487</millis>
  <sequence>7132</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>289</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:47:03</date>
  <millis>1478807223503</millis>
  <sequence>7133</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:0, data = "offline" 
-- to topic "/lwt" if client don't send keepalive packet
m:lwt("/lwt", "offline", 0, 0)

m:on("connect", function(client) print ("connected") end)
m:on("offline", function(client) print ("offline") end)

-- on publish message receive</message>
</record>
<record>
  <date>2016-11-11T03:47:03</date>
  <millis>1478807223535</millis>
  <sequence>7134</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>289</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:47:03</date>
  <millis>1478807223547</millis>
  <sequence>7135</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending: event
m:on("message", function(conn, topic, data)
  print("Topic   " ..topic.. " get info. If command match then will run" )
  if topic == "Light1" then
    if data == "ON" then
        print("received message: ON @ light1")
        gpio.write(gpio6, gp</message>
</record>
<record>
  <date>2016-11-11T03:47:03</date>
  <millis>1478807223578</millis>
  <sequence>7136</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>289</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:47:03</date>
  <millis>1478807223590</millis>
  <sequence>7137</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:io.HIGH)
    end
    if data == "OFF" then
        print("received message: OFF @ light1")
        gpio.write(gpio6, gpio.LOW)
    end
    
  end
    
  if topic == "Light2" then
    if data == "ON" then
        print("received message: ON @ light2")
   </message>
</record>
<record>
  <date>2016-11-11T03:47:03</date>
  <millis>1478807223621</millis>
  <sequence>7138</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>289</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:47:03</date>
  <millis>1478807223637</millis>
  <sequence>7139</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:     gpio.write(gpio7, gpio.HIGH)
    end
    if data == "OFF" then
        print("received message: OFF @ light2")
        gpio.write(gpio7, gpio.LOW)
    end
    
  end
     
end)

-- send0/publish chip ID
m:connect("m11.cloudmqtt.com", 19311, 0, funct</message>
</record>
<record>
  <date>2016-11-11T03:47:03</date>
  <millis>1478807223668</millis>
  <sequence>7140</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>289</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:47:03</date>
  <millis>1478807223681</millis>
  <sequence>7141</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ion(conn)
    print("Your ID: " ..node.chipid().." connected")
    -- subscribe both topic
end, function(client, reason) print("failed reason: "..reason) end)

m:subscribe({["Light1"]=0, ["Light2"]=0}, function(conn) 
    print("subscribe Light 1 and 2 s</message>
</record>
<record>
  <date>2016-11-11T03:47:03</date>
  <millis>1478807223712</millis>
  <sequence>7142</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>289</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:47:03</date>
  <millis>1478807223729</millis>
  <sequence>7143</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:uccess")
end)
        
m:publish("ID is: ", node.chipid(),0,0, function(conn) 
    print("sent ID") 
end)




</message>
</record>
<record>
  <date>2016-11-11T03:47:03</date>
  <millis>1478807223746</millis>
  <sequence>7144</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>289</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:47:03</date>
  <millis>1478807223765</millis>
  <sequence>7145</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_cmd_close</message>
</record>
<record>
  <date>2016-11-11T03:47:03</date>
  <millis>1478807223776</millis>
  <sequence>7146</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>289</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:47:03</date>
  <millis>1478807223777</millis>
  <sequence>7147</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>289</thread>
  <message>recv:--Done--&lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T03:47:03</date>
  <millis>1478807223778</millis>
  <sequence>7148</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>289</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:47:03</date>
  <millis>1478807223804</millis>
  <sequence>7149</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:47:03</date>
  <millis>1478807223806</millis>
  <sequence>7150</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>289</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:47:03</date>
  <millis>1478807223807</millis>
  <sequence>7151</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>289</thread>
  <message>recv:&gt; &lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T03:47:03</date>
  <millis>1478807223840</millis>
  <sequence>7152</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:dofile("mqtt.lua")</message>
</record>
<record>
  <date>2016-11-11T03:47:03</date>
  <millis>1478807223842</millis>
  <sequence>7153</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>289</thread>
  <message>recv:do</message>
</record>
<record>
  <date>2016-11-11T03:47:03</date>
  <millis>1478807223843</millis>
  <sequence>7154</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>289</thread>
  <message>recv:file("mqtt.lua")&lt;CR&gt;</message>
</record>
<record>
  <date>2016-11-11T03:47:03</date>
  <millis>1478807223844</millis>
  <sequence>7155</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>289</thread>
  <message>recv:&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:47:04</date>
  <millis>1478807224102</millis>
  <sequence>7156</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>289</thread>
  <message>recv:Running file mqtt&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:47:04</date>
  <millis>1478807224209</millis>
  <sequence>7157</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>289</thread>
  <message>recv:9JMc</message>
</record>
<record>
  <date>2016-11-11T03:47:04</date>
  <millis>1478807224211</millis>
  <sequence>7158</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>289</thread>
  <message>recv:xVeUNz3t&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:47:04</date>
  <millis>1478807224287</millis>
  <sequence>7159</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>289</thread>
  <message>recv:mqt</message>
</record>
<record>
  <date>2016-11-11T03:47:04</date>
  <millis>1478807224289</millis>
  <sequence>7160</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>289</thread>
  <message>recv:t.lua:66: not connect</message>
</record>
<record>
  <date>2016-11-11T03:47:04</date>
  <millis>1478807224292</millis>
  <sequence>7161</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>289</thread>
  <message>recv:ed&lt;CR&gt;&lt;LF&gt;stack traceback:&lt;CR&gt;&lt;LF&gt;	[C]: in</message>
</record>
<record>
  <date>2016-11-11T03:47:04</date>
  <millis>1478807224293</millis>
  <sequence>7162</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>289</thread>
  <message>recv: function 'su</message>
</record>
<record>
  <date>2016-11-11T03:47:04</date>
  <millis>1478807224293</millis>
  <sequence>7163</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>289</thread>
  <message>recv:bscri</message>
</record>
<record>
  <date>2016-11-11T03:47:04</date>
  <millis>1478807224294</millis>
  <sequence>7164</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>289</thread>
  <message>recv:be'&lt;CR&gt;&lt;LF&gt;	mqtt.lua:</message>
</record>
<record>
  <date>2016-11-11T03:47:04</date>
  <millis>1478807224296</millis>
  <sequence>7165</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>289</thread>
  <message>recv:66: in main chun</message>
</record>
<record>
  <date>2016-11-11T03:47:04</date>
  <millis>1478807224297</millis>
  <sequence>7166</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>289</thread>
  <message>recv:k&lt;CR&gt;&lt;LF&gt;	[C]: </message>
</record>
<record>
  <date>2016-11-11T03:47:04</date>
  <millis>1478807224297</millis>
  <sequence>7167</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>289</thread>
  <message>recv:in fun</message>
</record>
<record>
  <date>2016-11-11T03:47:04</date>
  <millis>1478807224298</millis>
  <sequence>7168</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>289</thread>
  <message>recv:ction 'd</message>
</record>
<record>
  <date>2016-11-11T03:47:04</date>
  <millis>1478807224302</millis>
  <sequence>7169</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>289</thread>
  <message>recv:ofile'&lt;CR&gt;&lt;LF&gt;	stdin:1: in main chunk&lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T03:47:04</date>
  <millis>1478807224321</millis>
  <sequence>7170</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>289</thread>
  <message>Operation done. Duration = 1363 ms</message>
</record>
<record>
  <date>2016-11-11T03:47:04</date>
  <millis>1478807224838</millis>
  <sequence>7171</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:node.restart()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:47:04</date>
  <millis>1478807224839</millis>
  <sequence>7172</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with saved baud 115200...</message>
</record>
<record>
  <date>2016-11-11T03:47:04</date>
  <millis>1478807224901</millis>
  <sequence>7173</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success. Now we waiting for ESP reboot...</message>
</record>
<record>
  <date>2016-11-11T03:47:06</date>
  <millis>1478807226903</millis>
  <sequence>7174</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with baud 115200...</message>
</record>
<record>
  <date>2016-11-11T03:47:06</date>
  <millis>1478807226907</millis>
  <sequence>7175</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:print(uart.setup(0, 115200, 8, 0, 1, 1 ))&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:47:07</date>
  <millis>1478807227171</millis>
  <sequence>7176</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success.</message>
</record>
<record>
  <date>2016-11-11T03:47:07</date>
  <millis>1478807227218</millis>
  <sequence>7177</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:47:07</date>
  <millis>1478807227220</millis>
  <sequence>7178</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>290</thread>
  <message>
Communication with MCU established.</message>
</record>
<record>
  <date>2016-11-11T03:47:51</date>
  <millis>1478807271438</millis>
  <sequence>7179</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>We save known file mqtt.lua</message>
</record>
<record>
  <date>2016-11-11T03:47:51</date>
  <millis>1478807271451</millis>
  <sequence>7180</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to saving file mqtt.lua ...</message>
</record>
<record>
  <date>2016-11-11T03:47:51</date>
  <millis>1478807271456</millis>
  <sequence>7181</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Save file mqtt.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T03:47:51</date>
  <millis>1478807271503</millis>
  <sequence>7182</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP: Try to save file to ESP...</message>
</record>
<record>
  <date>2016-11-11T03:47:51</date>
  <millis>1478807271508</millis>
  <sequence>7183</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Try to save file to ESP in Turbo Mode...</message>
</record>
<record>
  <date>2016-11-11T03:47:51</date>
  <millis>1478807271541</millis>
  <sequence>7184</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>DataTurboSender: start "Smart Mode"</message>
</record>
<record>
  <date>2016-11-11T03:47:51</date>
  <millis>1478807271542</millis>
  <sequence>7185</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Starting...</message>
</record>
<record>
  <date>2016-11-11T03:47:51</date>
  <millis>1478807271707</millis>
  <sequence>7186</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>291</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt; e</message>
</record>
<record>
  <date>2016-11-11T03:47:51</date>
  <millis>1478807271714</millis>
  <sequence>7187</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>291</thread>
  <message>recv:ts Jan  8 2013,rst cause:2, boot mode:(3,6)&lt;CR&gt;&lt;LF&gt;&lt;CR&gt;&lt;LF&gt;load 0x40100000, len 25624, room 16 &lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:47:51</date>
  <millis>1478807271715</millis>
  <sequence>7188</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local FILE="mqtt.lua" file.remove(FILE) file.open(FILE,"w+") uart.setup(0,115200,8,0,1,0)</message>
</record>
<record>
  <date>2016-11-11T03:47:51</date>
  <millis>1478807271734</millis>
  <sequence>7189</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>291</thread>
  <message>recv:t</message>
</record>
<record>
  <date>2016-11-11T03:47:51</date>
  <millis>1478807271738</millis>
  <sequence>7190</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>291</thread>
  <message>recv:ail 8&lt;CR&gt;&lt;LF&gt;chksum 0xd2&lt;CR&gt;&lt;LF&gt;load 0x3ffe8000, len 2236</message>
</record>
<record>
  <date>2016-11-11T03:47:51</date>
  <millis>1478807271742</millis>
  <sequence>7191</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>291</thread>
  <message>recv:, room 0 &lt;CR&gt;&lt;LF&gt;tail 12&lt;CR&gt;&lt;LF&gt;ch</message>
</record>
<record>
  <date>2016-11-11T03:47:51</date>
  <millis>1478807271756</millis>
  <sequence>7192</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>291</thread>
  <message>recv:ksum 0x4f&lt;CR&gt;&lt;LF&gt;ho 0 tail 12 room 4&lt;CR&gt;&lt;LF&gt;load 0x3ffe88bc, len 8, room 12 &lt;CR&gt;&lt;LF&gt;tail 8&lt;CR&gt;&lt;LF&gt;chksum 0xe1&lt;CR&gt;&lt;LF&gt;csum 0xe1&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:47:51</date>
  <millis>1478807271792</millis>
  <sequence>7193</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>291</thread>
  <message>recv:</message>
</record>
<record>
  <date>2016-11-11T03:47:51</date>
  <millis>1478807271794</millis>
  <sequence>7194</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>291</thread>
  <message>recv:?nrn|?ll</message>
</record>
<record>
  <date>2016-11-11T03:47:51</date>
  <millis>1478807271858</millis>
  <sequence>7195</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>291</thread>
  <message>recv:ll&lt;OK&gt;rll?l?&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:47:51</date>
  <millis>1478807271890</millis>
  <sequence>7196</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>291</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;No</message>
</record>
<record>
  <date>2016-11-11T03:47:51</date>
  <millis>1478807271891</millis>
  <sequence>7197</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>291</thread>
  <message>recv:deMCU 1.5.4.1 build un</message>
</record>
<record>
  <date>2016-11-11T03:47:51</date>
  <millis>1478807271893</millis>
  <sequence>7198</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>291</thread>
  <message>recv:specified powere</message>
</record>
<record>
  <date>2016-11-11T03:47:51</date>
  <millis>1478807271894</millis>
  <sequence>7199</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>291</thread>
  <message>recv:d by Lua 5.1</message>
</record>
<record>
  <date>2016-11-11T03:47:51</date>
  <millis>1478807271898</millis>
  <sequence>7200</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>291</thread>
  <message>recv:.4 on SDK 1.5.4.1(39cb9a32)&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:47:52</date>
  <millis>1478807272428</millis>
  <sequence>7201</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>291</thread>
  <message>recv: C</message>
</record>
<record>
  <date>2016-11-11T03:47:52</date>
  <millis>1478807272430</millis>
  <sequence>7202</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>291</thread>
  <message>recv:onfig exist, user&gt;hc_home, pas</message>
</record>
<record>
  <date>2016-11-11T03:47:52</date>
  <millis>1478807272441</millis>
  <sequence>7203</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>291</thread>
  <message>recv:s&gt;85613121, now set station mode and connect&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:47:52</date>
  <millis>1478807272510</millis>
  <sequence>7204</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>291</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:47:52</date>
  <millis>1478807272525</millis>
  <sequence>7205</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_Receiver=function(rcvBuf) if string.match(rcvBuf,"^ESP_cmd_close")==nil then file.write(string.gsub(rcvBuf, '\r', '')) uart.write(0, "&gt; ") else uart.on("data") </message>
</record>
<record>
  <date>2016-11-11T03:47:52</date>
  <millis>1478807272526</millis>
  <sequence>7206</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>291</thread>
  <message>recv:ESP</message>
</record>
<record>
  <date>2016-11-11T03:47:52</date>
  <millis>1478807272527</millis>
  <sequence>7207</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>291</thread>
  <message>recv:_Receiver=fu</message>
</record>
<record>
  <date>2016-11-11T03:47:52</date>
  <millis>1478807272528</millis>
  <sequence>7208</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>291</thread>
  <message>recv:nction</message>
</record>
<record>
  <date>2016-11-11T03:47:52</date>
  <millis>1478807272529</millis>
  <sequence>7209</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>291</thread>
  <message>recv:(rcvBuf) </message>
</record>
<record>
  <date>2016-11-11T03:47:52</date>
  <millis>1478807272530</millis>
  <sequence>7210</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>291</thread>
  <message>recv:if string.matc</message>
</record>
<record>
  <date>2016-11-11T03:47:52</date>
  <millis>1478807272540</millis>
  <sequence>7211</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>291</thread>
  <message>recv:h(rcvBuf,"^ESP_cmd_close")==nil then file.write(string.gsub(rcvBuf, '\r', '')) uart.write(0, "&gt; ") else uart.on("</message>
</record>
<record>
  <date>2016-11-11T03:47:52</date>
  <millis>1478807272543</millis>
  <sequence>7212</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>291</thread>
  <message>recv:data") &lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:47:52</date>
  <millis>1478807272552</millis>
  <sequence>7213</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>291</thread>
  <message>recv:&gt;&gt;</message>
</record>
<record>
  <date>2016-11-11T03:47:52</date>
  <millis>1478807272554</millis>
  <sequence>7214</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>291</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T03:47:52</date>
  <millis>1478807272577</millis>
  <sequence>7215</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:control = require "control"

mqtt_conf = require "mqtt_config"

print("Running file mqtt")
tmr.delay(100000)

control.status_LED(2000)

gpio6 = 6
gpio.mode(gpio6, gpio.OUTPUT)
gpio.write(gpio6, gpio.LOW)

gpio7 = 7
gpio.mode(gpio7, gpio.OUTPUT)
gpio.writ</message>
</record>
<record>
  <date>2016-11-11T03:47:52</date>
  <millis>1478807272578</millis>
  <sequence>7216</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>291</thread>
  <message>recv:cont</message>
</record>
<record>
  <date>2016-11-11T03:47:52</date>
  <millis>1478807272582</millis>
  <sequence>7217</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>291</thread>
  <message>recv:rol = require "control"&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:47:52</date>
  <millis>1478807272596</millis>
  <sequence>7218</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>291</thread>
  <message>recv:&gt;&gt;&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:47:52</date>
  <millis>1478807272597</millis>
  <sequence>7219</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>291</thread>
  <message>recv:&gt;&gt; mqtt_conf </message>
</record>
<record>
  <date>2016-11-11T03:47:52</date>
  <millis>1478807272598</millis>
  <sequence>7220</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>291</thread>
  <message>recv:= require </message>
</record>
<record>
  <date>2016-11-11T03:47:52</date>
  <millis>1478807272599</millis>
  <sequence>7221</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>291</thread>
  <message>recv:"mqtt_con</message>
</record>
<record>
  <date>2016-11-11T03:47:52</date>
  <millis>1478807272604</millis>
  <sequence>7222</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>291</thread>
  <message>recv:fig"&lt;CR&gt;&lt;LF&gt;&lt;CR&gt;&lt;LF&gt;print("Running file mqtt")&lt;CR&gt;&lt;LF&gt;tmr.delay(100000)&lt;CR&gt;&lt;LF&gt;&lt;CR&gt;&lt;LF&gt;cont</message>
</record>
<record>
  <date>2016-11-11T03:47:52</date>
  <millis>1478807272606</millis>
  <sequence>7223</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>291</thread>
  <message>recv:rol.status_LED(2</message>
</record>
<record>
  <date>2016-11-11T03:47:52</date>
  <millis>1478807272607</millis>
  <sequence>7224</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>291</thread>
  <message>recv:000)&lt;CR&gt;&lt;LF&gt;&lt;CR&gt;&lt;LF&gt;gpio6 </message>
</record>
<record>
  <date>2016-11-11T03:47:52</date>
  <millis>1478807272608</millis>
  <sequence>7225</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>291</thread>
  <message>recv:= 6&lt;CR&gt;&lt;LF&gt;gpio.mode(</message>
</record>
<record>
  <date>2016-11-11T03:47:52</date>
  <millis>1478807272610</millis>
  <sequence>7226</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>291</thread>
  <message>recv:gpio6, gpio.OUTPUT)</message>
</record>
<record>
  <date>2016-11-11T03:47:52</date>
  <millis>1478807272610</millis>
  <sequence>7227</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>291</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;gpio.w</message>
</record>
<record>
  <date>2016-11-11T03:47:52</date>
  <millis>1478807272611</millis>
  <sequence>7228</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>291</thread>
  <message>recv:rite(gpi</message>
</record>
<record>
  <date>2016-11-11T03:47:52</date>
  <millis>1478807272612</millis>
  <sequence>7229</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>291</thread>
  <message>recv:o6, gpio</message>
</record>
<record>
  <date>2016-11-11T03:47:52</date>
  <millis>1478807272619</millis>
  <sequence>7230</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>291</thread>
  <message>recv:.LOW)&lt;CR&gt;&lt;LF&gt;&lt;CR&gt;&lt;LF&gt;gpio7 = 7&lt;CR&gt;&lt;LF&gt;gpio.mode(gpio7, gpio.OUTPUT)&lt;CR&gt;&lt;LF&gt;gpio.writ&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:47:52</date>
  <millis>1478807272620</millis>
  <sequence>7231</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>291</thread>
  <message>recv:stdin:3: malfor</message>
</record>
<record>
  <date>2016-11-11T03:47:52</date>
  <millis>1478807272622</millis>
  <sequence>7232</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>291</thread>
  <message>recv:med number near '6gp</message>
</record>
<record>
  <date>2016-11-11T03:47:52</date>
  <millis>1478807272623</millis>
  <sequence>7233</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>291</thread>
  <message>recv:io'&lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T03:47:52</date>
  <millis>1478807272631</millis>
  <sequence>7234</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:fline" 
-- to topic "/lwt" if client don't send keepalive packet
m:lwt("/lwt", "offline", 0, 0)

m:on("connect", function(client) print ("connected") end)
m:on("offline", function(client) print ("offline") end)

-- on publish message receive event
m:on("</message>
</record>
<record>
  <date>2016-11-11T03:47:52</date>
  <millis>1478807272633</millis>
  <sequence>7235</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>291</thread>
  <message>recv:f</message>
</record>
<record>
  <date>2016-11-11T03:47:52</date>
  <millis>1478807272634</millis>
  <sequence>7236</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>291</thread>
  <message>recv:line" &lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:47:52</date>
  <millis>1478807272639</millis>
  <sequence>7237</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>291</thread>
  <message>recv:&gt;&gt; -</message>
</record>
<record>
  <date>2016-11-11T03:47:52</date>
  <millis>1478807272640</millis>
  <sequence>7238</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>291</thread>
  <message>recv:- to topic "/lwt</message>
</record>
<record>
  <date>2016-11-11T03:47:52</date>
  <millis>1478807272645</millis>
  <sequence>7239</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>291</thread>
  <message>recv:" if client don't send keepalive packet&lt;CR&gt;&lt;LF&gt;m</message>
</record>
<record>
  <date>2016-11-11T03:47:52</date>
  <millis>1478807272652</millis>
  <sequence>7240</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>291</thread>
  <message>recv:stdin:1: unfinished string near '" '&lt;CR&gt;&lt;LF&gt;&gt; :lwt("/lwt", "offline", 0, </message>
</record>
<record>
  <date>2016-11-11T03:47:52</date>
  <millis>1478807272656</millis>
  <sequence>7241</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>291</thread>
  <message>recv:0)&lt;CR&gt;&lt;LF&gt;&lt;CR&gt;&lt;LF&gt;m:on("connect", function(client) print ("</message>
</record>
<record>
  <date>2016-11-11T03:47:52</date>
  <millis>1478807272657</millis>
  <sequence>7242</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>291</thread>
  <message>recv:connected") e</message>
</record>
<record>
  <date>2016-11-11T03:47:52</date>
  <millis>1478807272657</millis>
  <sequence>7243</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>291</thread>
  <message>recv:nd)&lt;CR&gt;&lt;LF&gt;m:</message>
</record>
<record>
  <date>2016-11-11T03:47:52</date>
  <millis>1478807272658</millis>
  <sequence>7244</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>291</thread>
  <message>recv:on("offli</message>
</record>
<record>
  <date>2016-11-11T03:47:52</date>
  <millis>1478807272659</millis>
  <sequence>7245</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>291</thread>
  <message>recv:ne", functio</message>
</record>
<record>
  <date>2016-11-11T03:47:52</date>
  <millis>1478807272660</millis>
  <sequence>7246</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>291</thread>
  <message>recv:n(client) p</message>
</record>
<record>
  <date>2016-11-11T03:47:52</date>
  <millis>1478807272661</millis>
  <sequence>7247</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>291</thread>
  <message>recv:rint stdin:1: </message>
</record>
<record>
  <date>2016-11-11T03:47:52</date>
  <millis>1478807272671</millis>
  <sequence>7248</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>291</thread>
  <message>recv:unexpected symbol near ':'&lt;CR&gt;&lt;LF&gt;&gt; ("offline") end)&lt;CR&gt;&lt;LF&gt;&lt;CR&gt;&lt;LF&gt;-- on publish message receive event&lt;CR&gt;&lt;LF&gt;m:on("&lt;CR&gt;&lt;LF&gt;stdin:1: syn</message>
</record>
<record>
  <date>2016-11-11T03:47:52</date>
  <millis>1478807272674</millis>
  <sequence>7249</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>291</thread>
  <message>recv:tax error near 'end'&lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T03:47:52</date>
  <millis>1478807272690</millis>
  <sequence>7250</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:te(gpio7, gpio.HIGH)
    end
    if data == "OFF" then
        print("received message: OFF @ light2")
        gpio.write(gpio7, gpio.LOW)
    end
    
  end
     
end)

-- send0/publish chip ID
m:connect("m11.cloudmqtt.com", 19311, 0, function(conn)
   </message>
</record>
<record>
  <date>2016-11-11T03:47:52</date>
  <millis>1478807272691</millis>
  <sequence>7251</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>291</thread>
  <message>recv:te</message>
</record>
<record>
  <date>2016-11-11T03:47:52</date>
  <millis>1478807272692</millis>
  <sequence>7252</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>291</thread>
  <message>recv:(gpio7, gpio.H</message>
</record>
<record>
  <date>2016-11-11T03:47:52</date>
  <millis>1478807272693</millis>
  <sequence>7253</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>291</thread>
  <message>recv:IGH)&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:47:52</date>
  <millis>1478807272737</millis>
  <sequence>7254</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>291</thread>
  <message>recv:s</message>
</record>
<record>
  <date>2016-11-11T03:47:52</date>
  <millis>1478807272738</millis>
  <sequence>7255</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>291</thread>
  <message>recv:tdin:1: attempt t</message>
</record>
<record>
  <date>2016-11-11T03:47:52</date>
  <millis>1478807272740</millis>
  <sequence>7256</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>291</thread>
  <message>recv:o call global 'te</message>
</record>
<record>
  <date>2016-11-11T03:47:52</date>
  <millis>1478807272741</millis>
  <sequence>7257</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>291</thread>
  <message>recv:' (a nil </message>
</record>
<record>
  <date>2016-11-11T03:47:52</date>
  <millis>1478807272742</millis>
  <sequence>7258</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>291</thread>
  <message>recv:value)&lt;CR&gt;&lt;LF&gt;stack t</message>
</record>
<record>
  <date>2016-11-11T03:47:52</date>
  <millis>1478807272743</millis>
  <sequence>7259</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>291</thread>
  <message>recv:raceback:&lt;CR&gt;</message>
</record>
<record>
  <date>2016-11-11T03:47:52</date>
  <millis>1478807272743</millis>
  <sequence>7260</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>291</thread>
  <message>recv:&lt;LF&gt;	stdi</message>
</record>
<record>
  <date>2016-11-11T03:47:52</date>
  <millis>1478807272744</millis>
  <sequence>7261</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>291</thread>
  <message>recv:n:1: in ma</message>
</record>
<record>
  <date>2016-11-11T03:47:52</date>
  <millis>1478807272745</millis>
  <sequence>7262</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>291</thread>
  <message>recv:in chunk&lt;CR&gt;</message>
</record>
<record>
  <date>2016-11-11T03:47:52</date>
  <millis>1478807272746</millis>
  <sequence>7263</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>291</thread>
  <message>recv:&lt;LF&gt;&gt;     en</message>
</record>
<record>
  <date>2016-11-11T03:47:52</date>
  <millis>1478807272748</millis>
  <sequence>7264</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>291</thread>
  <message>recv:d&lt;CR&gt;&lt;LF&gt;    if data == "OFF" then&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:47:52</date>
  <millis>1478807272758</millis>
  <sequence>7265</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>291</thread>
  <message>recv:        print("received message: OFF @ light2")&lt;CR&gt;&lt;LF&gt;        gpio.write(gpio7, gpio.LOW)&lt;CR&gt;&lt;LF&gt;    end&lt;CR&gt;&lt;LF&gt;    &lt;CR&gt;&lt;LF&gt;  end&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:47:52</date>
  <millis>1478807272759</millis>
  <sequence>7266</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>291</thread>
  <message>recv:     &lt;CR&gt;&lt;LF&gt;end)&lt;CR&gt;&lt;LF&gt;&lt;CR&gt;&lt;LF&gt;--</message>
</record>
<record>
  <date>2016-11-11T03:47:52</date>
  <millis>1478807272764</millis>
  <sequence>7267</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>291</thread>
  <message>recv: send0/publish chip ID&lt;CR&gt;&lt;LF&gt;m:connect("m11.cloudmqtt.com", 193</message>
</record>
<record>
  <date>2016-11-11T03:47:52</date>
  <millis>1478807272769</millis>
  <sequence>7268</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>291</thread>
  <message>recv:11, 0, function(conn)&lt;CR&gt;&lt;LF&gt;   &lt;CR&gt;&lt;LF&gt;stdin:1: '&lt;eof&gt;' expect</message>
</record>
<record>
  <date>2016-11-11T03:47:52</date>
  <millis>1478807272771</millis>
  <sequence>7269</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>291</thread>
  <message>recv:ed near 'end'&lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T03:47:52</date>
  <millis>1478807272792</millis>
  <sequence>7270</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:    end)
            
    m:publish("ID is: ", node.chipid(),0,0, function(conn) 
        print("sent ID") 
    end)

end)



</message>
</record>
<record>
  <date>2016-11-11T03:47:52</date>
  <millis>1478807272794</millis>
  <sequence>7271</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>291</thread>
  <message>recv:  </message>
</record>
<record>
  <date>2016-11-11T03:47:52</date>
  <millis>1478807272795</millis>
  <sequence>7272</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>291</thread>
  <message>recv:  end)&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:47:52</date>
  <millis>1478807272797</millis>
  <sequence>7273</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>291</thread>
  <message>recv:stdin:</message>
</record>
<record>
  <date>2016-11-11T03:47:52</date>
  <millis>1478807272799</millis>
  <sequence>7274</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>291</thread>
  <message>recv:1: '&lt;eof&gt;' expec</message>
</record>
<record>
  <date>2016-11-11T03:47:52</date>
  <millis>1478807272800</millis>
  <sequence>7275</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>291</thread>
  <message>recv:ted near 'en</message>
</record>
<record>
  <date>2016-11-11T03:47:52</date>
  <millis>1478807272802</millis>
  <sequence>7276</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>291</thread>
  <message>recv:d'&lt;CR&gt;&lt;LF&gt;&gt;             &lt;CR&gt;&lt;LF&gt;   </message>
</record>
<record>
  <date>2016-11-11T03:47:52</date>
  <millis>1478807272803</millis>
  <sequence>7277</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>291</thread>
  <message>recv: m:publish("ID</message>
</record>
<record>
  <date>2016-11-11T03:47:52</date>
  <millis>1478807272807</millis>
  <sequence>7278</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>291</thread>
  <message>recv: is: ", node.chipid(),0,0, function(con</message>
</record>
<record>
  <date>2016-11-11T03:47:52</date>
  <millis>1478807272808</millis>
  <sequence>7279</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>291</thread>
  <message>recv:n) &lt;CR&gt;&lt;LF&gt;  </message>
</record>
<record>
  <date>2016-11-11T03:47:52</date>
  <millis>1478807272810</millis>
  <sequence>7280</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>291</thread>
  <message>recv:&gt;&gt;       print("sent</message>
</record>
<record>
  <date>2016-11-11T03:47:52</date>
  <millis>1478807272812</millis>
  <sequence>7281</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>291</thread>
  <message>recv: ID") &lt;CR&gt;&lt;LF&gt;    end)&lt;CR&gt;&lt;LF&gt;&lt;CR&gt;&lt;LF&gt;end)</message>
</record>
<record>
  <date>2016-11-11T03:47:52</date>
  <millis>1478807272813</millis>
  <sequence>7282</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>291</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;&lt;CR&gt;&lt;LF&gt;&lt;CR&gt;&lt;LF&gt;&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:47:52</date>
  <millis>1478807272818</millis>
  <sequence>7283</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>291</thread>
  <message>recv:stdin:2:</message>
</record>
<record>
  <date>2016-11-11T03:47:52</date>
  <millis>1478807272823</millis>
  <sequence>7284</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>291</thread>
  <message>recv: '&lt;eof&gt;' expected near 'end'&lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T03:47:52</date>
  <millis>1478807272853</millis>
  <sequence>7285</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:47:52</date>
  <millis>1478807272856</millis>
  <sequence>7286</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>291</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;&gt; &lt;CR&gt;</message>
</record>
<record>
  <date>2016-11-11T03:47:52</date>
  <millis>1478807272858</millis>
  <sequence>7287</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>291</thread>
  <message>recv:&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T03:47:52</date>
  <millis>1478807272896</millis>
  <sequence>7288</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>291</thread>
  <message>Operation done. Duration = 1387 ms</message>
</record>
<record>
  <date>2016-11-11T03:47:53</date>
  <millis>1478807273734</millis>
  <sequence>7289</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:node.restart()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:47:53</date>
  <millis>1478807273735</millis>
  <sequence>7290</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with saved baud 115200...</message>
</record>
<record>
  <date>2016-11-11T03:47:53</date>
  <millis>1478807273799</millis>
  <sequence>7291</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success. Now we waiting for ESP reboot...</message>
</record>
<record>
  <date>2016-11-11T03:47:55</date>
  <millis>1478807275800</millis>
  <sequence>7292</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with baud 115200...</message>
</record>
<record>
  <date>2016-11-11T03:47:55</date>
  <millis>1478807275802</millis>
  <sequence>7293</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:print(uart.setup(0, 115200, 8, 0, 1, 1 ))&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:47:56</date>
  <millis>1478807276065</millis>
  <sequence>7294</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success.</message>
</record>
<record>
  <date>2016-11-11T03:47:56</date>
  <millis>1478807276102</millis>
  <sequence>7295</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:47:56</date>
  <millis>1478807276105</millis>
  <sequence>7296</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>292</thread>
  <message>
Communication with MCU established.</message>
</record>
<record>
  <date>2016-11-11T03:47:56</date>
  <millis>1478807276108</millis>
  <sequence>7297</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>292</thread>
  <message>sending:=node.heap()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:47:59</date>
  <millis>1478807279238</millis>
  <sequence>7298</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:node.restart()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:47:59</date>
  <millis>1478807279240</millis>
  <sequence>7299</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with saved baud 115200...</message>
</record>
<record>
  <date>2016-11-11T03:47:59</date>
  <millis>1478807279303</millis>
  <sequence>7300</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success. Now we waiting for ESP reboot...</message>
</record>
<record>
  <date>2016-11-11T03:48:01</date>
  <millis>1478807281305</millis>
  <sequence>7301</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with baud 115200...</message>
</record>
<record>
  <date>2016-11-11T03:48:01</date>
  <millis>1478807281306</millis>
  <sequence>7302</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:print(uart.setup(0, 115200, 8, 0, 1, 1 ))&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:48:01</date>
  <millis>1478807281569</millis>
  <sequence>7303</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success.</message>
</record>
<record>
  <date>2016-11-11T03:48:01</date>
  <millis>1478807281617</millis>
  <sequence>7304</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:48:01</date>
  <millis>1478807281619</millis>
  <sequence>7305</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>292</thread>
  <message>
Communication with MCU established.</message>
</record>
<record>
  <date>2016-11-11T03:48:01</date>
  <millis>1478807281622</millis>
  <sequence>7306</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>292</thread>
  <message>sending:=node.heap()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:48:28</date>
  <millis>1478807308466</millis>
  <sequence>7307</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>We save known file mqtt.lua</message>
</record>
<record>
  <date>2016-11-11T03:48:28</date>
  <millis>1478807308468</millis>
  <sequence>7308</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to saving file mqtt.lua ...</message>
</record>
<record>
  <date>2016-11-11T03:48:28</date>
  <millis>1478807308474</millis>
  <sequence>7309</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Save file mqtt.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T03:48:28</date>
  <millis>1478807308483</millis>
  <sequence>7310</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP: Try to save file to ESP...</message>
</record>
<record>
  <date>2016-11-11T03:48:28</date>
  <millis>1478807308487</millis>
  <sequence>7311</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Try to save file to ESP in Turbo Mode...</message>
</record>
<record>
  <date>2016-11-11T03:48:28</date>
  <millis>1478807308496</millis>
  <sequence>7312</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>DataTurboSender: start "Smart Mode"</message>
</record>
<record>
  <date>2016-11-11T03:48:28</date>
  <millis>1478807308498</millis>
  <sequence>7313</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Starting...</message>
</record>
<record>
  <date>2016-11-11T03:48:28</date>
  <millis>1478807308627</millis>
  <sequence>7314</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local FILE="mqtt.lua" file.remove(FILE) file.open(FILE,"w+") uart.setup(0,115200,8,0,1,0)</message>
</record>
<record>
  <date>2016-11-11T03:48:28</date>
  <millis>1478807308628</millis>
  <sequence>7315</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>293</thread>
  <message>recv:lo</message>
</record>
<record>
  <date>2016-11-11T03:48:28</date>
  <millis>1478807308631</millis>
  <sequence>7316</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>293</thread>
  <message>recv:cal FILE="mqtt.lua" file.re</message>
</record>
<record>
  <date>2016-11-11T03:48:28</date>
  <millis>1478807308633</millis>
  <sequence>7317</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>293</thread>
  <message>recv:move(FILE) file.open(FILE</message>
</record>
<record>
  <date>2016-11-11T03:48:28</date>
  <millis>1478807308637</millis>
  <sequence>7318</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>293</thread>
  <message>recv:,"w+") uart.setup(0,115200,8,0,1,0)&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:48:28</date>
  <millis>1478807308825</millis>
  <sequence>7319</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>293</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:48:28</date>
  <millis>1478807308848</millis>
  <sequence>7320</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_Receiver=function(rcvBuf) if string.match(rcvBuf,"^ESP_cmd_close")==nil then file.write(string.gsub(rcvBuf, '\r', '')) uart.write(0, "&gt; ") else uart.on("data") </message>
</record>
<record>
  <date>2016-11-11T03:48:28</date>
  <millis>1478807308875</millis>
  <sequence>7321</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>293</thread>
  <message>recv:&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T03:48:28</date>
  <millis>1478807308888</millis>
  <sequence>7322</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:file.flush() file.close() FILE=nil rcvBuf=nil ESP_Receiver=nil uart.setup(0,115200,8,0,1,1) str="\r\n--Done--\r\n&gt; " print(str) str=nil collectgarbage() end end uart.on("data",'\r',ESP_Receiver,0)</message>
</record>
<record>
  <date>2016-11-11T03:48:28</date>
  <millis>1478807308929</millis>
  <sequence>7323</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>293</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:48:28</date>
  <millis>1478807308942</millis>
  <sequence>7324</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:control = require "control"

mqtt_conf = require "mqtt_config"

print("Running file mqtt")
tmr.delay(100000)

control.status_LED(2000)

gpio6 = 6
gpio.mode(gpio6, gpio.OUTPUT)
gpio.write(gpio6, gpio.LOW)

gpio7 = 7
gpio.mode(gpio7, gpio.OUTPUT)
gpio.writ</message>
</record>
<record>
  <date>2016-11-11T03:48:28</date>
  <millis>1478807308971</millis>
  <sequence>7325</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>293</thread>
  <message>recv:&gt;</message>
</record>
<record>
  <date>2016-11-11T03:48:28</date>
  <millis>1478807308972</millis>
  <sequence>7326</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>293</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T03:48:28</date>
  <millis>1478807308990</millis>
  <sequence>7327</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:e(gpio7, gpio.LOW)

print (mqtt_conf.MQTTPASS)

-- init mqtt client with keepalive timer 120sec
m = mqtt.Client("nodemcu",120,"swqzxzhr", )

-- setup Last Will and Testament (optional)
-- Broker will publish a message with qos = 0, retain = 0, data = "of</message>
</record>
<record>
  <date>2016-11-11T03:48:29</date>
  <millis>1478807309022</millis>
  <sequence>7328</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>293</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:48:29</date>
  <millis>1478807309035</millis>
  <sequence>7329</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:fline" 
-- to topic "/lwt" if client don't send keepalive packet
m:lwt("/lwt", "offline", 0, 0)

m:on("connect", function(client) print ("connected") end)
m:on("offline", function(client) print ("offline") end)

-- on publish message receive event
m:on("</message>
</record>
<record>
  <date>2016-11-11T03:48:29</date>
  <millis>1478807309065</millis>
  <sequence>7330</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>293</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:48:29</date>
  <millis>1478807309078</millis>
  <sequence>7331</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:message", function(conn, topic, data)
  print("Topic   " ..topic.. " get info. If command match then will run" )
  if topic == "Light1" then
    if data == "ON" then
        print("received message: ON @ light1")
        gpio.write(gpio6, gpio.HIGH)
    </message>
</record>
<record>
  <date>2016-11-11T03:48:29</date>
  <millis>1478807309109</millis>
  <sequence>7332</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>293</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:48:29</date>
  <millis>1478807309120</millis>
  <sequence>7333</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:end
    if data == "OFF" then
        print("received message: OFF @ light1")
        gpio.write(gpio6, gpio.LOW)
    end
    
  end
    
  if topic == "Light2" then
    if data == "ON" then
        print("received message: ON @ light2")
        gpio.wri</message>
</record>
<record>
  <date>2016-11-11T03:48:29</date>
  <millis>1478807309153</millis>
  <sequence>7334</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>293</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:48:29</date>
  <millis>1478807309165</millis>
  <sequence>7335</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:te(gpio7, gpio.HIGH)
    end
    if data == "OFF" then
        print("received message: OFF @ light2")
        gpio.write(gpio7, gpio.LOW)
    end
    
  end
     
end)

-- send0/publish chip ID
m:connect("m11.cloudmqtt.com", 19311, 0, function(conn)
   </message>
</record>
<record>
  <date>2016-11-11T03:48:29</date>
  <millis>1478807309195</millis>
  <sequence>7336</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>293</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:48:29</date>
  <millis>1478807309209</millis>
  <sequence>7337</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending: print("Your ID: " ..node.chipid().." connected")
    -- subscribe both topic
end

--, function(client, reason) print("failed reason: "..reason) 

    m:subscribe({["Light1"]=0, ["Light2"]=0}, function(conn) 
        print("subscribe Light 1 and 2 succes</message>
</record>
<record>
  <date>2016-11-11T03:48:29</date>
  <millis>1478807309241</millis>
  <sequence>7338</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>293</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:48:29</date>
  <millis>1478807309254</millis>
  <sequence>7339</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:s")
    end)
            
    m:publish("ID is: ", node.chipid(),0,0, function(conn) 
        print("sent ID") 
    end)

end)



</message>
</record>
<record>
  <date>2016-11-11T03:48:29</date>
  <millis>1478807309273</millis>
  <sequence>7340</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>293</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:48:29</date>
  <millis>1478807309285</millis>
  <sequence>7341</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_cmd_close</message>
</record>
<record>
  <date>2016-11-11T03:48:29</date>
  <millis>1478807309297</millis>
  <sequence>7342</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>293</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;--</message>
</record>
<record>
  <date>2016-11-11T03:48:29</date>
  <millis>1478807309298</millis>
  <sequence>7343</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>293</thread>
  <message>recv:Done--&lt;CR&gt;&lt;LF&gt;&gt; &lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:48:29</date>
  <millis>1478807309322</millis>
  <sequence>7344</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:48:29</date>
  <millis>1478807309323</millis>
  <sequence>7345</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>293</thread>
  <message>recv:&lt;CR&gt;</message>
</record>
<record>
  <date>2016-11-11T03:48:29</date>
  <millis>1478807309326</millis>
  <sequence>7346</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>293</thread>
  <message>recv:&lt;LF&gt;&gt; &lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T03:48:29</date>
  <millis>1478807309349</millis>
  <sequence>7347</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:dofile("mqtt.lua")</message>
</record>
<record>
  <date>2016-11-11T03:48:29</date>
  <millis>1478807309351</millis>
  <sequence>7348</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>293</thread>
  <message>recv:do</message>
</record>
<record>
  <date>2016-11-11T03:48:29</date>
  <millis>1478807309352</millis>
  <sequence>7349</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>293</thread>
  <message>recv:file("mqtt.lua")&lt;CR&gt;</message>
</record>
<record>
  <date>2016-11-11T03:48:29</date>
  <millis>1478807309353</millis>
  <sequence>7350</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>293</thread>
  <message>recv:&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:48:29</date>
  <millis>1478807309398</millis>
  <sequence>7351</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>293</thread>
  <message>recv:mq</message>
</record>
<record>
  <date>2016-11-11T03:48:29</date>
  <millis>1478807309400</millis>
  <sequence>7352</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>293</thread>
  <message>recv:tt.lua:21: unexpected</message>
</record>
<record>
  <date>2016-11-11T03:48:29</date>
  <millis>1478807309403</millis>
  <sequence>7353</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>293</thread>
  <message>recv: symbol near ')'&lt;CR&gt;&lt;LF&gt;stack trace</message>
</record>
<record>
  <date>2016-11-11T03:48:29</date>
  <millis>1478807309405</millis>
  <sequence>7354</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>293</thread>
  <message>recv:back:&lt;CR&gt;&lt;LF&gt;	[C]: in function 'dofil</message>
</record>
<record>
  <date>2016-11-11T03:48:29</date>
  <millis>1478807309407</millis>
  <sequence>7355</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>293</thread>
  <message>recv:e'&lt;CR&gt;&lt;LF&gt;	stdin:1: in main chun</message>
</record>
<record>
  <date>2016-11-11T03:48:29</date>
  <millis>1478807309409</millis>
  <sequence>7356</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>293</thread>
  <message>recv:k&lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T03:48:29</date>
  <millis>1478807309478</millis>
  <sequence>7357</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>293</thread>
  <message>Operation done. Duration = 989 ms</message>
</record>
<record>
  <date>2016-11-11T03:48:31</date>
  <millis>1478807311871</millis>
  <sequence>7358</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:node.restart()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:48:31</date>
  <millis>1478807311872</millis>
  <sequence>7359</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with saved baud 115200...</message>
</record>
<record>
  <date>2016-11-11T03:48:31</date>
  <millis>1478807311934</millis>
  <sequence>7360</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success. Now we waiting for ESP reboot...</message>
</record>
<record>
  <date>2016-11-11T03:48:33</date>
  <millis>1478807313936</millis>
  <sequence>7361</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with baud 115200...</message>
</record>
<record>
  <date>2016-11-11T03:48:33</date>
  <millis>1478807313945</millis>
  <sequence>7362</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:print(uart.setup(0, 115200, 8, 0, 1, 1 ))&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:48:34</date>
  <millis>1478807314209</millis>
  <sequence>7363</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success.</message>
</record>
<record>
  <date>2016-11-11T03:48:34</date>
  <millis>1478807314253</millis>
  <sequence>7364</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:48:34</date>
  <millis>1478807314256</millis>
  <sequence>7365</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>294</thread>
  <message>
Communication with MCU established.</message>
</record>
<record>
  <date>2016-11-11T03:48:34</date>
  <millis>1478807314261</millis>
  <sequence>7366</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>294</thread>
  <message>sending:=node.heap()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:49:11</date>
  <millis>1478807351830</millis>
  <sequence>7367</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>We save known file mqtt.lua</message>
</record>
<record>
  <date>2016-11-11T03:49:11</date>
  <millis>1478807351831</millis>
  <sequence>7368</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to saving file mqtt.lua ...</message>
</record>
<record>
  <date>2016-11-11T03:49:11</date>
  <millis>1478807351834</millis>
  <sequence>7369</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Save file mqtt.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T03:49:11</date>
  <millis>1478807351839</millis>
  <sequence>7370</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP: Try to save file to ESP...</message>
</record>
<record>
  <date>2016-11-11T03:49:11</date>
  <millis>1478807351840</millis>
  <sequence>7371</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Try to save file to ESP in Turbo Mode...</message>
</record>
<record>
  <date>2016-11-11T03:49:11</date>
  <millis>1478807351846</millis>
  <sequence>7372</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>DataTurboSender: start "Smart Mode"</message>
</record>
<record>
  <date>2016-11-11T03:49:11</date>
  <millis>1478807351849</millis>
  <sequence>7373</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Starting...</message>
</record>
<record>
  <date>2016-11-11T03:49:11</date>
  <millis>1478807351885</millis>
  <sequence>7374</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>295</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt; ets </message>
</record>
<record>
  <date>2016-11-11T03:49:11</date>
  <millis>1478807351887</millis>
  <sequence>7375</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>295</thread>
  <message>recv:Jan  8 2013,rst cau</message>
</record>
<record>
  <date>2016-11-11T03:49:11</date>
  <millis>1478807351889</millis>
  <sequence>7376</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>295</thread>
  <message>recv:se:2, boot mode:(3,6)&lt;CR&gt;&lt;LF&gt;&lt;CR&gt;</message>
</record>
<record>
  <date>2016-11-11T03:49:11</date>
  <millis>1478807351890</millis>
  <sequence>7377</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>295</thread>
  <message>recv:&lt;LF&gt;load 0x4</message>
</record>
<record>
  <date>2016-11-11T03:49:11</date>
  <millis>1478807351891</millis>
  <sequence>7378</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>295</thread>
  <message>recv:0100000, len 2562</message>
</record>
<record>
  <date>2016-11-11T03:49:11</date>
  <millis>1478807351900</millis>
  <sequence>7379</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>295</thread>
  <message>recv:4, room 16 &lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:49:11</date>
  <millis>1478807351912</millis>
  <sequence>7380</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>295</thread>
  <message>recv:tail</message>
</record>
<record>
  <date>2016-11-11T03:49:11</date>
  <millis>1478807351914</millis>
  <sequence>7381</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>295</thread>
  <message>recv: 8&lt;CR&gt;&lt;LF&gt;chksum 0xd2&lt;CR&gt;&lt;LF&gt;load 0x</message>
</record>
<record>
  <date>2016-11-11T03:49:11</date>
  <millis>1478807351916</millis>
  <sequence>7382</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>295</thread>
  <message>recv:3ffe8000, len 2236, </message>
</record>
<record>
  <date>2016-11-11T03:49:11</date>
  <millis>1478807351917</millis>
  <sequence>7383</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>295</thread>
  <message>recv:room 0 &lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:49:11</date>
  <millis>1478807351919</millis>
  <sequence>7384</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>295</thread>
  <message>recv:tail</message>
</record>
<record>
  <date>2016-11-11T03:49:11</date>
  <millis>1478807351920</millis>
  <sequence>7385</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>295</thread>
  <message>recv: 12&lt;CR&gt;&lt;LF&gt;chksum 0x4f&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:49:11</date>
  <millis>1478807351921</millis>
  <sequence>7386</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>295</thread>
  <message>recv:ho 0 tail 12 roo</message>
</record>
<record>
  <date>2016-11-11T03:49:11</date>
  <millis>1478807351926</millis>
  <sequence>7387</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>295</thread>
  <message>recv:m 4&lt;CR&gt;&lt;LF&gt;load 0x3ffe88bc, len 8, room 12 &lt;CR&gt;&lt;LF&gt;tail 8&lt;CR&gt;&lt;LF&gt;chks</message>
</record>
<record>
  <date>2016-11-11T03:49:11</date>
  <millis>1478807351929</millis>
  <sequence>7388</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>295</thread>
  <message>recv:um 0xe1&lt;CR&gt;&lt;LF&gt;csum 0xe1&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:49:11</date>
  <millis>1478807351969</millis>
  <sequence>7389</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>295</thread>
  <message>recv:</message>
</record>
<record>
  <date>2016-11-11T03:49:11</date>
  <millis>1478807351972</millis>
  <sequence>7390</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>295</thread>
  <message>recv:?nrn|?llll&lt;OK&gt;r?</message>
</record>
<record>
  <date>2016-11-11T03:49:11</date>
  <millis>1478807351975</millis>
  <sequence>7391</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>295</thread>
  <message>recv:ll?l?</message>
</record>
<record>
  <date>2016-11-11T03:49:11</date>
  <millis>1478807351976</millis>
  <sequence>7392</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>295</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:49:12</date>
  <millis>1478807352013</millis>
  <sequence>7393</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local FILE="mqtt.lua" file.remove(FILE) file.open(FILE,"w+") uart.setup(0,115200,8,0,1,0)</message>
</record>
<record>
  <date>2016-11-11T03:49:15</date>
  <millis>1478807355019</millis>
  <sequence>7394</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Operation done. Duration = 3178 ms</message>
</record>
<record>
  <date>2016-11-11T03:49:15</date>
  <millis>1478807355021</millis>
  <sequence>7395</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Waiting answer from ESP - Timeout reached. Command aborted.</message>
</record>
<record>
  <date>2016-11-11T03:49:20</date>
  <millis>1478807360116</millis>
  <sequence>7396</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>We save known file mqtt.lua</message>
</record>
<record>
  <date>2016-11-11T03:49:20</date>
  <millis>1478807360117</millis>
  <sequence>7397</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to saving file mqtt.lua ...</message>
</record>
<record>
  <date>2016-11-11T03:49:20</date>
  <millis>1478807360118</millis>
  <sequence>7398</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Save file mqtt.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T03:49:20</date>
  <millis>1478807360120</millis>
  <sequence>7399</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP: Try to save file to ESP...</message>
</record>
<record>
  <date>2016-11-11T03:49:20</date>
  <millis>1478807360123</millis>
  <sequence>7400</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Try to save file to ESP in Turbo Mode...</message>
</record>
<record>
  <date>2016-11-11T03:49:20</date>
  <millis>1478807360130</millis>
  <sequence>7401</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>DataTurboSender: start "Smart Mode"</message>
</record>
<record>
  <date>2016-11-11T03:49:20</date>
  <millis>1478807360133</millis>
  <sequence>7402</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Starting...</message>
</record>
<record>
  <date>2016-11-11T03:49:20</date>
  <millis>1478807360255</millis>
  <sequence>7403</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local FILE="mqtt.lua" file.remove(FILE) file.open(FILE,"w+") uart.setup(0,115200,8,0,1,0)</message>
</record>
<record>
  <date>2016-11-11T03:49:23</date>
  <millis>1478807363265</millis>
  <sequence>7404</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Operation done. Duration = 3140 ms</message>
</record>
<record>
  <date>2016-11-11T03:49:23</date>
  <millis>1478807363267</millis>
  <sequence>7405</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Waiting answer from ESP - Timeout reached. Command aborted.</message>
</record>
<record>
  <date>2016-11-11T03:49:24</date>
  <millis>1478807364610</millis>
  <sequence>7406</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>We save known file mqtt.lua</message>
</record>
<record>
  <date>2016-11-11T03:49:24</date>
  <millis>1478807364612</millis>
  <sequence>7407</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to saving file mqtt.lua ...</message>
</record>
<record>
  <date>2016-11-11T03:49:24</date>
  <millis>1478807364614</millis>
  <sequence>7408</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Save file mqtt.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T03:49:24</date>
  <millis>1478807364615</millis>
  <sequence>7409</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP: Try to save file to ESP...</message>
</record>
<record>
  <date>2016-11-11T03:49:24</date>
  <millis>1478807364616</millis>
  <sequence>7410</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Try to save file to ESP in Turbo Mode...</message>
</record>
<record>
  <date>2016-11-11T03:49:24</date>
  <millis>1478807364624</millis>
  <sequence>7411</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>DataTurboSender: start "Smart Mode"</message>
</record>
<record>
  <date>2016-11-11T03:49:24</date>
  <millis>1478807364625</millis>
  <sequence>7412</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Starting...</message>
</record>
<record>
  <date>2016-11-11T03:49:24</date>
  <millis>1478807364766</millis>
  <sequence>7413</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local FILE="mqtt.lua" file.remove(FILE) file.open(FILE,"w+") uart.setup(0,115200,8,0,1,0)</message>
</record>
<record>
  <date>2016-11-11T03:49:27</date>
  <millis>1478807367777</millis>
  <sequence>7414</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Operation done. Duration = 3160 ms</message>
</record>
<record>
  <date>2016-11-11T03:49:27</date>
  <millis>1478807367800</millis>
  <sequence>7415</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Waiting answer from ESP - Timeout reached. Command aborted.</message>
</record>
<record>
  <date>2016-11-11T03:49:28</date>
  <millis>1478807368405</millis>
  <sequence>7416</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:node.restart()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:49:28</date>
  <millis>1478807368408</millis>
  <sequence>7417</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with saved baud 115200...</message>
</record>
<record>
  <date>2016-11-11T03:49:28</date>
  <millis>1478807368470</millis>
  <sequence>7418</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success. Now we waiting for ESP reboot...</message>
</record>
<record>
  <date>2016-11-11T03:49:28</date>
  <millis>1478807368636</millis>
  <sequence>7419</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:node.restart()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:49:28</date>
  <millis>1478807368637</millis>
  <sequence>7420</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with saved baud 115200...</message>
</record>
<record>
  <date>2016-11-11T03:49:28</date>
  <millis>1478807368698</millis>
  <sequence>7421</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success. Now we waiting for ESP reboot...</message>
</record>
<record>
  <date>2016-11-11T03:49:29</date>
  <millis>1478807369726</millis>
  <sequence>7422</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:node.restart()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:49:29</date>
  <millis>1478807369727</millis>
  <sequence>7423</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with saved baud 115200...</message>
</record>
<record>
  <date>2016-11-11T03:49:29</date>
  <millis>1478807369789</millis>
  <sequence>7424</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success. Now we waiting for ESP reboot...</message>
</record>
<record>
  <date>2016-11-11T03:49:30</date>
  <millis>1478807370474</millis>
  <sequence>7425</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with baud 115200...</message>
</record>
<record>
  <date>2016-11-11T03:49:30</date>
  <millis>1478807370475</millis>
  <sequence>7426</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:print(uart.setup(0, 115200, 8, 0, 1, 1 ))&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:49:30</date>
  <millis>1478807370737</millis>
  <sequence>7427</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success.</message>
</record>
<record>
  <date>2016-11-11T03:49:30</date>
  <millis>1478807370774</millis>
  <sequence>7428</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>ERROR: Communication with MCU not established.</message>
</record>
<record>
  <date>2016-11-11T03:49:30</date>
  <millis>1478807370775</millis>
  <sequence>7429</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:49:31</date>
  <millis>1478807371039</millis>
  <sequence>7430</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:49:31</date>
  <millis>1478807371345</millis>
  <sequence>7431</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:49:31</date>
  <millis>1478807371646</millis>
  <sequence>7432</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:49:31</date>
  <millis>1478807371791</millis>
  <sequence>7433</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>ERROR: Communication with MCU not established.</message>
</record>
<record>
  <date>2016-11-11T03:49:31</date>
  <millis>1478807371954</millis>
  <sequence>7434</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:49:32</date>
  <millis>1478807372250</millis>
  <sequence>7435</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:49:32</date>
  <millis>1478807372550</millis>
  <sequence>7436</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:49:32</date>
  <millis>1478807372852</millis>
  <sequence>7437</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:49:33</date>
  <millis>1478807373153</millis>
  <sequence>7438</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:49:33</date>
  <millis>1478807373454</millis>
  <sequence>7439</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:49:33</date>
  <millis>1478807373754</millis>
  <sequence>7440</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:49:34</date>
  <millis>1478807374054</millis>
  <sequence>7441</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:49:34</date>
  <millis>1478807374356</millis>
  <sequence>7442</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:49:34</date>
  <millis>1478807374657</millis>
  <sequence>7443</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:49:34</date>
  <millis>1478807374957</millis>
  <sequence>7444</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:49:35</date>
  <millis>1478807375259</millis>
  <sequence>7445</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:49:35</date>
  <millis>1478807375559</millis>
  <sequence>7446</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:49:35</date>
  <millis>1478807375628</millis>
  <sequence>7447</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>300</thread>
  <message>
Communication with MCU established.</message>
</record>
<record>
  <date>2016-11-11T03:49:41</date>
  <millis>1478807381119</millis>
  <sequence>7448</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>We save known file mqtt.lua</message>
</record>
<record>
  <date>2016-11-11T03:49:41</date>
  <millis>1478807381120</millis>
  <sequence>7449</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to saving file mqtt.lua ...</message>
</record>
<record>
  <date>2016-11-11T03:49:41</date>
  <millis>1478807381123</millis>
  <sequence>7450</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Save file mqtt.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T03:49:41</date>
  <millis>1478807381124</millis>
  <sequence>7451</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP: Try to save file to ESP...</message>
</record>
<record>
  <date>2016-11-11T03:49:41</date>
  <millis>1478807381126</millis>
  <sequence>7452</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Try to save file to ESP in Turbo Mode...</message>
</record>
<record>
  <date>2016-11-11T03:49:41</date>
  <millis>1478807381132</millis>
  <sequence>7453</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>DataTurboSender: start "Smart Mode"</message>
</record>
<record>
  <date>2016-11-11T03:49:41</date>
  <millis>1478807381136</millis>
  <sequence>7454</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Starting...</message>
</record>
<record>
  <date>2016-11-11T03:49:41</date>
  <millis>1478807381277</millis>
  <sequence>7455</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local FILE="mqtt.lua" file.remove(FILE) file.open(FILE,"w+") uart.setup(0,115200,8,0,1,0)</message>
</record>
<record>
  <date>2016-11-11T03:49:44</date>
  <millis>1478807384290</millis>
  <sequence>7456</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Operation done. Duration = 3162 ms</message>
</record>
<record>
  <date>2016-11-11T03:49:44</date>
  <millis>1478807384294</millis>
  <sequence>7457</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Waiting answer from ESP - Timeout reached. Command aborted.</message>
</record>
<record>
  <date>2016-11-11T03:49:45</date>
  <millis>1478807385008</millis>
  <sequence>7458</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>We save known file mqtt.lua</message>
</record>
<record>
  <date>2016-11-11T03:49:45</date>
  <millis>1478807385008</millis>
  <sequence>7459</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to saving file mqtt.lua ...</message>
</record>
<record>
  <date>2016-11-11T03:49:45</date>
  <millis>1478807385010</millis>
  <sequence>7460</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Save file mqtt.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T03:49:45</date>
  <millis>1478807385012</millis>
  <sequence>7461</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP: Try to save file to ESP...</message>
</record>
<record>
  <date>2016-11-11T03:49:45</date>
  <millis>1478807385013</millis>
  <sequence>7462</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Try to save file to ESP in Turbo Mode...</message>
</record>
<record>
  <date>2016-11-11T03:49:45</date>
  <millis>1478807385021</millis>
  <sequence>7463</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>DataTurboSender: start "Smart Mode"</message>
</record>
<record>
  <date>2016-11-11T03:49:45</date>
  <millis>1478807385022</millis>
  <sequence>7464</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Starting...</message>
</record>
<record>
  <date>2016-11-11T03:49:45</date>
  <millis>1478807385026</millis>
  <sequence>7465</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>303</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;N</message>
</record>
<record>
  <date>2016-11-11T03:49:45</date>
  <millis>1478807385029</millis>
  <sequence>7466</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>303</thread>
  <message>recv:odeMCU 1.5.4.1 build unspecified powe</message>
</record>
<record>
  <date>2016-11-11T03:49:45</date>
  <millis>1478807385035</millis>
  <sequence>7467</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>303</thread>
  <message>recv:red by Lua 5.1.4 on SDK 1.5.4.1(39cb9a32)&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:49:45</date>
  <millis>1478807385170</millis>
  <sequence>7468</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local FILE="mqtt.lua" file.remove(FILE) file.open(FILE,"w+") uart.setup(0,115200,8,0,1,0)</message>
</record>
<record>
  <date>2016-11-11T03:49:45</date>
  <millis>1478807385565</millis>
  <sequence>7469</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>303</thread>
  <message>recv: Conf</message>
</record>
<record>
  <date>2016-11-11T03:49:45</date>
  <millis>1478807385566</millis>
  <sequence>7470</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>303</thread>
  <message>recv:ig exist, use</message>
</record>
<record>
  <date>2016-11-11T03:49:45</date>
  <millis>1478807385570</millis>
  <sequence>7471</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>303</thread>
  <message>recv:r&gt;hc_home, pass&gt;85613121, now set stati</message>
</record>
<record>
  <date>2016-11-11T03:49:45</date>
  <millis>1478807385571</millis>
  <sequence>7472</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>303</thread>
  <message>recv:on mode a</message>
</record>
<record>
  <date>2016-11-11T03:49:45</date>
  <millis>1478807385572</millis>
  <sequence>7473</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>303</thread>
  <message>recv:nd connect</message>
</record>
<record>
  <date>2016-11-11T03:49:45</date>
  <millis>1478807385572</millis>
  <sequence>7474</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>303</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:49:45</date>
  <millis>1478807385646</millis>
  <sequence>7475</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>303</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:49:45</date>
  <millis>1478807385648</millis>
  <sequence>7476</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>303</thread>
  <message>recv:local FILE="mqt</message>
</record>
<record>
  <date>2016-11-11T03:49:45</date>
  <millis>1478807385650</millis>
  <sequence>7477</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>303</thread>
  <message>recv:t.lua" file.remove(</message>
</record>
<record>
  <date>2016-11-11T03:49:45</date>
  <millis>1478807385652</millis>
  <sequence>7478</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>303</thread>
  <message>recv:FILE) file.open(FIL</message>
</record>
<record>
  <date>2016-11-11T03:49:45</date>
  <millis>1478807385653</millis>
  <sequence>7479</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>303</thread>
  <message>recv:E,"w+") uart.setup</message>
</record>
<record>
  <date>2016-11-11T03:49:45</date>
  <millis>1478807385655</millis>
  <sequence>7480</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>303</thread>
  <message>recv:(0,115200,8,0,1,0)</message>
</record>
<record>
  <date>2016-11-11T03:49:45</date>
  <millis>1478807385658</millis>
  <sequence>7481</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>303</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:49:45</date>
  <millis>1478807385688</millis>
  <sequence>7482</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_Receiver=function(rcvBuf) if string.match(rcvBuf,"^ESP_cmd_close")==nil then file.write(string.gsub(rcvBuf, '\r', '')) uart.write(0, "&gt; ") else uart.on("data") </message>
</record>
<record>
  <date>2016-11-11T03:49:45</date>
  <millis>1478807385837</millis>
  <sequence>7483</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>303</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:49:45</date>
  <millis>1478807385850</millis>
  <sequence>7484</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>303</thread>
  <message>recv:&gt;</message>
</record>
<record>
  <date>2016-11-11T03:49:45</date>
  <millis>1478807385852</millis>
  <sequence>7485</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>303</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:49:45</date>
  <millis>1478807385853</millis>
  <sequence>7486</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:file.flush() file.close() FILE=nil rcvBuf=nil ESP_Receiver=nil uart.setup(0,115200,8,0,1,1) str="\r\n--Done--\r\n&gt; " print(str) str=nil collectgarbage() end end uart.on("data",'\r',ESP_Receiver,0)</message>
</record>
<record>
  <date>2016-11-11T03:49:45</date>
  <millis>1478807385877</millis>
  <sequence>7487</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:control = require "control"

mqtt_conf = require "mqtt_config"

print("Running file mqtt")
tmr.delay(100000)

control.status_LED(2000)

gpio6 = 6
gpio.mode(gpio6, gpio.OUTPUT)
gpio.write(gpio6, gpio.LOW)

gpio7 = 7
gpio.mode(gpio7, gpio.OUTPUT)
gpio.writ</message>
</record>
<record>
  <date>2016-11-11T03:49:45</date>
  <millis>1478807385896</millis>
  <sequence>7488</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>303</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:49:45</date>
  <millis>1478807385906</millis>
  <sequence>7489</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>303</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:49:45</date>
  <millis>1478807385922</millis>
  <sequence>7490</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:e(gpio7, gpio.LOW)

print (mqtt_conf.MQTTPASS)

-- init mqtt client with keepalive timer 120sec
m = mqtt.Client("nodemcu",120,"swqzxzhr", mqtt_conf.MQTTPASS)

-- setup Last Will and Testament (optional)
-- Broker will publish a message with qos = 0, reta</message>
</record>
<record>
  <date>2016-11-11T03:49:45</date>
  <millis>1478807385953</millis>
  <sequence>7491</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>303</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:49:45</date>
  <millis>1478807385970</millis>
  <sequence>7492</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:in = 0, data = "offline" 
-- to topic "/lwt" if client don't send keepalive packet
m:lwt("/lwt", "offline", 0, 0)

m:on("connect", function(client) print ("connected") end)
m:on("offline", function(client) print ("offline") end)

-- on publish message re</message>
</record>
<record>
  <date>2016-11-11T03:49:46</date>
  <millis>1478807386001</millis>
  <sequence>7493</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>303</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:49:46</date>
  <millis>1478807386014</millis>
  <sequence>7494</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ceive event
m:on("message", function(conn, topic, data)
  print("Topic   " ..topic.. " get info. If command match then will run" )
  if topic == "Light1" then
    if data == "ON" then
        print("received message: ON @ light1")
        gpio.write(gpio</message>
</record>
<record>
  <date>2016-11-11T03:49:46</date>
  <millis>1478807386046</millis>
  <sequence>7495</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>303</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:49:46</date>
  <millis>1478807386064</millis>
  <sequence>7496</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:6, gpio.HIGH)
    end
    if data == "OFF" then
        print("received message: OFF @ light1")
        gpio.write(gpio6, gpio.LOW)
    end
    
  end
    
  if topic == "Light2" then
    if data == "ON" then
        print("received message: ON @ light2"</message>
</record>
<record>
  <date>2016-11-11T03:49:46</date>
  <millis>1478807386095</millis>
  <sequence>7497</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>303</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:49:46</date>
  <millis>1478807386109</millis>
  <sequence>7498</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:)
        gpio.write(gpio7, gpio.HIGH)
    end
    if data == "OFF" then
        print("received message: OFF @ light2")
        gpio.write(gpio7, gpio.LOW)
    end
    
  end
     
end)

-- send0/publish chip ID

m:connect("m11.cloudmqtt.com", 19311, 0,</message>
</record>
<record>
  <date>2016-11-11T03:49:46</date>
  <millis>1478807386139</millis>
  <sequence>7499</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>303</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:49:46</date>
  <millis>1478807386154</millis>
  <sequence>7500</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending: function(conn)
    print("Your ID: " ..node.chipid().." connected")
    -- subscribe both topic
end

--, function(client, reason) print("failed reason: "..reason) 

    m:subscribe({["Light1"]=0, ["Light2"]=0}, function(conn) 
        print("subscribe L</message>
</record>
<record>
  <date>2016-11-11T03:49:46</date>
  <millis>1478807386186</millis>
  <sequence>7501</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>303</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:49:46</date>
  <millis>1478807386199</millis>
  <sequence>7502</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ight 1 and 2 success")
    end)
            
    m:publish("ID is: ", node.chipid(),0,0, function(conn) 
        print("sent ID") 
    end)

end)



</message>
</record>
<record>
  <date>2016-11-11T03:49:46</date>
  <millis>1478807386221</millis>
  <sequence>7503</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>303</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:49:46</date>
  <millis>1478807386235</millis>
  <sequence>7504</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_cmd_close</message>
</record>
<record>
  <date>2016-11-11T03:49:46</date>
  <millis>1478807386248</millis>
  <sequence>7505</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>303</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;--Don</message>
</record>
<record>
  <date>2016-11-11T03:49:46</date>
  <millis>1478807386249</millis>
  <sequence>7506</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>303</thread>
  <message>recv:e--&lt;CR&gt;&lt;LF&gt;&gt; &lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:49:46</date>
  <millis>1478807386273</millis>
  <sequence>7507</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:49:46</date>
  <millis>1478807386275</millis>
  <sequence>7508</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>303</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:49:46</date>
  <millis>1478807386277</millis>
  <sequence>7509</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>303</thread>
  <message>recv:&gt; &lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T03:49:46</date>
  <millis>1478807386315</millis>
  <sequence>7510</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:dofile("mqtt.lua")</message>
</record>
<record>
  <date>2016-11-11T03:49:46</date>
  <millis>1478807386318</millis>
  <sequence>7511</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>303</thread>
  <message>recv:dofile("mqtt</message>
</record>
<record>
  <date>2016-11-11T03:49:46</date>
  <millis>1478807386320</millis>
  <sequence>7512</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>303</thread>
  <message>recv:.lua")&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:49:46</date>
  <millis>1478807386383</millis>
  <sequence>7513</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>303</thread>
  <message>recv:mq</message>
</record>
<record>
  <date>2016-11-11T03:49:46</date>
  <millis>1478807386385</millis>
  <sequence>7514</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>303</thread>
  <message>recv:tt.lua:69: ')</message>
</record>
<record>
  <date>2016-11-11T03:49:46</date>
  <millis>1478807386387</millis>
  <sequence>7515</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>303</thread>
  <message>recv:' expected (to close '(' </message>
</record>
<record>
  <date>2016-11-11T03:49:46</date>
  <millis>1478807386388</millis>
  <sequence>7516</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>303</thread>
  <message>recv:at line 62</message>
</record>
<record>
  <date>2016-11-11T03:49:46</date>
  <millis>1478807386389</millis>
  <sequence>7517</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>303</thread>
  <message>recv:) near 'm'&lt;CR&gt;&lt;LF&gt;stack </message>
</record>
<record>
  <date>2016-11-11T03:49:46</date>
  <millis>1478807386390</millis>
  <sequence>7518</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>303</thread>
  <message>recv:traceback:&lt;CR&gt;&lt;LF&gt;	[</message>
</record>
<record>
  <date>2016-11-11T03:49:46</date>
  <millis>1478807386391</millis>
  <sequence>7519</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>303</thread>
  <message>recv:C]: in funct</message>
</record>
<record>
  <date>2016-11-11T03:49:46</date>
  <millis>1478807386393</millis>
  <sequence>7520</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>303</thread>
  <message>recv:ion 'dofile'&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:49:46</date>
  <millis>1478807386394</millis>
  <sequence>7521</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>303</thread>
  <message>recv:	stdin:1: in</message>
</record>
<record>
  <date>2016-11-11T03:49:46</date>
  <millis>1478807386395</millis>
  <sequence>7522</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>303</thread>
  <message>recv: main chunk&lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T03:49:46</date>
  <millis>1478807386450</millis>
  <sequence>7523</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>303</thread>
  <message>Operation done. Duration = 1436 ms</message>
</record>
<record>
  <date>2016-11-11T03:50:02</date>
  <millis>1478807402868</millis>
  <sequence>7524</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>We save known file mqtt.lua</message>
</record>
<record>
  <date>2016-11-11T03:50:02</date>
  <millis>1478807402869</millis>
  <sequence>7525</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to saving file mqtt.lua ...</message>
</record>
<record>
  <date>2016-11-11T03:50:02</date>
  <millis>1478807402872</millis>
  <sequence>7526</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Save file mqtt.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T03:50:02</date>
  <millis>1478807402875</millis>
  <sequence>7527</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP: Try to save file to ESP...</message>
</record>
<record>
  <date>2016-11-11T03:50:02</date>
  <millis>1478807402878</millis>
  <sequence>7528</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Try to save file to ESP in Turbo Mode...</message>
</record>
<record>
  <date>2016-11-11T03:50:02</date>
  <millis>1478807402895</millis>
  <sequence>7529</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>DataTurboSender: start "Smart Mode"</message>
</record>
<record>
  <date>2016-11-11T03:50:02</date>
  <millis>1478807402898</millis>
  <sequence>7530</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Starting...</message>
</record>
<record>
  <date>2016-11-11T03:50:03</date>
  <millis>1478807403022</millis>
  <sequence>7531</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local FILE="mqtt.lua" file.remove(FILE) file.open(FILE,"w+") uart.setup(0,115200,8,0,1,0)</message>
</record>
<record>
  <date>2016-11-11T03:50:03</date>
  <millis>1478807403024</millis>
  <sequence>7532</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>305</thread>
  <message>recv:lo</message>
</record>
<record>
  <date>2016-11-11T03:50:03</date>
  <millis>1478807403025</millis>
  <sequence>7533</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>305</thread>
  <message>recv:cal FILE="mqtt.</message>
</record>
<record>
  <date>2016-11-11T03:50:03</date>
  <millis>1478807403026</millis>
  <sequence>7534</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>305</thread>
  <message>recv:lua" file.re</message>
</record>
<record>
  <date>2016-11-11T03:50:03</date>
  <millis>1478807403027</millis>
  <sequence>7535</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>305</thread>
  <message>recv:move(FILE</message>
</record>
<record>
  <date>2016-11-11T03:50:03</date>
  <millis>1478807403028</millis>
  <sequence>7536</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>305</thread>
  <message>recv:) file.open(FI</message>
</record>
<record>
  <date>2016-11-11T03:50:03</date>
  <millis>1478807403029</millis>
  <sequence>7537</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>305</thread>
  <message>recv:LE,"w+") ua</message>
</record>
<record>
  <date>2016-11-11T03:50:03</date>
  <millis>1478807403030</millis>
  <sequence>7538</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>305</thread>
  <message>recv:rt.setup(0,1</message>
</record>
<record>
  <date>2016-11-11T03:50:03</date>
  <millis>1478807403032</millis>
  <sequence>7539</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>305</thread>
  <message>recv:15200,8,0,1,0)&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:50:03</date>
  <millis>1478807403221</millis>
  <sequence>7540</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>305</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:50:03</date>
  <millis>1478807403242</millis>
  <sequence>7541</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_Receiver=function(rcvBuf) if string.match(rcvBuf,"^ESP_cmd_close")==nil then file.write(string.gsub(rcvBuf, '\r', '')) uart.write(0, "&gt; ") else uart.on("data") </message>
</record>
<record>
  <date>2016-11-11T03:50:03</date>
  <millis>1478807403269</millis>
  <sequence>7542</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>305</thread>
  <message>recv:&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T03:50:03</date>
  <millis>1478807403290</millis>
  <sequence>7543</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:file.flush() file.close() FILE=nil rcvBuf=nil ESP_Receiver=nil uart.setup(0,115200,8,0,1,1) str="\r\n--Done--\r\n&gt; " print(str) str=nil collectgarbage() end end uart.on("data",'\r',ESP_Receiver,0)</message>
</record>
<record>
  <date>2016-11-11T03:50:03</date>
  <millis>1478807403331</millis>
  <sequence>7544</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>305</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:50:03</date>
  <millis>1478807403343</millis>
  <sequence>7545</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:control = require "control"

mqtt_conf = require "mqtt_config"

print("Running file mqtt")
tmr.delay(100000)

control.status_LED(2000)

gpio6 = 6
gpio.mode(gpio6, gpio.OUTPUT)
gpio.write(gpio6, gpio.LOW)

gpio7 = 7
gpio.mode(gpio7, gpio.OUTPUT)
gpio.writ</message>
</record>
<record>
  <date>2016-11-11T03:50:03</date>
  <millis>1478807403372</millis>
  <sequence>7546</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>305</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:50:03</date>
  <millis>1478807403388</millis>
  <sequence>7547</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:e(gpio7, gpio.LOW)

print (mqtt_conf.MQTTPASS)

-- init mqtt client with keepalive timer 120sec
m = mqtt.Client("nodemcu",120,"swqzxzhr", mqtt_conf.MQTTPASS)

-- setup Last Will and Testament (optional)
-- Broker will publish a message with qos = 0, reta</message>
</record>
<record>
  <date>2016-11-11T03:50:03</date>
  <millis>1478807403420</millis>
  <sequence>7548</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>305</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:50:03</date>
  <millis>1478807403433</millis>
  <sequence>7549</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:in = 0, data = "offline" 
-- to topic "/lwt" if client don't send keepalive packet
m:lwt("/lwt", "offline", 0, 0)

m:on("connect", function(client) print ("connected") end)
m:on("offline", function(client) print ("offline") end)

-- on publish message re</message>
</record>
<record>
  <date>2016-11-11T03:50:03</date>
  <millis>1478807403466</millis>
  <sequence>7550</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>305</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:50:03</date>
  <millis>1478807403478</millis>
  <sequence>7551</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ceive event
m:on("message", function(conn, topic, data)
  print("Topic   " ..topic.. " get info. If command match then will run" )
  if topic == "Light1" then
    if data == "ON" then
        print("received message: ON @ light1")
        gpio.write(gpio</message>
</record>
<record>
  <date>2016-11-11T03:50:03</date>
  <millis>1478807403509</millis>
  <sequence>7552</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>305</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:50:03</date>
  <millis>1478807403526</millis>
  <sequence>7553</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:6, gpio.HIGH)
    end
    if data == "OFF" then
        print("received message: OFF @ light1")
        gpio.write(gpio6, gpio.LOW)
    end
    
  end
    
  if topic == "Light2" then
    if data == "ON" then
        print("received message: ON @ light2"</message>
</record>
<record>
  <date>2016-11-11T03:50:03</date>
  <millis>1478807403540</millis>
  <sequence>7554</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>305</thread>
  <message>recv:IP</message>
</record>
<record>
  <date>2016-11-11T03:50:03</date>
  <millis>1478807403542</millis>
  <sequence>7555</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>305</thread>
  <message>recv: unavailable.. if info</message>
</record>
<record>
  <date>2016-11-11T03:50:03</date>
  <millis>1478807403544</millis>
  <sequence>7556</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>305</thread>
  <message>recv: correct then wait,</message>
</record>
<record>
  <date>2016-11-11T03:50:03</date>
  <millis>1478807403544</millis>
  <sequence>7557</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>305</thread>
  <message>recv: else </message>
</record>
<record>
  <date>2016-11-11T03:50:03</date>
  <millis>1478807403545</millis>
  <sequence>7558</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>305</thread>
  <message>recv:reconfig</message>
</record>
<record>
  <date>2016-11-11T03:50:03</date>
  <millis>1478807403546</millis>
  <sequence>7559</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>305</thread>
  <message>recv: by pres</message>
</record>
<record>
  <date>2016-11-11T03:50:03</date>
  <millis>1478807403546</millis>
  <sequence>7560</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>305</thread>
  <message>recv:s BTN1 to </message>
</record>
<record>
  <date>2016-11-11T03:50:03</date>
  <millis>1478807403547</millis>
  <sequence>7561</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>305</thread>
  <message>recv:clean&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:50:03</date>
  <millis>1478807403557</millis>
  <sequence>7562</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>305</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:50:03</date>
  <millis>1478807403574</millis>
  <sequence>7563</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:)
        gpio.write(gpio7, gpio.HIGH)
    end
    if data == "OFF" then
        print("received message: OFF @ light2")
        gpio.write(gpio7, gpio.LOW)
    end
    
  end
     
end)

-- send0/publish chip ID

m:connect("m11.cloudmqtt.com", 19311, 0,</message>
</record>
<record>
  <date>2016-11-11T03:50:03</date>
  <millis>1478807403604</millis>
  <sequence>7564</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>305</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:50:03</date>
  <millis>1478807403621</millis>
  <sequence>7565</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending: function(conn)
    print("Your ID: " ..node.chipid().." connected")
    -- subscribe both topic


--, function(client, reason) print("failed reason: "..reason) 

    m:subscribe({["Light1"]=0, ["Light2"]=0}, function(conn) 
        print("subscribe Ligh</message>
</record>
<record>
  <date>2016-11-11T03:50:03</date>
  <millis>1478807403652</millis>
  <sequence>7566</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>305</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:50:03</date>
  <millis>1478807403668</millis>
  <sequence>7567</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:t 1 and 2 success")
    end)
            
    m:publish("ID is: ", node.chipid(),0,0, function(conn) 
        print("sent ID") 
    end)

end)



</message>
</record>
<record>
  <date>2016-11-11T03:50:03</date>
  <millis>1478807403690</millis>
  <sequence>7568</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>305</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:50:03</date>
  <millis>1478807403707</millis>
  <sequence>7569</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_cmd_close</message>
</record>
<record>
  <date>2016-11-11T03:50:03</date>
  <millis>1478807403719</millis>
  <sequence>7570</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>305</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;-</message>
</record>
<record>
  <date>2016-11-11T03:50:03</date>
  <millis>1478807403720</millis>
  <sequence>7571</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>305</thread>
  <message>recv:-Done--&lt;CR&gt;&lt;LF&gt;&gt; &lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:50:03</date>
  <millis>1478807403744</millis>
  <sequence>7572</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:50:03</date>
  <millis>1478807403745</millis>
  <sequence>7573</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>305</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:50:03</date>
  <millis>1478807403747</millis>
  <sequence>7574</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>305</thread>
  <message>recv:&gt; &lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T03:50:03</date>
  <millis>1478807403779</millis>
  <sequence>7575</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:dofile("mqtt.lua")</message>
</record>
<record>
  <date>2016-11-11T03:50:03</date>
  <millis>1478807403781</millis>
  <sequence>7576</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>305</thread>
  <message>recv:d</message>
</record>
<record>
  <date>2016-11-11T03:50:03</date>
  <millis>1478807403783</millis>
  <sequence>7577</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>305</thread>
  <message>recv:ofile("mqtt.lua")&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:50:04</date>
  <millis>1478807404039</millis>
  <sequence>7578</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>305</thread>
  <message>recv:Running fi</message>
</record>
<record>
  <date>2016-11-11T03:50:04</date>
  <millis>1478807404041</millis>
  <sequence>7579</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>305</thread>
  <message>recv:le mqtt&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:50:04</date>
  <millis>1478807404147</millis>
  <sequence>7580</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>305</thread>
  <message>recv:9JMcx</message>
</record>
<record>
  <date>2016-11-11T03:50:04</date>
  <millis>1478807404148</millis>
  <sequence>7581</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>305</thread>
  <message>recv:VeUNz3t&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:50:04</date>
  <millis>1478807404160</millis>
  <sequence>7582</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>305</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:50:04</date>
  <millis>1478807404183</millis>
  <sequence>7583</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>305</thread>
  <message>Operation done. Duration = 1303 ms</message>
</record>
<record>
  <date>2016-11-11T03:50:35</date>
  <millis>1478807435527</millis>
  <sequence>7584</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>We save known file mqtt.lua</message>
</record>
<record>
  <date>2016-11-11T03:50:35</date>
  <millis>1478807435528</millis>
  <sequence>7585</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to saving file mqtt.lua ...</message>
</record>
<record>
  <date>2016-11-11T03:50:35</date>
  <millis>1478807435531</millis>
  <sequence>7586</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Save file mqtt.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T03:50:35</date>
  <millis>1478807435534</millis>
  <sequence>7587</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP: Try to save file to ESP...</message>
</record>
<record>
  <date>2016-11-11T03:50:35</date>
  <millis>1478807435539</millis>
  <sequence>7588</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Try to save file to ESP in Turbo Mode...</message>
</record>
<record>
  <date>2016-11-11T03:50:35</date>
  <millis>1478807435549</millis>
  <sequence>7589</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>DataTurboSender: start "Smart Mode"</message>
</record>
<record>
  <date>2016-11-11T03:50:35</date>
  <millis>1478807435550</millis>
  <sequence>7590</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Starting...</message>
</record>
<record>
  <date>2016-11-11T03:50:35</date>
  <millis>1478807435682</millis>
  <sequence>7591</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local FILE="mqtt.lua" file.remove(FILE) file.open(FILE,"w+") uart.setup(0,115200,8,0,1,0)</message>
</record>
<record>
  <date>2016-11-11T03:50:35</date>
  <millis>1478807435684</millis>
  <sequence>7592</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>307</thread>
  <message>recv:lo</message>
</record>
<record>
  <date>2016-11-11T03:50:35</date>
  <millis>1478807435690</millis>
  <sequence>7593</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>307</thread>
  <message>recv:cal FILE="mqtt.lua" file.remove(FILE) file.open(FILE,"w+") uart.s</message>
</record>
<record>
  <date>2016-11-11T03:50:35</date>
  <millis>1478807435691</millis>
  <sequence>7594</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>307</thread>
  <message>recv:etup(0,1</message>
</record>
<record>
  <date>2016-11-11T03:50:35</date>
  <millis>1478807435692</millis>
  <sequence>7595</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>307</thread>
  <message>recv:15200,8,</message>
</record>
<record>
  <date>2016-11-11T03:50:35</date>
  <millis>1478807435693</millis>
  <sequence>7596</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>307</thread>
  <message>recv:0,1,0)&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:50:35</date>
  <millis>1478807435872</millis>
  <sequence>7597</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>307</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:50:35</date>
  <millis>1478807435888</millis>
  <sequence>7598</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_Receiver=function(rcvBuf) if string.match(rcvBuf,"^ESP_cmd_close")==nil then file.write(string.gsub(rcvBuf, '\r', '')) uart.write(0, "&gt; ") else uart.on("data") </message>
</record>
<record>
  <date>2016-11-11T03:50:35</date>
  <millis>1478807435916</millis>
  <sequence>7599</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>307</thread>
  <message>recv:&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T03:50:35</date>
  <millis>1478807435930</millis>
  <sequence>7600</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:file.flush() file.close() FILE=nil rcvBuf=nil ESP_Receiver=nil uart.setup(0,115200,8,0,1,1) str="\r\n--Done--\r\n&gt; " print(str) str=nil collectgarbage() end end uart.on("data",'\r',ESP_Receiver,0)</message>
</record>
<record>
  <date>2016-11-11T03:50:35</date>
  <millis>1478807435970</millis>
  <sequence>7601</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>307</thread>
  <message>recv:&gt;</message>
</record>
<record>
  <date>2016-11-11T03:50:35</date>
  <millis>1478807435971</millis>
  <sequence>7602</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>307</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T03:50:35</date>
  <millis>1478807435989</millis>
  <sequence>7603</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:control = require "control"

mqtt_conf = require "mqtt_config"

print("Running file mqtt")
tmr.delay(100000)

control.status_LED(2000)

gpio6 = 6
gpio.mode(gpio6, gpio.OUTPUT)
gpio.write(gpio6, gpio.LOW)

gpio7 = 7
gpio.mode(gpio7, gpio.OUTPUT)
gpio.writ</message>
</record>
<record>
  <date>2016-11-11T03:50:36</date>
  <millis>1478807436019</millis>
  <sequence>7604</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>307</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:50:36</date>
  <millis>1478807436034</millis>
  <sequence>7605</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:e(gpio7, gpio.LOW)

print (mqtt_conf.MQTTPASS)

-- init mqtt client with keepalive timer 120sec
m = mqtt.Client(M.ENDPOINT,120, mqtt_conf.MQTTUSER, mqtt_conf.MQTTPASS)

-- setup Last Will and Testament (optional)
-- Broker will publish a message with qos</message>
</record>
<record>
  <date>2016-11-11T03:50:36</date>
  <millis>1478807436064</millis>
  <sequence>7606</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>307</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:50:36</date>
  <millis>1478807436077</millis>
  <sequence>7607</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending: = 0, retain = 0, data = "offline" 
-- to topic "/lwt" if client don't send keepalive packet
m:lwt("/lwt", "offline", 0, 0)

m:on("connect", function(client) print ("connected") end)
m:on("offline", function(client) print ("offline") end)

-- on publish </message>
</record>
<record>
  <date>2016-11-11T03:50:36</date>
  <millis>1478807436110</millis>
  <sequence>7608</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>307</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:50:36</date>
  <millis>1478807436122</millis>
  <sequence>7609</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:message receive event
m:on("message", function(conn, topic, data)
  print("Topic   " ..topic.. " get info. If command match then will run" )
  if topic == "Light1" then
    if data == "ON" then
        print("received message: ON @ light1")
        gpio.</message>
</record>
<record>
  <date>2016-11-11T03:50:36</date>
  <millis>1478807436152</millis>
  <sequence>7610</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>307</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:50:36</date>
  <millis>1478807436164</millis>
  <sequence>7611</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:write(gpio6, gpio.HIGH)
    end
    if data == "OFF" then
        print("received message: OFF @ light1")
        gpio.write(gpio6, gpio.LOW)
    end
    
  end
    
  if topic == "Light2" then
    if data == "ON" then
        print("received message: ON</message>
</record>
<record>
  <date>2016-11-11T03:50:36</date>
  <millis>1478807436198</millis>
  <sequence>7612</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>307</thread>
  <message>recv:&gt;</message>
</record>
<record>
  <date>2016-11-11T03:50:36</date>
  <millis>1478807436199</millis>
  <sequence>7613</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>307</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T03:50:36</date>
  <millis>1478807436216</millis>
  <sequence>7614</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending: @ light2")
        gpio.write(gpio7, gpio.HIGH)
    end
    if data == "OFF" then
        print("received message: OFF @ light2")
        gpio.write(gpio7, gpio.LOW)
    end
    
  end
     
end)

-- send0/publish chip ID

m:connect("m11.cloudmqtt.com",</message>
</record>
<record>
  <date>2016-11-11T03:50:36</date>
  <millis>1478807436247</millis>
  <sequence>7615</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>307</thread>
  <message>recv:&gt;</message>
</record>
<record>
  <date>2016-11-11T03:50:36</date>
  <millis>1478807436248</millis>
  <sequence>7616</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>307</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T03:50:36</date>
  <millis>1478807436265</millis>
  <sequence>7617</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending: 19311, 0, function(conn)
    print("Your ID: " ..node.chipid().." connected")
    -- subscribe both topic


--, function(client, reason) print("failed reason: "..reason) 

    m:subscribe({["Light1"]=0, ["Light2"]=0}, function(conn) 
        print("subs</message>
</record>
<record>
  <date>2016-11-11T03:50:36</date>
  <millis>1478807436296</millis>
  <sequence>7618</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>307</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:50:36</date>
  <millis>1478807436313</millis>
  <sequence>7619</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:cribe Light 1 and 2 success")
    end)
            
    m:publish("ID is: ", node.chipid(),0,0, function(conn) 
        print("sent ID") 
    end)

end)



</message>
</record>
<record>
  <date>2016-11-11T03:50:36</date>
  <millis>1478807436336</millis>
  <sequence>7620</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>307</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:50:36</date>
  <millis>1478807436349</millis>
  <sequence>7621</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_cmd_close</message>
</record>
<record>
  <date>2016-11-11T03:50:36</date>
  <millis>1478807436361</millis>
  <sequence>7622</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>307</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;-</message>
</record>
<record>
  <date>2016-11-11T03:50:36</date>
  <millis>1478807436362</millis>
  <sequence>7623</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>307</thread>
  <message>recv:-Done--&lt;CR&gt;&lt;LF&gt;&gt; &lt;CR&gt;</message>
</record>
<record>
  <date>2016-11-11T03:50:36</date>
  <millis>1478807436363</millis>
  <sequence>7624</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>307</thread>
  <message>recv:&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:50:36</date>
  <millis>1478807436385</millis>
  <sequence>7625</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:50:36</date>
  <millis>1478807436387</millis>
  <sequence>7626</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>307</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;&gt;</message>
</record>
<record>
  <date>2016-11-11T03:50:36</date>
  <millis>1478807436389</millis>
  <sequence>7627</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>307</thread>
  <message>recv: &lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T03:50:36</date>
  <millis>1478807436423</millis>
  <sequence>7628</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:dofile("mqtt.lua")</message>
</record>
<record>
  <date>2016-11-11T03:50:36</date>
  <millis>1478807436424</millis>
  <sequence>7629</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>307</thread>
  <message>recv:do</message>
</record>
<record>
  <date>2016-11-11T03:50:36</date>
  <millis>1478807436425</millis>
  <sequence>7630</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>307</thread>
  <message>recv:file("mqtt.lua"</message>
</record>
<record>
  <date>2016-11-11T03:50:36</date>
  <millis>1478807436426</millis>
  <sequence>7631</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>307</thread>
  <message>recv:)&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:50:36</date>
  <millis>1478807436469</millis>
  <sequence>7632</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>307</thread>
  <message>recv:R</message>
</record>
<record>
  <date>2016-11-11T03:50:36</date>
  <millis>1478807436470</millis>
  <sequence>7633</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>307</thread>
  <message>recv:unning file mq</message>
</record>
<record>
  <date>2016-11-11T03:50:36</date>
  <millis>1478807436473</millis>
  <sequence>7634</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>307</thread>
  <message>recv:tt&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:50:36</date>
  <millis>1478807436577</millis>
  <sequence>7635</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>307</thread>
  <message>recv:9JMcx</message>
</record>
<record>
  <date>2016-11-11T03:50:36</date>
  <millis>1478807436583</millis>
  <sequence>7636</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>307</thread>
  <message>recv:VeUNz3t&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:50:36</date>
  <millis>1478807436640</millis>
  <sequence>7637</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>307</thread>
  <message>recv:mqtt.</message>
</record>
<record>
  <date>2016-11-11T03:50:36</date>
  <millis>1478807436642</millis>
  <sequence>7638</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>307</thread>
  <message>recv:lua:21: attempt to ind</message>
</record>
<record>
  <date>2016-11-11T03:50:36</date>
  <millis>1478807436646</millis>
  <sequence>7639</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>307</thread>
  <message>recv:ex global 'M' (a nil value)&lt;CR&gt;&lt;LF&gt;stack traceback:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:50:36</date>
  <millis>1478807436647</millis>
  <sequence>7640</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>307</thread>
  <message>recv:	mqtt.lua:21: </message>
</record>
<record>
  <date>2016-11-11T03:50:36</date>
  <millis>1478807436648</millis>
  <sequence>7641</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>307</thread>
  <message>recv:in main chu</message>
</record>
<record>
  <date>2016-11-11T03:50:36</date>
  <millis>1478807436649</millis>
  <sequence>7642</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>307</thread>
  <message>recv:nk&lt;CR&gt;&lt;LF&gt;	[C]: in</message>
</record>
<record>
  <date>2016-11-11T03:50:36</date>
  <millis>1478807436651</millis>
  <sequence>7643</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>307</thread>
  <message>recv: function 'dofile'&lt;CR&gt;&lt;LF&gt;	s</message>
</record>
<record>
  <date>2016-11-11T03:50:36</date>
  <millis>1478807436655</millis>
  <sequence>7644</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>307</thread>
  <message>recv:tdin:1: in main chunk&lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T03:50:36</date>
  <millis>1478807436683</millis>
  <sequence>7645</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>307</thread>
  <message>Operation done. Duration = 1141 ms</message>
</record>
<record>
  <date>2016-11-11T03:50:38</date>
  <millis>1478807438120</millis>
  <sequence>7646</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>We save known file mqtt.lua</message>
</record>
<record>
  <date>2016-11-11T03:50:38</date>
  <millis>1478807438121</millis>
  <sequence>7647</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to saving file mqtt.lua ...</message>
</record>
<record>
  <date>2016-11-11T03:50:38</date>
  <millis>1478807438124</millis>
  <sequence>7648</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Save file mqtt.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T03:50:38</date>
  <millis>1478807438128</millis>
  <sequence>7649</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP: Try to save file to ESP...</message>
</record>
<record>
  <date>2016-11-11T03:50:38</date>
  <millis>1478807438136</millis>
  <sequence>7650</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Try to save file to ESP in Turbo Mode...</message>
</record>
<record>
  <date>2016-11-11T03:50:38</date>
  <millis>1478807438155</millis>
  <sequence>7651</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>DataTurboSender: start "Smart Mode"</message>
</record>
<record>
  <date>2016-11-11T03:50:38</date>
  <millis>1478807438156</millis>
  <sequence>7652</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Starting...</message>
</record>
<record>
  <date>2016-11-11T03:50:38</date>
  <millis>1478807438276</millis>
  <sequence>7653</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local FILE="mqtt.lua" file.remove(FILE) file.open(FILE,"w+") uart.setup(0,115200,8,0,1,0)</message>
</record>
<record>
  <date>2016-11-11T03:50:38</date>
  <millis>1478807438278</millis>
  <sequence>7654</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>309</thread>
  <message>recv:l</message>
</record>
<record>
  <date>2016-11-11T03:50:38</date>
  <millis>1478807438280</millis>
  <sequence>7655</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>309</thread>
  <message>recv:ocal FILE="mqtt.lua" file.</message>
</record>
<record>
  <date>2016-11-11T03:50:38</date>
  <millis>1478807438282</millis>
  <sequence>7656</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>309</thread>
  <message>recv:remove(FILE) file.op</message>
</record>
<record>
  <date>2016-11-11T03:50:38</date>
  <millis>1478807438283</millis>
  <sequence>7657</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>309</thread>
  <message>recv:en(FILE,"w+</message>
</record>
<record>
  <date>2016-11-11T03:50:38</date>
  <millis>1478807438284</millis>
  <sequence>7658</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>309</thread>
  <message>recv:") uart.setup(</message>
</record>
<record>
  <date>2016-11-11T03:50:38</date>
  <millis>1478807438285</millis>
  <sequence>7659</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>309</thread>
  <message>recv:0,115200,8,</message>
</record>
<record>
  <date>2016-11-11T03:50:38</date>
  <millis>1478807438287</millis>
  <sequence>7660</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>309</thread>
  <message>recv:0,1,0)&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:50:38</date>
  <millis>1478807438466</millis>
  <sequence>7661</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>309</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:50:38</date>
  <millis>1478807438479</millis>
  <sequence>7662</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_Receiver=function(rcvBuf) if string.match(rcvBuf,"^ESP_cmd_close")==nil then file.write(string.gsub(rcvBuf, '\r', '')) uart.write(0, "&gt; ") else uart.on("data") </message>
</record>
<record>
  <date>2016-11-11T03:50:38</date>
  <millis>1478807438506</millis>
  <sequence>7663</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>309</thread>
  <message>recv:&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T03:50:38</date>
  <millis>1478807438525</millis>
  <sequence>7664</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:file.flush() file.close() FILE=nil rcvBuf=nil ESP_Receiver=nil uart.setup(0,115200,8,0,1,1) str="\r\n--Done--\r\n&gt; " print(str) str=nil collectgarbage() end end uart.on("data",'\r',ESP_Receiver,0)</message>
</record>
<record>
  <date>2016-11-11T03:50:38</date>
  <millis>1478807438567</millis>
  <sequence>7665</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>309</thread>
  <message>recv:&gt;</message>
</record>
<record>
  <date>2016-11-11T03:50:38</date>
  <millis>1478807438568</millis>
  <sequence>7666</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>309</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T03:50:38</date>
  <millis>1478807438587</millis>
  <sequence>7667</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:control = require "control"

mqtt_conf = require "mqtt_config"

print("Running file mqtt")
tmr.delay(100000)

control.status_LED(2000)

gpio6 = 6
gpio.mode(gpio6, gpio.OUTPUT)
gpio.write(gpio6, gpio.LOW)

gpio7 = 7
gpio.mode(gpio7, gpio.OUTPUT)
gpio.writ</message>
</record>
<record>
  <date>2016-11-11T03:50:38</date>
  <millis>1478807438617</millis>
  <sequence>7668</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>309</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:50:38</date>
  <millis>1478807438631</millis>
  <sequence>7669</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:e(gpio7, gpio.LOW)

print (mqtt_conf.MQTTPASS)

-- init mqtt client with keepalive timer 120sec
m = mqtt.Client(M.ENDPOINT, 120, mqtt_conf.MQTTUSER, mqtt_conf.MQTTPASS)

-- setup Last Will and Testament (optional)
-- Broker will publish a message with qo</message>
</record>
<record>
  <date>2016-11-11T03:50:38</date>
  <millis>1478807438662</millis>
  <sequence>7670</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>309</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:50:38</date>
  <millis>1478807438677</millis>
  <sequence>7671</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:s = 0, retain = 0, data = "offline" 
-- to topic "/lwt" if client don't send keepalive packet
m:lwt("/lwt", "offline", 0, 0)

m:on("connect", function(client) print ("connected") end)
m:on("offline", function(client) print ("offline") end)

-- on publish</message>
</record>
<record>
  <date>2016-11-11T03:50:38</date>
  <millis>1478807438708</millis>
  <sequence>7672</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>309</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:50:38</date>
  <millis>1478807438720</millis>
  <sequence>7673</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending: message receive event
m:on("message", function(conn, topic, data)
  print("Topic   " ..topic.. " get info. If command match then will run" )
  if topic == "Light1" then
    if data == "ON" then
        print("received message: ON @ light1")
        gpio</message>
</record>
<record>
  <date>2016-11-11T03:50:38</date>
  <millis>1478807438751</millis>
  <sequence>7674</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>309</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:50:38</date>
  <millis>1478807438765</millis>
  <sequence>7675</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:.write(gpio6, gpio.HIGH)
    end
    if data == "OFF" then
        print("received message: OFF @ light1")
        gpio.write(gpio6, gpio.LOW)
    end
    
  end
    
  if topic == "Light2" then
    if data == "ON" then
        print("received message: O</message>
</record>
<record>
  <date>2016-11-11T03:50:38</date>
  <millis>1478807438797</millis>
  <sequence>7676</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>309</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:50:38</date>
  <millis>1478807438812</millis>
  <sequence>7677</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:N @ light2")
        gpio.write(gpio7, gpio.HIGH)
    end
    if data == "OFF" then
        print("received message: OFF @ light2")
        gpio.write(gpio7, gpio.LOW)
    end
    
  end
     
end)

-- send0/publish chip ID

m:connect("m11.cloudmqtt.com"</message>
</record>
<record>
  <date>2016-11-11T03:50:38</date>
  <millis>1478807438842</millis>
  <sequence>7678</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>309</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:50:38</date>
  <millis>1478807438856</millis>
  <sequence>7679</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:, 19311, 0, function(conn)
    print("Your ID: " ..node.chipid().." connected")
    -- subscribe both topic


--, function(client, reason) print("failed reason: "..reason) 

    m:subscribe({["Light1"]=0, ["Light2"]=0}, function(conn) 
        print("sub</message>
</record>
<record>
  <date>2016-11-11T03:50:38</date>
  <millis>1478807438888</millis>
  <sequence>7680</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>309</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:50:38</date>
  <millis>1478807438911</millis>
  <sequence>7681</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:scribe Light 1 and 2 success")
    end)
            
    m:publish("ID is: ", node.chipid(),0,0, function(conn) 
        print("sent ID") 
    end)

end)



</message>
</record>
<record>
  <date>2016-11-11T03:50:38</date>
  <millis>1478807438934</millis>
  <sequence>7682</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>309</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:50:38</date>
  <millis>1478807438952</millis>
  <sequence>7683</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_cmd_close</message>
</record>
<record>
  <date>2016-11-11T03:50:38</date>
  <millis>1478807438966</millis>
  <sequence>7684</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>309</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;--D</message>
</record>
<record>
  <date>2016-11-11T03:50:38</date>
  <millis>1478807438967</millis>
  <sequence>7685</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>309</thread>
  <message>recv:one--&lt;CR&gt;&lt;LF&gt;&gt; &lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:50:38</date>
  <millis>1478807438990</millis>
  <sequence>7686</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:50:38</date>
  <millis>1478807438991</millis>
  <sequence>7687</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>309</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:50:38</date>
  <millis>1478807438993</millis>
  <sequence>7688</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>309</thread>
  <message>recv:&gt; &lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T03:50:39</date>
  <millis>1478807439027</millis>
  <sequence>7689</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:dofile("mqtt.lua")</message>
</record>
<record>
  <date>2016-11-11T03:50:39</date>
  <millis>1478807439028</millis>
  <sequence>7690</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>309</thread>
  <message>recv:d</message>
</record>
<record>
  <date>2016-11-11T03:50:39</date>
  <millis>1478807439030</millis>
  <sequence>7691</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>309</thread>
  <message>recv:ofile("mqtt.lua")&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:50:39</date>
  <millis>1478807439072</millis>
  <sequence>7692</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>309</thread>
  <message>recv:Running</message>
</record>
<record>
  <date>2016-11-11T03:50:39</date>
  <millis>1478807439073</millis>
  <sequence>7693</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>309</thread>
  <message>recv: file mqtt&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:50:39</date>
  <millis>1478807439180</millis>
  <sequence>7694</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>309</thread>
  <message>recv:9JMcx</message>
</record>
<record>
  <date>2016-11-11T03:50:39</date>
  <millis>1478807439181</millis>
  <sequence>7695</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>309</thread>
  <message>recv:VeUNz3t&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:50:39</date>
  <millis>1478807439241</millis>
  <sequence>7696</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>309</thread>
  <message>recv:mqtt.lua:2</message>
</record>
<record>
  <date>2016-11-11T03:50:39</date>
  <millis>1478807439243</millis>
  <sequence>7697</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>309</thread>
  <message>recv:1: attempt to index g</message>
</record>
<record>
  <date>2016-11-11T03:50:39</date>
  <millis>1478807439247</millis>
  <sequence>7698</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>309</thread>
  <message>recv:lobal 'M' (a nil value)&lt;CR&gt;&lt;LF&gt;stack traceback:&lt;CR&gt;&lt;LF&gt;	m</message>
</record>
<record>
  <date>2016-11-11T03:50:39</date>
  <millis>1478807439250</millis>
  <sequence>7699</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>309</thread>
  <message>recv:qtt.lua:21: in main chunk&lt;CR&gt;&lt;LF&gt;	[C]:</message>
</record>
<record>
  <date>2016-11-11T03:50:39</date>
  <millis>1478807439253</millis>
  <sequence>7700</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>309</thread>
  <message>recv: in function 'dofile'&lt;CR&gt;&lt;LF&gt;	stdin</message>
</record>
<record>
  <date>2016-11-11T03:50:39</date>
  <millis>1478807439256</millis>
  <sequence>7701</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>309</thread>
  <message>recv::1: in main chunk&lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T03:50:39</date>
  <millis>1478807439294</millis>
  <sequence>7702</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>309</thread>
  <message>Operation done. Duration = 1153 ms</message>
</record>
<record>
  <date>2016-11-11T03:50:46</date>
  <millis>1478807446423</millis>
  <sequence>7703</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>We save known file mqtt.lua</message>
</record>
<record>
  <date>2016-11-11T03:50:46</date>
  <millis>1478807446427</millis>
  <sequence>7704</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to saving file mqtt.lua ...</message>
</record>
<record>
  <date>2016-11-11T03:50:46</date>
  <millis>1478807446429</millis>
  <sequence>7705</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Save file mqtt.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T03:50:46</date>
  <millis>1478807446479</millis>
  <sequence>7706</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP: Try to save file to ESP...</message>
</record>
<record>
  <date>2016-11-11T03:50:46</date>
  <millis>1478807446483</millis>
  <sequence>7707</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Try to save file to ESP in Turbo Mode...</message>
</record>
<record>
  <date>2016-11-11T03:50:46</date>
  <millis>1478807446489</millis>
  <sequence>7708</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>DataTurboSender: start "Smart Mode"</message>
</record>
<record>
  <date>2016-11-11T03:50:46</date>
  <millis>1478807446492</millis>
  <sequence>7709</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Starting...</message>
</record>
<record>
  <date>2016-11-11T03:50:46</date>
  <millis>1478807446616</millis>
  <sequence>7710</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local FILE="mqtt.lua" file.remove(FILE) file.open(FILE,"w+") uart.setup(0,115200,8,0,1,0)</message>
</record>
<record>
  <date>2016-11-11T03:50:46</date>
  <millis>1478807446619</millis>
  <sequence>7711</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>311</thread>
  <message>recv:loc</message>
</record>
<record>
  <date>2016-11-11T03:50:46</date>
  <millis>1478807446625</millis>
  <sequence>7712</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>311</thread>
  <message>recv:al FILE="mqtt.lua" file.remove(FILE) file.open(FILE,"w+") uart.setup(0,1</message>
</record>
<record>
  <date>2016-11-11T03:50:46</date>
  <millis>1478807446636</millis>
  <sequence>7713</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>311</thread>
  <message>recv:15200,8,0,1,0)&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:50:46</date>
  <millis>1478807446806</millis>
  <sequence>7714</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>311</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:50:46</date>
  <millis>1478807446818</millis>
  <sequence>7715</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_Receiver=function(rcvBuf) if string.match(rcvBuf,"^ESP_cmd_close")==nil then file.write(string.gsub(rcvBuf, '\r', '')) uart.write(0, "&gt; ") else uart.on("data") </message>
</record>
<record>
  <date>2016-11-11T03:50:46</date>
  <millis>1478807446845</millis>
  <sequence>7716</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>311</thread>
  <message>recv:&gt;&gt;</message>
</record>
<record>
  <date>2016-11-11T03:50:46</date>
  <millis>1478807446847</millis>
  <sequence>7717</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>311</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T03:50:46</date>
  <millis>1478807446867</millis>
  <sequence>7718</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:file.flush() file.close() FILE=nil rcvBuf=nil ESP_Receiver=nil uart.setup(0,115200,8,0,1,1) str="\r\n--Done--\r\n&gt; " print(str) str=nil collectgarbage() end end uart.on("data",'\r',ESP_Receiver,0)</message>
</record>
<record>
  <date>2016-11-11T03:50:46</date>
  <millis>1478807446907</millis>
  <sequence>7719</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>311</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:50:46</date>
  <millis>1478807446923</millis>
  <sequence>7720</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:control = require "control"

mqtt_conf = require "mqtt_config"

print("Running file mqtt")
tmr.delay(100000)

control.status_LED(2000)

gpio6 = 6
gpio.mode(gpio6, gpio.OUTPUT)
gpio.write(gpio6, gpio.LOW)

gpio7 = 7
gpio.mode(gpio7, gpio.OUTPUT)
gpio.writ</message>
</record>
<record>
  <date>2016-11-11T03:50:46</date>
  <millis>1478807446954</millis>
  <sequence>7721</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>311</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:50:46</date>
  <millis>1478807446967</millis>
  <sequence>7722</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:e(gpio7, gpio.LOW)

print (mqtt_conf.MQTTPASS)

-- init mqtt client with keepalive timer 120sec
m = mqtt.Client(mqtt_conf.ENDPOINT, 120, mqtt_conf.MQTTUSER, mqtt_conf.MQTTPASS)

-- setup Last Will and Testament (optional)
-- Broker will publish a message</message>
</record>
<record>
  <date>2016-11-11T03:50:46</date>
  <millis>1478807446998</millis>
  <sequence>7723</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>311</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:50:47</date>
  <millis>1478807447010</millis>
  <sequence>7724</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending: with qos = 0, retain = 0, data = "offline" 
-- to topic "/lwt" if client don't send keepalive packet
m:lwt("/lwt", "offline", 0, 0)

m:on("connect", function(client) print ("connected") end)
m:on("offline", function(client) print ("offline") end)

-- on</message>
</record>
<record>
  <date>2016-11-11T03:50:47</date>
  <millis>1478807447041</millis>
  <sequence>7725</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>311</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:50:47</date>
  <millis>1478807447053</millis>
  <sequence>7726</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending: publish message receive event
m:on("message", function(conn, topic, data)
  print("Topic   " ..topic.. " get info. If command match then will run" )
  if topic == "Light1" then
    if data == "ON" then
        print("received message: ON @ light1")
    </message>
</record>
<record>
  <date>2016-11-11T03:50:47</date>
  <millis>1478807447085</millis>
  <sequence>7727</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>311</thread>
  <message>recv:&gt;</message>
</record>
<record>
  <date>2016-11-11T03:50:47</date>
  <millis>1478807447086</millis>
  <sequence>7728</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>311</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T03:50:47</date>
  <millis>1478807447103</millis>
  <sequence>7729</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:    gpio.write(gpio6, gpio.HIGH)
    end
    if data == "OFF" then
        print("received message: OFF @ light1")
        gpio.write(gpio6, gpio.LOW)
    end
    
  end
    
  if topic == "Light2" then
    if data == "ON" then
        print("received me</message>
</record>
<record>
  <date>2016-11-11T03:50:47</date>
  <millis>1478807447135</millis>
  <sequence>7730</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>311</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:50:47</date>
  <millis>1478807447147</millis>
  <sequence>7731</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ssage: ON @ light2")
        gpio.write(gpio7, gpio.HIGH)
    end
    if data == "OFF" then
        print("received message: OFF @ light2")
        gpio.write(gpio7, gpio.LOW)
    end
    
  end
     
end)

-- send0/publish chip ID

m:connect("m11.cloudm</message>
</record>
<record>
  <date>2016-11-11T03:50:47</date>
  <millis>1478807447179</millis>
  <sequence>7732</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>311</thread>
  <message>recv:&gt;</message>
</record>
<record>
  <date>2016-11-11T03:50:47</date>
  <millis>1478807447179</millis>
  <sequence>7733</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>311</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T03:50:47</date>
  <millis>1478807447196</millis>
  <sequence>7734</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:qtt.com", 19311, 0, function(conn)
    print("Your ID: " ..node.chipid().." connected")
    -- subscribe both topic


--, function(client, reason) print("failed reason: "..reason) 

    m:subscribe({["Light1"]=0, ["Light2"]=0}, function(conn) 
        pr</message>
</record>
<record>
  <date>2016-11-11T03:50:47</date>
  <millis>1478807447227</millis>
  <sequence>7735</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>311</thread>
  <message>recv:&gt;</message>
</record>
<record>
  <date>2016-11-11T03:50:47</date>
  <millis>1478807447229</millis>
  <sequence>7736</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>311</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T03:50:47</date>
  <millis>1478807447247</millis>
  <sequence>7737</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:int("subscribe Light 1 and 2 success")
    end)
            
    m:publish("ID is: ", node.chipid(),0,0, function(conn) 
        print("sent ID") 
    end)

end)



</message>
</record>
<record>
  <date>2016-11-11T03:50:47</date>
  <millis>1478807447270</millis>
  <sequence>7738</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>311</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:50:47</date>
  <millis>1478807447282</millis>
  <sequence>7739</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_cmd_close</message>
</record>
<record>
  <date>2016-11-11T03:50:47</date>
  <millis>1478807447294</millis>
  <sequence>7740</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>311</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;-</message>
</record>
<record>
  <date>2016-11-11T03:50:47</date>
  <millis>1478807447295</millis>
  <sequence>7741</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>311</thread>
  <message>recv:-Done--&lt;CR&gt;&lt;LF&gt;&gt; &lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:50:47</date>
  <millis>1478807447318</millis>
  <sequence>7742</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:50:47</date>
  <millis>1478807447319</millis>
  <sequence>7743</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>311</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:50:47</date>
  <millis>1478807447323</millis>
  <sequence>7744</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>311</thread>
  <message>recv:&gt; &lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T03:50:47</date>
  <millis>1478807447352</millis>
  <sequence>7745</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:dofile("mqtt.lua")</message>
</record>
<record>
  <date>2016-11-11T03:50:47</date>
  <millis>1478807447354</millis>
  <sequence>7746</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>311</thread>
  <message>recv:do</message>
</record>
<record>
  <date>2016-11-11T03:50:47</date>
  <millis>1478807447355</millis>
  <sequence>7747</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>311</thread>
  <message>recv:file("mqtt.lua")&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:50:47</date>
  <millis>1478807447398</millis>
  <sequence>7748</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>311</thread>
  <message>recv:Runn</message>
</record>
<record>
  <date>2016-11-11T03:50:47</date>
  <millis>1478807447399</millis>
  <sequence>7749</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>311</thread>
  <message>recv:ing file mqtt</message>
</record>
<record>
  <date>2016-11-11T03:50:47</date>
  <millis>1478807447400</millis>
  <sequence>7750</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>311</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:50:47</date>
  <millis>1478807447506</millis>
  <sequence>7751</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>311</thread>
  <message>recv:9JMcx</message>
</record>
<record>
  <date>2016-11-11T03:50:47</date>
  <millis>1478807447507</millis>
  <sequence>7752</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>311</thread>
  <message>recv:VeUNz3t&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:50:47</date>
  <millis>1478807447518</millis>
  <sequence>7753</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>311</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:50:47</date>
  <millis>1478807447579</millis>
  <sequence>7754</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>311</thread>
  <message>Operation done. Duration = 1095 ms</message>
</record>
<record>
  <date>2016-11-11T03:50:52</date>
  <millis>1478807452021</millis>
  <sequence>7755</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:node.restart()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:50:52</date>
  <millis>1478807452024</millis>
  <sequence>7756</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with saved baud 115200...</message>
</record>
<record>
  <date>2016-11-11T03:50:52</date>
  <millis>1478807452086</millis>
  <sequence>7757</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success. Now we waiting for ESP reboot...</message>
</record>
<record>
  <date>2016-11-11T03:50:54</date>
  <millis>1478807454089</millis>
  <sequence>7758</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with baud 115200...</message>
</record>
<record>
  <date>2016-11-11T03:50:54</date>
  <millis>1478807454092</millis>
  <sequence>7759</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:print(uart.setup(0, 115200, 8, 0, 1, 1 ))&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:50:54</date>
  <millis>1478807454354</millis>
  <sequence>7760</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success.</message>
</record>
<record>
  <date>2016-11-11T03:50:54</date>
  <millis>1478807454396</millis>
  <sequence>7761</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:50:54</date>
  <millis>1478807454399</millis>
  <sequence>7762</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>312</thread>
  <message>
Communication with MCU established.</message>
</record>
<record>
  <date>2016-11-11T03:51:05</date>
  <millis>1478807465792</millis>
  <sequence>7763</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>We save known file mqtt.lua</message>
</record>
<record>
  <date>2016-11-11T03:51:05</date>
  <millis>1478807465793</millis>
  <sequence>7764</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to saving file mqtt.lua ...</message>
</record>
<record>
  <date>2016-11-11T03:51:05</date>
  <millis>1478807465795</millis>
  <sequence>7765</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Save file mqtt.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T03:51:05</date>
  <millis>1478807465799</millis>
  <sequence>7766</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP: Try to save file to ESP...</message>
</record>
<record>
  <date>2016-11-11T03:51:05</date>
  <millis>1478807465812</millis>
  <sequence>7767</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Try to save file to ESP in Turbo Mode...</message>
</record>
<record>
  <date>2016-11-11T03:51:05</date>
  <millis>1478807465820</millis>
  <sequence>7768</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>DataTurboSender: start "Smart Mode"</message>
</record>
<record>
  <date>2016-11-11T03:51:05</date>
  <millis>1478807465825</millis>
  <sequence>7769</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Starting...</message>
</record>
<record>
  <date>2016-11-11T03:51:05</date>
  <millis>1478807465949</millis>
  <sequence>7770</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local FILE="mqtt.lua" file.remove(FILE) file.open(FILE,"w+") uart.setup(0,115200,8,0,1,0)</message>
</record>
<record>
  <date>2016-11-11T03:51:05</date>
  <millis>1478807465950</millis>
  <sequence>7771</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>313</thread>
  <message>recv:l</message>
</record>
<record>
  <date>2016-11-11T03:51:05</date>
  <millis>1478807465953</millis>
  <sequence>7772</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>313</thread>
  <message>recv:ocal FILE="mqtt.lua" file.remov</message>
</record>
<record>
  <date>2016-11-11T03:51:05</date>
  <millis>1478807465954</millis>
  <sequence>7773</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>313</thread>
  <message>recv:e(FILE) file.o</message>
</record>
<record>
  <date>2016-11-11T03:51:05</date>
  <millis>1478807465955</millis>
  <sequence>7774</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>313</thread>
  <message>recv:pen(FILE,"w+"</message>
</record>
<record>
  <date>2016-11-11T03:51:05</date>
  <millis>1478807465957</millis>
  <sequence>7775</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>313</thread>
  <message>recv:) uart.setup(0,11</message>
</record>
<record>
  <date>2016-11-11T03:51:05</date>
  <millis>1478807465957</millis>
  <sequence>7776</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>313</thread>
  <message>recv:5200,8,0,</message>
</record>
<record>
  <date>2016-11-11T03:51:05</date>
  <millis>1478807465958</millis>
  <sequence>7777</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>313</thread>
  <message>recv:1,0)&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:51:06</date>
  <millis>1478807466148</millis>
  <sequence>7778</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>313</thread>
  <message>recv:&gt;</message>
</record>
<record>
  <date>2016-11-11T03:51:06</date>
  <millis>1478807466149</millis>
  <sequence>7779</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>313</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T03:51:06</date>
  <millis>1478807466171</millis>
  <sequence>7780</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_Receiver=function(rcvBuf) if string.match(rcvBuf,"^ESP_cmd_close")==nil then file.write(string.gsub(rcvBuf, '\r', '')) uart.write(0, "&gt; ") else uart.on("data") </message>
</record>
<record>
  <date>2016-11-11T03:51:06</date>
  <millis>1478807466199</millis>
  <sequence>7781</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>313</thread>
  <message>recv:&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T03:51:06</date>
  <millis>1478807466210</millis>
  <sequence>7782</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:file.flush() file.close() FILE=nil rcvBuf=nil ESP_Receiver=nil uart.setup(0,115200,8,0,1,1) str="\r\n--Done--\r\n&gt; " print(str) str=nil collectgarbage() end end uart.on("data",'\r',ESP_Receiver,0)</message>
</record>
<record>
  <date>2016-11-11T03:51:06</date>
  <millis>1478807466251</millis>
  <sequence>7783</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>313</thread>
  <message>recv:&gt;</message>
</record>
<record>
  <date>2016-11-11T03:51:06</date>
  <millis>1478807466252</millis>
  <sequence>7784</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>313</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T03:51:06</date>
  <millis>1478807466270</millis>
  <sequence>7785</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:control = require "control"

mqtt_conf = require "mqtt_config"

print("Running file mqtt")
tmr.delay(100000)

control.status_LED(2000)

gpio6 = 6
gpio.mode(gpio6, gpio.OUTPUT)
gpio.write(gpio6, gpio.LOW)

gpio7 = 7
gpio.mode(gpio7, gpio.OUTPUT)
gpio.writ</message>
</record>
<record>
  <date>2016-11-11T03:51:06</date>
  <millis>1478807466298</millis>
  <sequence>7786</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>313</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:51:06</date>
  <millis>1478807466316</millis>
  <sequence>7787</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:e(gpio7, gpio.LOW)

print (mqtt_conf.MQTTPASS)

-- init mqtt client with keepalive timer 120sec
m = mqtt.Client(mqtt_conf.ENDPOINT, 120, mqtt_conf.MQTTUSER, mqtt_conf.MQTTPASS)

-- setup Last Will and Testament (optional)
-- Broker will publish a message</message>
</record>
<record>
  <date>2016-11-11T03:51:06</date>
  <millis>1478807466347</millis>
  <sequence>7788</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>313</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:51:06</date>
  <millis>1478807466362</millis>
  <sequence>7789</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending: with qos = 0, retain = 0, data = "offline" 
-- to topic "/lwt" if client don't send keepalive packet
m:lwt("/lwt", "offline", 0, 0)

m:on("connect", function(client) print ("connected") end)
m:on("offline", function(client) print ("offline") end)

-- on</message>
</record>
<record>
  <date>2016-11-11T03:51:06</date>
  <millis>1478807466394</millis>
  <sequence>7790</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>313</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:51:06</date>
  <millis>1478807466414</millis>
  <sequence>7791</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending: publish message receive event
m:on("message", function(conn, topic, data)
  print("Topic   " ..topic.. " get info. If command match then will run" )
  if topic == "Light1" then
    if data == "ON" then
        print("received message: ON @ light1")
    </message>
</record>
<record>
  <date>2016-11-11T03:51:06</date>
  <millis>1478807466446</millis>
  <sequence>7792</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>313</thread>
  <message>recv:&gt;</message>
</record>
<record>
  <date>2016-11-11T03:51:06</date>
  <millis>1478807466447</millis>
  <sequence>7793</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>313</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T03:51:06</date>
  <millis>1478807466469</millis>
  <sequence>7794</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:    gpio.write(gpio6, gpio.HIGH)
    end
    if data == "OFF" then
        print("received message: OFF @ light1")
        gpio.write(gpio6, gpio.LOW)
    end
    
  end
    
  if topic == "Light2" then
    if data == "ON" then
        print("received me</message>
</record>
<record>
  <date>2016-11-11T03:51:06</date>
  <millis>1478807466500</millis>
  <sequence>7795</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>313</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:51:06</date>
  <millis>1478807466513</millis>
  <sequence>7796</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ssage: ON @ light2")
        gpio.write(gpio7, gpio.HIGH)
    end
    if data == "OFF" then
        print("received message: OFF @ light2")
        gpio.write(gpio7, gpio.LOW)
    end
    
  end
     
end)

-- send0/publish chip ID

m:connect("m11.cloudm</message>
</record>
<record>
  <date>2016-11-11T03:51:06</date>
  <millis>1478807466543</millis>
  <sequence>7797</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>313</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:51:06</date>
  <millis>1478807466556</millis>
  <sequence>7798</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:qtt.com", 19311, 0, function(conn)
    print("Your ID: " ..node.chipid().." connected")
    -- subscribe both topic


--, function(client, reason) print("failed reason: "..reason) 

    m:subscribe({["Light1"]=0, ["Light2"]=0}, function(conn) 
        pr</message>
</record>
<record>
  <date>2016-11-11T03:51:06</date>
  <millis>1478807466586</millis>
  <sequence>7799</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>313</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:51:06</date>
  <millis>1478807466599</millis>
  <sequence>7800</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:int("subscribe Light 1 and 2 success")
    end)
            
    m:publish("ID is: ", node.chipid(),0,0, function(conn) 
        print("sent ID") 
    end)

end, function(client, reason) print("failed reason: "..reason) )



</message>
</record>
<record>
  <date>2016-11-11T03:51:06</date>
  <millis>1478807466628</millis>
  <sequence>7801</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>313</thread>
  <message>recv:&gt;</message>
</record>
<record>
  <date>2016-11-11T03:51:06</date>
  <millis>1478807466630</millis>
  <sequence>7802</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>313</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T03:51:06</date>
  <millis>1478807466645</millis>
  <sequence>7803</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_cmd_close</message>
</record>
<record>
  <date>2016-11-11T03:51:06</date>
  <millis>1478807466657</millis>
  <sequence>7804</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>313</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;-</message>
</record>
<record>
  <date>2016-11-11T03:51:06</date>
  <millis>1478807466658</millis>
  <sequence>7805</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>313</thread>
  <message>recv:-Done--&lt;CR&gt;&lt;LF&gt;&gt; &lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:51:06</date>
  <millis>1478807466681</millis>
  <sequence>7806</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:51:06</date>
  <millis>1478807466682</millis>
  <sequence>7807</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>313</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:51:06</date>
  <millis>1478807466683</millis>
  <sequence>7808</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>313</thread>
  <message>recv:&gt; &lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T03:51:06</date>
  <millis>1478807466717</millis>
  <sequence>7809</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:dofile("mqtt.lua")</message>
</record>
<record>
  <date>2016-11-11T03:51:06</date>
  <millis>1478807466719</millis>
  <sequence>7810</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>313</thread>
  <message>recv:d</message>
</record>
<record>
  <date>2016-11-11T03:51:06</date>
  <millis>1478807466720</millis>
  <sequence>7811</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>313</thread>
  <message>recv:ofile("mqtt.l</message>
</record>
<record>
  <date>2016-11-11T03:51:06</date>
  <millis>1478807466721</millis>
  <sequence>7812</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>313</thread>
  <message>recv:ua")&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:51:06</date>
  <millis>1478807466798</millis>
  <sequence>7813</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>313</thread>
  <message>recv:mqtt</message>
</record>
<record>
  <date>2016-11-11T03:51:06</date>
  <millis>1478807466800</millis>
  <sequence>7814</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>313</thread>
  <message>recv:.lua:77: unexpected sym</message>
</record>
<record>
  <date>2016-11-11T03:51:06</date>
  <millis>1478807466802</millis>
  <sequence>7815</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>313</thread>
  <message>recv:bol near ')'&lt;CR&gt;&lt;LF&gt;stack traceback:&lt;CR&gt;&lt;LF&gt;	</message>
</record>
<record>
  <date>2016-11-11T03:51:06</date>
  <millis>1478807466804</millis>
  <sequence>7816</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>313</thread>
  <message>recv:[C]: in function '</message>
</record>
<record>
  <date>2016-11-11T03:51:06</date>
  <millis>1478807466805</millis>
  <sequence>7817</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>313</thread>
  <message>recv:dofile'&lt;CR&gt;&lt;LF&gt;	stdin:1</message>
</record>
<record>
  <date>2016-11-11T03:51:06</date>
  <millis>1478807466807</millis>
  <sequence>7818</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>313</thread>
  <message>recv:: in main chunk&lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T03:51:06</date>
  <millis>1478807466826</millis>
  <sequence>7819</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>313</thread>
  <message>Operation done. Duration = 1013 ms</message>
</record>
<record>
  <date>2016-11-11T03:51:14</date>
  <millis>1478807474885</millis>
  <sequence>7820</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>We save known file mqtt.lua</message>
</record>
<record>
  <date>2016-11-11T03:51:14</date>
  <millis>1478807474886</millis>
  <sequence>7821</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to saving file mqtt.lua ...</message>
</record>
<record>
  <date>2016-11-11T03:51:14</date>
  <millis>1478807474889</millis>
  <sequence>7822</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Save file mqtt.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T03:51:14</date>
  <millis>1478807474894</millis>
  <sequence>7823</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP: Try to save file to ESP...</message>
</record>
<record>
  <date>2016-11-11T03:51:14</date>
  <millis>1478807474899</millis>
  <sequence>7824</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Try to save file to ESP in Turbo Mode...</message>
</record>
<record>
  <date>2016-11-11T03:51:14</date>
  <millis>1478807474913</millis>
  <sequence>7825</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>DataTurboSender: start "Smart Mode"</message>
</record>
<record>
  <date>2016-11-11T03:51:14</date>
  <millis>1478807474923</millis>
  <sequence>7826</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Starting...</message>
</record>
<record>
  <date>2016-11-11T03:51:15</date>
  <millis>1478807475046</millis>
  <sequence>7827</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local FILE="mqtt.lua" file.remove(FILE) file.open(FILE,"w+") uart.setup(0,115200,8,0,1,0)</message>
</record>
<record>
  <date>2016-11-11T03:51:15</date>
  <millis>1478807475048</millis>
  <sequence>7828</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>315</thread>
  <message>recv:lo</message>
</record>
<record>
  <date>2016-11-11T03:51:15</date>
  <millis>1478807475066</millis>
  <sequence>7829</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>315</thread>
  <message>recv:cal FILE="mqtt.lua" file.remove(FILE) file.open(FILE,"w+") uart.setup(0,115200,8,0,1,0)&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:51:15</date>
  <millis>1478807475237</millis>
  <sequence>7830</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>315</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:51:15</date>
  <millis>1478807475253</millis>
  <sequence>7831</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_Receiver=function(rcvBuf) if string.match(rcvBuf,"^ESP_cmd_close")==nil then file.write(string.gsub(rcvBuf, '\r', '')) uart.write(0, "&gt; ") else uart.on("data") </message>
</record>
<record>
  <date>2016-11-11T03:51:15</date>
  <millis>1478807475280</millis>
  <sequence>7832</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>315</thread>
  <message>recv:&gt;&gt;</message>
</record>
<record>
  <date>2016-11-11T03:51:15</date>
  <millis>1478807475282</millis>
  <sequence>7833</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>315</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T03:51:15</date>
  <millis>1478807475302</millis>
  <sequence>7834</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:file.flush() file.close() FILE=nil rcvBuf=nil ESP_Receiver=nil uart.setup(0,115200,8,0,1,1) str="\r\n--Done--\r\n&gt; " print(str) str=nil collectgarbage() end end uart.on("data",'\r',ESP_Receiver,0)</message>
</record>
<record>
  <date>2016-11-11T03:51:15</date>
  <millis>1478807475342</millis>
  <sequence>7835</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>315</thread>
  <message>recv:&gt;</message>
</record>
<record>
  <date>2016-11-11T03:51:15</date>
  <millis>1478807475343</millis>
  <sequence>7836</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>315</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T03:51:15</date>
  <millis>1478807475362</millis>
  <sequence>7837</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:control = require "control"

mqtt_conf = require "mqtt_config"

print("Running file mqtt")
tmr.delay(100000)

control.status_LED(2000)

gpio6 = 6
gpio.mode(gpio6, gpio.OUTPUT)
gpio.write(gpio6, gpio.LOW)

gpio7 = 7
gpio.mode(gpio7, gpio.OUTPUT)
gpio.writ</message>
</record>
<record>
  <date>2016-11-11T03:51:15</date>
  <millis>1478807475391</millis>
  <sequence>7838</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>315</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:51:15</date>
  <millis>1478807475404</millis>
  <sequence>7839</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:e(gpio7, gpio.LOW)

--print (mqtt_conf.MQTTPASS)

-- init mqtt client with keepalive timer 120sec
m = mqtt.Client(mqtt_conf.ENDPOINT, 120, mqtt_conf.MQTTUSER, mqtt_conf.MQTTPASS)

-- setup Last Will and Testament (optional)
-- Broker will publish a messa</message>
</record>
<record>
  <date>2016-11-11T03:51:15</date>
  <millis>1478807475435</millis>
  <sequence>7840</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>315</thread>
  <message>recv:&gt;</message>
</record>
<record>
  <date>2016-11-11T03:51:15</date>
  <millis>1478807475436</millis>
  <sequence>7841</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>315</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T03:51:15</date>
  <millis>1478807475456</millis>
  <sequence>7842</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ge with qos = 0, retain = 0, data = "offline" 
-- to topic "/lwt" if client don't send keepalive packet
m:lwt("/lwt", "offline", 0, 0)

m:on("connect", function(client) print ("connected") end)
m:on("offline", function(client) print ("offline") end)

-- </message>
</record>
<record>
  <date>2016-11-11T03:51:15</date>
  <millis>1478807475486</millis>
  <sequence>7843</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>315</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:51:15</date>
  <millis>1478807475498</millis>
  <sequence>7844</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:on publish message receive event
m:on("message", function(conn, topic, data)
  print("Topic   " ..topic.. " get info. If command match then will run" )
  if topic == "Light1" then
    if data == "ON" then
        print("received message: ON @ light1")
  </message>
</record>
<record>
  <date>2016-11-11T03:51:15</date>
  <millis>1478807475530</millis>
  <sequence>7845</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>315</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:51:15</date>
  <millis>1478807475546</millis>
  <sequence>7846</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:      gpio.write(gpio6, gpio.HIGH)
    end
    if data == "OFF" then
        print("received message: OFF @ light1")
        gpio.write(gpio6, gpio.LOW)
    end
    
  end
    
  if topic == "Light2" then
    if data == "ON" then
        print("received </message>
</record>
<record>
  <date>2016-11-11T03:51:15</date>
  <millis>1478807475577</millis>
  <sequence>7847</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>315</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:51:15</date>
  <millis>1478807475597</millis>
  <sequence>7848</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:message: ON @ light2")
        gpio.write(gpio7, gpio.HIGH)
    end
    if data == "OFF" then
        print("received message: OFF @ light2")
        gpio.write(gpio7, gpio.LOW)
    end
    
  end
     
end)

-- send0/publish chip ID

m:connect("m11.clou</message>
</record>
<record>
  <date>2016-11-11T03:51:15</date>
  <millis>1478807475630</millis>
  <sequence>7849</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>315</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:51:15</date>
  <millis>1478807475646</millis>
  <sequence>7850</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:dmqtt.com", 19311, 0, function(conn)
    print("Your ID: " ..node.chipid().." connected")
    -- subscribe both topic


--, function(client, reason) print("failed reason: "..reason) 

    m:subscribe({["Light1"]=0, ["Light2"]=0}, function(conn) 
        </message>
</record>
<record>
  <date>2016-11-11T03:51:15</date>
  <millis>1478807475677</millis>
  <sequence>7851</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>315</thread>
  <message>recv:&gt;</message>
</record>
<record>
  <date>2016-11-11T03:51:15</date>
  <millis>1478807475678</millis>
  <sequence>7852</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>315</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T03:51:15</date>
  <millis>1478807475695</millis>
  <sequence>7853</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:print("subscribe Light 1 and 2 success")
    end)
            
    m:publish("ID is: ", node.chipid(),0,0, function(conn) 
        print("sent ID") 
    end)

end, function(client, reason) print("failed reason: "..reason) )



</message>
</record>
<record>
  <date>2016-11-11T03:51:15</date>
  <millis>1478807475724</millis>
  <sequence>7854</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>315</thread>
  <message>recv:&gt;</message>
</record>
<record>
  <date>2016-11-11T03:51:15</date>
  <millis>1478807475726</millis>
  <sequence>7855</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>315</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T03:51:15</date>
  <millis>1478807475743</millis>
  <sequence>7856</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_cmd_close</message>
</record>
<record>
  <date>2016-11-11T03:51:15</date>
  <millis>1478807475759</millis>
  <sequence>7857</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>315</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:51:15</date>
  <millis>1478807475760</millis>
  <sequence>7858</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>315</thread>
  <message>recv:--Done--&lt;CR&gt;&lt;LF&gt;&gt; &lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:51:15</date>
  <millis>1478807475782</millis>
  <sequence>7859</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:51:15</date>
  <millis>1478807475783</millis>
  <sequence>7860</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>315</thread>
  <message>recv:&lt;CR&gt;</message>
</record>
<record>
  <date>2016-11-11T03:51:15</date>
  <millis>1478807475785</millis>
  <sequence>7861</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>315</thread>
  <message>recv:&lt;LF&gt;&gt; &lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T03:51:15</date>
  <millis>1478807475819</millis>
  <sequence>7862</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:dofile("mqtt.lua")</message>
</record>
<record>
  <date>2016-11-11T03:51:15</date>
  <millis>1478807475820</millis>
  <sequence>7863</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>315</thread>
  <message>recv:do</message>
</record>
<record>
  <date>2016-11-11T03:51:15</date>
  <millis>1478807475822</millis>
  <sequence>7864</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>315</thread>
  <message>recv:file("mqtt.lua")&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:51:15</date>
  <millis>1478807475898</millis>
  <sequence>7865</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>315</thread>
  <message>recv:mqtt.</message>
</record>
<record>
  <date>2016-11-11T03:51:15</date>
  <millis>1478807475908</millis>
  <sequence>7866</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>315</thread>
  <message>recv:lua:77: unexpected symbol near ')'&lt;CR&gt;&lt;LF&gt;stack traceback:&lt;CR&gt;&lt;LF&gt;	[C]: in function 'dofile'&lt;CR&gt;&lt;LF&gt;	stdin:1: in main chunk&lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T03:51:15</date>
  <millis>1478807475952</millis>
  <sequence>7867</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>315</thread>
  <message>Operation done. Duration = 1051 ms</message>
</record>
<record>
  <date>2016-11-11T03:51:30</date>
  <millis>1478807490225</millis>
  <sequence>7868</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>We save known file mqtt.lua</message>
</record>
<record>
  <date>2016-11-11T03:51:30</date>
  <millis>1478807490227</millis>
  <sequence>7869</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to saving file mqtt.lua ...</message>
</record>
<record>
  <date>2016-11-11T03:51:30</date>
  <millis>1478807490229</millis>
  <sequence>7870</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Save file mqtt.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T03:51:30</date>
  <millis>1478807490232</millis>
  <sequence>7871</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP: Try to save file to ESP...</message>
</record>
<record>
  <date>2016-11-11T03:51:30</date>
  <millis>1478807490234</millis>
  <sequence>7872</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Try to save file to ESP in Turbo Mode...</message>
</record>
<record>
  <date>2016-11-11T03:51:30</date>
  <millis>1478807490241</millis>
  <sequence>7873</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>DataTurboSender: start "Smart Mode"</message>
</record>
<record>
  <date>2016-11-11T03:51:30</date>
  <millis>1478807490244</millis>
  <sequence>7874</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Starting...</message>
</record>
<record>
  <date>2016-11-11T03:51:30</date>
  <millis>1478807490389</millis>
  <sequence>7875</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local FILE="mqtt.lua" file.remove(FILE) file.open(FILE,"w+") uart.setup(0,115200,8,0,1,0)</message>
</record>
<record>
  <date>2016-11-11T03:51:30</date>
  <millis>1478807490400</millis>
  <sequence>7876</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>317</thread>
  <message>recv:loca</message>
</record>
<record>
  <date>2016-11-11T03:51:30</date>
  <millis>1478807490407</millis>
  <sequence>7877</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>317</thread>
  <message>recv:l FILE="mqtt.lua" file.remove(FILE) file.open(FILE,"w+") uart.setup(0,115200,8,0,1,0)&lt;CR&gt;</message>
</record>
<record>
  <date>2016-11-11T03:51:30</date>
  <millis>1478807490408</millis>
  <sequence>7878</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>317</thread>
  <message>recv:&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:51:30</date>
  <millis>1478807490587</millis>
  <sequence>7879</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>317</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:51:30</date>
  <millis>1478807490603</millis>
  <sequence>7880</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_Receiver=function(rcvBuf) if string.match(rcvBuf,"^ESP_cmd_close")==nil then file.write(string.gsub(rcvBuf, '\r', '')) uart.write(0, "&gt; ") else uart.on("data") </message>
</record>
<record>
  <date>2016-11-11T03:51:30</date>
  <millis>1478807490630</millis>
  <sequence>7881</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>317</thread>
  <message>recv:&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T03:51:30</date>
  <millis>1478807490645</millis>
  <sequence>7882</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:file.flush() file.close() FILE=nil rcvBuf=nil ESP_Receiver=nil uart.setup(0,115200,8,0,1,1) str="\r\n--Done--\r\n&gt; " print(str) str=nil collectgarbage() end end uart.on("data",'\r',ESP_Receiver,0)</message>
</record>
<record>
  <date>2016-11-11T03:51:30</date>
  <millis>1478807490686</millis>
  <sequence>7883</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>317</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:51:30</date>
  <millis>1478807490703</millis>
  <sequence>7884</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:control = require "control"

mqtt_conf = require "mqtt_config"

print("Running file mqtt")
tmr.delay(100000)

control.status_LED(2000)

gpio6 = 6
gpio.mode(gpio6, gpio.OUTPUT)
gpio.write(gpio6, gpio.LOW)

gpio7 = 7
gpio.mode(gpio7, gpio.OUTPUT)
gpio.writ</message>
</record>
<record>
  <date>2016-11-11T03:51:30</date>
  <millis>1478807490732</millis>
  <sequence>7885</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>317</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:51:30</date>
  <millis>1478807490750</millis>
  <sequence>7886</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:e(gpio7, gpio.LOW)

--print (mqtt_conf.MQTTPASS)

-- init mqtt client with keepalive timer 120sec
m = mqtt.Client(mqtt_conf.ENDPOINT, 120, mqtt_conf.MQTTUSER, mqtt_conf.MQTTPASS)

-- setup Last Will and Testament (optional)
-- Broker will publish a messa</message>
</record>
<record>
  <date>2016-11-11T03:51:30</date>
  <millis>1478807490782</millis>
  <sequence>7887</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>317</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:51:30</date>
  <millis>1478807490794</millis>
  <sequence>7888</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ge with qos = 0, retain = 0, data = "offline" 
-- to topic "/lwt" if client don't send keepalive packet
m:lwt("/lwt", "offline", 0, 0)

m:on("connect", function(client) print ("connected") end)
m:on("offline", function(client) print ("offline") end)

-- </message>
</record>
<record>
  <date>2016-11-11T03:51:30</date>
  <millis>1478807490825</millis>
  <sequence>7889</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>317</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:51:30</date>
  <millis>1478807490841</millis>
  <sequence>7890</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:on publish message receive event
m:on("message", function(conn, topic, data)
  print("Topic   " ..topic.. " get info. If command match then will run" )
  if topic == "Light1" then
    if data == "ON" then
        print("received message: ON @ light1")
  </message>
</record>
<record>
  <date>2016-11-11T03:51:30</date>
  <millis>1478807490874</millis>
  <sequence>7891</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>317</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:51:30</date>
  <millis>1478807490886</millis>
  <sequence>7892</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:      gpio.write(gpio6, gpio.HIGH)
    end
    if data == "OFF" then
        print("received message: OFF @ light1")
        gpio.write(gpio6, gpio.LOW)
    end
    
  end
    
  if topic == "Light2" then
    if data == "ON" then
        print("received </message>
</record>
<record>
  <date>2016-11-11T03:51:30</date>
  <millis>1478807490917</millis>
  <sequence>7893</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>317</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:51:30</date>
  <millis>1478807490930</millis>
  <sequence>7894</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:message: ON @ light2")
        gpio.write(gpio7, gpio.HIGH)
    end
    if data == "OFF" then
        print("received message: OFF @ light2")
        gpio.write(gpio7, gpio.LOW)
    end
    
  end
     
end)

-- send0/publish chip ID

m:connect("m11.clou</message>
</record>
<record>
  <date>2016-11-11T03:51:30</date>
  <millis>1478807490960</millis>
  <sequence>7895</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>317</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:51:30</date>
  <millis>1478807490973</millis>
  <sequence>7896</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:dmqtt.com", 19311, 0, function(conn)
    print("Your ID: " ..node.chipid().." connected")
    -- subscribe both topic


--, function(client, reason) print("failed reason: "..reason) 

    m:subscribe({["Light1"]=0, ["Light2"]=0}, function(conn) 
        </message>
</record>
<record>
  <date>2016-11-11T03:51:31</date>
  <millis>1478807491005</millis>
  <sequence>7897</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>317</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:51:31</date>
  <millis>1478807491018</millis>
  <sequence>7898</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:print("subscribe Light 1 and 2 success")
    end)
            
    m:publish("ID is: ", node.chipid(),0,0, function(conn) 
        print("sent ID") 
    end)

end, function(client, reason) print("failed reason: "..reason) end)



</message>
</record>
<record>
  <date>2016-11-11T03:51:31</date>
  <millis>1478807491047</millis>
  <sequence>7899</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>317</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:51:31</date>
  <millis>1478807491064</millis>
  <sequence>7900</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_cmd_close</message>
</record>
<record>
  <date>2016-11-11T03:51:31</date>
  <millis>1478807491077</millis>
  <sequence>7901</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>317</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:51:31</date>
  <millis>1478807491079</millis>
  <sequence>7902</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>317</thread>
  <message>recv:--Done--&lt;CR&gt;&lt;LF&gt;&gt; &lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:51:31</date>
  <millis>1478807491102</millis>
  <sequence>7903</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:51:31</date>
  <millis>1478807491103</millis>
  <sequence>7904</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>317</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:51:31</date>
  <millis>1478807491105</millis>
  <sequence>7905</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>317</thread>
  <message>recv:&gt; &lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T03:51:31</date>
  <millis>1478807491140</millis>
  <sequence>7906</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:dofile("mqtt.lua")</message>
</record>
<record>
  <date>2016-11-11T03:51:31</date>
  <millis>1478807491142</millis>
  <sequence>7907</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>317</thread>
  <message>recv:do</message>
</record>
<record>
  <date>2016-11-11T03:51:31</date>
  <millis>1478807491143</millis>
  <sequence>7908</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>317</thread>
  <message>recv:file("mqtt.lu</message>
</record>
<record>
  <date>2016-11-11T03:51:31</date>
  <millis>1478807491144</millis>
  <sequence>7909</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>317</thread>
  <message>recv:a")&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:51:31</date>
  <millis>1478807491190</millis>
  <sequence>7910</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>317</thread>
  <message>recv:Ru</message>
</record>
<record>
  <date>2016-11-11T03:51:31</date>
  <millis>1478807491191</millis>
  <sequence>7911</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>317</thread>
  <message>recv:nning file mqt</message>
</record>
<record>
  <date>2016-11-11T03:51:31</date>
  <millis>1478807491193</millis>
  <sequence>7912</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>317</thread>
  <message>recv:t&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:51:31</date>
  <millis>1478807491310</millis>
  <sequence>7913</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>317</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:51:31</date>
  <millis>1478807491385</millis>
  <sequence>7914</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>317</thread>
  <message>Operation done. Duration = 1151 ms</message>
</record>
<record>
  <date>2016-11-11T03:51:36</date>
  <millis>1478807496685</millis>
  <sequence>7915</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:node.restart()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:51:36</date>
  <millis>1478807496688</millis>
  <sequence>7916</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with saved baud 115200...</message>
</record>
<record>
  <date>2016-11-11T03:51:36</date>
  <millis>1478807496749</millis>
  <sequence>7917</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success. Now we waiting for ESP reboot...</message>
</record>
<record>
  <date>2016-11-11T03:51:38</date>
  <millis>1478807498752</millis>
  <sequence>7918</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with baud 115200...</message>
</record>
<record>
  <date>2016-11-11T03:51:38</date>
  <millis>1478807498752</millis>
  <sequence>7919</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:print(uart.setup(0, 115200, 8, 0, 1, 1 ))&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:51:39</date>
  <millis>1478807499014</millis>
  <sequence>7920</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success.</message>
</record>
<record>
  <date>2016-11-11T03:51:39</date>
  <millis>1478807499048</millis>
  <sequence>7921</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:51:39</date>
  <millis>1478807499050</millis>
  <sequence>7922</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>318</thread>
  <message>
Communication with MCU established.</message>
</record>
<record>
  <date>2016-11-11T03:52:04</date>
  <millis>1478807524113</millis>
  <sequence>7923</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>We save known file mqtt.lua</message>
</record>
<record>
  <date>2016-11-11T03:52:04</date>
  <millis>1478807524115</millis>
  <sequence>7924</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to saving file mqtt.lua ...</message>
</record>
<record>
  <date>2016-11-11T03:52:04</date>
  <millis>1478807524117</millis>
  <sequence>7925</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Save file mqtt.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T03:52:04</date>
  <millis>1478807524121</millis>
  <sequence>7926</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP: Try to save file to ESP...</message>
</record>
<record>
  <date>2016-11-11T03:52:04</date>
  <millis>1478807524123</millis>
  <sequence>7927</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Try to save file to ESP in Turbo Mode...</message>
</record>
<record>
  <date>2016-11-11T03:52:04</date>
  <millis>1478807524138</millis>
  <sequence>7928</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>DataTurboSender: start "Smart Mode"</message>
</record>
<record>
  <date>2016-11-11T03:52:04</date>
  <millis>1478807524139</millis>
  <sequence>7929</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Starting...</message>
</record>
<record>
  <date>2016-11-11T03:52:04</date>
  <millis>1478807524273</millis>
  <sequence>7930</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local FILE="mqtt.lua" file.remove(FILE) file.open(FILE,"w+") uart.setup(0,115200,8,0,1,0)</message>
</record>
<record>
  <date>2016-11-11T03:52:04</date>
  <millis>1478807524274</millis>
  <sequence>7931</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>319</thread>
  <message>recv:l</message>
</record>
<record>
  <date>2016-11-11T03:52:04</date>
  <millis>1478807524277</millis>
  <sequence>7932</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>319</thread>
  <message>recv:ocal FILE="mqtt.</message>
</record>
<record>
  <date>2016-11-11T03:52:04</date>
  <millis>1478807524278</millis>
  <sequence>7933</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>319</thread>
  <message>recv:lua" file.remove(FILE) file.open(FI</message>
</record>
<record>
  <date>2016-11-11T03:52:04</date>
  <millis>1478807524279</millis>
  <sequence>7934</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>319</thread>
  <message>recv:LE,"w+") u</message>
</record>
<record>
  <date>2016-11-11T03:52:04</date>
  <millis>1478807524282</millis>
  <sequence>7935</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>319</thread>
  <message>recv:art.setup(0,115200,8,0,1,0)&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:52:04</date>
  <millis>1478807524471</millis>
  <sequence>7936</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>319</thread>
  <message>recv:&gt;</message>
</record>
<record>
  <date>2016-11-11T03:52:04</date>
  <millis>1478807524473</millis>
  <sequence>7937</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>319</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T03:52:04</date>
  <millis>1478807524496</millis>
  <sequence>7938</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_Receiver=function(rcvBuf) if string.match(rcvBuf,"^ESP_cmd_close")==nil then file.write(string.gsub(rcvBuf, '\r', '')) uart.write(0, "&gt; ") else uart.on("data") </message>
</record>
<record>
  <date>2016-11-11T03:52:04</date>
  <millis>1478807524525</millis>
  <sequence>7939</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>319</thread>
  <message>recv:&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T03:52:04</date>
  <millis>1478807524542</millis>
  <sequence>7940</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:file.flush() file.close() FILE=nil rcvBuf=nil ESP_Receiver=nil uart.setup(0,115200,8,0,1,1) str="\r\n--Done--\r\n&gt; " print(str) str=nil collectgarbage() end end uart.on("data",'\r',ESP_Receiver,0)</message>
</record>
<record>
  <date>2016-11-11T03:52:04</date>
  <millis>1478807524582</millis>
  <sequence>7941</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>319</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:52:04</date>
  <millis>1478807524603</millis>
  <sequence>7942</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:control = require "control"

mqtt_conf = require "mqtt_config"

print("Running file mqtt")
tmr.delay(100000)

control.status_LED(2000)

gpio6 = 6
gpio.mode(gpio6, gpio.OUTPUT)
gpio.write(gpio6, gpio.LOW)

gpio7 = 7
gpio.mode(gpio7, gpio.OUTPUT)
gpio.writ</message>
</record>
<record>
  <date>2016-11-11T03:52:04</date>
  <millis>1478807524632</millis>
  <sequence>7943</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>319</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:52:04</date>
  <millis>1478807524650</millis>
  <sequence>7944</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:e(gpio7, gpio.LOW)

--print (mqtt_conf.MQTTPASS)

-- init mqtt client with keepalive timer 120sec
m = mqtt.Client(mqtt_conf.ENDPOINT, 120, mqtt_conf.MQTTUSER, mqtt_conf.MQTTPASS)

-- setup Last Will and Testament (optional)
-- Broker will publish a messa</message>
</record>
<record>
  <date>2016-11-11T03:52:04</date>
  <millis>1478807524682</millis>
  <sequence>7945</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>319</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:52:04</date>
  <millis>1478807524699</millis>
  <sequence>7946</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ge with qos = 0, retain = 0, data = "offline" 
-- to topic "/lwt" if client don't send keepalive packet
m:lwt("/lwt", "offline", 0, 0)

m:on("connect", function(client) print ("connected") end)
m:on("offline", function(client) print ("offline") end)

-- </message>
</record>
<record>
  <date>2016-11-11T03:52:04</date>
  <millis>1478807524730</millis>
  <sequence>7947</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>319</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:52:04</date>
  <millis>1478807524746</millis>
  <sequence>7948</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:on publish message receive event
m:on("message", function(conn, topic, data)
  print("Topic   " ..topic.. " get info. If command match then will run" )
  if topic == "Light1" then
    if data == "ON" then
        print("received message: ON @ light1")
  </message>
</record>
<record>
  <date>2016-11-11T03:52:04</date>
  <millis>1478807524778</millis>
  <sequence>7949</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>319</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:52:04</date>
  <millis>1478807524795</millis>
  <sequence>7950</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:      gpio.write(gpio6, gpio.HIGH)
    end
    if data == "OFF" then
        print("received message: OFF @ light1")
        gpio.write(gpio6, gpio.LOW)
    end
    
  end
    
  if topic == "Light2" then
    if data == "ON" then
        print("received </message>
</record>
<record>
  <date>2016-11-11T03:52:04</date>
  <millis>1478807524826</millis>
  <sequence>7951</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>319</thread>
  <message>recv:&gt;</message>
</record>
<record>
  <date>2016-11-11T03:52:04</date>
  <millis>1478807524827</millis>
  <sequence>7952</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>319</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T03:52:04</date>
  <millis>1478807524845</millis>
  <sequence>7953</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:message: ON @ light2")
        gpio.write(gpio7, gpio.HIGH)
    end
    if data == "OFF" then
        print("received message: OFF @ light2")
        gpio.write(gpio7, gpio.LOW)
    end
    
  end
     
end)

-- send0/publish chip ID

m:connect("m11.clou</message>
</record>
<record>
  <date>2016-11-11T03:52:04</date>
  <millis>1478807524877</millis>
  <sequence>7954</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>319</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:52:04</date>
  <millis>1478807524891</millis>
  <sequence>7955</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:dmqtt.com", 19311, 0, function(conn)

    print("connected")
    print("Your ID: " ..node.chipid())
    -- subscribe both topic


--, function(client, reason) print("failed reason: "..reason) 

    m:subscribe({["Light1"]=0, ["Light2"]=0}, function(conn)</message>
</record>
<record>
  <date>2016-11-11T03:52:04</date>
  <millis>1478807524922</millis>
  <sequence>7956</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>319</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:52:04</date>
  <millis>1478807524935</millis>
  <sequence>7957</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending: 
        print("subscribe Light 1 and 2 success")
    end)
            
    m:publish("ID is: ", node.chipid(),0,0, function(conn) 
        print("sent ID") 
    end)

end, function(client, reason) print("failed reason: "..reason) end)



</message>
</record>
<record>
  <date>2016-11-11T03:52:04</date>
  <millis>1478807524967</millis>
  <sequence>7958</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>319</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:52:04</date>
  <millis>1478807524979</millis>
  <sequence>7959</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_cmd_close</message>
</record>
<record>
  <date>2016-11-11T03:52:04</date>
  <millis>1478807524993</millis>
  <sequence>7960</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>319</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:52:04</date>
  <millis>1478807524994</millis>
  <sequence>7961</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>319</thread>
  <message>recv:--Done--&lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T03:52:04</date>
  <millis>1478807524995</millis>
  <sequence>7962</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>319</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:52:05</date>
  <millis>1478807525018</millis>
  <sequence>7963</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:52:05</date>
  <millis>1478807525019</millis>
  <sequence>7964</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>319</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T03:52:05</date>
  <millis>1478807525021</millis>
  <sequence>7965</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>319</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T03:52:05</date>
  <millis>1478807525052</millis>
  <sequence>7966</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>319</thread>
  <message>Operation done. Duration = 927 ms</message>
</record>
<record>
  <date>2016-11-11T03:52:30</date>
  <millis>1478807550698</millis>
  <sequence>7967</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:node.restart()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:52:30</date>
  <millis>1478807550700</millis>
  <sequence>7968</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with saved baud 115200...</message>
</record>
<record>
  <date>2016-11-11T03:52:30</date>
  <millis>1478807550762</millis>
  <sequence>7969</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success. Now we waiting for ESP reboot...</message>
</record>
<record>
  <date>2016-11-11T03:52:32</date>
  <millis>1478807552764</millis>
  <sequence>7970</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with baud 115200...</message>
</record>
<record>
  <date>2016-11-11T03:52:32</date>
  <millis>1478807552770</millis>
  <sequence>7971</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:print(uart.setup(0, 115200, 8, 0, 1, 1 ))&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:52:33</date>
  <millis>1478807553032</millis>
  <sequence>7972</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success.</message>
</record>
<record>
  <date>2016-11-11T03:52:33</date>
  <millis>1478807553061</millis>
  <sequence>7973</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:52:33</date>
  <millis>1478807553063</millis>
  <sequence>7974</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>320</thread>
  <message>
Communication with MCU established.</message>
</record>
<record>
  <date>2016-11-11T03:52:33</date>
  <millis>1478807553065</millis>
  <sequence>7975</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>320</thread>
  <message>sending:=node.heap()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:53:26</date>
  <millis>1478807606660</millis>
  <sequence>7976</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>We save known file mqtt.lua</message>
</record>
<record>
  <date>2016-11-11T03:53:26</date>
  <millis>1478807606664</millis>
  <sequence>7977</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to saving file mqtt.lua ...</message>
</record>
<record>
  <date>2016-11-11T03:53:26</date>
  <millis>1478807606666</millis>
  <sequence>7978</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Save file mqtt.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T03:53:26</date>
  <millis>1478807606670</millis>
  <sequence>7979</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP: Try to save file to ESP...</message>
</record>
<record>
  <date>2016-11-11T03:53:26</date>
  <millis>1478807606677</millis>
  <sequence>7980</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Try to save file to ESP in Turbo Mode...</message>
</record>
<record>
  <date>2016-11-11T03:53:26</date>
  <millis>1478807606688</millis>
  <sequence>7981</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>DataTurboSender: start "Smart Mode"</message>
</record>
<record>
  <date>2016-11-11T03:53:26</date>
  <millis>1478807606693</millis>
  <sequence>7982</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Starting...</message>
</record>
<record>
  <date>2016-11-11T03:53:26</date>
  <millis>1478807606830</millis>
  <sequence>7983</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local FILE="mqtt.lua" file.remove(FILE) file.open(FILE,"w+") uart.setup(0,115200,8,0,1,0)</message>
</record>
<record>
  <date>2016-11-11T03:53:26</date>
  <millis>1478807606832</millis>
  <sequence>7984</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>321</thread>
  <message>recv:loc</message>
</record>
<record>
  <date>2016-11-11T03:53:26</date>
  <millis>1478807606836</millis>
  <sequence>7985</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>321</thread>
  <message>recv:al FILE="mqtt.lua" file.remove(FILE) file.open</message>
</record>
<record>
  <date>2016-11-11T03:53:26</date>
  <millis>1478807606838</millis>
  <sequence>7986</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>321</thread>
  <message>recv:(FILE,"w+") uart.setup(0</message>
</record>
<record>
  <date>2016-11-11T03:53:26</date>
  <millis>1478807606842</millis>
  <sequence>7987</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>321</thread>
  <message>recv:,115200,8,0,1,0)&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:53:27</date>
  <millis>1478807607030</millis>
  <sequence>7988</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>321</thread>
  <message>recv:&gt;</message>
</record>
<record>
  <date>2016-11-11T03:53:27</date>
  <millis>1478807607031</millis>
  <sequence>7989</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>321</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T03:53:27</date>
  <millis>1478807607050</millis>
  <sequence>7990</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_Receiver=function(rcvBuf) if string.match(rcvBuf,"^ESP_cmd_close")==nil then file.write(string.gsub(rcvBuf, '\r', '')) uart.write(0, "&gt; ") else uart.on("data") </message>
</record>
<record>
  <date>2016-11-11T03:53:27</date>
  <millis>1478807607078</millis>
  <sequence>7991</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>321</thread>
  <message>recv:&gt;&gt;</message>
</record>
<record>
  <date>2016-11-11T03:53:27</date>
  <millis>1478807607080</millis>
  <sequence>7992</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>321</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T03:53:27</date>
  <millis>1478807607100</millis>
  <sequence>7993</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:file.flush() file.close() FILE=nil rcvBuf=nil ESP_Receiver=nil uart.setup(0,115200,8,0,1,1) str="\r\n--Done--\r\n&gt; " print(str) str=nil collectgarbage() end end uart.on("data",'\r',ESP_Receiver,0)</message>
</record>
<record>
  <date>2016-11-11T03:53:27</date>
  <millis>1478807607141</millis>
  <sequence>7994</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>321</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:53:27</date>
  <millis>1478807607153</millis>
  <sequence>7995</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:control = require "control"

mqtt_conf = require "mqtt_config"

print("Running file mqtt")
tmr.delay(100000)

control.status_LED(2000)

gpio6 = 6
gpio.mode(gpio6, gpio.OUTPUT)
gpio.write(gpio6, gpio.LOW)

gpio7 = 7
gpio.mode(gpio7, gpio.OUTPUT)
gpio.writ</message>
</record>
<record>
  <date>2016-11-11T03:53:27</date>
  <millis>1478807607182</millis>
  <sequence>7996</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>321</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:53:27</date>
  <millis>1478807607201</millis>
  <sequence>7997</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:e(gpio7, gpio.LOW)

--print (mqtt_conf.MQTTPASS)

-- init mqtt client with keepalive timer 120sec
m = mqtt.Client(mqtt_conf.ENDPOINT, 120, mqtt_conf.MQTTUSER, mqtt_conf.MQTTPASS)

-- setup Last Will and Testament (optional)
-- Broker will publish a messa</message>
</record>
<record>
  <date>2016-11-11T03:53:27</date>
  <millis>1478807607233</millis>
  <sequence>7998</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>321</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:53:27</date>
  <millis>1478807607247</millis>
  <sequence>7999</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ge with qos = 0, retain = 0, data = "offline" 
-- to topic "/lwt" if client don't send keepalive packet
m:lwt("/lwt", "offline", 0, 0)

m:on("connect", function(client) print ("connected") end)
m:on("offline", function(client) print ("offline") end)

-- </message>
</record>
<record>
  <date>2016-11-11T03:53:27</date>
  <millis>1478807607278</millis>
  <sequence>8000</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>321</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:53:27</date>
  <millis>1478807607290</millis>
  <sequence>8001</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:on publish message receive event
m:on("message", function(conn, topic, data)
  print(topic.. " event registered" )
  if topic == "Light1" then
    if data == "ON" then
        print("received message: ON @ light1")
        gpio.write(gpio6, gpio.HIGH)
  </message>
</record>
<record>
  <date>2016-11-11T03:53:27</date>
  <millis>1478807607322</millis>
  <sequence>8002</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>321</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:53:27</date>
  <millis>1478807607339</millis>
  <sequence>8003</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:  end
    if data == "OFF" then
        print("received message: OFF @ light1")
        gpio.write(gpio6, gpio.LOW)
    end
    
  end
    
  if topic == "Light2" then
    if data == "ON" then
        print("received message: ON @ light2")
        gpio.w</message>
</record>
<record>
  <date>2016-11-11T03:53:27</date>
  <millis>1478807607370</millis>
  <sequence>8004</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>321</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:53:27</date>
  <millis>1478807607386</millis>
  <sequence>8005</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:rite(gpio7, gpio.HIGH)
    end
    if data == "OFF" then
        print("received message: OFF @ light2")
        gpio.write(gpio7, gpio.LOW)
    end
    
  end
     
end)

-- send0/publish chip ID

m:connect("m11.cloudmqtt.com", 19311, 0, function(conn)
</message>
</record>
<record>
  <date>2016-11-11T03:53:27</date>
  <millis>1478807607418</millis>
  <sequence>8006</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>321</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:53:27</date>
  <millis>1478807607432</millis>
  <sequence>8007</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:
    print("connected")
    print("Your ID: " ..node.chipid())
    -- subscribe both topic


--, function(client, reason) print("failed reason: "..reason) 

    m:subscribe({["Light1"]=0, ["Light2"]=0}, function(conn) 
        print("subscribe Light 1 an</message>
</record>
<record>
  <date>2016-11-11T03:53:27</date>
  <millis>1478807607463</millis>
  <sequence>8008</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>321</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:53:27</date>
  <millis>1478807607479</millis>
  <sequence>8009</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:d 2 success")
    end)
            
    m:publish("ID is: ", node.chipid(),0,0, function(conn) 
        print("sent ID") 
    end)

end, function(client, reason) print("failed reason: "..reason) end)



</message>
</record>
<record>
  <date>2016-11-11T03:53:27</date>
  <millis>1478807607507</millis>
  <sequence>8010</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>321</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:53:27</date>
  <millis>1478807607524</millis>
  <sequence>8011</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_cmd_close</message>
</record>
<record>
  <date>2016-11-11T03:53:27</date>
  <millis>1478807607536</millis>
  <sequence>8012</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>321</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;-</message>
</record>
<record>
  <date>2016-11-11T03:53:27</date>
  <millis>1478807607537</millis>
  <sequence>8013</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>321</thread>
  <message>recv:-Done--&lt;CR&gt;&lt;LF&gt;&gt; &lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:53:27</date>
  <millis>1478807607564</millis>
  <sequence>8014</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:53:27</date>
  <millis>1478807607566</millis>
  <sequence>8015</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>321</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:53:27</date>
  <millis>1478807607568</millis>
  <sequence>8016</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>321</thread>
  <message>recv:&gt; &lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T03:53:27</date>
  <millis>1478807607601</millis>
  <sequence>8017</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:dofile("mqtt.lua")</message>
</record>
<record>
  <date>2016-11-11T03:53:27</date>
  <millis>1478807607603</millis>
  <sequence>8018</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>321</thread>
  <message>recv:do</message>
</record>
<record>
  <date>2016-11-11T03:53:27</date>
  <millis>1478807607604</millis>
  <sequence>8019</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>321</thread>
  <message>recv:file("mqtt.lua")</message>
</record>
<record>
  <date>2016-11-11T03:53:27</date>
  <millis>1478807607605</millis>
  <sequence>8020</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>321</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:53:27</date>
  <millis>1478807607651</millis>
  <sequence>8021</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>321</thread>
  <message>recv:Ru</message>
</record>
<record>
  <date>2016-11-11T03:53:27</date>
  <millis>1478807607653</millis>
  <sequence>8022</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>321</thread>
  <message>recv:nning file mqtt&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:53:27</date>
  <millis>1478807607770</millis>
  <sequence>8023</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>321</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:53:27</date>
  <millis>1478807607850</millis>
  <sequence>8024</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>321</thread>
  <message>Operation done. Duration = 1172 ms</message>
</record>
<record>
  <date>2016-11-11T03:53:50</date>
  <millis>1478807630935</millis>
  <sequence>8025</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>We save known file mqtt.lua</message>
</record>
<record>
  <date>2016-11-11T03:53:50</date>
  <millis>1478807630936</millis>
  <sequence>8026</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to saving file mqtt.lua ...</message>
</record>
<record>
  <date>2016-11-11T03:53:50</date>
  <millis>1478807630939</millis>
  <sequence>8027</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Save file mqtt.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T03:53:50</date>
  <millis>1478807630943</millis>
  <sequence>8028</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP: Try to save file to ESP...</message>
</record>
<record>
  <date>2016-11-11T03:53:50</date>
  <millis>1478807630944</millis>
  <sequence>8029</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Try to save file to ESP in Turbo Mode...</message>
</record>
<record>
  <date>2016-11-11T03:53:50</date>
  <millis>1478807630958</millis>
  <sequence>8030</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>DataTurboSender: start "Smart Mode"</message>
</record>
<record>
  <date>2016-11-11T03:53:50</date>
  <millis>1478807630960</millis>
  <sequence>8031</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Starting...</message>
</record>
<record>
  <date>2016-11-11T03:53:51</date>
  <millis>1478807631090</millis>
  <sequence>8032</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local FILE="mqtt.lua" file.remove(FILE) file.open(FILE,"w+") uart.setup(0,115200,8,0,1,0)</message>
</record>
<record>
  <date>2016-11-11T03:53:51</date>
  <millis>1478807631092</millis>
  <sequence>8033</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>323</thread>
  <message>recv:loc</message>
</record>
<record>
  <date>2016-11-11T03:53:51</date>
  <millis>1478807631094</millis>
  <sequence>8034</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>323</thread>
  <message>recv:al FILE="mqtt.lua" file.rem</message>
</record>
<record>
  <date>2016-11-11T03:53:51</date>
  <millis>1478807631095</millis>
  <sequence>8035</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>323</thread>
  <message>recv:ove(FILE) fil</message>
</record>
<record>
  <date>2016-11-11T03:53:51</date>
  <millis>1478807631096</millis>
  <sequence>8036</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>323</thread>
  <message>recv:e.open(F</message>
</record>
<record>
  <date>2016-11-11T03:53:51</date>
  <millis>1478807631096</millis>
  <sequence>8037</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>323</thread>
  <message>recv:ILE,"w+"</message>
</record>
<record>
  <date>2016-11-11T03:53:51</date>
  <millis>1478807631097</millis>
  <sequence>8038</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>323</thread>
  <message>recv:) uart.se</message>
</record>
<record>
  <date>2016-11-11T03:53:51</date>
  <millis>1478807631098</millis>
  <sequence>8039</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>323</thread>
  <message>recv:tup(0,115200,</message>
</record>
<record>
  <date>2016-11-11T03:53:51</date>
  <millis>1478807631107</millis>
  <sequence>8040</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>323</thread>
  <message>recv:8,0,1,0)&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:53:51</date>
  <millis>1478807631279</millis>
  <sequence>8041</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>323</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:53:51</date>
  <millis>1478807631297</millis>
  <sequence>8042</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_Receiver=function(rcvBuf) if string.match(rcvBuf,"^ESP_cmd_close")==nil then file.write(string.gsub(rcvBuf, '\r', '')) uart.write(0, "&gt; ") else uart.on("data") </message>
</record>
<record>
  <date>2016-11-11T03:53:51</date>
  <millis>1478807631325</millis>
  <sequence>8043</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>323</thread>
  <message>recv:&gt;&gt;</message>
</record>
<record>
  <date>2016-11-11T03:53:51</date>
  <millis>1478807631326</millis>
  <sequence>8044</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>323</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T03:53:51</date>
  <millis>1478807631348</millis>
  <sequence>8045</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:file.flush() file.close() FILE=nil rcvBuf=nil ESP_Receiver=nil uart.setup(0,115200,8,0,1,1) str="\r\n--Done--\r\n&gt; " print(str) str=nil collectgarbage() end end uart.on("data",'\r',ESP_Receiver,0)</message>
</record>
<record>
  <date>2016-11-11T03:53:51</date>
  <millis>1478807631389</millis>
  <sequence>8046</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>323</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:53:51</date>
  <millis>1478807631429</millis>
  <sequence>8047</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:control = require "control"

mqtt_conf = require "mqtt_config"

print("Running file mqtt")
tmr.delay(100000)

control.status_LED(2000)

gpio6 = 6
gpio.mode(gpio6, gpio.OUTPUT)
gpio.write(gpio6, gpio.LOW)

gpio7 = 7
gpio.mode(gpio7, gpio.OUTPUT)
gpio.writ</message>
</record>
<record>
  <date>2016-11-11T03:53:51</date>
  <millis>1478807631461</millis>
  <sequence>8048</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>323</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:53:51</date>
  <millis>1478807631478</millis>
  <sequence>8049</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:e(gpio7, gpio.LOW)

--print (mqtt_conf.MQTTPASS)

-- init mqtt client with keepalive timer 120sec
m = mqtt.Client(mqtt_conf.ENDPOINT, 120, mqtt_conf.MQTTUSER, mqtt_conf.MQTTPASS)

-- setup Last Will and Testament (optional)
-- Broker will publish a messa</message>
</record>
<record>
  <date>2016-11-11T03:53:51</date>
  <millis>1478807631510</millis>
  <sequence>8050</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>323</thread>
  <message>recv:&gt;</message>
</record>
<record>
  <date>2016-11-11T03:53:51</date>
  <millis>1478807631512</millis>
  <sequence>8051</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>323</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T03:53:51</date>
  <millis>1478807631530</millis>
  <sequence>8052</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ge with qos = 0, retain = 0, data = "offline" 
-- to topic "/lwt" if client don't send keepalive packet
m:lwt("/lwt", "offline", 0, 0)

m:on("connect", function(client) print ("connected") end)
m:on("offline", function(client) print ("offline") end)

-- </message>
</record>
<record>
  <date>2016-11-11T03:53:51</date>
  <millis>1478807631561</millis>
  <sequence>8053</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>323</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:53:51</date>
  <millis>1478807631579</millis>
  <sequence>8054</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:on publish message receive event
m:on("message", function(conn, topic, data)
  print(topic.. " event registered" )
  if topic == "Light1" then
    if data == "ON" then
        print("received message: ON @ light1")
        gpio.write(gpio6, gpio.HIGH)
  </message>
</record>
<record>
  <date>2016-11-11T03:53:51</date>
  <millis>1478807631611</millis>
  <sequence>8055</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>323</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:53:51</date>
  <millis>1478807631629</millis>
  <sequence>8056</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:  end
    if data == "OFF" then
        print("received message: OFF @ light1")
        gpio.write(gpio6, gpio.LOW)
    end
    
  end
    
  if topic == "Light2" then
    if data == "ON" then
        print("received message: ON @ light2")
        gpio.w</message>
</record>
<record>
  <date>2016-11-11T03:53:51</date>
  <millis>1478807631660</millis>
  <sequence>8057</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>323</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:53:51</date>
  <millis>1478807631673</millis>
  <sequence>8058</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:rite(gpio7, gpio.HIGH)
    end
    if data == "OFF" then
        print("received message: OFF @ light2")
        gpio.write(gpio7, gpio.LOW)
    end
    
  end
     
end)

-- send0/publish chip ID

m:connect("m11.cloudmqtt.com", 19311, 0, function(conn)
</message>
</record>
<record>
  <date>2016-11-11T03:53:51</date>
  <millis>1478807631705</millis>
  <sequence>8059</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>323</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:53:51</date>
  <millis>1478807631719</millis>
  <sequence>8060</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:
    print("connected")
    print("Your ID: " ..node.chipid())
    -- subscribe both topic


--, function(client, reason) print("failed reason: "..reason) 

    m:subscribe({["Light1"]=0, ["Light2"]=0}, function(conn) 
        print("subscribe Light 1 an</message>
</record>
<record>
  <date>2016-11-11T03:53:51</date>
  <millis>1478807631751</millis>
  <sequence>8061</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>323</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:53:51</date>
  <millis>1478807631768</millis>
  <sequence>8062</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:d 2 success")
    end)
            
    m:publish("ID is: ", node.chipid(),0,0, function(conn) 
        print("sent ID") 
    end)

end, function(client, reason) print("failed reason: "..reason) end)
</message>
</record>
<record>
  <date>2016-11-11T03:53:51</date>
  <millis>1478807631795</millis>
  <sequence>8063</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>323</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:53:51</date>
  <millis>1478807631820</millis>
  <sequence>8064</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_cmd_close</message>
</record>
<record>
  <date>2016-11-11T03:53:51</date>
  <millis>1478807631833</millis>
  <sequence>8065</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>323</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;-</message>
</record>
<record>
  <date>2016-11-11T03:53:51</date>
  <millis>1478807631835</millis>
  <sequence>8066</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>323</thread>
  <message>recv:-Done--&lt;CR&gt;&lt;LF&gt;&gt; &lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:53:51</date>
  <millis>1478807631863</millis>
  <sequence>8067</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:53:51</date>
  <millis>1478807631865</millis>
  <sequence>8068</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>323</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;&gt;</message>
</record>
<record>
  <date>2016-11-11T03:53:51</date>
  <millis>1478807631867</millis>
  <sequence>8069</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>323</thread>
  <message>recv: &lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T03:53:51</date>
  <millis>1478807631918</millis>
  <sequence>8070</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:dofile("mqtt.lua")</message>
</record>
<record>
  <date>2016-11-11T03:53:51</date>
  <millis>1478807631919</millis>
  <sequence>8071</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>323</thread>
  <message>recv:do</message>
</record>
<record>
  <date>2016-11-11T03:53:51</date>
  <millis>1478807631922</millis>
  <sequence>8072</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>323</thread>
  <message>recv:file("mqtt.lua")&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:53:51</date>
  <millis>1478807631966</millis>
  <sequence>8073</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>323</thread>
  <message>recv:Ru</message>
</record>
<record>
  <date>2016-11-11T03:53:51</date>
  <millis>1478807631967</millis>
  <sequence>8074</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>323</thread>
  <message>recv:nning file mqtt&lt;CR&gt;</message>
</record>
<record>
  <date>2016-11-11T03:53:51</date>
  <millis>1478807631968</millis>
  <sequence>8075</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>323</thread>
  <message>recv:&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:53:52</date>
  <millis>1478807632085</millis>
  <sequence>8076</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>323</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:53:52</date>
  <millis>1478807632145</millis>
  <sequence>8077</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>323</thread>
  <message>Operation done. Duration = 1199 ms</message>
</record>
<record>
  <date>2016-11-11T03:53:53</date>
  <millis>1478807633311</millis>
  <sequence>8078</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>We save known file mqtt_config.lua</message>
</record>
<record>
  <date>2016-11-11T03:53:53</date>
  <millis>1478807633312</millis>
  <sequence>8079</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to saving file mqtt_config.lua ...</message>
</record>
<record>
  <date>2016-11-11T03:53:53</date>
  <millis>1478807633315</millis>
  <sequence>8080</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Save file mqtt_config.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T03:53:53</date>
  <millis>1478807633318</millis>
  <sequence>8081</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP: Try to save file to ESP...</message>
</record>
<record>
  <date>2016-11-11T03:53:53</date>
  <millis>1478807633322</millis>
  <sequence>8082</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Try to save file to ESP in Turbo Mode...</message>
</record>
<record>
  <date>2016-11-11T03:53:53</date>
  <millis>1478807633333</millis>
  <sequence>8083</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>DataTurboSender: start "Smart Mode"</message>
</record>
<record>
  <date>2016-11-11T03:53:53</date>
  <millis>1478807633335</millis>
  <sequence>8084</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Starting...</message>
</record>
<record>
  <date>2016-11-11T03:53:53</date>
  <millis>1478807633466</millis>
  <sequence>8085</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local FILE="mqtt_config.lua" file.remove(FILE) file.open(FILE,"w+") uart.setup(0,115200,8,0,1,0)</message>
</record>
<record>
  <date>2016-11-11T03:53:53</date>
  <millis>1478807633467</millis>
  <sequence>8086</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>325</thread>
  <message>recv:lo</message>
</record>
<record>
  <date>2016-11-11T03:53:53</date>
  <millis>1478807633472</millis>
  <sequence>8087</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>325</thread>
  <message>recv:cal FILE="mqtt_config.lua" file.remove(FILE) file.open(FI</message>
</record>
<record>
  <date>2016-11-11T03:53:53</date>
  <millis>1478807633474</millis>
  <sequence>8088</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>325</thread>
  <message>recv:LE,"w+") uart.</message>
</record>
<record>
  <date>2016-11-11T03:53:53</date>
  <millis>1478807633476</millis>
  <sequence>8089</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>325</thread>
  <message>recv:setup(0,115200,8,0,1,0)&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:53:53</date>
  <millis>1478807633746</millis>
  <sequence>8090</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>325</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:53:53</date>
  <millis>1478807633759</millis>
  <sequence>8091</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_Receiver=function(rcvBuf) if string.match(rcvBuf,"^ESP_cmd_close")==nil then file.write(string.gsub(rcvBuf, '\r', '')) uart.write(0, "&gt; ") else uart.on("data") </message>
</record>
<record>
  <date>2016-11-11T03:53:53</date>
  <millis>1478807633787</millis>
  <sequence>8092</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>325</thread>
  <message>recv:&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T03:53:53</date>
  <millis>1478807633801</millis>
  <sequence>8093</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:file.flush() file.close() FILE=nil rcvBuf=nil ESP_Receiver=nil uart.setup(0,115200,8,0,1,1) str="\r\n--Done--\r\n&gt; " print(str) str=nil collectgarbage() end end uart.on("data",'\r',ESP_Receiver,0)</message>
</record>
<record>
  <date>2016-11-11T03:53:53</date>
  <millis>1478807633843</millis>
  <sequence>8094</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>325</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:53:53</date>
  <millis>1478807633856</millis>
  <sequence>8095</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local M = {}

--M.SSID = {}

--M.SSID["myWifi"] = "12345679ABCDEF"

M.HOST = "m11.cloudmqtt.com"
M.PORT = 19311
M.MQTTUSER = "swqzxzhr"
M.MQTTPASS = "9JMcxVeUNz3t"

M.ENDPOINT = "nodemcu/"

return M  
</message>
</record>
<record>
  <date>2016-11-11T03:53:53</date>
  <millis>1478807633880</millis>
  <sequence>8096</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>325</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:53:53</date>
  <millis>1478807633897</millis>
  <sequence>8097</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_cmd_close</message>
</record>
<record>
  <date>2016-11-11T03:53:53</date>
  <millis>1478807633912</millis>
  <sequence>8098</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>325</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;--D</message>
</record>
<record>
  <date>2016-11-11T03:53:53</date>
  <millis>1478807633919</millis>
  <sequence>8099</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>325</thread>
  <message>recv:one--&lt;CR&gt;&lt;LF&gt;&gt; &lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:53:53</date>
  <millis>1478807633948</millis>
  <sequence>8100</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:53:53</date>
  <millis>1478807633949</millis>
  <sequence>8101</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>325</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:53:53</date>
  <millis>1478807633951</millis>
  <sequence>8102</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>325</thread>
  <message>recv:&gt; &lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T03:53:53</date>
  <millis>1478807633985</millis>
  <sequence>8103</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:dofile("mqtt_config.lua")</message>
</record>
<record>
  <date>2016-11-11T03:53:53</date>
  <millis>1478807633987</millis>
  <sequence>8104</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>325</thread>
  <message>recv:do</message>
</record>
<record>
  <date>2016-11-11T03:53:53</date>
  <millis>1478807633990</millis>
  <sequence>8105</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>325</thread>
  <message>recv:file("mqtt_config.lua")&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:53:54</date>
  <millis>1478807634014</millis>
  <sequence>8106</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>325</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:53:54</date>
  <millis>1478807634038</millis>
  <sequence>8107</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>325</thread>
  <message>Operation done. Duration = 711 ms</message>
</record>
<record>
  <date>2016-11-11T03:53:57</date>
  <millis>1478807637845</millis>
  <sequence>8108</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>We save known file mqtt_config.lua</message>
</record>
<record>
  <date>2016-11-11T03:53:57</date>
  <millis>1478807637846</millis>
  <sequence>8109</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to saving file mqtt_config.lua ...</message>
</record>
<record>
  <date>2016-11-11T03:53:57</date>
  <millis>1478807637848</millis>
  <sequence>8110</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Save file mqtt_config.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T03:53:57</date>
  <millis>1478807637850</millis>
  <sequence>8111</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP: Try to save file to ESP...</message>
</record>
<record>
  <date>2016-11-11T03:53:57</date>
  <millis>1478807637851</millis>
  <sequence>8112</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Try to save file to ESP in Turbo Mode...</message>
</record>
<record>
  <date>2016-11-11T03:53:57</date>
  <millis>1478807637859</millis>
  <sequence>8113</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>DataTurboSender: start "Smart Mode"</message>
</record>
<record>
  <date>2016-11-11T03:53:57</date>
  <millis>1478807637860</millis>
  <sequence>8114</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Starting...</message>
</record>
<record>
  <date>2016-11-11T03:53:57</date>
  <millis>1478807637986</millis>
  <sequence>8115</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local FILE="mqtt_config.lua" file.remove(FILE) file.open(FILE,"w+") uart.setup(0,115200,8,0,1,0)</message>
</record>
<record>
  <date>2016-11-11T03:53:57</date>
  <millis>1478807637988</millis>
  <sequence>8116</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>327</thread>
  <message>recv:lo</message>
</record>
<record>
  <date>2016-11-11T03:53:57</date>
  <millis>1478807637989</millis>
  <sequence>8117</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>327</thread>
  <message>recv:cal FILE="mqtt_</message>
</record>
<record>
  <date>2016-11-11T03:53:57</date>
  <millis>1478807637990</millis>
  <sequence>8118</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>327</thread>
  <message>recv:config.lua" </message>
</record>
<record>
  <date>2016-11-11T03:53:57</date>
  <millis>1478807637995</millis>
  <sequence>8119</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>327</thread>
  <message>recv:file.remove(FILE) file.open(FILE,"w+") uart.setup(0,115</message>
</record>
<record>
  <date>2016-11-11T03:53:57</date>
  <millis>1478807637996</millis>
  <sequence>8120</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>327</thread>
  <message>recv:200,8,0,1,0)&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:53:58</date>
  <millis>1478807638175</millis>
  <sequence>8121</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>327</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:53:58</date>
  <millis>1478807638188</millis>
  <sequence>8122</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_Receiver=function(rcvBuf) if string.match(rcvBuf,"^ESP_cmd_close")==nil then file.write(string.gsub(rcvBuf, '\r', '')) uart.write(0, "&gt; ") else uart.on("data") </message>
</record>
<record>
  <date>2016-11-11T03:53:58</date>
  <millis>1478807638215</millis>
  <sequence>8123</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>327</thread>
  <message>recv:&gt;&gt;</message>
</record>
<record>
  <date>2016-11-11T03:53:58</date>
  <millis>1478807638216</millis>
  <sequence>8124</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>327</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T03:53:58</date>
  <millis>1478807638234</millis>
  <sequence>8125</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:file.flush() file.close() FILE=nil rcvBuf=nil ESP_Receiver=nil uart.setup(0,115200,8,0,1,1) str="\r\n--Done--\r\n&gt; " print(str) str=nil collectgarbage() end end uart.on("data",'\r',ESP_Receiver,0)</message>
</record>
<record>
  <date>2016-11-11T03:53:58</date>
  <millis>1478807638276</millis>
  <sequence>8126</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>327</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:53:58</date>
  <millis>1478807638291</millis>
  <sequence>8127</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local M = {}

--M.SSID = {}

--M.SSID["myWifi"] = "12345679ABCDEF"

M.HOST = "m11.cloudmqtt.com"
M.PORT = 19311
M.MQTTUSER = "swqzxzhr"
M.MQTTPASS = "9JMcxVeUNz3ta"

M.ENDPOINT = "nodemcu/"

return M  
</message>
</record>
<record>
  <date>2016-11-11T03:53:58</date>
  <millis>1478807638320</millis>
  <sequence>8128</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>327</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:53:58</date>
  <millis>1478807638334</millis>
  <sequence>8129</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_cmd_close</message>
</record>
<record>
  <date>2016-11-11T03:53:58</date>
  <millis>1478807638347</millis>
  <sequence>8130</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>327</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:53:58</date>
  <millis>1478807638348</millis>
  <sequence>8131</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>327</thread>
  <message>recv:--Done--&lt;CR&gt;&lt;LF&gt;&gt; &lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:53:58</date>
  <millis>1478807638371</millis>
  <sequence>8132</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:53:58</date>
  <millis>1478807638372</millis>
  <sequence>8133</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>327</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:53:58</date>
  <millis>1478807638377</millis>
  <sequence>8134</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>327</thread>
  <message>recv:&gt; &lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T03:53:58</date>
  <millis>1478807638413</millis>
  <sequence>8135</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:dofile("mqtt_config.lua")</message>
</record>
<record>
  <date>2016-11-11T03:53:58</date>
  <millis>1478807638414</millis>
  <sequence>8136</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>327</thread>
  <message>recv:d</message>
</record>
<record>
  <date>2016-11-11T03:53:58</date>
  <millis>1478807638416</millis>
  <sequence>8137</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>327</thread>
  <message>recv:ofile("mqtt_confi</message>
</record>
<record>
  <date>2016-11-11T03:53:58</date>
  <millis>1478807638417</millis>
  <sequence>8138</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>327</thread>
  <message>recv:g.lua")&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:53:58</date>
  <millis>1478807638440</millis>
  <sequence>8139</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>327</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T03:53:58</date>
  <millis>1478807638491</millis>
  <sequence>8140</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>327</thread>
  <message>Operation done. Duration = 639 ms</message>
</record>
<record>
  <date>2016-11-11T03:54:06</date>
  <millis>1478807646393</millis>
  <sequence>8141</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:node.restart()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:54:06</date>
  <millis>1478807646396</millis>
  <sequence>8142</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with saved baud 115200...</message>
</record>
<record>
  <date>2016-11-11T03:54:06</date>
  <millis>1478807646457</millis>
  <sequence>8143</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success. Now we waiting for ESP reboot...</message>
</record>
<record>
  <date>2016-11-11T03:54:08</date>
  <millis>1478807648461</millis>
  <sequence>8144</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with baud 115200...</message>
</record>
<record>
  <date>2016-11-11T03:54:08</date>
  <millis>1478807648462</millis>
  <sequence>8145</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:print(uart.setup(0, 115200, 8, 0, 1, 1 ))&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:54:08</date>
  <millis>1478807648724</millis>
  <sequence>8146</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success.</message>
</record>
<record>
  <date>2016-11-11T03:54:08</date>
  <millis>1478807648844</millis>
  <sequence>8147</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T03:54:08</date>
  <millis>1478807648846</millis>
  <sequence>8148</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>328</thread>
  <message>
Communication with MCU established.</message>
</record>
<record>
  <date>2016-11-11T03:54:08</date>
  <millis>1478807648849</millis>
  <sequence>8149</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>328</thread>
  <message>sending:=node.heap()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T04:00:03</date>
  <millis>1478808003966</millis>
  <sequence>8150</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>File reload: File changed. Ask before reloading.</message>
</record>
<record>
  <date>2016-11-11T04:00:05</date>
  <millis>1478808005280</millis>
  <sequence>8151</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>File reload: Reload anyway by user choice.</message>
</record>
<record>
  <date>2016-11-11T04:00:05</date>
  <millis>1478808005281</millis>
  <sequence>8152</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to load file mqtt_config.lua</message>
</record>
<record>
  <date>2016-11-11T04:00:05</date>
  <millis>1478808005317</millis>
  <sequence>8153</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Loading mqtt_config.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T04:00:05</date>
  <millis>1478808005318</millis>
  <sequence>8154</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>File reload: Success.</message>
</record>
<record>
  <date>2016-11-11T04:00:08</date>
  <millis>1478808008798</millis>
  <sequence>8155</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>We save known file mqtt_config.lua</message>
</record>
<record>
  <date>2016-11-11T04:00:08</date>
  <millis>1478808008799</millis>
  <sequence>8156</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to saving file mqtt_config.lua ...</message>
</record>
<record>
  <date>2016-11-11T04:00:08</date>
  <millis>1478808008801</millis>
  <sequence>8157</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Save file mqtt_config.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T04:00:08</date>
  <millis>1478808008808</millis>
  <sequence>8158</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP: Try to save file to ESP...</message>
</record>
<record>
  <date>2016-11-11T04:00:08</date>
  <millis>1478808008811</millis>
  <sequence>8159</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Try to save file to ESP in Turbo Mode...</message>
</record>
<record>
  <date>2016-11-11T04:00:08</date>
  <millis>1478808008817</millis>
  <sequence>8160</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>DataTurboSender: start "Smart Mode"</message>
</record>
<record>
  <date>2016-11-11T04:00:08</date>
  <millis>1478808008817</millis>
  <sequence>8161</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Starting...</message>
</record>
<record>
  <date>2016-11-11T04:00:08</date>
  <millis>1478808008957</millis>
  <sequence>8162</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local FILE="mqtt_config.lua" file.remove(FILE) file.open(FILE,"w+") uart.setup(0,115200,8,0,1,0)</message>
</record>
<record>
  <date>2016-11-11T04:00:08</date>
  <millis>1478808008960</millis>
  <sequence>8163</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>329</thread>
  <message>recv:lo</message>
</record>
<record>
  <date>2016-11-11T04:00:08</date>
  <millis>1478808008961</millis>
  <sequence>8164</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>329</thread>
  <message>recv:cal FILE="mqtt_</message>
</record>
<record>
  <date>2016-11-11T04:00:08</date>
  <millis>1478808008964</millis>
  <sequence>8165</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>329</thread>
  <message>recv:config.lua" file.remove(FILE) file.open</message>
</record>
<record>
  <date>2016-11-11T04:00:08</date>
  <millis>1478808008966</millis>
  <sequence>8166</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>329</thread>
  <message>recv:(FILE,"w+") uar</message>
</record>
<record>
  <date>2016-11-11T04:00:08</date>
  <millis>1478808008968</millis>
  <sequence>8167</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>329</thread>
  <message>recv:t.setup(0,115200,8,0</message>
</record>
<record>
  <date>2016-11-11T04:00:08</date>
  <millis>1478808008971</millis>
  <sequence>8168</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>329</thread>
  <message>recv:,1,0)&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T04:00:09</date>
  <millis>1478808009155</millis>
  <sequence>8169</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>329</thread>
  <message>recv:&gt;</message>
</record>
<record>
  <date>2016-11-11T04:00:09</date>
  <millis>1478808009157</millis>
  <sequence>8170</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>329</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T04:00:09</date>
  <millis>1478808009178</millis>
  <sequence>8171</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_Receiver=function(rcvBuf) if string.match(rcvBuf,"^ESP_cmd_close")==nil then file.write(string.gsub(rcvBuf, '\r', '')) uart.write(0, "&gt; ") else uart.on("data") </message>
</record>
<record>
  <date>2016-11-11T04:00:09</date>
  <millis>1478808009206</millis>
  <sequence>8172</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>329</thread>
  <message>recv:&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T04:00:09</date>
  <millis>1478808009224</millis>
  <sequence>8173</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:file.flush() file.close() FILE=nil rcvBuf=nil ESP_Receiver=nil uart.setup(0,115200,8,0,1,1) str="\r\n--Done--\r\n&gt; " print(str) str=nil collectgarbage() end end uart.on("data",'\r',ESP_Receiver,0)</message>
</record>
<record>
  <date>2016-11-11T04:00:09</date>
  <millis>1478808009265</millis>
  <sequence>8174</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>329</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T04:00:09</date>
  <millis>1478808009280</millis>
  <sequence>8175</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local M = {}

--M.SSID = {}

--M.SSID["myWifi"] = "12345679ABCDEF"

M.HOST = "m11.cloudmqtt.com"
M.PORT = 19311
M.MQTTUSER = "ed"
M.MQTTPASS = "ed"

M.ENDPOINT = "nodemcu/"

return M  
</message>
</record>
<record>
  <date>2016-11-11T04:00:09</date>
  <millis>1478808009304</millis>
  <sequence>8176</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>329</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T04:00:09</date>
  <millis>1478808009323</millis>
  <sequence>8177</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_cmd_close</message>
</record>
<record>
  <date>2016-11-11T04:00:09</date>
  <millis>1478808009336</millis>
  <sequence>8178</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>329</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;-</message>
</record>
<record>
  <date>2016-11-11T04:00:09</date>
  <millis>1478808009341</millis>
  <sequence>8179</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>329</thread>
  <message>recv:-Done--&lt;CR&gt;&lt;LF&gt;&gt; &lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T04:00:09</date>
  <millis>1478808009374</millis>
  <sequence>8180</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T04:00:09</date>
  <millis>1478808009376</millis>
  <sequence>8181</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>329</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T04:00:09</date>
  <millis>1478808009378</millis>
  <sequence>8182</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>329</thread>
  <message>recv:&gt; &lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T04:00:09</date>
  <millis>1478808009406</millis>
  <sequence>8183</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:dofile("mqtt_config.lua")</message>
</record>
<record>
  <date>2016-11-11T04:00:09</date>
  <millis>1478808009408</millis>
  <sequence>8184</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>329</thread>
  <message>recv:do</message>
</record>
<record>
  <date>2016-11-11T04:00:09</date>
  <millis>1478808009411</millis>
  <sequence>8185</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>329</thread>
  <message>recv:f</message>
</record>
<record>
  <date>2016-11-11T04:00:09</date>
  <millis>1478808009413</millis>
  <sequence>8186</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>329</thread>
  <message>recv:ile("mqtt_config.lua")&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T04:00:09</date>
  <millis>1478808009434</millis>
  <sequence>8187</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>329</thread>
  <message>recv:&gt;</message>
</record>
<record>
  <date>2016-11-11T04:00:09</date>
  <millis>1478808009435</millis>
  <sequence>8188</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>329</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T04:00:09</date>
  <millis>1478808009452</millis>
  <sequence>8189</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>329</thread>
  <message>Operation done. Duration = 640 ms</message>
</record>
<record>
  <date>2016-11-11T04:00:11</date>
  <millis>1478808011268</millis>
  <sequence>8190</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:node.restart()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T04:00:11</date>
  <millis>1478808011275</millis>
  <sequence>8191</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with saved baud 115200...</message>
</record>
<record>
  <date>2016-11-11T04:00:11</date>
  <millis>1478808011337</millis>
  <sequence>8192</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success. Now we waiting for ESP reboot...</message>
</record>
<record>
  <date>2016-11-11T04:00:13</date>
  <millis>1478808013339</millis>
  <sequence>8193</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with baud 115200...</message>
</record>
<record>
  <date>2016-11-11T04:00:13</date>
  <millis>1478808013345</millis>
  <sequence>8194</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:print(uart.setup(0, 115200, 8, 0, 1, 1 ))&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T04:00:13</date>
  <millis>1478808013610</millis>
  <sequence>8195</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success.</message>
</record>
<record>
  <date>2016-11-11T04:00:13</date>
  <millis>1478808013656</millis>
  <sequence>8196</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T04:00:13</date>
  <millis>1478808013658</millis>
  <sequence>8197</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>330</thread>
  <message>
Communication with MCU established.</message>
</record>
<record>
  <date>2016-11-11T04:03:46</date>
  <millis>1478808226379</millis>
  <sequence>8198</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to load file mqtt_config.lua</message>
</record>
<record>
  <date>2016-11-11T04:03:46</date>
  <millis>1478808226406</millis>
  <sequence>8199</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Loading mqtt_config.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T04:03:46</date>
  <millis>1478808226407</millis>
  <sequence>8200</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>File reload: Success.</message>
</record>
<record>
  <date>2016-11-11T04:04:04</date>
  <millis>1478808244488</millis>
  <sequence>8201</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>We save known file mqtt_config.lua</message>
</record>
<record>
  <date>2016-11-11T04:04:04</date>
  <millis>1478808244489</millis>
  <sequence>8202</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to saving file mqtt_config.lua ...</message>
</record>
<record>
  <date>2016-11-11T04:04:04</date>
  <millis>1478808244492</millis>
  <sequence>8203</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Save file mqtt_config.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T04:04:04</date>
  <millis>1478808244518</millis>
  <sequence>8204</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP: Try to save file to ESP...</message>
</record>
<record>
  <date>2016-11-11T04:04:04</date>
  <millis>1478808244520</millis>
  <sequence>8205</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Try to save file to ESP in Turbo Mode...</message>
</record>
<record>
  <date>2016-11-11T04:04:04</date>
  <millis>1478808244526</millis>
  <sequence>8206</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>DataTurboSender: start "Smart Mode"</message>
</record>
<record>
  <date>2016-11-11T04:04:04</date>
  <millis>1478808244527</millis>
  <sequence>8207</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Starting...</message>
</record>
<record>
  <date>2016-11-11T04:04:04</date>
  <millis>1478808244654</millis>
  <sequence>8208</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local FILE="mqtt_config.lua" file.remove(FILE) file.open(FILE,"w+") uart.setup(0,115200,8,0,1,0)</message>
</record>
<record>
  <date>2016-11-11T04:04:04</date>
  <millis>1478808244656</millis>
  <sequence>8209</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>331</thread>
  <message>recv:lo</message>
</record>
<record>
  <date>2016-11-11T04:04:04</date>
  <millis>1478808244658</millis>
  <sequence>8210</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>331</thread>
  <message>recv:cal FILE="mqtt_config.</message>
</record>
<record>
  <date>2016-11-11T04:04:04</date>
  <millis>1478808244659</millis>
  <sequence>8211</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>331</thread>
  <message>recv:lua" file.rem</message>
</record>
<record>
  <date>2016-11-11T04:04:04</date>
  <millis>1478808244660</millis>
  <sequence>8212</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>331</thread>
  <message>recv:ove(FILE)</message>
</record>
<record>
  <date>2016-11-11T04:04:04</date>
  <millis>1478808244662</millis>
  <sequence>8213</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>331</thread>
  <message>recv: file.open(FILE,"w+</message>
</record>
<record>
  <date>2016-11-11T04:04:04</date>
  <millis>1478808244665</millis>
  <sequence>8214</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>331</thread>
  <message>recv:") uart.setup(0,115200,8,0,1,0)&lt;CR&gt;</message>
</record>
<record>
  <date>2016-11-11T04:04:04</date>
  <millis>1478808244667</millis>
  <sequence>8215</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>331</thread>
  <message>recv:&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T04:04:04</date>
  <millis>1478808244853</millis>
  <sequence>8216</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>331</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T04:04:04</date>
  <millis>1478808244869</millis>
  <sequence>8217</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_Receiver=function(rcvBuf) if string.match(rcvBuf,"^ESP_cmd_close")==nil then file.write(string.gsub(rcvBuf, '\r', '')) uart.write(0, "&gt; ") else uart.on("data") </message>
</record>
<record>
  <date>2016-11-11T04:04:04</date>
  <millis>1478808244897</millis>
  <sequence>8218</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>331</thread>
  <message>recv:&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T04:04:04</date>
  <millis>1478808244923</millis>
  <sequence>8219</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:file.flush() file.close() FILE=nil rcvBuf=nil ESP_Receiver=nil uart.setup(0,115200,8,0,1,1) str="\r\n--Done--\r\n&gt; " print(str) str=nil collectgarbage() end end uart.on("data",'\r',ESP_Receiver,0)</message>
</record>
<record>
  <date>2016-11-11T04:04:04</date>
  <millis>1478808244965</millis>
  <sequence>8220</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>331</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T04:04:04</date>
  <millis>1478808244977</millis>
  <sequence>8221</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local M = {}

--M.SSID = {}

--M.SSID["myWifi"] = "12345679ABCDEF"

M.HOST = "m11.cloudmqtt.com"
M.PORT = 19311
M.MQTTUSER = "swqzxzhr"
M.MQTTPASS = "9JMcxVeUNz3t"

M.ENDPOINT = "nodemcu/"

return M  
</message>
</record>
<record>
  <date>2016-11-11T04:04:05</date>
  <millis>1478808245001</millis>
  <sequence>8222</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>331</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T04:04:05</date>
  <millis>1478808245018</millis>
  <sequence>8223</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_cmd_close</message>
</record>
<record>
  <date>2016-11-11T04:04:05</date>
  <millis>1478808245031</millis>
  <sequence>8224</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>331</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;-</message>
</record>
<record>
  <date>2016-11-11T04:04:05</date>
  <millis>1478808245033</millis>
  <sequence>8225</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>331</thread>
  <message>recv:-Done--&lt;CR&gt;&lt;LF&gt;&gt; &lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T04:04:05</date>
  <millis>1478808245059</millis>
  <sequence>8226</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T04:04:05</date>
  <millis>1478808245060</millis>
  <sequence>8227</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>331</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T04:04:05</date>
  <millis>1478808245062</millis>
  <sequence>8228</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>331</thread>
  <message>recv:&gt; &lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T04:04:05</date>
  <millis>1478808245097</millis>
  <sequence>8229</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:dofile("mqtt_config.lua")</message>
</record>
<record>
  <date>2016-11-11T04:04:05</date>
  <millis>1478808245099</millis>
  <sequence>8230</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>331</thread>
  <message>recv:do</message>
</record>
<record>
  <date>2016-11-11T04:04:05</date>
  <millis>1478808245102</millis>
  <sequence>8231</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>331</thread>
  <message>recv:file("mqtt_config.lua")&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T04:04:05</date>
  <millis>1478808245125</millis>
  <sequence>8232</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>331</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T04:04:05</date>
  <millis>1478808245174</millis>
  <sequence>8233</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>331</thread>
  <message>Operation done. Duration = 653 ms</message>
</record>
<record>
  <date>2016-11-11T04:04:07</date>
  <millis>1478808247838</millis>
  <sequence>8234</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:node.restart()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T04:04:07</date>
  <millis>1478808247840</millis>
  <sequence>8235</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with saved baud 115200...</message>
</record>
<record>
  <date>2016-11-11T04:04:07</date>
  <millis>1478808247903</millis>
  <sequence>8236</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success. Now we waiting for ESP reboot...</message>
</record>
<record>
  <date>2016-11-11T04:04:09</date>
  <millis>1478808249905</millis>
  <sequence>8237</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with baud 115200...</message>
</record>
<record>
  <date>2016-11-11T04:04:09</date>
  <millis>1478808249907</millis>
  <sequence>8238</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:print(uart.setup(0, 115200, 8, 0, 1, 1 ))&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T04:04:10</date>
  <millis>1478808250172</millis>
  <sequence>8239</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success.</message>
</record>
<record>
  <date>2016-11-11T04:04:10</date>
  <millis>1478808250201</millis>
  <sequence>8240</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T04:04:10</date>
  <millis>1478808250203</millis>
  <sequence>8241</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>332</thread>
  <message>
Communication with MCU established.</message>
</record>
<record>
  <date>2016-11-11T04:04:40</date>
  <millis>1478808280241</millis>
  <sequence>8242</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>File reload: File changed. Ask before reloading.</message>
</record>
<record>
  <date>2016-11-11T04:04:41</date>
  <millis>1478808281341</millis>
  <sequence>8243</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>File reload: Reload anyway by user choice.</message>
</record>
<record>
  <date>2016-11-11T04:04:41</date>
  <millis>1478808281342</millis>
  <sequence>8244</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to load file mqtt.lua</message>
</record>
<record>
  <date>2016-11-11T04:04:41</date>
  <millis>1478808281373</millis>
  <sequence>8245</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Loading mqtt.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T04:04:41</date>
  <millis>1478808281377</millis>
  <sequence>8246</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>File reload: Success.</message>
</record>
<record>
  <date>2016-11-11T04:04:48</date>
  <millis>1478808288017</millis>
  <sequence>8247</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:node.restart()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T04:04:48</date>
  <millis>1478808288022</millis>
  <sequence>8248</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with saved baud 115200...</message>
</record>
<record>
  <date>2016-11-11T04:04:48</date>
  <millis>1478808288087</millis>
  <sequence>8249</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success. Now we waiting for ESP reboot...</message>
</record>
<record>
  <date>2016-11-11T04:04:50</date>
  <millis>1478808290089</millis>
  <sequence>8250</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with baud 115200...</message>
</record>
<record>
  <date>2016-11-11T04:04:50</date>
  <millis>1478808290091</millis>
  <sequence>8251</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:print(uart.setup(0, 115200, 8, 0, 1, 1 ))&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T04:04:50</date>
  <millis>1478808290353</millis>
  <sequence>8252</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success.</message>
</record>
<record>
  <date>2016-11-11T04:04:50</date>
  <millis>1478808290401</millis>
  <sequence>8253</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T04:04:50</date>
  <millis>1478808290404</millis>
  <sequence>8254</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>332</thread>
  <message>
Communication with MCU established.</message>
</record>
<record>
  <date>2016-11-11T04:04:50</date>
  <millis>1478808290408</millis>
  <sequence>8255</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>332</thread>
  <message>sending:=node.heap()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T04:05:48</date>
  <millis>1478808348246</millis>
  <sequence>8256</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to load file mqtt.lua</message>
</record>
<record>
  <date>2016-11-11T04:05:48</date>
  <millis>1478808348278</millis>
  <sequence>8257</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Loading mqtt.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T04:05:48</date>
  <millis>1478808348279</millis>
  <sequence>8258</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>File reload: Success.</message>
</record>
<record>
  <date>2016-11-11T04:05:49</date>
  <millis>1478808349485</millis>
  <sequence>8259</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>We save known file mqtt.lua</message>
</record>
<record>
  <date>2016-11-11T04:05:49</date>
  <millis>1478808349485</millis>
  <sequence>8260</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to saving file mqtt.lua ...</message>
</record>
<record>
  <date>2016-11-11T04:05:49</date>
  <millis>1478808349487</millis>
  <sequence>8261</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Save file mqtt.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T04:05:49</date>
  <millis>1478808349502</millis>
  <sequence>8262</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP: Try to save file to ESP...</message>
</record>
<record>
  <date>2016-11-11T04:05:49</date>
  <millis>1478808349503</millis>
  <sequence>8263</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Try to save file to ESP in Turbo Mode...</message>
</record>
<record>
  <date>2016-11-11T04:05:49</date>
  <millis>1478808349510</millis>
  <sequence>8264</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>DataTurboSender: start "Smart Mode"</message>
</record>
<record>
  <date>2016-11-11T04:05:49</date>
  <millis>1478808349512</millis>
  <sequence>8265</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Starting...</message>
</record>
<record>
  <date>2016-11-11T04:05:49</date>
  <millis>1478808349647</millis>
  <sequence>8266</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local FILE="mqtt.lua" file.remove(FILE) file.open(FILE,"w+") uart.setup(0,115200,8,0,1,0)</message>
</record>
<record>
  <date>2016-11-11T04:05:49</date>
  <millis>1478808349649</millis>
  <sequence>8267</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>333</thread>
  <message>recv:lo</message>
</record>
<record>
  <date>2016-11-11T04:05:49</date>
  <millis>1478808349651</millis>
  <sequence>8268</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>333</thread>
  <message>recv:cal FILE="mqtt.lua" file.re</message>
</record>
<record>
  <date>2016-11-11T04:05:49</date>
  <millis>1478808349654</millis>
  <sequence>8269</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>333</thread>
  <message>recv:move(FILE) file.open(FILE,"w+") uart.</message>
</record>
<record>
  <date>2016-11-11T04:05:49</date>
  <millis>1478808349657</millis>
  <sequence>8270</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>333</thread>
  <message>recv:setup(0,115200,8,0,1,0)&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T04:05:49</date>
  <millis>1478808349937</millis>
  <sequence>8271</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>333</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T04:05:49</date>
  <millis>1478808349952</millis>
  <sequence>8272</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_Receiver=function(rcvBuf) if string.match(rcvBuf,"^ESP_cmd_close")==nil then file.write(string.gsub(rcvBuf, '\r', '')) uart.write(0, "&gt; ") else uart.on("data") </message>
</record>
<record>
  <date>2016-11-11T04:05:49</date>
  <millis>1478808349980</millis>
  <sequence>8273</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>333</thread>
  <message>recv:&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T04:05:49</date>
  <millis>1478808349997</millis>
  <sequence>8274</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:file.flush() file.close() FILE=nil rcvBuf=nil ESP_Receiver=nil uart.setup(0,115200,8,0,1,1) str="\r\n--Done--\r\n&gt; " print(str) str=nil collectgarbage() end end uart.on("data",'\r',ESP_Receiver,0)</message>
</record>
<record>
  <date>2016-11-11T04:05:50</date>
  <millis>1478808350039</millis>
  <sequence>8275</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>333</thread>
  <message>recv:&gt;</message>
</record>
<record>
  <date>2016-11-11T04:05:50</date>
  <millis>1478808350040</millis>
  <sequence>8276</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>333</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T04:05:50</date>
  <millis>1478808350058</millis>
  <sequence>8277</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:control = require "control"

mconf = require "mqtt_config"

print("Running file mqtt")
tmr.delay(100000)

control.status_LED(2000)

gpio6 = 6
gpio.mode(gpio6, gpio.OUTPUT)
gpio.write(gpio6, gpio.LOW)

gpio7 = 7
gpio.mode(gpio7, gpio.OUTPUT)
gpio.write(gp</message>
</record>
<record>
  <date>2016-11-11T04:05:50</date>
  <millis>1478808350087</millis>
  <sequence>8278</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>333</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T04:05:50</date>
  <millis>1478808350100</millis>
  <sequence>8279</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:io7, gpio.LOW)

--print (mconf.MQTTPASS)

-- init mqtt client with keepalive timer 120sec
m = mqtt.Client(mconf.ENDPOINT, 120, mconf.MQTTUSER, mconf.MQTTPASS)

-- setup Last Will and Testament (optional)
-- Broker will publish a message with qos = 0, ret</message>
</record>
<record>
  <date>2016-11-11T04:05:50</date>
  <millis>1478808350132</millis>
  <sequence>8280</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>333</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T04:05:50</date>
  <millis>1478808350144</millis>
  <sequence>8281</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ain = 0, data = "offline" 
-- to topic "/lwt" if client don't send keepalive packet
m:lwt("/lwt", "offline", 0, 0)

-- on / connect and offline event
m:on("connect", function(client) print ("device connected") end)
m:on("offline", function(client) print </message>
</record>
<record>
  <date>2016-11-11T04:05:50</date>
  <millis>1478808350176</millis>
  <sequence>8282</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>333</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T04:05:50</date>
  <millis>1478808350188</millis>
  <sequence>8283</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:("device offline") end)

-- on / message event
m:on("message", function(conn, topic, data)
  print(topic.. " event registered" )
  if topic == "Light1" then
    if data == "ON" then
        print("received message: ON @ light1")
        gpio.write(gpio6,</message>
</record>
<record>
  <date>2016-11-11T04:05:50</date>
  <millis>1478808350220</millis>
  <sequence>8284</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>333</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T04:05:50</date>
  <millis>1478808350232</millis>
  <sequence>8285</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending: gpio.HIGH)
    end
    if data == "OFF" then
        print("received message: OFF @ light1")
        gpio.write(gpio6, gpio.LOW)
    end
    
  end
    
  if topic == "Light2" then
    if data == "ON" then
        print("received message: ON @ light2")
</message>
</record>
<record>
  <date>2016-11-11T04:05:50</date>
  <millis>1478808350263</millis>
  <sequence>8286</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>333</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T04:05:50</date>
  <millis>1478808350280</millis>
  <sequence>8287</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:        gpio.write(gpio7, gpio.HIGH)
    end
    if data == "OFF" then
        print("received message: OFF @ light2")
        gpio.write(gpio7, gpio.LOW)
    end
    
  end
     
end)

-- send0/publish chip ID

m:connect("m11.cloudmqtt.com", 19311, 0, f</message>
</record>
<record>
  <date>2016-11-11T04:05:50</date>
  <millis>1478808350312</millis>
  <sequence>8288</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>333</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T04:05:50</date>
  <millis>1478808350331</millis>
  <sequence>8289</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:unction(conn)

    print("connected")
    print("Your ID: " ..node.chipid())
    -- subscribe both topic


--, function(client, reason) print("failed reason: "..reason) 

    m:subscribe({["Light1"]=0, ["Light2"]=0}, function(conn) 
        print("subscr</message>
</record>
<record>
  <date>2016-11-11T04:05:50</date>
  <millis>1478808350362</millis>
  <sequence>8290</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>333</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T04:05:50</date>
  <millis>1478808350379</millis>
  <sequence>8291</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ibe Light 1 and 2 success")
    end)
            
    m:publish("ID is: ", node.chipid(),0,0, function(conn) 
        print("sent ID") 
    end)

end, function(client, reason) print("failed reason: "..reason) end)
</message>
</record>
<record>
  <date>2016-11-11T04:05:50</date>
  <millis>1478808350406</millis>
  <sequence>8292</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>333</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T04:05:50</date>
  <millis>1478808350418</millis>
  <sequence>8293</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_cmd_close</message>
</record>
<record>
  <date>2016-11-11T04:05:50</date>
  <millis>1478808350432</millis>
  <sequence>8294</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>333</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;--</message>
</record>
<record>
  <date>2016-11-11T04:05:50</date>
  <millis>1478808350433</millis>
  <sequence>8295</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>333</thread>
  <message>recv:Done--&lt;CR&gt;&lt;LF&gt;&gt; &lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T04:05:50</date>
  <millis>1478808350456</millis>
  <sequence>8296</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T04:05:50</date>
  <millis>1478808350458</millis>
  <sequence>8297</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>333</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T04:05:50</date>
  <millis>1478808350460</millis>
  <sequence>8298</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>333</thread>
  <message>recv:&gt; &lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T04:05:50</date>
  <millis>1478808350495</millis>
  <sequence>8299</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:dofile("mqtt.lua")</message>
</record>
<record>
  <date>2016-11-11T04:05:50</date>
  <millis>1478808350497</millis>
  <sequence>8300</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>333</thread>
  <message>recv:do</message>
</record>
<record>
  <date>2016-11-11T04:05:50</date>
  <millis>1478808350499</millis>
  <sequence>8301</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>333</thread>
  <message>recv:file("mqtt.lua")&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T04:05:50</date>
  <millis>1478808350546</millis>
  <sequence>8302</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>333</thread>
  <message>recv:Run</message>
</record>
<record>
  <date>2016-11-11T04:05:50</date>
  <millis>1478808350547</millis>
  <sequence>8303</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>333</thread>
  <message>recv:ning file mqtt&lt;CR&gt;</message>
</record>
<record>
  <date>2016-11-11T04:05:50</date>
  <millis>1478808350549</millis>
  <sequence>8304</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>333</thread>
  <message>recv:&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T04:05:50</date>
  <millis>1478808350664</millis>
  <sequence>8305</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>333</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T04:05:50</date>
  <millis>1478808350719</millis>
  <sequence>8306</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>333</thread>
  <message>Operation done. Duration = 1215 ms</message>
</record>
<record>
  <date>2016-11-11T04:05:51</date>
  <millis>1478808351384</millis>
  <sequence>8307</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:node.restart()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T04:05:51</date>
  <millis>1478808351386</millis>
  <sequence>8308</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with saved baud 115200...</message>
</record>
<record>
  <date>2016-11-11T04:05:51</date>
  <millis>1478808351448</millis>
  <sequence>8309</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success. Now we waiting for ESP reboot...</message>
</record>
<record>
  <date>2016-11-11T04:05:53</date>
  <millis>1478808353450</millis>
  <sequence>8310</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with baud 115200...</message>
</record>
<record>
  <date>2016-11-11T04:05:53</date>
  <millis>1478808353453</millis>
  <sequence>8311</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:print(uart.setup(0, 115200, 8, 0, 1, 1 ))&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T04:05:53</date>
  <millis>1478808353718</millis>
  <sequence>8312</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success.</message>
</record>
<record>
  <date>2016-11-11T04:05:53</date>
  <millis>1478808353764</millis>
  <sequence>8313</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T04:05:53</date>
  <millis>1478808353766</millis>
  <sequence>8314</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>334</thread>
  <message>
Communication with MCU established.</message>
</record>
<record>
  <date>2016-11-11T04:05:53</date>
  <millis>1478808353768</millis>
  <sequence>8315</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>334</thread>
  <message>sending:=node.heap()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T04:08:16</date>
  <millis>1478808496512</millis>
  <sequence>8316</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>File reload: File changed. Ask before reloading.</message>
</record>
<record>
  <date>2016-11-11T04:08:18</date>
  <millis>1478808498104</millis>
  <sequence>8317</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>File reload: Reload anyway by user choice.</message>
</record>
<record>
  <date>2016-11-11T04:08:18</date>
  <millis>1478808498106</millis>
  <sequence>8318</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to load file mqtt_config.lua</message>
</record>
<record>
  <date>2016-11-11T04:08:18</date>
  <millis>1478808498135</millis>
  <sequence>8319</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Loading mqtt_config.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T04:08:18</date>
  <millis>1478808498136</millis>
  <sequence>8320</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>File reload: Success.</message>
</record>
<record>
  <date>2016-11-11T04:08:19</date>
  <millis>1478808499180</millis>
  <sequence>8321</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>We save known file mqtt_config.lua</message>
</record>
<record>
  <date>2016-11-11T04:08:19</date>
  <millis>1478808499181</millis>
  <sequence>8322</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to saving file mqtt_config.lua ...</message>
</record>
<record>
  <date>2016-11-11T04:08:19</date>
  <millis>1478808499182</millis>
  <sequence>8323</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Save file mqtt_config.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T04:08:19</date>
  <millis>1478808499194</millis>
  <sequence>8324</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP: Try to save file to ESP...</message>
</record>
<record>
  <date>2016-11-11T04:08:19</date>
  <millis>1478808499198</millis>
  <sequence>8325</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Try to save file to ESP in Turbo Mode...</message>
</record>
<record>
  <date>2016-11-11T04:08:19</date>
  <millis>1478808499204</millis>
  <sequence>8326</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>DataTurboSender: start "Smart Mode"</message>
</record>
<record>
  <date>2016-11-11T04:08:19</date>
  <millis>1478808499205</millis>
  <sequence>8327</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Starting...</message>
</record>
<record>
  <date>2016-11-11T04:08:19</date>
  <millis>1478808499353</millis>
  <sequence>8328</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local FILE="mqtt_config.lua" file.remove(FILE) file.open(FILE,"w+") uart.setup(0,115200,8,0,1,0)</message>
</record>
<record>
  <date>2016-11-11T04:08:19</date>
  <millis>1478808499355</millis>
  <sequence>8329</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>335</thread>
  <message>recv:loc</message>
</record>
<record>
  <date>2016-11-11T04:08:19</date>
  <millis>1478808499359</millis>
  <sequence>8330</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>335</thread>
  <message>recv:al FILE="mqtt_config.lua" file.remove(FILE) file</message>
</record>
<record>
  <date>2016-11-11T04:08:19</date>
  <millis>1478808499363</millis>
  <sequence>8331</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>335</thread>
  <message>recv:.open(FILE,"w+") uart.setup(0,115200</message>
</record>
<record>
  <date>2016-11-11T04:08:19</date>
  <millis>1478808499365</millis>
  <sequence>8332</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>335</thread>
  <message>recv:,8,0,1,0)&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T04:08:19</date>
  <millis>1478808499551</millis>
  <sequence>8333</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>335</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T04:08:19</date>
  <millis>1478808499564</millis>
  <sequence>8334</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_Receiver=function(rcvBuf) if string.match(rcvBuf,"^ESP_cmd_close")==nil then file.write(string.gsub(rcvBuf, '\r', '')) uart.write(0, "&gt; ") else uart.on("data") </message>
</record>
<record>
  <date>2016-11-11T04:08:19</date>
  <millis>1478808499593</millis>
  <sequence>8335</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>335</thread>
  <message>recv:&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T04:08:19</date>
  <millis>1478808499608</millis>
  <sequence>8336</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:file.flush() file.close() FILE=nil rcvBuf=nil ESP_Receiver=nil uart.setup(0,115200,8,0,1,1) str="\r\n--Done--\r\n&gt; " print(str) str=nil collectgarbage() end end uart.on("data",'\r',ESP_Receiver,0)</message>
</record>
<record>
  <date>2016-11-11T04:08:19</date>
  <millis>1478808499650</millis>
  <sequence>8337</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>335</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T04:08:19</date>
  <millis>1478808499662</millis>
  <sequence>8338</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local M = {}

--M.SSID = {}

--M.SSID["myWifi"] = "12345679ABCDEF"

M.HOST = "m13.cloudmqtt.com"
M.PORT = 14967
M.MQTTUSER = "jtpfneeq"
M.MQTTPASS = "4Og5kJ5WYQYT"

M.ENDPOINT = "nodemcu/"

return M  
</message>
</record>
<record>
  <date>2016-11-11T04:08:19</date>
  <millis>1478808499687</millis>
  <sequence>8339</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>335</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T04:08:19</date>
  <millis>1478808499703</millis>
  <sequence>8340</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_cmd_close</message>
</record>
<record>
  <date>2016-11-11T04:08:19</date>
  <millis>1478808499717</millis>
  <sequence>8341</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>335</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;-</message>
</record>
<record>
  <date>2016-11-11T04:08:19</date>
  <millis>1478808499719</millis>
  <sequence>8342</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>335</thread>
  <message>recv:-Done--&lt;CR&gt;&lt;LF&gt;&gt; &lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T04:08:19</date>
  <millis>1478808499743</millis>
  <sequence>8343</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T04:08:19</date>
  <millis>1478808499747</millis>
  <sequence>8344</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>335</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T04:08:19</date>
  <millis>1478808499750</millis>
  <sequence>8345</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>335</thread>
  <message>recv:&gt; &lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T04:08:19</date>
  <millis>1478808499782</millis>
  <sequence>8346</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:dofile("mqtt_config.lua")</message>
</record>
<record>
  <date>2016-11-11T04:08:19</date>
  <millis>1478808499784</millis>
  <sequence>8347</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>335</thread>
  <message>recv:do</message>
</record>
<record>
  <date>2016-11-11T04:08:19</date>
  <millis>1478808499788</millis>
  <sequence>8348</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>335</thread>
  <message>recv:file("mqtt_config.lua")&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T04:08:19</date>
  <millis>1478808499809</millis>
  <sequence>8349</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>335</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T04:08:19</date>
  <millis>1478808499861</millis>
  <sequence>8350</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>335</thread>
  <message>Operation done. Duration = 661 ms</message>
</record>
<record>
  <date>2016-11-11T04:08:21</date>
  <millis>1478808501527</millis>
  <sequence>8351</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:node.restart()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T04:08:21</date>
  <millis>1478808501530</millis>
  <sequence>8352</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with saved baud 115200...</message>
</record>
<record>
  <date>2016-11-11T04:08:21</date>
  <millis>1478808501593</millis>
  <sequence>8353</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success. Now we waiting for ESP reboot...</message>
</record>
<record>
  <date>2016-11-11T04:08:23</date>
  <millis>1478808503599</millis>
  <sequence>8354</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with baud 115200...</message>
</record>
<record>
  <date>2016-11-11T04:08:23</date>
  <millis>1478808503599</millis>
  <sequence>8355</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:print(uart.setup(0, 115200, 8, 0, 1, 1 ))&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T04:08:23</date>
  <millis>1478808503863</millis>
  <sequence>8356</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success.</message>
</record>
<record>
  <date>2016-11-11T04:08:23</date>
  <millis>1478808503916</millis>
  <sequence>8357</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T04:08:23</date>
  <millis>1478808503918</millis>
  <sequence>8358</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>336</thread>
  <message>
Communication with MCU established.</message>
</record>
<record>
  <date>2016-11-11T04:09:22</date>
  <millis>1478808562331</millis>
  <sequence>8359</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to load file mqtt.lua</message>
</record>
<record>
  <date>2016-11-11T04:09:22</date>
  <millis>1478808562342</millis>
  <sequence>8360</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Loading mqtt.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T04:09:22</date>
  <millis>1478808562342</millis>
  <sequence>8361</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>File reload: Success.</message>
</record>
<record>
  <date>2016-11-11T04:09:23</date>
  <millis>1478808563050</millis>
  <sequence>8362</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>We save known file mqtt.lua</message>
</record>
<record>
  <date>2016-11-11T04:09:23</date>
  <millis>1478808563051</millis>
  <sequence>8363</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to saving file mqtt.lua ...</message>
</record>
<record>
  <date>2016-11-11T04:09:23</date>
  <millis>1478808563053</millis>
  <sequence>8364</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Save file mqtt.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T04:09:23</date>
  <millis>1478808563057</millis>
  <sequence>8365</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP: Try to save file to ESP...</message>
</record>
<record>
  <date>2016-11-11T04:09:23</date>
  <millis>1478808563058</millis>
  <sequence>8366</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Try to save file to ESP in Turbo Mode...</message>
</record>
<record>
  <date>2016-11-11T04:09:23</date>
  <millis>1478808563065</millis>
  <sequence>8367</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>DataTurboSender: start "Smart Mode"</message>
</record>
<record>
  <date>2016-11-11T04:09:23</date>
  <millis>1478808563066</millis>
  <sequence>8368</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Starting...</message>
</record>
<record>
  <date>2016-11-11T04:09:23</date>
  <millis>1478808563198</millis>
  <sequence>8369</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local FILE="mqtt.lua" file.remove(FILE) file.open(FILE,"w+") uart.setup(0,115200,8,0,1,0)</message>
</record>
<record>
  <date>2016-11-11T04:09:23</date>
  <millis>1478808563199</millis>
  <sequence>8370</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>337</thread>
  <message>recv:l</message>
</record>
<record>
  <date>2016-11-11T04:09:23</date>
  <millis>1478808563201</millis>
  <sequence>8371</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>337</thread>
  <message>recv:ocal FILE="mqtt.lu</message>
</record>
<record>
  <date>2016-11-11T04:09:23</date>
  <millis>1478808563203</millis>
  <sequence>8372</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>337</thread>
  <message>recv:a" file.remove(FILE) fi</message>
</record>
<record>
  <date>2016-11-11T04:09:23</date>
  <millis>1478808563205</millis>
  <sequence>8373</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>337</thread>
  <message>recv:le.open(FILE,"w+") u</message>
</record>
<record>
  <date>2016-11-11T04:09:23</date>
  <millis>1478808563205</millis>
  <sequence>8374</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>337</thread>
  <message>recv:art.setup(</message>
</record>
<record>
  <date>2016-11-11T04:09:23</date>
  <millis>1478808563207</millis>
  <sequence>8375</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>337</thread>
  <message>recv:0,115200,8,</message>
</record>
<record>
  <date>2016-11-11T04:09:23</date>
  <millis>1478808563208</millis>
  <sequence>8376</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>337</thread>
  <message>recv:0,1,0)&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T04:09:23</date>
  <millis>1478808563488</millis>
  <sequence>8377</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>337</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T04:09:23</date>
  <millis>1478808563510</millis>
  <sequence>8378</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_Receiver=function(rcvBuf) if string.match(rcvBuf,"^ESP_cmd_close")==nil then file.write(string.gsub(rcvBuf, '\r', '')) uart.write(0, "&gt; ") else uart.on("data") </message>
</record>
<record>
  <date>2016-11-11T04:09:23</date>
  <millis>1478808563539</millis>
  <sequence>8379</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>337</thread>
  <message>recv:&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T04:09:23</date>
  <millis>1478808563557</millis>
  <sequence>8380</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:file.flush() file.close() FILE=nil rcvBuf=nil ESP_Receiver=nil uart.setup(0,115200,8,0,1,1) str="\r\n--Done--\r\n&gt; " print(str) str=nil collectgarbage() end end uart.on("data",'\r',ESP_Receiver,0)</message>
</record>
<record>
  <date>2016-11-11T04:09:23</date>
  <millis>1478808563597</millis>
  <sequence>8381</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>337</thread>
  <message>recv:&gt;</message>
</record>
<record>
  <date>2016-11-11T04:09:23</date>
  <millis>1478808563598</millis>
  <sequence>8382</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>337</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T04:09:23</date>
  <millis>1478808563616</millis>
  <sequence>8383</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:control = require "control"

mconf = require "mqtt_config"

print("Running file mqtt")
tmr.delay(100000)

control.status_LED(2000)

gpio6 = 6
gpio.mode(gpio6, gpio.OUTPUT)
gpio.write(gpio6, gpio.LOW)

gpio7 = 7
gpio.mode(gpio7, gpio.OUTPUT)
gpio.write(gp</message>
</record>
<record>
  <date>2016-11-11T04:09:23</date>
  <millis>1478808563646</millis>
  <sequence>8384</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>337</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T04:09:23</date>
  <millis>1478808563664</millis>
  <sequence>8385</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:io7, gpio.LOW)

--print (mconf.MQTTPASS)

-- init mqtt client with keepalive timer 120sec
m = mqtt.Client(mconf.ENDPOINT, 120, mconf.MQTTUSER, mconf.MQTTPASS)

-- setup Last Will and Testament (optional)
-- Broker will publish a message with qos = 0, ret</message>
</record>
<record>
  <date>2016-11-11T04:09:23</date>
  <millis>1478808563695</millis>
  <sequence>8386</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>337</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T04:09:23</date>
  <millis>1478808563712</millis>
  <sequence>8387</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ain = 0, data = "offline" 
-- to topic "/lwt" if client don't send keepalive packet
m:lwt("/lwt", "offline", 0, 0)

-- on / connect and offline event
m:on("connect", function(client) print ("device connected") end)
m:on("offline", function(client) print </message>
</record>
<record>
  <date>2016-11-11T04:09:23</date>
  <millis>1478808563744</millis>
  <sequence>8388</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>337</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T04:09:23</date>
  <millis>1478808563761</millis>
  <sequence>8389</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:("device offline") end)

-- on / message event
m:on("message", function(conn, topic, data)
  print(topic.. " event registered" )
  if topic == "Light1" then
    if data == "ON" then
        print("received message: ON @ light1")
        gpio.write(gpio6,</message>
</record>
<record>
  <date>2016-11-11T04:09:23</date>
  <millis>1478808563792</millis>
  <sequence>8390</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>337</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T04:09:23</date>
  <millis>1478808563805</millis>
  <sequence>8391</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending: gpio.HIGH)
    end
    if data == "OFF" then
        print("received message: OFF @ light1")
        gpio.write(gpio6, gpio.LOW)
    end
    
  end
    
  if topic == "Light2" then
    if data == "ON" then
        print("received message: ON @ light2")
</message>
</record>
<record>
  <date>2016-11-11T04:09:23</date>
  <millis>1478808563838</millis>
  <sequence>8392</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>337</thread>
  <message>recv:&gt;</message>
</record>
<record>
  <date>2016-11-11T04:09:23</date>
  <millis>1478808563839</millis>
  <sequence>8393</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>337</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T04:09:23</date>
  <millis>1478808563858</millis>
  <sequence>8394</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:        gpio.write(gpio7, gpio.HIGH)
    end
    if data == "OFF" then
        print("received message: OFF @ light2")
        gpio.write(gpio7, gpio.LOW)
    end
    
  end
     
end)

-- send0/publish chip ID

m:connect(mconf.HOST, mconf.PORT, 0, funct</message>
</record>
<record>
  <date>2016-11-11T04:09:23</date>
  <millis>1478808563889</millis>
  <sequence>8395</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>337</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T04:09:23</date>
  <millis>1478808563906</millis>
  <sequence>8396</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ion(conn)

    print("connected")
    print("Your ID: " ..node.chipid())
    -- subscribe both topic


--, function(client, reason) print("failed reason: "..reason) 

    m:subscribe({["Light1"]=0, ["Light2"]=0}, function(conn) 
        print("subscribe </message>
</record>
<record>
  <date>2016-11-11T04:09:23</date>
  <millis>1478808563938</millis>
  <sequence>8397</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>337</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T04:09:23</date>
  <millis>1478808563957</millis>
  <sequence>8398</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:Light 1 and 2 success")
    end)
            
    m:publish("ID is: ", node.chipid(),0,0, function(conn) 
        print("sent ID") 
    end)

end, function(client, reason) print("failed reason: "..reason) end)
</message>
</record>
<record>
  <date>2016-11-11T04:09:23</date>
  <millis>1478808563984</millis>
  <sequence>8399</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>337</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T04:09:23</date>
  <millis>1478808563999</millis>
  <sequence>8400</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_cmd_close</message>
</record>
<record>
  <date>2016-11-11T04:09:24</date>
  <millis>1478808564011</millis>
  <sequence>8401</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>337</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T04:09:24</date>
  <millis>1478808564012</millis>
  <sequence>8402</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>337</thread>
  <message>recv:--Done--&lt;CR&gt;&lt;LF&gt;&gt; &lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T04:09:24</date>
  <millis>1478808564035</millis>
  <sequence>8403</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T04:09:24</date>
  <millis>1478808564037</millis>
  <sequence>8404</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>337</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T04:09:24</date>
  <millis>1478808564040</millis>
  <sequence>8405</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>337</thread>
  <message>recv:&gt; &lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T04:09:24</date>
  <millis>1478808564074</millis>
  <sequence>8406</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:dofile("mqtt.lua")</message>
</record>
<record>
  <date>2016-11-11T04:09:24</date>
  <millis>1478808564075</millis>
  <sequence>8407</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>337</thread>
  <message>recv:d</message>
</record>
<record>
  <date>2016-11-11T04:09:24</date>
  <millis>1478808564077</millis>
  <sequence>8408</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>337</thread>
  <message>recv:ofile("mqtt.lua")&lt;CR&gt;</message>
</record>
<record>
  <date>2016-11-11T04:09:24</date>
  <millis>1478808564078</millis>
  <sequence>8409</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>337</thread>
  <message>recv:&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T04:09:24</date>
  <millis>1478808564123</millis>
  <sequence>8410</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>337</thread>
  <message>recv:R</message>
</record>
<record>
  <date>2016-11-11T04:09:24</date>
  <millis>1478808564125</millis>
  <sequence>8411</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>337</thread>
  <message>recv:unning file mqt</message>
</record>
<record>
  <date>2016-11-11T04:09:24</date>
  <millis>1478808564126</millis>
  <sequence>8412</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>337</thread>
  <message>recv:t&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T04:09:24</date>
  <millis>1478808564243</millis>
  <sequence>8413</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>337</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T04:09:24</date>
  <millis>1478808564294</millis>
  <sequence>8414</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>337</thread>
  <message>Operation done. Duration = 1235 ms</message>
</record>
<record>
  <date>2016-11-11T04:09:33</date>
  <millis>1478808573816</millis>
  <sequence>8415</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:node.restart()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T04:09:33</date>
  <millis>1478808573819</millis>
  <sequence>8416</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with saved baud 115200...</message>
</record>
<record>
  <date>2016-11-11T04:09:33</date>
  <millis>1478808573883</millis>
  <sequence>8417</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success. Now we waiting for ESP reboot...</message>
</record>
<record>
  <date>2016-11-11T04:09:35</date>
  <millis>1478808575885</millis>
  <sequence>8418</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with baud 115200...</message>
</record>
<record>
  <date>2016-11-11T04:09:35</date>
  <millis>1478808575887</millis>
  <sequence>8419</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:print(uart.setup(0, 115200, 8, 0, 1, 1 ))&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T04:09:36</date>
  <millis>1478808576152</millis>
  <sequence>8420</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success.</message>
</record>
<record>
  <date>2016-11-11T04:09:36</date>
  <millis>1478808576193</millis>
  <sequence>8421</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T04:09:36</date>
  <millis>1478808576196</millis>
  <sequence>8422</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>338</thread>
  <message>
Communication with MCU established.</message>
</record>
<record>
  <date>2016-11-11T04:09:36</date>
  <millis>1478808576198</millis>
  <sequence>8423</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>338</thread>
  <message>sending:=node.heap()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T04:10:13</date>
  <millis>1478808613981</millis>
  <sequence>8424</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:node.restart()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T04:10:13</date>
  <millis>1478808613985</millis>
  <sequence>8425</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with saved baud 115200...</message>
</record>
<record>
  <date>2016-11-11T04:10:14</date>
  <millis>1478808614047</millis>
  <sequence>8426</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success. Now we waiting for ESP reboot...</message>
</record>
<record>
  <date>2016-11-11T04:10:16</date>
  <millis>1478808616049</millis>
  <sequence>8427</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with baud 115200...</message>
</record>
<record>
  <date>2016-11-11T04:10:16</date>
  <millis>1478808616054</millis>
  <sequence>8428</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:print(uart.setup(0, 115200, 8, 0, 1, 1 ))&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T04:10:16</date>
  <millis>1478808616315</millis>
  <sequence>8429</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success.</message>
</record>
<record>
  <date>2016-11-11T04:10:16</date>
  <millis>1478808616366</millis>
  <sequence>8430</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T04:10:16</date>
  <millis>1478808616369</millis>
  <sequence>8431</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>338</thread>
  <message>
Communication with MCU established.</message>
</record>
<record>
  <date>2016-11-11T04:10:16</date>
  <millis>1478808616403</millis>
  <sequence>8432</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>338</thread>
  <message>sending:=node.heap()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T04:10:34</date>
  <millis>1478808634139</millis>
  <sequence>8433</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:=adc.read(0)&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T04:10:34</date>
  <millis>1478808634269</millis>
  <sequence>8434</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:node.restart()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T04:10:34</date>
  <millis>1478808634270</millis>
  <sequence>8435</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with saved baud 115200...</message>
</record>
<record>
  <date>2016-11-11T04:10:34</date>
  <millis>1478808634332</millis>
  <sequence>8436</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success. Now we waiting for ESP reboot...</message>
</record>
<record>
  <date>2016-11-11T04:10:36</date>
  <millis>1478808636334</millis>
  <sequence>8437</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with baud 115200...</message>
</record>
<record>
  <date>2016-11-11T04:10:36</date>
  <millis>1478808636335</millis>
  <sequence>8438</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:print(uart.setup(0, 115200, 8, 0, 1, 1 ))&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T04:10:36</date>
  <millis>1478808636597</millis>
  <sequence>8439</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success.</message>
</record>
<record>
  <date>2016-11-11T04:10:36</date>
  <millis>1478808636640</millis>
  <sequence>8440</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T04:10:36</date>
  <millis>1478808636642</millis>
  <sequence>8441</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>338</thread>
  <message>
Communication with MCU established.</message>
</record>
<record>
  <date>2016-11-11T04:10:36</date>
  <millis>1478808636646</millis>
  <sequence>8442</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>338</thread>
  <message>sending:=node.heap()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T04:10:36</date>
  <millis>1478808636817</millis>
  <sequence>8443</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:=adc.read(0)&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T04:10:39</date>
  <millis>1478808639800</millis>
  <sequence>8444</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:=adc.read(0)&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T04:11:05</date>
  <millis>1478808665998</millis>
  <sequence>8445</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:node.restart()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T04:11:05</date>
  <millis>1478808665999</millis>
  <sequence>8446</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with saved baud 115200...</message>
</record>
<record>
  <date>2016-11-11T04:11:06</date>
  <millis>1478808666063</millis>
  <sequence>8447</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success. Now we waiting for ESP reboot...</message>
</record>
<record>
  <date>2016-11-11T04:11:08</date>
  <millis>1478808668065</millis>
  <sequence>8448</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with baud 115200...</message>
</record>
<record>
  <date>2016-11-11T04:11:08</date>
  <millis>1478808668069</millis>
  <sequence>8449</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:print(uart.setup(0, 115200, 8, 0, 1, 1 ))&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T04:11:08</date>
  <millis>1478808668333</millis>
  <sequence>8450</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success.</message>
</record>
<record>
  <date>2016-11-11T04:11:08</date>
  <millis>1478808668363</millis>
  <sequence>8451</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T04:11:08</date>
  <millis>1478808668367</millis>
  <sequence>8452</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>338</thread>
  <message>
Communication with MCU established.</message>
</record>
<record>
  <date>2016-11-11T04:11:57</date>
  <millis>1478808717537</millis>
  <sequence>8453</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>We save known file mqtt.lua</message>
</record>
<record>
  <date>2016-11-11T04:11:57</date>
  <millis>1478808717539</millis>
  <sequence>8454</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to saving file mqtt.lua ...</message>
</record>
<record>
  <date>2016-11-11T04:11:57</date>
  <millis>1478808717542</millis>
  <sequence>8455</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Save file mqtt.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T04:11:57</date>
  <millis>1478808717554</millis>
  <sequence>8456</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP: Try to save file to ESP...</message>
</record>
<record>
  <date>2016-11-11T04:11:57</date>
  <millis>1478808717560</millis>
  <sequence>8457</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Try to save file to ESP in Turbo Mode...</message>
</record>
<record>
  <date>2016-11-11T04:11:57</date>
  <millis>1478808717565</millis>
  <sequence>8458</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>DataTurboSender: start "Smart Mode"</message>
</record>
<record>
  <date>2016-11-11T04:11:57</date>
  <millis>1478808717566</millis>
  <sequence>8459</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Starting...</message>
</record>
<record>
  <date>2016-11-11T04:11:57</date>
  <millis>1478808717696</millis>
  <sequence>8460</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local FILE="mqtt.lua" file.remove(FILE) file.open(FILE,"w+") uart.setup(0,115200,8,0,1,0)</message>
</record>
<record>
  <date>2016-11-11T04:11:57</date>
  <millis>1478808717698</millis>
  <sequence>8461</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>339</thread>
  <message>recv:l</message>
</record>
<record>
  <date>2016-11-11T04:11:57</date>
  <millis>1478808717699</millis>
  <sequence>8462</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>339</thread>
  <message>recv:ocal FILE="mqtt.l</message>
</record>
<record>
  <date>2016-11-11T04:11:57</date>
  <millis>1478808717700</millis>
  <sequence>8463</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>339</thread>
  <message>recv:ua" file.rem</message>
</record>
<record>
  <date>2016-11-11T04:11:57</date>
  <millis>1478808717702</millis>
  <sequence>8464</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>339</thread>
  <message>recv:ove(FILE) file.open(FIL</message>
</record>
<record>
  <date>2016-11-11T04:11:57</date>
  <millis>1478808717705</millis>
  <sequence>8465</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>339</thread>
  <message>recv:E,"w+") uart.setup(0,115200,8</message>
</record>
<record>
  <date>2016-11-11T04:11:57</date>
  <millis>1478808717706</millis>
  <sequence>8466</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>339</thread>
  <message>recv:,0,1,</message>
</record>
<record>
  <date>2016-11-11T04:11:57</date>
  <millis>1478808717710</millis>
  <sequence>8467</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>339</thread>
  <message>recv:0)&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T04:11:57</date>
  <millis>1478808717896</millis>
  <sequence>8468</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>339</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T04:11:57</date>
  <millis>1478808717912</millis>
  <sequence>8469</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_Receiver=function(rcvBuf) if string.match(rcvBuf,"^ESP_cmd_close")==nil then file.write(string.gsub(rcvBuf, '\r', '')) uart.write(0, "&gt; ") else uart.on("data") </message>
</record>
<record>
  <date>2016-11-11T04:11:57</date>
  <millis>1478808717940</millis>
  <sequence>8470</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>339</thread>
  <message>recv:&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T04:11:57</date>
  <millis>1478808717958</millis>
  <sequence>8471</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:file.flush() file.close() FILE=nil rcvBuf=nil ESP_Receiver=nil uart.setup(0,115200,8,0,1,1) str="\r\n--Done--\r\n&gt; " print(str) str=nil collectgarbage() end end uart.on("data",'\r',ESP_Receiver,0)</message>
</record>
<record>
  <date>2016-11-11T04:11:57</date>
  <millis>1478808717998</millis>
  <sequence>8472</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>339</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T04:11:58</date>
  <millis>1478808718011</millis>
  <sequence>8473</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:control = require "control"

mconf = require "mqtt_config"

print("Running file mqtt")
tmr.delay(100000)

control.status_LED(2000)

gpio6 = 6
gpio.mode(gpio6, gpio.OUTPUT)
gpio.write(gpio6, gpio.LOW)

gpio7 = 7
gpio.mode(gpio7, gpio.OUTPUT)
gpio.write(gp</message>
</record>
<record>
  <date>2016-11-11T04:11:58</date>
  <millis>1478808718040</millis>
  <sequence>8474</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>339</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T04:11:58</date>
  <millis>1478808718054</millis>
  <sequence>8475</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:io7, gpio.LOW)

--print (mconf.MQTTPASS)

-- init mqtt client with keepalive timer 120sec
m = mqtt.Client(mconf.ENDPOINT, 120, mconf.MQTTUSER, mconf.MQTTPASS)

-- setup Last Will and Testament (optional)
-- Broker will publish a message with qos = 0, ret</message>
</record>
<record>
  <date>2016-11-11T04:11:58</date>
  <millis>1478808718086</millis>
  <sequence>8476</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>339</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T04:11:58</date>
  <millis>1478808718105</millis>
  <sequence>8477</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ain = 0, data = "offline" 
-- to topic "/lwt" if client don't send keepalive packet
m:lwt("/lwt", "offline", 0, 0)

-- on / connect and offline event
m:on("connect", function(client) print ("device connected") end)
m:on("offline", function(client) print </message>
</record>
<record>
  <date>2016-11-11T04:11:58</date>
  <millis>1478808718138</millis>
  <sequence>8478</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>339</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T04:11:58</date>
  <millis>1478808718155</millis>
  <sequence>8479</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:("device offline") end)

-- on / message event
m:on("message", function(conn, topic, data)
  print(topic.. " event registered" )
  if topic == "Light1" then
    if data == "ON" then
        print("received message: ON @ light1")
        gpio.write(gpio6,</message>
</record>
<record>
  <date>2016-11-11T04:11:58</date>
  <millis>1478808718186</millis>
  <sequence>8480</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>339</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T04:11:58</date>
  <millis>1478808718199</millis>
  <sequence>8481</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending: gpio.HIGH)
    end
    if data == "OFF" then
        print("received message: OFF @ light1")
        gpio.write(gpio6, gpio.LOW)
    end
    
  end
    
  if topic == "Light2" then
    if data == "ON" then
        print("received message: ON @ light2")
</message>
</record>
<record>
  <date>2016-11-11T04:11:58</date>
  <millis>1478808718230</millis>
  <sequence>8482</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>339</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T04:11:58</date>
  <millis>1478808718243</millis>
  <sequence>8483</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:        gpio.write(gpio7, gpio.HIGH)
    end
    if data == "OFF" then
        print("received message: OFF @ light2")
        gpio.write(gpio7, gpio.LOW)
    end
    
  end
     
end)

-- send0/publish chip ID

m:connect(mconf.HOST, mconf.PORT, 0, funct</message>
</record>
<record>
  <date>2016-11-11T04:11:58</date>
  <millis>1478808718275</millis>
  <sequence>8484</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>339</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T04:11:58</date>
  <millis>1478808718291</millis>
  <sequence>8485</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ion(conn)

    print("connected")
    print("Your ID: " ..node.chipid())
    -- subscribe both topic

    m:subscribe({["Light1"]=0, ["Light2"]=0}, function(conn) 
        print("subscribe Light 1 and 2 success")
    end)
            
    m:publish("ID i</message>
</record>
<record>
  <date>2016-11-11T04:11:58</date>
  <millis>1478808718322</millis>
  <sequence>8486</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>339</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T04:11:58</date>
  <millis>1478808718340</millis>
  <sequence>8487</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:s: ", node.chipid(),0,0, function(conn) 
        print("sent ID") 
    end)

end, function(client, reason) print("failed reason: "..reason) end)
</message>
</record>
<record>
  <date>2016-11-11T04:11:58</date>
  <millis>1478808718363</millis>
  <sequence>8488</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>339</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T04:11:58</date>
  <millis>1478808718379</millis>
  <sequence>8489</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_cmd_close</message>
</record>
<record>
  <date>2016-11-11T04:11:58</date>
  <millis>1478808718391</millis>
  <sequence>8490</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>339</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;--</message>
</record>
<record>
  <date>2016-11-11T04:11:58</date>
  <millis>1478808718393</millis>
  <sequence>8491</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>339</thread>
  <message>recv:Done--&lt;CR&gt;&lt;LF&gt;&gt; &lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T04:11:58</date>
  <millis>1478808718414</millis>
  <sequence>8492</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T04:11:58</date>
  <millis>1478808718416</millis>
  <sequence>8493</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>339</thread>
  <message>recv:&lt;CR&gt;</message>
</record>
<record>
  <date>2016-11-11T04:11:58</date>
  <millis>1478808718417</millis>
  <sequence>8494</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>339</thread>
  <message>recv:&lt;LF&gt;&gt; &lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T04:11:58</date>
  <millis>1478808718458</millis>
  <sequence>8495</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:dofile("mqtt.lua")</message>
</record>
<record>
  <date>2016-11-11T04:11:58</date>
  <millis>1478808718461</millis>
  <sequence>8496</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>339</thread>
  <message>recv:dof</message>
</record>
<record>
  <date>2016-11-11T04:11:58</date>
  <millis>1478808718463</millis>
  <sequence>8497</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>339</thread>
  <message>recv:ile("mqtt.lua")&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T04:11:58</date>
  <millis>1478808718509</millis>
  <sequence>8498</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>339</thread>
  <message>recv:Run</message>
</record>
<record>
  <date>2016-11-11T04:11:58</date>
  <millis>1478808718511</millis>
  <sequence>8499</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>339</thread>
  <message>recv:ning file mqtt&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T04:11:58</date>
  <millis>1478808718628</millis>
  <sequence>8500</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>339</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T04:11:58</date>
  <millis>1478808718665</millis>
  <sequence>8501</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>339</thread>
  <message>Operation done. Duration = 1105 ms</message>
</record>
<record>
  <date>2016-11-11T04:13:03</date>
  <millis>1478808783915</millis>
  <sequence>8502</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>We save known file mqtt.lua</message>
</record>
<record>
  <date>2016-11-11T04:13:03</date>
  <millis>1478808783917</millis>
  <sequence>8503</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to saving file mqtt.lua ...</message>
</record>
<record>
  <date>2016-11-11T04:13:03</date>
  <millis>1478808783927</millis>
  <sequence>8504</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Save file mqtt.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T04:13:03</date>
  <millis>1478808783944</millis>
  <sequence>8505</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP: Try to save file to ESP...</message>
</record>
<record>
  <date>2016-11-11T04:13:03</date>
  <millis>1478808783947</millis>
  <sequence>8506</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Try to save file to ESP in Turbo Mode...</message>
</record>
<record>
  <date>2016-11-11T04:13:03</date>
  <millis>1478808783955</millis>
  <sequence>8507</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>DataTurboSender: start "Smart Mode"</message>
</record>
<record>
  <date>2016-11-11T04:13:03</date>
  <millis>1478808783956</millis>
  <sequence>8508</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Starting...</message>
</record>
<record>
  <date>2016-11-11T04:13:04</date>
  <millis>1478808784083</millis>
  <sequence>8509</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local FILE="mqtt.lua" file.remove(FILE) file.open(FILE,"w+") uart.setup(0,115200,8,0,1,0)</message>
</record>
<record>
  <date>2016-11-11T04:13:04</date>
  <millis>1478808784085</millis>
  <sequence>8510</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>341</thread>
  <message>recv:loc</message>
</record>
<record>
  <date>2016-11-11T04:13:04</date>
  <millis>1478808784088</millis>
  <sequence>8511</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>341</thread>
  <message>recv:al FILE="mqtt.lua" file.remove</message>
</record>
<record>
  <date>2016-11-11T04:13:04</date>
  <millis>1478808784089</millis>
  <sequence>8512</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>341</thread>
  <message>recv:(FILE) file</message>
</record>
<record>
  <date>2016-11-11T04:13:04</date>
  <millis>1478808784090</millis>
  <sequence>8513</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>341</thread>
  <message>recv:.open(FIL</message>
</record>
<record>
  <date>2016-11-11T04:13:04</date>
  <millis>1478808784090</millis>
  <sequence>8514</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>341</thread>
  <message>recv:E,"w+") u</message>
</record>
<record>
  <date>2016-11-11T04:13:04</date>
  <millis>1478808784091</millis>
  <sequence>8515</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>341</thread>
  <message>recv:art.setu</message>
</record>
<record>
  <date>2016-11-11T04:13:04</date>
  <millis>1478808784092</millis>
  <sequence>8516</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>341</thread>
  <message>recv:p(0,1152</message>
</record>
<record>
  <date>2016-11-11T04:13:04</date>
  <millis>1478808784093</millis>
  <sequence>8517</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>341</thread>
  <message>recv:00,8,0,1,</message>
</record>
<record>
  <date>2016-11-11T04:13:04</date>
  <millis>1478808784095</millis>
  <sequence>8518</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>341</thread>
  <message>recv:0)&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T04:13:04</date>
  <millis>1478808784273</millis>
  <sequence>8519</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>341</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T04:13:04</date>
  <millis>1478808784287</millis>
  <sequence>8520</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_Receiver=function(rcvBuf) if string.match(rcvBuf,"^ESP_cmd_close")==nil then file.write(string.gsub(rcvBuf, '\r', '')) uart.write(0, "&gt; ") else uart.on("data") </message>
</record>
<record>
  <date>2016-11-11T04:13:04</date>
  <millis>1478808784314</millis>
  <sequence>8521</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>341</thread>
  <message>recv:&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T04:13:04</date>
  <millis>1478808784332</millis>
  <sequence>8522</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:file.flush() file.close() FILE=nil rcvBuf=nil ESP_Receiver=nil uart.setup(0,115200,8,0,1,1) str="\r\n--Done--\r\n&gt; " print(str) str=nil collectgarbage() end end uart.on("data",'\r',ESP_Receiver,0)</message>
</record>
<record>
  <date>2016-11-11T04:13:04</date>
  <millis>1478808784372</millis>
  <sequence>8523</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>341</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T04:13:04</date>
  <millis>1478808784386</millis>
  <sequence>8524</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:control = require "control"

mconf = require "mqtt_config"

print("Running file mqtt")
tmr.delay(100000)

control.status_LED(2000)

gpio6 = 6
gpio.mode(gpio6, gpio.OUTPUT)
gpio.write(gpio6, gpio.LOW)

gpio7 = 7
gpio.mode(gpio7, gpio.OUTPUT)
gpio.write(gp</message>
</record>
<record>
  <date>2016-11-11T04:13:04</date>
  <millis>1478808784415</millis>
  <sequence>8525</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>341</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T04:13:04</date>
  <millis>1478808784427</millis>
  <sequence>8526</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:io7, gpio.LOW)

--print (mconf.MQTTPASS)

-- init mqtt client with keepalive timer 120sec
m = mqtt.Client(mconf.ENDPOINT, 120, mconf.MQTTUSER, mconf.MQTTPASS)

-- setup Last Will and Testament (optional)
-- Broker will publish a message with qos = 0, ret</message>
</record>
<record>
  <date>2016-11-11T04:13:04</date>
  <millis>1478808784459</millis>
  <sequence>8527</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>341</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T04:13:04</date>
  <millis>1478808784472</millis>
  <sequence>8528</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ain = 0, data = "offline" 
-- to topic "/lwt" if client don't send keepalive packet
m:lwt("/lwt", "offline", 0, 0)

-- on / connect and offline event
m:on("connect", function(client) print ("device connected event") end)
m:on("offline", function(client) </message>
</record>
<record>
  <date>2016-11-11T04:13:04</date>
  <millis>1478808784504</millis>
  <sequence>8529</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>341</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T04:13:04</date>
  <millis>1478808784517</millis>
  <sequence>8530</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:print ("device offline event") end)

-- on / message event
m:on("message", function(conn, topic, data)
  print(topic.. " event registered" )
  if topic == "Light1" then
    if data == "ON" then
        print("received message: ON @ light1")
        gpio.</message>
</record>
<record>
  <date>2016-11-11T04:13:04</date>
  <millis>1478808784548</millis>
  <sequence>8531</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>341</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T04:13:04</date>
  <millis>1478808784565</millis>
  <sequence>8532</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:write(gpio6, gpio.HIGH)
    end
    if data == "OFF" then
        print("received message: OFF @ light1")
        gpio.write(gpio6, gpio.LOW)
    end
    
  end
    
  if topic == "Light2" then
    if data == "ON" then
        print("received message: ON</message>
</record>
<record>
  <date>2016-11-11T04:13:04</date>
  <millis>1478808784598</millis>
  <sequence>8533</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>341</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T04:13:04</date>
  <millis>1478808784615</millis>
  <sequence>8534</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending: @ light2")
        gpio.write(gpio7, gpio.HIGH)
    end
    if data == "OFF" then
        print("received message: OFF @ light2")
        gpio.write(gpio7, gpio.LOW)
    end
    
  end
     
end)

-- send0/publish chip ID

m:connect(mconf.HOST, mconf.PO</message>
</record>
<record>
  <date>2016-11-11T04:13:04</date>
  <millis>1478808784646</millis>
  <sequence>8535</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>341</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T04:13:04</date>
  <millis>1478808784663</millis>
  <sequence>8536</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:RT, 0, function(conn)

    print("connected")
    print("Your ID: " ..node.chipid())
    -- subscribe both topic

    m:subscribe({["Light1"]=0, ["Light2"]=0}, function(conn) 
        print("subscribe Light 1 and 2 success")
    end)
            
    m:p</message>
</record>
<record>
  <date>2016-11-11T04:13:04</date>
  <millis>1478808784695</millis>
  <sequence>8537</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>341</thread>
  <message>recv:&gt;</message>
</record>
<record>
  <date>2016-11-11T04:13:04</date>
  <millis>1478808784696</millis>
  <sequence>8538</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>341</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T04:13:04</date>
  <millis>1478808784715</millis>
  <sequence>8539</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ublish("ID is: ", node.chipid(),0,0, function(conn) 
        print("sent ID") 
    end)

end, function(client, reason) print("failed reason: "..reason) end)
</message>
</record>
<record>
  <date>2016-11-11T04:13:04</date>
  <millis>1478808784737</millis>
  <sequence>8540</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>341</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T04:13:04</date>
  <millis>1478808784750</millis>
  <sequence>8541</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_cmd_close</message>
</record>
<record>
  <date>2016-11-11T04:13:04</date>
  <millis>1478808784763</millis>
  <sequence>8542</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>341</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;-</message>
</record>
<record>
  <date>2016-11-11T04:13:04</date>
  <millis>1478808784764</millis>
  <sequence>8543</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>341</thread>
  <message>recv:-Done--&lt;CR&gt;&lt;LF&gt;&gt; &lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T04:13:04</date>
  <millis>1478808784786</millis>
  <sequence>8544</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T04:13:04</date>
  <millis>1478808784787</millis>
  <sequence>8545</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>341</thread>
  <message>recv:&lt;CR&gt;</message>
</record>
<record>
  <date>2016-11-11T04:13:04</date>
  <millis>1478808784789</millis>
  <sequence>8546</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>341</thread>
  <message>recv:&lt;LF&gt;&gt; &lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T04:13:04</date>
  <millis>1478808784825</millis>
  <sequence>8547</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:dofile("mqtt.lua")</message>
</record>
<record>
  <date>2016-11-11T04:13:04</date>
  <millis>1478808784827</millis>
  <sequence>8548</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>341</thread>
  <message>recv:d</message>
</record>
<record>
  <date>2016-11-11T04:13:04</date>
  <millis>1478808784829</millis>
  <sequence>8549</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>341</thread>
  <message>recv:ofile("mqtt.lua")&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T04:13:04</date>
  <millis>1478808784874</millis>
  <sequence>8550</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>341</thread>
  <message>recv:R</message>
</record>
<record>
  <date>2016-11-11T04:13:04</date>
  <millis>1478808784876</millis>
  <sequence>8551</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>341</thread>
  <message>recv:unning file mqtt&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T04:13:04</date>
  <millis>1478808784993</millis>
  <sequence>8552</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>341</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T04:13:05</date>
  <millis>1478808785015</millis>
  <sequence>8553</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>341</thread>
  <message>Operation done. Duration = 1066 ms</message>
</record>
<record>
  <date>2016-11-11T04:13:10</date>
  <millis>1478808790009</millis>
  <sequence>8554</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:node.restart()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T04:13:10</date>
  <millis>1478808790013</millis>
  <sequence>8555</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with saved baud 115200...</message>
</record>
<record>
  <date>2016-11-11T04:13:10</date>
  <millis>1478808790074</millis>
  <sequence>8556</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success. Now we waiting for ESP reboot...</message>
</record>
<record>
  <date>2016-11-11T04:13:12</date>
  <millis>1478808792090</millis>
  <sequence>8557</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with baud 115200...</message>
</record>
<record>
  <date>2016-11-11T04:13:12</date>
  <millis>1478808792092</millis>
  <sequence>8558</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:print(uart.setup(0, 115200, 8, 0, 1, 1 ))&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T04:13:12</date>
  <millis>1478808792354</millis>
  <sequence>8559</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success.</message>
</record>
<record>
  <date>2016-11-11T04:13:12</date>
  <millis>1478808792403</millis>
  <sequence>8560</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T04:13:12</date>
  <millis>1478808792404</millis>
  <sequence>8561</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>342</thread>
  <message>
Communication with MCU established.</message>
</record>
<record>
  <date>2016-11-11T04:13:59</date>
  <millis>1478808839834</millis>
  <sequence>8562</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>We save known file mqtt.lua</message>
</record>
<record>
  <date>2016-11-11T04:13:59</date>
  <millis>1478808839835</millis>
  <sequence>8563</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to saving file mqtt.lua ...</message>
</record>
<record>
  <date>2016-11-11T04:13:59</date>
  <millis>1478808839838</millis>
  <sequence>8564</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Save file mqtt.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T04:13:59</date>
  <millis>1478808839842</millis>
  <sequence>8565</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP: Try to save file to ESP...</message>
</record>
<record>
  <date>2016-11-11T04:13:59</date>
  <millis>1478808839845</millis>
  <sequence>8566</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Try to save file to ESP in Turbo Mode...</message>
</record>
<record>
  <date>2016-11-11T04:13:59</date>
  <millis>1478808839858</millis>
  <sequence>8567</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>DataTurboSender: start "Smart Mode"</message>
</record>
<record>
  <date>2016-11-11T04:13:59</date>
  <millis>1478808839864</millis>
  <sequence>8568</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Starting...</message>
</record>
<record>
  <date>2016-11-11T04:13:59</date>
  <millis>1478808839996</millis>
  <sequence>8569</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local FILE="mqtt.lua" file.remove(FILE) file.open(FILE,"w+") uart.setup(0,115200,8,0,1,0)</message>
</record>
<record>
  <date>2016-11-11T04:13:59</date>
  <millis>1478808839998</millis>
  <sequence>8570</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>343</thread>
  <message>recv:lo</message>
</record>
<record>
  <date>2016-11-11T04:13:59</date>
  <millis>1478808839999</millis>
  <sequence>8571</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>343</thread>
  <message>recv:cal FILE="mqtt.lua" </message>
</record>
<record>
  <date>2016-11-11T04:14:00</date>
  <millis>1478808840001</millis>
  <sequence>8572</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>343</thread>
  <message>recv:file.remove(FILE)</message>
</record>
<record>
  <date>2016-11-11T04:14:00</date>
  <millis>1478808840003</millis>
  <sequence>8573</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>343</thread>
  <message>recv: file.open(FILE,"w+") uart</message>
</record>
<record>
  <date>2016-11-11T04:14:00</date>
  <millis>1478808840013</millis>
  <sequence>8574</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>343</thread>
  <message>recv:.setup(0,115200,8,0,1,0)&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T04:14:00</date>
  <millis>1478808840196</millis>
  <sequence>8575</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>343</thread>
  <message>recv:&gt;</message>
</record>
<record>
  <date>2016-11-11T04:14:00</date>
  <millis>1478808840196</millis>
  <sequence>8576</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>343</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T04:14:00</date>
  <millis>1478808840215</millis>
  <sequence>8577</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_Receiver=function(rcvBuf) if string.match(rcvBuf,"^ESP_cmd_close")==nil then file.write(string.gsub(rcvBuf, '\r', '')) uart.write(0, "&gt; ") else uart.on("data") </message>
</record>
<record>
  <date>2016-11-11T04:14:00</date>
  <millis>1478808840243</millis>
  <sequence>8578</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>343</thread>
  <message>recv:&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T04:14:00</date>
  <millis>1478808840259</millis>
  <sequence>8579</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:file.flush() file.close() FILE=nil rcvBuf=nil ESP_Receiver=nil uart.setup(0,115200,8,0,1,1) str="\r\n--Done--\r\n&gt; " print(str) str=nil collectgarbage() end end uart.on("data",'\r',ESP_Receiver,0)</message>
</record>
<record>
  <date>2016-11-11T04:14:00</date>
  <millis>1478808840303</millis>
  <sequence>8580</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>343</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T04:14:00</date>
  <millis>1478808840319</millis>
  <sequence>8581</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:control = require "control"

mconf = require "mqtt_config"

print("Running file mqtt")
tmr.delay(100000)

control.status_LED(2000)

gpio6 = 6
gpio.mode(gpio6, gpio.OUTPUT)
gpio.write(gpio6, gpio.LOW)

gpio7 = 7
gpio.mode(gpio7, gpio.OUTPUT)
gpio.write(gp</message>
</record>
<record>
  <date>2016-11-11T04:14:00</date>
  <millis>1478808840348</millis>
  <sequence>8582</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>343</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T04:14:00</date>
  <millis>1478808840362</millis>
  <sequence>8583</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:io7, gpio.LOW)

--print (mconf.MQTTPASS)

-- init mqtt client with keepalive timer 120sec
m = mqtt.Client(mconf.ENDPOINT, 120, mconf.MQTTUSER, mconf.MQTTPASS)

-- setup Last Will and Testament (optional)
-- Broker will publish a message with qos = 0, ret</message>
</record>
<record>
  <date>2016-11-11T04:14:00</date>
  <millis>1478808840393</millis>
  <sequence>8584</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>343</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T04:14:00</date>
  <millis>1478808840408</millis>
  <sequence>8585</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ain = 0, data = "offline" 
-- to topic "/lwt" if client don't send keepalive packet
m:lwt("/lwt", "offline", 0, 0)

-- on / connect and offline event
m:on("connect", function(client) print ("device connected event") end)
m:on("offline", function(client) </message>
</record>
<record>
  <date>2016-11-11T04:14:00</date>
  <millis>1478808840440</millis>
  <sequence>8586</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>343</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T04:14:00</date>
  <millis>1478808840459</millis>
  <sequence>8587</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:print ("device offline event") end)

-- on / message event
m:on("message", function(conn, topic, data)
  print(topic.. " event registered" )
  if topic == "Light1" then
    if data == "ON" then
        print("received message: ON @ light1")
        gpio.</message>
</record>
<record>
  <date>2016-11-11T04:14:00</date>
  <millis>1478808840492</millis>
  <sequence>8588</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>343</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T04:14:00</date>
  <millis>1478808840520</millis>
  <sequence>8589</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:write(gpio6, gpio.HIGH)
    end
    if data == "OFF" then
        print("received message: OFF @ light1")
        gpio.write(gpio6, gpio.LOW)
    end
    
  end
    
  if topic == "Light2" then
    if data == "ON" then
        print("received message: ON</message>
</record>
<record>
  <date>2016-11-11T04:14:00</date>
  <millis>1478808840552</millis>
  <sequence>8590</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>343</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T04:14:00</date>
  <millis>1478808840569</millis>
  <sequence>8591</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending: @ light2")
        gpio.write(gpio7, gpio.HIGH)
    end
    if data == "OFF" then
        print("received message: OFF @ light2")
        gpio.write(gpio7, gpio.LOW)
    end
    
  end
     
end)

-- send0/publish chip ID

m:connect(mconf.HOST, mconf.PO</message>
</record>
<record>
  <date>2016-11-11T04:14:00</date>
  <millis>1478808840602</millis>
  <sequence>8592</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>343</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T04:14:00</date>
  <millis>1478808840616</millis>
  <sequence>8593</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:RT, 0, function(conn)

    print("connected")
    print("Your ID: " ..node.chipid())
    -- subscribe both topic

    m:subscribe({["Light1"]=0, ["Light2"]=0}, function(conn) 
        print("subscribe Light 1 and 2 success")
    end)
            
    m:p</message>
</record>
<record>
  <date>2016-11-11T04:14:00</date>
  <millis>1478808840647</millis>
  <sequence>8594</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>343</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T04:14:00</date>
  <millis>1478808840664</millis>
  <sequence>8595</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ublish("ID is: ", node.chipid(),0,0, function(conn) 
        print("sent ID") 
    end)

end, function(client, reason) print("failed reason: "..reason) end)

m:publish("Read", adc.read(0),0,0, function(conn) 
        print("sent ID") 
    end)
</message>
</record>
<record>
  <date>2016-11-11T04:14:00</date>
  <millis>1478808840694</millis>
  <sequence>8596</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>343</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T04:14:00</date>
  <millis>1478808840706</millis>
  <sequence>8597</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_cmd_close</message>
</record>
<record>
  <date>2016-11-11T04:14:00</date>
  <millis>1478808840720</millis>
  <sequence>8598</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>343</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;--</message>
</record>
<record>
  <date>2016-11-11T04:14:00</date>
  <millis>1478808840721</millis>
  <sequence>8599</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>343</thread>
  <message>recv:Done--&lt;CR&gt;&lt;LF&gt;&gt; &lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T04:14:00</date>
  <millis>1478808840743</millis>
  <sequence>8600</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T04:14:00</date>
  <millis>1478808840744</millis>
  <sequence>8601</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>343</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T04:14:00</date>
  <millis>1478808840746</millis>
  <sequence>8602</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>343</thread>
  <message>recv:&gt; &lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T04:14:00</date>
  <millis>1478808840780</millis>
  <sequence>8603</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:dofile("mqtt.lua")</message>
</record>
<record>
  <date>2016-11-11T04:14:00</date>
  <millis>1478808840781</millis>
  <sequence>8604</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>343</thread>
  <message>recv:do</message>
</record>
<record>
  <date>2016-11-11T04:14:00</date>
  <millis>1478808840783</millis>
  <sequence>8605</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>343</thread>
  <message>recv:file("mqtt.lua")&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T04:14:00</date>
  <millis>1478808840832</millis>
  <sequence>8606</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>343</thread>
  <message>recv:Ru</message>
</record>
<record>
  <date>2016-11-11T04:14:00</date>
  <millis>1478808840834</millis>
  <sequence>8607</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>343</thread>
  <message>recv:nning file mqtt&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T04:14:01</date>
  <millis>1478808841028</millis>
  <sequence>8608</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>343</thread>
  <message>recv:mqtt.lua:79: not connected&lt;CR&gt;&lt;LF&gt;stack</message>
</record>
<record>
  <date>2016-11-11T04:14:01</date>
  <millis>1478808841033</millis>
  <sequence>8609</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>343</thread>
  <message>recv: traceback:&lt;CR&gt;&lt;LF&gt;	[C]: in function 'publish'&lt;CR&gt;&lt;LF&gt;	mqtt.lua:79: in main chunk&lt;CR&gt;&lt;LF&gt;	[C]: in function 'dofile'&lt;CR&gt;&lt;LF&gt;	stdin:1: in main chunk&lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T04:14:01</date>
  <millis>1478808841063</millis>
  <sequence>8610</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>343</thread>
  <message>Operation done. Duration = 1217 ms</message>
</record>
<record>
  <date>2016-11-11T04:14:57</date>
  <millis>1478808897965</millis>
  <sequence>8611</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>We save known file mqtt.lua</message>
</record>
<record>
  <date>2016-11-11T04:14:57</date>
  <millis>1478808897967</millis>
  <sequence>8612</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to saving file mqtt.lua ...</message>
</record>
<record>
  <date>2016-11-11T04:14:57</date>
  <millis>1478808897971</millis>
  <sequence>8613</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Save file mqtt.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T04:14:57</date>
  <millis>1478808897977</millis>
  <sequence>8614</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP: Try to save file to ESP...</message>
</record>
<record>
  <date>2016-11-11T04:14:57</date>
  <millis>1478808897982</millis>
  <sequence>8615</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Try to save file to ESP in Turbo Mode...</message>
</record>
<record>
  <date>2016-11-11T04:14:57</date>
  <millis>1478808897996</millis>
  <sequence>8616</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>DataTurboSender: start "Smart Mode"</message>
</record>
<record>
  <date>2016-11-11T04:14:57</date>
  <millis>1478808897997</millis>
  <sequence>8617</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Starting...</message>
</record>
<record>
  <date>2016-11-11T04:14:58</date>
  <millis>1478808898127</millis>
  <sequence>8618</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local FILE="mqtt.lua" file.remove(FILE) file.open(FILE,"w+") uart.setup(0,115200,8,0,1,0)</message>
</record>
<record>
  <date>2016-11-11T04:14:58</date>
  <millis>1478808898128</millis>
  <sequence>8619</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>345</thread>
  <message>recv:l</message>
</record>
<record>
  <date>2016-11-11T04:14:58</date>
  <millis>1478808898130</millis>
  <sequence>8620</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>345</thread>
  <message>recv:ocal FILE="mqtt.</message>
</record>
<record>
  <date>2016-11-11T04:14:58</date>
  <millis>1478808898134</millis>
  <sequence>8621</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>345</thread>
  <message>recv:lua" file.remove(FILE) file.open(FILE,"w+") </message>
</record>
<record>
  <date>2016-11-11T04:14:58</date>
  <millis>1478808898136</millis>
  <sequence>8622</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>345</thread>
  <message>recv:uar</message>
</record>
<record>
  <date>2016-11-11T04:14:58</date>
  <millis>1478808898137</millis>
  <sequence>8623</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>345</thread>
  <message>recv:t.setup(0,115200,8</message>
</record>
<record>
  <date>2016-11-11T04:14:58</date>
  <millis>1478808898141</millis>
  <sequence>8624</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>345</thread>
  <message>recv:,0,1,0)&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T04:14:58</date>
  <millis>1478808898316</millis>
  <sequence>8625</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>345</thread>
  <message>recv:&gt;</message>
</record>
<record>
  <date>2016-11-11T04:14:58</date>
  <millis>1478808898317</millis>
  <sequence>8626</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>345</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T04:14:58</date>
  <millis>1478808898334</millis>
  <sequence>8627</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_Receiver=function(rcvBuf) if string.match(rcvBuf,"^ESP_cmd_close")==nil then file.write(string.gsub(rcvBuf, '\r', '')) uart.write(0, "&gt; ") else uart.on("data") </message>
</record>
<record>
  <date>2016-11-11T04:14:58</date>
  <millis>1478808898362</millis>
  <sequence>8628</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>345</thread>
  <message>recv:&gt;</message>
</record>
<record>
  <date>2016-11-11T04:14:58</date>
  <millis>1478808898363</millis>
  <sequence>8629</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>345</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T04:14:58</date>
  <millis>1478808898382</millis>
  <sequence>8630</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:file.flush() file.close() FILE=nil rcvBuf=nil ESP_Receiver=nil uart.setup(0,115200,8,0,1,1) str="\r\n--Done--\r\n&gt; " print(str) str=nil collectgarbage() end end uart.on("data",'\r',ESP_Receiver,0)</message>
</record>
<record>
  <date>2016-11-11T04:14:58</date>
  <millis>1478808898421</millis>
  <sequence>8631</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>345</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T04:14:58</date>
  <millis>1478808898437</millis>
  <sequence>8632</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:control = require "control"

mconf = require "mqtt_config"

print("Running file mqtt")
tmr.delay(100000)

control.status_LED(2000)

gpio6 = 6
gpio.mode(gpio6, gpio.OUTPUT)
gpio.write(gpio6, gpio.LOW)

gpio7 = 7
gpio.mode(gpio7, gpio.OUTPUT)
gpio.write(gp</message>
</record>
<record>
  <date>2016-11-11T04:14:58</date>
  <millis>1478808898467</millis>
  <sequence>8633</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>345</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T04:14:58</date>
  <millis>1478808898479</millis>
  <sequence>8634</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:io7, gpio.LOW)

--print (mconf.MQTTPASS)

-- init mqtt client with keepalive timer 120sec
m = mqtt.Client(mconf.ENDPOINT, 120, mconf.MQTTUSER, mconf.MQTTPASS)

-- setup Last Will and Testament (optional)
-- Broker will publish a message with qos = 0, ret</message>
</record>
<record>
  <date>2016-11-11T04:14:58</date>
  <millis>1478808898511</millis>
  <sequence>8635</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>345</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T04:14:58</date>
  <millis>1478808898524</millis>
  <sequence>8636</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ain = 0, data = "offline" 
-- to topic "/lwt" if client don't send keepalive packet
m:lwt("/lwt", "offline", 0, 0)

-- on / connect and offline event
m:on("connect", function(client) print ("device connected event") end)
m:on("offline", function(client) </message>
</record>
<record>
  <date>2016-11-11T04:14:58</date>
  <millis>1478808898555</millis>
  <sequence>8637</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>345</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T04:14:58</date>
  <millis>1478808898571</millis>
  <sequence>8638</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:print ("device offline event") end)

-- on / message event
m:on("message", function(conn, topic, data)
  print(topic.. " event registered" )
  if topic == "Light1" then
    if data == "ON" then
        print("received message: ON @ light1")
        gpio.</message>
</record>
<record>
  <date>2016-11-11T04:14:58</date>
  <millis>1478808898603</millis>
  <sequence>8639</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>345</thread>
  <message>recv:&gt;</message>
</record>
<record>
  <date>2016-11-11T04:14:58</date>
  <millis>1478808898604</millis>
  <sequence>8640</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>345</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T04:14:58</date>
  <millis>1478808898621</millis>
  <sequence>8641</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:write(gpio6, gpio.HIGH)
    end
    if data == "OFF" then
        print("received message: OFF @ light1")
        gpio.write(gpio6, gpio.LOW)
    end
    
  end
    
  if topic == "Light2" then
    if data == "ON" then
        print("received message: ON</message>
</record>
<record>
  <date>2016-11-11T04:14:58</date>
  <millis>1478808898652</millis>
  <sequence>8642</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>345</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T04:14:58</date>
  <millis>1478808898668</millis>
  <sequence>8643</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending: @ light2")
        gpio.write(gpio7, gpio.HIGH)
    end
    if data == "OFF" then
        print("received message: OFF @ light2")
        gpio.write(gpio7, gpio.LOW)
    end
    
  end
     
end)

-- send0/publish chip ID

m:connect(mconf.HOST, mconf.PO</message>
</record>
<record>
  <date>2016-11-11T04:14:58</date>
  <millis>1478808898700</millis>
  <sequence>8644</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>345</thread>
  <message>recv:&gt;</message>
</record>
<record>
  <date>2016-11-11T04:14:58</date>
  <millis>1478808898701</millis>
  <sequence>8645</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>345</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T04:14:58</date>
  <millis>1478808898722</millis>
  <sequence>8646</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:RT, 0, function(conn)

    print("connected")
    print("Your ID: " ..node.chipid())
    -- subscribe both topic

    m:subscribe({["Light1"]=0, ["Light2"]=0}, function(conn) 
        print("subscribe Light 1 and 2 success")
    end)
            
    m:p</message>
</record>
<record>
  <date>2016-11-11T04:14:58</date>
  <millis>1478808898754</millis>
  <sequence>8647</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>345</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T04:14:58</date>
  <millis>1478808898767</millis>
  <sequence>8648</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ublish("ID is: ", node.chipid(),0,0, function(conn) 
        print("sent ID") 
    end)

end, function(client, reason) print("failed reason: "..reason) end)

m:publish("Read", adc.read(0),0,0, function(conn) print("sent adc read") end)
</message>
</record>
<record>
  <date>2016-11-11T04:14:58</date>
  <millis>1478808898797</millis>
  <sequence>8649</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>345</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T04:14:58</date>
  <millis>1478808898813</millis>
  <sequence>8650</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_cmd_close</message>
</record>
<record>
  <date>2016-11-11T04:14:58</date>
  <millis>1478808898825</millis>
  <sequence>8651</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>345</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;-</message>
</record>
<record>
  <date>2016-11-11T04:14:58</date>
  <millis>1478808898827</millis>
  <sequence>8652</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>345</thread>
  <message>recv:-Done--&lt;CR&gt;&lt;LF&gt;&gt; &lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T04:14:58</date>
  <millis>1478808898852</millis>
  <sequence>8653</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T04:14:58</date>
  <millis>1478808898853</millis>
  <sequence>8654</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>345</thread>
  <message>recv:&lt;CR&gt;</message>
</record>
<record>
  <date>2016-11-11T04:14:58</date>
  <millis>1478808898854</millis>
  <sequence>8655</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>345</thread>
  <message>recv:&lt;LF&gt;&gt; &lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T04:14:58</date>
  <millis>1478808898888</millis>
  <sequence>8656</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:dofile("mqtt.lua")</message>
</record>
<record>
  <date>2016-11-11T04:14:58</date>
  <millis>1478808898890</millis>
  <sequence>8657</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>345</thread>
  <message>recv:d</message>
</record>
<record>
  <date>2016-11-11T04:14:58</date>
  <millis>1478808898892</millis>
  <sequence>8658</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>345</thread>
  <message>recv:ofile("mqtt.lua")&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T04:14:58</date>
  <millis>1478808898938</millis>
  <sequence>8659</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>345</thread>
  <message>recv:Runn</message>
</record>
<record>
  <date>2016-11-11T04:14:58</date>
  <millis>1478808898940</millis>
  <sequence>8660</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>345</thread>
  <message>recv:ing file mqtt&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T04:14:59</date>
  <millis>1478808899123</millis>
  <sequence>8661</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>345</thread>
  <message>recv:mqtt.lu</message>
</record>
<record>
  <date>2016-11-11T04:14:59</date>
  <millis>1478808899129</millis>
  <sequence>8662</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>345</thread>
  <message>recv:a:79: not connected&lt;CR&gt;&lt;LF&gt;stack traceback:&lt;CR&gt;&lt;LF&gt;	[C]: in function 'publish'&lt;CR&gt;&lt;LF&gt;	mqtt.lu</message>
</record>
<record>
  <date>2016-11-11T04:14:59</date>
  <millis>1478808899138</millis>
  <sequence>8663</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>345</thread>
  <message>recv:a:79: in main chunk&lt;CR&gt;&lt;LF&gt;	[C]: in function 'dofile'&lt;CR&gt;&lt;LF&gt;	stdin:1: in main chunk&lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T04:14:59</date>
  <millis>1478808899177</millis>
  <sequence>8664</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>345</thread>
  <message>Operation done. Duration = 1194 ms</message>
</record>
<record>
  <date>2016-11-11T04:17:07</date>
  <millis>1478809027865</millis>
  <sequence>8665</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>File reload: File changed. Ask before reloading.</message>
</record>
<record>
  <date>2016-11-11T04:17:09</date>
  <millis>1478809029322</millis>
  <sequence>8666</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>File reload: Reload anyway by user choice.</message>
</record>
<record>
  <date>2016-11-11T04:17:09</date>
  <millis>1478809029325</millis>
  <sequence>8667</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to load file mqtt.lua</message>
</record>
<record>
  <date>2016-11-11T04:17:09</date>
  <millis>1478809029352</millis>
  <sequence>8668</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Loading mqtt.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T04:17:09</date>
  <millis>1478809029353</millis>
  <sequence>8669</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>File reload: Success.</message>
</record>
<record>
  <date>2016-11-11T04:17:09</date>
  <millis>1478809029969</millis>
  <sequence>8670</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>We save known file mqtt.lua</message>
</record>
<record>
  <date>2016-11-11T04:17:09</date>
  <millis>1478809029970</millis>
  <sequence>8671</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to saving file mqtt.lua ...</message>
</record>
<record>
  <date>2016-11-11T04:17:09</date>
  <millis>1478809029971</millis>
  <sequence>8672</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Save file mqtt.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T04:17:09</date>
  <millis>1478809029977</millis>
  <sequence>8673</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP: Try to save file to ESP...</message>
</record>
<record>
  <date>2016-11-11T04:17:09</date>
  <millis>1478809029978</millis>
  <sequence>8674</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Try to save file to ESP in Turbo Mode...</message>
</record>
<record>
  <date>2016-11-11T04:17:09</date>
  <millis>1478809029985</millis>
  <sequence>8675</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>DataTurboSender: start "Smart Mode"</message>
</record>
<record>
  <date>2016-11-11T04:17:09</date>
  <millis>1478809029986</millis>
  <sequence>8676</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Starting...</message>
</record>
<record>
  <date>2016-11-11T04:17:10</date>
  <millis>1478809030131</millis>
  <sequence>8677</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local FILE="mqtt.lua" file.remove(FILE) file.open(FILE,"w+") uart.setup(0,115200,8,0,1,0)</message>
</record>
<record>
  <date>2016-11-11T04:17:10</date>
  <millis>1478809030133</millis>
  <sequence>8678</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>347</thread>
  <message>recv:lo</message>
</record>
<record>
  <date>2016-11-11T04:17:10</date>
  <millis>1478809030137</millis>
  <sequence>8679</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>347</thread>
  <message>recv:cal FILE="mqtt.lua" file.remove(FIL</message>
</record>
<record>
  <date>2016-11-11T04:17:10</date>
  <millis>1478809030140</millis>
  <sequence>8680</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>347</thread>
  <message>recv:E) file.open(FILE,"w+") uart.setup(0,115200,</message>
</record>
<record>
  <date>2016-11-11T04:17:10</date>
  <millis>1478809030141</millis>
  <sequence>8681</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>347</thread>
  <message>recv:8,0,1,0)&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T04:17:10</date>
  <millis>1478809030321</millis>
  <sequence>8682</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>347</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T04:17:10</date>
  <millis>1478809030353</millis>
  <sequence>8683</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_Receiver=function(rcvBuf) if string.match(rcvBuf,"^ESP_cmd_close")==nil then file.write(string.gsub(rcvBuf, '\r', '')) uart.write(0, "&gt; ") else uart.on("data") </message>
</record>
<record>
  <date>2016-11-11T04:17:10</date>
  <millis>1478809030412</millis>
  <sequence>8684</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>347</thread>
  <message>recv:&gt;</message>
</record>
<record>
  <date>2016-11-11T04:17:10</date>
  <millis>1478809030413</millis>
  <sequence>8685</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>347</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T04:17:10</date>
  <millis>1478809030433</millis>
  <sequence>8686</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:file.flush() file.close() FILE=nil rcvBuf=nil ESP_Receiver=nil uart.setup(0,115200,8,0,1,1) str="\r\n--Done--\r\n&gt; " print(str) str=nil collectgarbage() end end uart.on("data",'\r',ESP_Receiver,0)</message>
</record>
<record>
  <date>2016-11-11T04:17:10</date>
  <millis>1478809030474</millis>
  <sequence>8687</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>347</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T04:17:10</date>
  <millis>1478809030493</millis>
  <sequence>8688</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:control = require "control"

mconf = require "mqtt_config"

print("Running file mqtt")
tmr.delay(100000)

control.status_LED(2000)

gpio6 = 6
gpio.mode(gpio6, gpio.OUTPUT)
gpio.write(gpio6, gpio.LOW)

gpio7 = 7
gpio.mode(gpio7, gpio.OUTPUT)
gpio.write(gp</message>
</record>
<record>
  <date>2016-11-11T04:17:10</date>
  <millis>1478809030522</millis>
  <sequence>8689</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>347</thread>
  <message>recv:&gt;</message>
</record>
<record>
  <date>2016-11-11T04:17:10</date>
  <millis>1478809030524</millis>
  <sequence>8690</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>347</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T04:17:10</date>
  <millis>1478809030543</millis>
  <sequence>8691</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:io7, gpio.LOW)

--print (mconf.MQTTPASS)

-- init mqtt client with keepalive timer 120sec
m = mqtt.Client(mconf.ENDPOINT, 120, mconf.MQTTUSER, mconf.MQTTPASS)

-- setup Last Will and Testament (optional)
-- Broker will publish a message with qos = 0, ret</message>
</record>
<record>
  <date>2016-11-11T04:17:10</date>
  <millis>1478809030575</millis>
  <sequence>8692</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>347</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T04:17:10</date>
  <millis>1478809030591</millis>
  <sequence>8693</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ain = 0, data = "offline" 
-- to topic "/lwt" if client don't send keepalive packet
m:lwt("/lwt", "offline", 0, 0)

-- on / connect and offline event
m:on("connect", function(client) print ("device connected event") end)
m:on("offline", function(client) </message>
</record>
<record>
  <date>2016-11-11T04:17:10</date>
  <millis>1478809030622</millis>
  <sequence>8694</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>347</thread>
  <message>recv:&gt;</message>
</record>
<record>
  <date>2016-11-11T04:17:10</date>
  <millis>1478809030624</millis>
  <sequence>8695</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>347</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T04:17:10</date>
  <millis>1478809030643</millis>
  <sequence>8696</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:print ("device offline event") end)

-- on / message event
m:on("message", function(conn, topic, data)
  print(topic.. " event registered" )
  if topic == "Light1" then
    if data == "ON" then
        print("received message: ON @ light1")
        gpio.</message>
</record>
<record>
  <date>2016-11-11T04:17:10</date>
  <millis>1478809030676</millis>
  <sequence>8697</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>347</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T04:17:10</date>
  <millis>1478809030692</millis>
  <sequence>8698</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:write(gpio6, gpio.HIGH)
    end
    if data == "OFF" then
        print("received message: OFF @ light1")
        gpio.write(gpio6, gpio.LOW)
    end
    
  end
    
  if topic == "Light2" then
    if data == "ON" then
        print("received message: ON</message>
</record>
<record>
  <date>2016-11-11T04:17:10</date>
  <millis>1478809030723</millis>
  <sequence>8699</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>347</thread>
  <message>recv:&gt;</message>
</record>
<record>
  <date>2016-11-11T04:17:10</date>
  <millis>1478809030726</millis>
  <sequence>8700</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>347</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T04:17:10</date>
  <millis>1478809030744</millis>
  <sequence>8701</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending: @ light2")
        gpio.write(gpio7, gpio.HIGH)
    end
    if data == "OFF" then
        print("received message: OFF @ light2")
        gpio.write(gpio7, gpio.LOW)
    end
    
  end
     
end)

-- send0/publish chip ID

m:connect(mconf.HOST, mconf.PO</message>
</record>
<record>
  <date>2016-11-11T04:17:10</date>
  <millis>1478809030777</millis>
  <sequence>8702</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>347</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T04:17:10</date>
  <millis>1478809030795</millis>
  <sequence>8703</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:RT, 0, function(conn)

    print("connected")
    print("Your ID: " ..node.chipid())
    -- subscribe both topic

    m:subscribe({["Light1"]=0, ["Light2"]=0}, function(conn) 
        print("subscribe Light 1 and 2 success")
    end)
            
    m:p</message>
</record>
<record>
  <date>2016-11-11T04:17:10</date>
  <millis>1478809030826</millis>
  <sequence>8704</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>347</thread>
  <message>recv:&gt;</message>
</record>
<record>
  <date>2016-11-11T04:17:10</date>
  <millis>1478809030827</millis>
  <sequence>8705</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>347</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T04:17:10</date>
  <millis>1478809030844</millis>
  <sequence>8706</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ublish("ID is: ", node.chipid(),0,0, function(conn) 
        print("sent ID") 
    end)

end, function(client, reason) print("failed reason: "..reason) end)

if m:connect() == true then
    print ("connected")
end

--m:publish("Read", adc.read(0),0,0, fu</message>
</record>
<record>
  <date>2016-11-11T04:17:10</date>
  <millis>1478809030876</millis>
  <sequence>8707</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>347</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T04:17:10</date>
  <millis>1478809030893</millis>
  <sequence>8708</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:nction(conn) print("sent adc read") end)
</message>
</record>
<record>
  <date>2016-11-11T04:17:10</date>
  <millis>1478809030906</millis>
  <sequence>8709</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>347</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T04:17:10</date>
  <millis>1478809030923</millis>
  <sequence>8710</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_cmd_close</message>
</record>
<record>
  <date>2016-11-11T04:17:10</date>
  <millis>1478809030936</millis>
  <sequence>8711</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>347</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T04:17:10</date>
  <millis>1478809030938</millis>
  <sequence>8712</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>347</thread>
  <message>recv:--Done--&lt;CR&gt;&lt;LF&gt;&gt; &lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T04:17:10</date>
  <millis>1478809030962</millis>
  <sequence>8713</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T04:17:10</date>
  <millis>1478809030964</millis>
  <sequence>8714</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>347</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T04:17:10</date>
  <millis>1478809030966</millis>
  <sequence>8715</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>347</thread>
  <message>recv:&gt; &lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T04:17:10</date>
  <millis>1478809030999</millis>
  <sequence>8716</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:dofile("mqtt.lua")</message>
</record>
<record>
  <date>2016-11-11T04:17:11</date>
  <millis>1478809031001</millis>
  <sequence>8717</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>347</thread>
  <message>recv:do</message>
</record>
<record>
  <date>2016-11-11T04:17:11</date>
  <millis>1478809031003</millis>
  <sequence>8718</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>347</thread>
  <message>recv:file("mqtt.lua")&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T04:17:11</date>
  <millis>1478809031050</millis>
  <sequence>8719</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>347</thread>
  <message>recv:Ru</message>
</record>
<record>
  <date>2016-11-11T04:17:11</date>
  <millis>1478809031051</millis>
  <sequence>8720</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>347</thread>
  <message>recv:nning file m</message>
</record>
<record>
  <date>2016-11-11T04:17:11</date>
  <millis>1478809031061</millis>
  <sequence>8721</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>347</thread>
  <message>recv:qtt&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T04:17:11</date>
  <millis>1478809031172</millis>
  <sequence>8722</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>347</thread>
  <message>recv:connected</message>
</record>
<record>
  <date>2016-11-11T04:17:11</date>
  <millis>1478809031175</millis>
  <sequence>8723</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>347</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T04:17:11</date>
  <millis>1478809031208</millis>
  <sequence>8724</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>347</thread>
  <message>Operation done. Duration = 1229 ms</message>
</record>
<record>
  <date>2016-11-11T04:17:47</date>
  <millis>1478809067282</millis>
  <sequence>8725</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to load file mqtt.lua</message>
</record>
<record>
  <date>2016-11-11T04:17:47</date>
  <millis>1478809067292</millis>
  <sequence>8726</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Loading mqtt.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T04:17:47</date>
  <millis>1478809067292</millis>
  <sequence>8727</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>File reload: Success.</message>
</record>
<record>
  <date>2016-11-11T04:17:50</date>
  <millis>1478809070290</millis>
  <sequence>8728</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>We save known file mqtt.lua</message>
</record>
<record>
  <date>2016-11-11T04:17:50</date>
  <millis>1478809070291</millis>
  <sequence>8729</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to saving file mqtt.lua ...</message>
</record>
<record>
  <date>2016-11-11T04:17:50</date>
  <millis>1478809070293</millis>
  <sequence>8730</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Save file mqtt.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T04:17:50</date>
  <millis>1478809070297</millis>
  <sequence>8731</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP: Try to save file to ESP...</message>
</record>
<record>
  <date>2016-11-11T04:17:50</date>
  <millis>1478809070298</millis>
  <sequence>8732</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Try to save file to ESP in Turbo Mode...</message>
</record>
<record>
  <date>2016-11-11T04:17:50</date>
  <millis>1478809070304</millis>
  <sequence>8733</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>DataTurboSender: start "Smart Mode"</message>
</record>
<record>
  <date>2016-11-11T04:17:50</date>
  <millis>1478809070305</millis>
  <sequence>8734</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Starting...</message>
</record>
<record>
  <date>2016-11-11T04:17:50</date>
  <millis>1478809070438</millis>
  <sequence>8735</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local FILE="mqtt.lua" file.remove(FILE) file.open(FILE,"w+") uart.setup(0,115200,8,0,1,0)</message>
</record>
<record>
  <date>2016-11-11T04:17:50</date>
  <millis>1478809070439</millis>
  <sequence>8736</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>349</thread>
  <message>recv:lo</message>
</record>
<record>
  <date>2016-11-11T04:17:50</date>
  <millis>1478809070441</millis>
  <sequence>8737</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>349</thread>
  <message>recv:cal FILE="mqtt.lua</message>
</record>
<record>
  <date>2016-11-11T04:17:50</date>
  <millis>1478809070445</millis>
  <sequence>8738</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>349</thread>
  <message>recv:" file.remove(FILE) file.open(FILE,"w+") uart.setup(0,1</message>
</record>
<record>
  <date>2016-11-11T04:17:50</date>
  <millis>1478809070448</millis>
  <sequence>8739</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>349</thread>
  <message>recv:15200,8,0,1,0)&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T04:17:50</date>
  <millis>1478809070640</millis>
  <sequence>8740</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>349</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T04:17:50</date>
  <millis>1478809070662</millis>
  <sequence>8741</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_Receiver=function(rcvBuf) if string.match(rcvBuf,"^ESP_cmd_close")==nil then file.write(string.gsub(rcvBuf, '\r', '')) uart.write(0, "&gt; ") else uart.on("data") </message>
</record>
<record>
  <date>2016-11-11T04:17:50</date>
  <millis>1478809070688</millis>
  <sequence>8742</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>349</thread>
  <message>recv:&gt;</message>
</record>
<record>
  <date>2016-11-11T04:17:50</date>
  <millis>1478809070690</millis>
  <sequence>8743</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>349</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T04:17:50</date>
  <millis>1478809070709</millis>
  <sequence>8744</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:file.flush() file.close() FILE=nil rcvBuf=nil ESP_Receiver=nil uart.setup(0,115200,8,0,1,1) str="\r\n--Done--\r\n&gt; " print(str) str=nil collectgarbage() end end uart.on("data",'\r',ESP_Receiver,0)</message>
</record>
<record>
  <date>2016-11-11T04:17:50</date>
  <millis>1478809070750</millis>
  <sequence>8745</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>349</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T04:17:50</date>
  <millis>1478809070766</millis>
  <sequence>8746</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:control = require "control"

mconf = require "mqtt_config"

print("Running file mqtt")
tmr.delay(100000)

control.status_LED(2000)

gpio6 = 6
gpio.mode(gpio6, gpio.OUTPUT)
gpio.write(gpio6, gpio.LOW)

gpio7 = 7
gpio.mode(gpio7, gpio.OUTPUT)
gpio.write(gp</message>
</record>
<record>
  <date>2016-11-11T04:17:50</date>
  <millis>1478809070795</millis>
  <sequence>8747</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>349</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T04:17:50</date>
  <millis>1478809070808</millis>
  <sequence>8748</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:io7, gpio.LOW)

--print (mconf.MQTTPASS)

-- init mqtt client with keepalive timer 120sec
m = mqtt.Client(mconf.ENDPOINT, 120, mconf.MQTTUSER, mconf.MQTTPASS)

-- setup Last Will and Testament (optional)
-- Broker will publish a message with qos = 0, ret</message>
</record>
<record>
  <date>2016-11-11T04:17:50</date>
  <millis>1478809070839</millis>
  <sequence>8749</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>349</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T04:17:50</date>
  <millis>1478809070854</millis>
  <sequence>8750</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ain = 0, data = "offline" 
-- to topic "/lwt" if client don't send keepalive packet
m:lwt("/lwt", "offline", 0, 0)

-- on / connect and offline event
m:on("connect", function(client) print ("device connected event") end)
m:on("offline", function(client) </message>
</record>
<record>
  <date>2016-11-11T04:17:50</date>
  <millis>1478809070884</millis>
  <sequence>8751</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>349</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T04:17:50</date>
  <millis>1478809070899</millis>
  <sequence>8752</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:print ("device offline event") end)

-- on / message event
m:on("message", function(conn, topic, data)
  print(topic.. " event registered" )
  if topic == "Light1" then
    if data == "ON" then
        print("received message: ON @ light1")
        gpio.</message>
</record>
<record>
  <date>2016-11-11T04:17:50</date>
  <millis>1478809070929</millis>
  <sequence>8753</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>349</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T04:17:50</date>
  <millis>1478809070947</millis>
  <sequence>8754</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:write(gpio6, gpio.HIGH)
    end
    if data == "OFF" then
        print("received message: OFF @ light1")
        gpio.write(gpio6, gpio.LOW)
    end
    
  end
    
  if topic == "Light2" then
    if data == "ON" then
        print("received message: ON</message>
</record>
<record>
  <date>2016-11-11T04:17:50</date>
  <millis>1478809070977</millis>
  <sequence>8755</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>349</thread>
  <message>recv:&gt;</message>
</record>
<record>
  <date>2016-11-11T04:17:50</date>
  <millis>1478809070978</millis>
  <sequence>8756</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>349</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T04:17:50</date>
  <millis>1478809070997</millis>
  <sequence>8757</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending: @ light2")
        gpio.write(gpio7, gpio.HIGH)
    end
    if data == "OFF" then
        print("received message: OFF @ light2")
        gpio.write(gpio7, gpio.LOW)
    end
    
  end
     
end)

-- send0/publish chip ID

m:connect(mconf.HOST, mconf.PO</message>
</record>
<record>
  <date>2016-11-11T04:17:51</date>
  <millis>1478809071028</millis>
  <sequence>8758</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>349</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T04:17:51</date>
  <millis>1478809071040</millis>
  <sequence>8759</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:RT, 0, function(conn)

    print("connected")
    print("Your ID: " ..node.chipid())
    -- subscribe both topic

    m:subscribe({["Light1"]=0, ["Light2"]=0}, function(conn) 
        print("subscribe Light 1 and 2 success")
    end)
            
    m:p</message>
</record>
<record>
  <date>2016-11-11T04:17:51</date>
  <millis>1478809071071</millis>
  <sequence>8760</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>349</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T04:17:51</date>
  <millis>1478809071089</millis>
  <sequence>8761</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ublish("ID is: ", node.chipid(),0,0, function(conn) 
        print("sent ID") 
    end)

end, function(client, reason) print("failed reason: "..reason) end)

if m:connect(mconf.HOST, mconf.PORT, 0, function(conn) print("connected") end) == true then
    </message>
</record>
<record>
  <date>2016-11-11T04:17:51</date>
  <millis>1478809071120</millis>
  <sequence>8762</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>349</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T04:17:51</date>
  <millis>1478809071132</millis>
  <sequence>8763</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:print ("connected")
end

--m:publish("Read", adc.read(0),0,0, function(conn) print("sent adc read") end)
</message>
</record>
<record>
  <date>2016-11-11T04:17:51</date>
  <millis>1478809071149</millis>
  <sequence>8764</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>349</thread>
  <message>recv:&gt;</message>
</record>
<record>
  <date>2016-11-11T04:17:51</date>
  <millis>1478809071150</millis>
  <sequence>8765</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>349</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T04:17:51</date>
  <millis>1478809071167</millis>
  <sequence>8766</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_cmd_close</message>
</record>
<record>
  <date>2016-11-11T04:17:51</date>
  <millis>1478809071179</millis>
  <sequence>8767</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>349</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;--D</message>
</record>
<record>
  <date>2016-11-11T04:17:51</date>
  <millis>1478809071181</millis>
  <sequence>8768</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>349</thread>
  <message>recv:one--&lt;CR&gt;&lt;LF&gt;&gt; &lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T04:17:51</date>
  <millis>1478809071204</millis>
  <sequence>8769</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T04:17:51</date>
  <millis>1478809071205</millis>
  <sequence>8770</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>349</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T04:17:51</date>
  <millis>1478809071207</millis>
  <sequence>8771</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>349</thread>
  <message>recv:&gt; &lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T04:17:51</date>
  <millis>1478809071240</millis>
  <sequence>8772</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:dofile("mqtt.lua")</message>
</record>
<record>
  <date>2016-11-11T04:17:51</date>
  <millis>1478809071241</millis>
  <sequence>8773</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>349</thread>
  <message>recv:do</message>
</record>
<record>
  <date>2016-11-11T04:17:51</date>
  <millis>1478809071243</millis>
  <sequence>8774</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>349</thread>
  <message>recv:file("mqtt.lua")&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T04:17:51</date>
  <millis>1478809071505</millis>
  <sequence>8775</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>349</thread>
  <message>recv:Runni</message>
</record>
<record>
  <date>2016-11-11T04:17:51</date>
  <millis>1478809071507</millis>
  <sequence>8776</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>349</thread>
  <message>recv:ng file mqtt&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T04:17:51</date>
  <millis>1478809071628</millis>
  <sequence>8777</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>349</thread>
  <message>recv:connec</message>
</record>
<record>
  <date>2016-11-11T04:17:51</date>
  <millis>1478809071632</millis>
  <sequence>8778</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>349</thread>
  <message>recv:ted&lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T04:17:51</date>
  <millis>1478809071665</millis>
  <sequence>8779</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>349</thread>
  <message>Operation done. Duration = 1367 ms</message>
</record>
<record>
  <date>2016-11-11T04:17:56</date>
  <millis>1478809076616</millis>
  <sequence>8780</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:node.restart()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T04:17:56</date>
  <millis>1478809076618</millis>
  <sequence>8781</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with saved baud 115200...</message>
</record>
<record>
  <date>2016-11-11T04:17:56</date>
  <millis>1478809076680</millis>
  <sequence>8782</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success. Now we waiting for ESP reboot...</message>
</record>
<record>
  <date>2016-11-11T04:17:58</date>
  <millis>1478809078681</millis>
  <sequence>8783</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with baud 115200...</message>
</record>
<record>
  <date>2016-11-11T04:17:58</date>
  <millis>1478809078685</millis>
  <sequence>8784</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:print(uart.setup(0, 115200, 8, 0, 1, 1 ))&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T04:17:58</date>
  <millis>1478809078946</millis>
  <sequence>8785</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success.</message>
</record>
<record>
  <date>2016-11-11T04:17:58</date>
  <millis>1478809078985</millis>
  <sequence>8786</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T04:17:58</date>
  <millis>1478809078987</millis>
  <sequence>8787</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>350</thread>
  <message>
Communication with MCU established.</message>
</record>
<record>
  <date>2016-11-11T04:17:58</date>
  <millis>1478809078989</millis>
  <sequence>8788</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>350</thread>
  <message>sending:=node.heap()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T04:18:26</date>
  <millis>1478809106418</millis>
  <sequence>8789</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to load file mqtt.lua</message>
</record>
<record>
  <date>2016-11-11T04:18:26</date>
  <millis>1478809106446</millis>
  <sequence>8790</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Loading mqtt.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T04:18:26</date>
  <millis>1478809106452</millis>
  <sequence>8791</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>File reload: Success.</message>
</record>
<record>
  <date>2016-11-11T04:18:27</date>
  <millis>1478809107308</millis>
  <sequence>8792</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>We save known file mqtt.lua</message>
</record>
<record>
  <date>2016-11-11T04:18:27</date>
  <millis>1478809107309</millis>
  <sequence>8793</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to saving file mqtt.lua ...</message>
</record>
<record>
  <date>2016-11-11T04:18:27</date>
  <millis>1478809107312</millis>
  <sequence>8794</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Save file mqtt.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T04:18:27</date>
  <millis>1478809107315</millis>
  <sequence>8795</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP: Try to save file to ESP...</message>
</record>
<record>
  <date>2016-11-11T04:18:27</date>
  <millis>1478809107316</millis>
  <sequence>8796</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Try to save file to ESP in Turbo Mode...</message>
</record>
<record>
  <date>2016-11-11T04:18:27</date>
  <millis>1478809107325</millis>
  <sequence>8797</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>DataTurboSender: start "Smart Mode"</message>
</record>
<record>
  <date>2016-11-11T04:18:27</date>
  <millis>1478809107326</millis>
  <sequence>8798</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Starting...</message>
</record>
<record>
  <date>2016-11-11T04:18:27</date>
  <millis>1478809107472</millis>
  <sequence>8799</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local FILE="mqtt.lua" file.remove(FILE) file.open(FILE,"w+") uart.setup(0,115200,8,0,1,0)</message>
</record>
<record>
  <date>2016-11-11T04:18:27</date>
  <millis>1478809107474</millis>
  <sequence>8800</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>351</thread>
  <message>recv:loc</message>
</record>
<record>
  <date>2016-11-11T04:18:27</date>
  <millis>1478809107476</millis>
  <sequence>8801</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>351</thread>
  <message>recv:al FILE="mqtt.lua" fi</message>
</record>
<record>
  <date>2016-11-11T04:18:27</date>
  <millis>1478809107481</millis>
  <sequence>8802</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>351</thread>
  <message>recv:le.remove(FILE) file.open(FILE,"w+") uart.setup(0,1152</message>
</record>
<record>
  <date>2016-11-11T04:18:27</date>
  <millis>1478809107482</millis>
  <sequence>8803</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>351</thread>
  <message>recv:00,8,0,1,0)&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T04:18:27</date>
  <millis>1478809107672</millis>
  <sequence>8804</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>351</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T04:18:27</date>
  <millis>1478809107686</millis>
  <sequence>8805</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_Receiver=function(rcvBuf) if string.match(rcvBuf,"^ESP_cmd_close")==nil then file.write(string.gsub(rcvBuf, '\r', '')) uart.write(0, "&gt; ") else uart.on("data") </message>
</record>
<record>
  <date>2016-11-11T04:18:27</date>
  <millis>1478809107714</millis>
  <sequence>8806</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>351</thread>
  <message>recv:&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T04:18:27</date>
  <millis>1478809107732</millis>
  <sequence>8807</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:file.flush() file.close() FILE=nil rcvBuf=nil ESP_Receiver=nil uart.setup(0,115200,8,0,1,1) str="\r\n--Done--\r\n&gt; " print(str) str=nil collectgarbage() end end uart.on("data",'\r',ESP_Receiver,0)</message>
</record>
<record>
  <date>2016-11-11T04:18:27</date>
  <millis>1478809107773</millis>
  <sequence>8808</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>351</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T04:18:27</date>
  <millis>1478809107787</millis>
  <sequence>8809</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:control = require "control"

mconf = require "mqtt_config"

print("Running file mqtt")
tmr.delay(100000)

control.status_LED(2000)

gpio6 = 6
gpio.mode(gpio6, gpio.OUTPUT)
gpio.write(gpio6, gpio.LOW)

gpio7 = 7
gpio.mode(gpio7, gpio.OUTPUT)
gpio.write(gp</message>
</record>
<record>
  <date>2016-11-11T04:18:27</date>
  <millis>1478809107817</millis>
  <sequence>8810</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>351</thread>
  <message>recv:&gt;</message>
</record>
<record>
  <date>2016-11-11T04:18:27</date>
  <millis>1478809107819</millis>
  <sequence>8811</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>351</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T04:18:27</date>
  <millis>1478809107837</millis>
  <sequence>8812</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:io7, gpio.LOW)

--print (mconf.MQTTPASS)

-- init mqtt client with keepalive timer 120sec
m = mqtt.Client(mconf.ENDPOINT, 120, mconf.MQTTUSER, mconf.MQTTPASS)

-- setup Last Will and Testament (optional)
-- Broker will publish a message with qos = 0, ret</message>
</record>
<record>
  <date>2016-11-11T04:18:27</date>
  <millis>1478809107868</millis>
  <sequence>8813</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>351</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T04:18:27</date>
  <millis>1478809107885</millis>
  <sequence>8814</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ain = 0, data = "offline" 
-- to topic "/lwt" if client don't send keepalive packet
m:lwt("/lwt", "offline", 0, 0)

-- on / connect and offline event
m:on("connect", function(client) print ("device connected event") end)
m:on("offline", function(client) </message>
</record>
<record>
  <date>2016-11-11T04:18:27</date>
  <millis>1478809107917</millis>
  <sequence>8815</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>351</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T04:18:27</date>
  <millis>1478809107934</millis>
  <sequence>8816</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:print ("device offline event") end)

-- on / message event
m:on("message", function(conn, topic, data)
  print(topic.. " event registered" )
  if topic == "Light1" then
    if data == "ON" then
        print("received message: ON @ light1")
        gpio.</message>
</record>
<record>
  <date>2016-11-11T04:18:27</date>
  <millis>1478809107965</millis>
  <sequence>8817</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>351</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T04:18:27</date>
  <millis>1478809107983</millis>
  <sequence>8818</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:write(gpio6, gpio.HIGH)
    end
    if data == "OFF" then
        print("received message: OFF @ light1")
        gpio.write(gpio6, gpio.LOW)
    end
    
  end
    
  if topic == "Light2" then
    if data == "ON" then
        print("received message: ON</message>
</record>
<record>
  <date>2016-11-11T04:18:28</date>
  <millis>1478809108015</millis>
  <sequence>8819</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>351</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T04:18:28</date>
  <millis>1478809108033</millis>
  <sequence>8820</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending: @ light2")
        gpio.write(gpio7, gpio.HIGH)
    end
    if data == "OFF" then
        print("received message: OFF @ light2")
        gpio.write(gpio7, gpio.LOW)
    end
    
  end
     
end)

-- send0/publish chip ID

m:connect(mconf.HOST, mconf.PO</message>
</record>
<record>
  <date>2016-11-11T04:18:28</date>
  <millis>1478809108064</millis>
  <sequence>8821</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>351</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T04:18:28</date>
  <millis>1478809108077</millis>
  <sequence>8822</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:RT, 0, function(conn)

    print("connected")
    print("Your ID: " ..node.chipid())
    -- subscribe both topic

    m:subscribe({["Light1"]=0, ["Light2"]=0}, function(conn) 
        print("subscribe Light 1 and 2 success")
    end)
            
    m:p</message>
</record>
<record>
  <date>2016-11-11T04:18:28</date>
  <millis>1478809108109</millis>
  <sequence>8823</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>351</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T04:18:28</date>
  <millis>1478809108123</millis>
  <sequence>8824</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ublish("ID is: ", node.chipid(),0,0, function(conn) 
        print("sent ID") 
    end)

end, function(client, reason) print("failed reason: "..reason) end)

if m:connect(mconf.HOST, mconf.PORT, 0, function(conn) print("connected2") end) == true then
   </message>
</record>
<record>
  <date>2016-11-11T04:18:28</date>
  <millis>1478809108153</millis>
  <sequence>8825</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>351</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T04:18:28</date>
  <millis>1478809108167</millis>
  <sequence>8826</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending: print ("print connected")
end

--m:publish("Read", adc.read(0),0,0, function(conn) print("sent adc read") end)
</message>
</record>
<record>
  <date>2016-11-11T04:18:28</date>
  <millis>1478809108186</millis>
  <sequence>8827</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>351</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T04:18:28</date>
  <millis>1478809108201</millis>
  <sequence>8828</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_cmd_close</message>
</record>
<record>
  <date>2016-11-11T04:18:28</date>
  <millis>1478809108214</millis>
  <sequence>8829</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>351</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T04:18:28</date>
  <millis>1478809108215</millis>
  <sequence>8830</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>351</thread>
  <message>recv:--Done--&lt;CR&gt;&lt;LF&gt;&gt;</message>
</record>
<record>
  <date>2016-11-11T04:18:28</date>
  <millis>1478809108215</millis>
  <sequence>8831</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>351</thread>
  <message>recv: &lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T04:18:28</date>
  <millis>1478809108237</millis>
  <sequence>8832</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T04:18:28</date>
  <millis>1478809108238</millis>
  <sequence>8833</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>351</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T04:18:28</date>
  <millis>1478809108240</millis>
  <sequence>8834</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>351</thread>
  <message>recv:&gt; &lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T04:18:28</date>
  <millis>1478809108273</millis>
  <sequence>8835</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:dofile("mqtt.lua")</message>
</record>
<record>
  <date>2016-11-11T04:18:28</date>
  <millis>1478809108274</millis>
  <sequence>8836</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>351</thread>
  <message>recv:do</message>
</record>
<record>
  <date>2016-11-11T04:18:28</date>
  <millis>1478809108276</millis>
  <sequence>8837</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>351</thread>
  <message>recv:file("mqtt.lua</message>
</record>
<record>
  <date>2016-11-11T04:18:28</date>
  <millis>1478809108276</millis>
  <sequence>8838</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>351</thread>
  <message>recv:")</message>
</record>
<record>
  <date>2016-11-11T04:18:28</date>
  <millis>1478809108278</millis>
  <sequence>8839</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>351</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T04:18:28</date>
  <millis>1478809108328</millis>
  <sequence>8840</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>351</thread>
  <message>recv:Run</message>
</record>
<record>
  <date>2016-11-11T04:18:28</date>
  <millis>1478809108330</millis>
  <sequence>8841</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>351</thread>
  <message>recv:ning file mqtt&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T04:18:28</date>
  <millis>1478809108450</millis>
  <sequence>8842</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>351</thread>
  <message>recv:print</message>
</record>
<record>
  <date>2016-11-11T04:18:28</date>
  <millis>1478809108452</millis>
  <sequence>8843</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>351</thread>
  <message>recv: connected&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T04:18:28</date>
  <millis>1478809108454</millis>
  <sequence>8844</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>351</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T04:18:28</date>
  <millis>1478809108480</millis>
  <sequence>8845</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>351</thread>
  <message>Operation done. Duration = 1163 ms</message>
</record>
<record>
  <date>2016-11-11T04:18:45</date>
  <millis>1478809125223</millis>
  <sequence>8846</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:node.restart()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T04:18:45</date>
  <millis>1478809125225</millis>
  <sequence>8847</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with saved baud 115200...</message>
</record>
<record>
  <date>2016-11-11T04:18:45</date>
  <millis>1478809125288</millis>
  <sequence>8848</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success. Now we waiting for ESP reboot...</message>
</record>
<record>
  <date>2016-11-11T04:18:47</date>
  <millis>1478809127291</millis>
  <sequence>8849</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with baud 115200...</message>
</record>
<record>
  <date>2016-11-11T04:18:47</date>
  <millis>1478809127292</millis>
  <sequence>8850</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:print(uart.setup(0, 115200, 8, 0, 1, 1 ))&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T04:18:47</date>
  <millis>1478809127554</millis>
  <sequence>8851</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success.</message>
</record>
<record>
  <date>2016-11-11T04:18:47</date>
  <millis>1478809127601</millis>
  <sequence>8852</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T04:18:47</date>
  <millis>1478809127604</millis>
  <sequence>8853</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>352</thread>
  <message>
Communication with MCU established.</message>
</record>
<record>
  <date>2016-11-11T04:18:47</date>
  <millis>1478809127607</millis>
  <sequence>8854</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>352</thread>
  <message>sending:=node.heap()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T04:19:32</date>
  <millis>1478809172557</millis>
  <sequence>8855</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:node.restart()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T04:19:32</date>
  <millis>1478809172559</millis>
  <sequence>8856</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with saved baud 115200...</message>
</record>
<record>
  <date>2016-11-11T04:19:32</date>
  <millis>1478809172621</millis>
  <sequence>8857</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success. Now we waiting for ESP reboot...</message>
</record>
<record>
  <date>2016-11-11T04:19:34</date>
  <millis>1478809174623</millis>
  <sequence>8858</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with baud 115200...</message>
</record>
<record>
  <date>2016-11-11T04:19:34</date>
  <millis>1478809174625</millis>
  <sequence>8859</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:print(uart.setup(0, 115200, 8, 0, 1, 1 ))&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T04:19:34</date>
  <millis>1478809174888</millis>
  <sequence>8860</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success.</message>
</record>
<record>
  <date>2016-11-11T04:19:34</date>
  <millis>1478809174938</millis>
  <sequence>8861</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T04:19:34</date>
  <millis>1478809174940</millis>
  <sequence>8862</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>352</thread>
  <message>
Communication with MCU established.</message>
</record>
<record>
  <date>2016-11-11T04:20:17</date>
  <millis>1478809217645</millis>
  <sequence>8863</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to load file mqtt.lua</message>
</record>
<record>
  <date>2016-11-11T04:20:17</date>
  <millis>1478809217665</millis>
  <sequence>8864</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Loading mqtt.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T04:20:17</date>
  <millis>1478809217666</millis>
  <sequence>8865</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>File reload: Success.</message>
</record>
<record>
  <date>2016-11-11T04:20:18</date>
  <millis>1478809218699</millis>
  <sequence>8866</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>We save known file mqtt.lua</message>
</record>
<record>
  <date>2016-11-11T04:20:18</date>
  <millis>1478809218700</millis>
  <sequence>8867</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to saving file mqtt.lua ...</message>
</record>
<record>
  <date>2016-11-11T04:20:18</date>
  <millis>1478809218702</millis>
  <sequence>8868</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Save file mqtt.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T04:20:18</date>
  <millis>1478809218705</millis>
  <sequence>8869</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP: Try to save file to ESP...</message>
</record>
<record>
  <date>2016-11-11T04:20:18</date>
  <millis>1478809218706</millis>
  <sequence>8870</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Try to save file to ESP in Turbo Mode...</message>
</record>
<record>
  <date>2016-11-11T04:20:18</date>
  <millis>1478809218714</millis>
  <sequence>8871</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>DataTurboSender: start "Smart Mode"</message>
</record>
<record>
  <date>2016-11-11T04:20:18</date>
  <millis>1478809218715</millis>
  <sequence>8872</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Starting...</message>
</record>
<record>
  <date>2016-11-11T04:20:18</date>
  <millis>1478809218856</millis>
  <sequence>8873</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local FILE="mqtt.lua" file.remove(FILE) file.open(FILE,"w+") uart.setup(0,115200,8,0,1,0)</message>
</record>
<record>
  <date>2016-11-11T04:20:18</date>
  <millis>1478809218858</millis>
  <sequence>8874</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>353</thread>
  <message>recv:lo</message>
</record>
<record>
  <date>2016-11-11T04:20:18</date>
  <millis>1478809218859</millis>
  <sequence>8875</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>353</thread>
  <message>recv:cal FILE="mqtt.lu</message>
</record>
<record>
  <date>2016-11-11T04:20:18</date>
  <millis>1478809218860</millis>
  <sequence>8876</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>353</thread>
  <message>recv:a" file.remo</message>
</record>
<record>
  <date>2016-11-11T04:20:18</date>
  <millis>1478809218861</millis>
  <sequence>8877</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>353</thread>
  <message>recv:ve(FILE) fi</message>
</record>
<record>
  <date>2016-11-11T04:20:18</date>
  <millis>1478809218864</millis>
  <sequence>8878</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>353</thread>
  <message>recv:le.open(FILE,"w+") uart.se</message>
</record>
<record>
  <date>2016-11-11T04:20:18</date>
  <millis>1478809218866</millis>
  <sequence>8879</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>353</thread>
  <message>recv:tup(0,115200,8,0,1,0)&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T04:20:19</date>
  <millis>1478809219055</millis>
  <sequence>8880</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>353</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T04:20:19</date>
  <millis>1478809219069</millis>
  <sequence>8881</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_Receiver=function(rcvBuf) if string.match(rcvBuf,"^ESP_cmd_close")==nil then file.write(string.gsub(rcvBuf, '\r', '')) uart.write(0, "&gt; ") else uart.on("data") </message>
</record>
<record>
  <date>2016-11-11T04:20:19</date>
  <millis>1478809219096</millis>
  <sequence>8882</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>353</thread>
  <message>recv:&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T04:20:19</date>
  <millis>1478809219110</millis>
  <sequence>8883</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:file.flush() file.close() FILE=nil rcvBuf=nil ESP_Receiver=nil uart.setup(0,115200,8,0,1,1) str="\r\n--Done--\r\n&gt; " print(str) str=nil collectgarbage() end end uart.on("data",'\r',ESP_Receiver,0)</message>
</record>
<record>
  <date>2016-11-11T04:20:19</date>
  <millis>1478809219151</millis>
  <sequence>8884</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>353</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T04:20:19</date>
  <millis>1478809219166</millis>
  <sequence>8885</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:control = require "control"

mconf = require "mqtt_config"

print("Running file mqtt")
tmr.delay(100000)

control.status_LED(2000)

gpio6 = 6
gpio.mode(gpio6, gpio.OUTPUT)
gpio.write(gpio6, gpio.LOW)

gpio7 = 7
gpio.mode(gpio7, gpio.OUTPUT)
gpio.write(gp</message>
</record>
<record>
  <date>2016-11-11T04:20:19</date>
  <millis>1478809219195</millis>
  <sequence>8886</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>353</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T04:20:19</date>
  <millis>1478809219209</millis>
  <sequence>8887</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:io7, gpio.LOW)

--print (mconf.MQTTPASS)

-- init mqtt client with keepalive timer 120sec
m = mqtt.Client(mconf.ENDPOINT, 120, mconf.MQTTUSER, mconf.MQTTPASS)

-- setup Last Will and Testament (optional)
-- Broker will publish a message with qos = 0, ret</message>
</record>
<record>
  <date>2016-11-11T04:20:19</date>
  <millis>1478809219239</millis>
  <sequence>8888</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>353</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T04:20:19</date>
  <millis>1478809219255</millis>
  <sequence>8889</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ain = 0, data = "offline" 
-- to topic "/lwt" if client don't send keepalive packet
m:lwt("/lwt", "offline", 0, 0)

-- on / connect and offline event
m:on("connect", function(client) print ("device connected event") end)
m:on("offline", function(client) </message>
</record>
<record>
  <date>2016-11-11T04:20:19</date>
  <millis>1478809219288</millis>
  <sequence>8890</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>353</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T04:20:19</date>
  <millis>1478809219303</millis>
  <sequence>8891</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:print ("device offline event") end)

-- on / message event
m:on("message", function(conn, topic, data)
  print(topic.. " event registered" )
  if topic == "Light1" then
    if data == "ON" then
        print("received message: ON @ light1")
        gpio.</message>
</record>
<record>
  <date>2016-11-11T04:20:19</date>
  <millis>1478809219334</millis>
  <sequence>8892</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>353</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T04:20:19</date>
  <millis>1478809219348</millis>
  <sequence>8893</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:write(gpio6, gpio.HIGH)
    end
    if data == "OFF" then
        print("received message: OFF @ light1")
        gpio.write(gpio6, gpio.LOW)
    end
    
  end
    
  if topic == "Light2" then
    if data == "ON" then
        print("received message: ON</message>
</record>
<record>
  <date>2016-11-11T04:20:19</date>
  <millis>1478809219379</millis>
  <sequence>8894</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>353</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T04:20:19</date>
  <millis>1478809219396</millis>
  <sequence>8895</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending: @ light2")
        gpio.write(gpio7, gpio.HIGH)
    end
    if data == "OFF" then
        print("received message: OFF @ light2")
        gpio.write(gpio7, gpio.LOW)
    end
    
  end
     
end)

-- send0/publish chip ID

m:connect(mconf.HOST, mconf.PO</message>
</record>
<record>
  <date>2016-11-11T04:20:19</date>
  <millis>1478809219428</millis>
  <sequence>8896</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>353</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T04:20:19</date>
  <millis>1478809219444</millis>
  <sequence>8897</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:RT, 0, function(conn)

    print("connected")
    print("Your ID: " ..node.chipid())
    -- subscribe both topic

    m:subscribe({["Light1"]=0, ["Light2"]=0}, function(conn) 
        print("subscribe Light 1 and 2 success")
    end)
            
    m:p</message>
</record>
<record>
  <date>2016-11-11T04:20:19</date>
  <millis>1478809219475</millis>
  <sequence>8898</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>353</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T04:20:19</date>
  <millis>1478809219490</millis>
  <sequence>8899</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ublish("ID is: ", node.chipid(),0,0, function(conn) 
        print("sent ID") 
    end)

end, function(client, reason) print("failed reason: "..reason) end)

if m:connect(mconf.HOST, mconf.PORT, 0, function(conn) print("connected2") end) == true then

  </message>
</record>
<record>
  <date>2016-11-11T04:20:19</date>
  <millis>1478809219522</millis>
  <sequence>8900</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>353</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T04:20:19</date>
  <millis>1478809219535</millis>
  <sequence>8901</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:  m:subscribe({["Light1"]=0, ["Light2"]=0}, function(conn) 
        print("subscribe Light 1 and 2 success")
    end)

end

--m:publish("Read", adc.read(0),0,0, function(conn) print("sent adc read") end)
</message>
</record>
<record>
  <date>2016-11-11T04:20:19</date>
  <millis>1478809219562</millis>
  <sequence>8902</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>353</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T04:20:19</date>
  <millis>1478809219575</millis>
  <sequence>8903</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_cmd_close</message>
</record>
<record>
  <date>2016-11-11T04:20:19</date>
  <millis>1478809219588</millis>
  <sequence>8904</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>353</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;--</message>
</record>
<record>
  <date>2016-11-11T04:20:19</date>
  <millis>1478809219589</millis>
  <sequence>8905</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>353</thread>
  <message>recv:Done--&lt;CR&gt;&lt;LF&gt;&gt; &lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T04:20:19</date>
  <millis>1478809219611</millis>
  <sequence>8906</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T04:20:19</date>
  <millis>1478809219614</millis>
  <sequence>8907</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>353</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;&gt; &lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T04:20:19</date>
  <millis>1478809219616</millis>
  <sequence>8908</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>353</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T04:20:19</date>
  <millis>1478809219681</millis>
  <sequence>8909</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>353</thread>
  <message>Operation done. Duration = 974 ms</message>
</record>
<record>
  <date>2016-11-11T04:20:21</date>
  <millis>1478809221887</millis>
  <sequence>8910</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:node.restart()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T04:20:21</date>
  <millis>1478809221889</millis>
  <sequence>8911</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with saved baud 115200...</message>
</record>
<record>
  <date>2016-11-11T04:20:21</date>
  <millis>1478809221951</millis>
  <sequence>8912</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success. Now we waiting for ESP reboot...</message>
</record>
<record>
  <date>2016-11-11T04:20:23</date>
  <millis>1478809223953</millis>
  <sequence>8913</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with baud 115200...</message>
</record>
<record>
  <date>2016-11-11T04:20:23</date>
  <millis>1478809223954</millis>
  <sequence>8914</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:print(uart.setup(0, 115200, 8, 0, 1, 1 ))&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T04:20:24</date>
  <millis>1478809224217</millis>
  <sequence>8915</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success.</message>
</record>
<record>
  <date>2016-11-11T04:20:24</date>
  <millis>1478809224265</millis>
  <sequence>8916</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T04:20:24</date>
  <millis>1478809224267</millis>
  <sequence>8917</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>354</thread>
  <message>
Communication with MCU established.</message>
</record>
<record>
  <date>2016-11-11T04:21:21</date>
  <millis>1478809281037</millis>
  <sequence>8918</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Close port COM11 - Success.</message>
</record>
<record>
  <date>2016-11-11T04:21:49</date>
  <millis>1478809309196</millis>
  <sequence>8919</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Serial port COM11 save as default.</message>
</record>
<record>
  <date>2016-11-11T04:21:49</date>
  <millis>1478809309197</millis>
  <sequence>8920</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Baud rate 115200 save as default.</message>
</record>
<record>
  <date>2016-11-11T04:21:49</date>
  <millis>1478809309199</millis>
  <sequence>8921</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to open port COM11, baud 115200, 8N1</message>
</record>
<record>
  <date>2016-11-11T04:21:49</date>
  <millis>1478809309409</millis>
  <sequence>8922</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Open port COM11 - Success.</message>
</record>
<record>
  <date>2016-11-11T04:21:49</date>
  <millis>1478809309459</millis>
  <sequence>8923</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T04:21:49</date>
  <millis>1478809309549</millis>
  <sequence>8924</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>356</thread>
  <message>
Communication with MCU established.</message>
</record>
<record>
  <date>2016-11-11T04:21:49</date>
  <millis>1478809309551</millis>
  <sequence>8925</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>356</thread>
  <message>sending:=node.heap()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T04:23:19</date>
  <millis>1478809399497</millis>
  <sequence>8926</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>File reload: File changed. Ask before reloading.</message>
</record>
<record>
  <date>2016-11-11T04:23:20</date>
  <millis>1478809400744</millis>
  <sequence>8927</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>File reload: FAIL (file not saved, reload cancelled by user choice)</message>
</record>
<record>
  <date>2016-11-11T04:23:21</date>
  <millis>1478809401855</millis>
  <sequence>8928</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>We save known file mqtt.lua</message>
</record>
<record>
  <date>2016-11-11T04:23:21</date>
  <millis>1478809401855</millis>
  <sequence>8929</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to saving file mqtt.lua ...</message>
</record>
<record>
  <date>2016-11-11T04:23:21</date>
  <millis>1478809401858</millis>
  <sequence>8930</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Save file mqtt.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T04:23:21</date>
  <millis>1478809401863</millis>
  <sequence>8931</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP: Try to save file to ESP...</message>
</record>
<record>
  <date>2016-11-11T04:23:21</date>
  <millis>1478809401864</millis>
  <sequence>8932</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Try to save file to ESP in Turbo Mode...</message>
</record>
<record>
  <date>2016-11-11T04:23:21</date>
  <millis>1478809401872</millis>
  <sequence>8933</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>DataTurboSender: start "Smart Mode"</message>
</record>
<record>
  <date>2016-11-11T04:23:21</date>
  <millis>1478809401873</millis>
  <sequence>8934</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Starting...</message>
</record>
<record>
  <date>2016-11-11T04:23:22</date>
  <millis>1478809402008</millis>
  <sequence>8935</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local FILE="mqtt.lua" file.remove(FILE) file.open(FILE,"w+") uart.setup(0,115200,8,0,1,0)</message>
</record>
<record>
  <date>2016-11-11T04:23:22</date>
  <millis>1478809402011</millis>
  <sequence>8936</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>357</thread>
  <message>recv:local FIL</message>
</record>
<record>
  <date>2016-11-11T04:23:22</date>
  <millis>1478809402014</millis>
  <sequence>8937</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>357</thread>
  <message>recv:E="mqtt.lua" file.remove(FILE) file.op</message>
</record>
<record>
  <date>2016-11-11T04:23:22</date>
  <millis>1478809402015</millis>
  <sequence>8938</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>357</thread>
  <message>recv:en(FILE,"w+") </message>
</record>
<record>
  <date>2016-11-11T04:23:22</date>
  <millis>1478809402016</millis>
  <sequence>8939</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>357</thread>
  <message>recv:uart.set</message>
</record>
<record>
  <date>2016-11-11T04:23:22</date>
  <millis>1478809402017</millis>
  <sequence>8940</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>357</thread>
  <message>recv:up(0,115200,8,0,1,0</message>
</record>
<record>
  <date>2016-11-11T04:23:22</date>
  <millis>1478809402019</millis>
  <sequence>8941</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>357</thread>
  <message>recv:)&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T04:23:22</date>
  <millis>1478809402211</millis>
  <sequence>8942</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>357</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T04:23:22</date>
  <millis>1478809402228</millis>
  <sequence>8943</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_Receiver=function(rcvBuf) if string.match(rcvBuf,"^ESP_cmd_close")==nil then file.write(string.gsub(rcvBuf, '\r', '')) uart.write(0, "&gt; ") else uart.on("data") </message>
</record>
<record>
  <date>2016-11-11T04:23:22</date>
  <millis>1478809402255</millis>
  <sequence>8944</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>357</thread>
  <message>recv:&gt;&gt;</message>
</record>
<record>
  <date>2016-11-11T04:23:22</date>
  <millis>1478809402257</millis>
  <sequence>8945</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>357</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T04:23:22</date>
  <millis>1478809402269</millis>
  <sequence>8946</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:file.flush() file.close() FILE=nil rcvBuf=nil ESP_Receiver=nil uart.setup(0,115200,8,0,1,1) str="\r\n--Done--\r\n&gt; " print(str) str=nil collectgarbage() end end uart.on("data",'\r',ESP_Receiver,0)</message>
</record>
<record>
  <date>2016-11-11T04:23:22</date>
  <millis>1478809402311</millis>
  <sequence>8947</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>357</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T04:23:22</date>
  <millis>1478809402322</millis>
  <sequence>8948</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:control = require "control"

mconf = require "mqtt_config"

print("Running file mqtt")
tmr.delay(100000)

control.status_LED(2000)

gpio6 = 6
gpio.mode(gpio6, gpio.OUTPUT)
gpio.write(gpio6, gpio.LOW)

gpio7 = 7
gpio.mode(gpio7, gpio.OUTPUT)
gpio.write(gp</message>
</record>
<record>
  <date>2016-11-11T04:23:22</date>
  <millis>1478809402351</millis>
  <sequence>8949</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>357</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T04:23:22</date>
  <millis>1478809402364</millis>
  <sequence>8950</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:io7, gpio.LOW)

--print (mconf.MQTTPASS)

-- init mqtt client with keepalive timer 120sec
m = mqtt.Client(mconf.ENDPOINT, 120, mconf.MQTTUSER, mconf.MQTTPASS)

-- setup Last Will and Testament (optional)
-- Broker will publish a message with qos = 0, ret</message>
</record>
<record>
  <date>2016-11-11T04:23:22</date>
  <millis>1478809402394</millis>
  <sequence>8951</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>357</thread>
  <message>recv:&gt;</message>
</record>
<record>
  <date>2016-11-11T04:23:22</date>
  <millis>1478809402396</millis>
  <sequence>8952</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>357</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T04:23:22</date>
  <millis>1478809402409</millis>
  <sequence>8953</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ain = 0, data = "offline" 
-- to topic "/lwt" if client don't send keepalive packet
m:lwt("/lwt", "offline", 0, 0)

-- on / connect and offline event
m:on("connect", function(client) print ("device connected event") end)
m:on("offline", function(client) </message>
</record>
<record>
  <date>2016-11-11T04:23:22</date>
  <millis>1478809402440</millis>
  <sequence>8954</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>357</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T04:23:22</date>
  <millis>1478809402453</millis>
  <sequence>8955</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:print ("device offline event") end)

-- on / message event
m:on("message", function(conn, topic, data)
  print(topic.. " event registered" )
  if topic == "Light1" then
    if data == "ON" then
        print("received message: ON @ light1")
        gpio.</message>
</record>
<record>
  <date>2016-11-11T04:23:22</date>
  <millis>1478809402485</millis>
  <sequence>8956</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>357</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T04:23:22</date>
  <millis>1478809402497</millis>
  <sequence>8957</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:write(gpio6, gpio.HIGH)
    end
    if data == "OFF" then
        print("received message: OFF @ light1")
        gpio.write(gpio6, gpio.LOW)
    end
    
  end
    
  if topic == "Light2" then
    if data == "ON" then
        print("received message: ON</message>
</record>
<record>
  <date>2016-11-11T04:23:22</date>
  <millis>1478809402526</millis>
  <sequence>8958</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>357</thread>
  <message>recv:&gt;</message>
</record>
<record>
  <date>2016-11-11T04:23:22</date>
  <millis>1478809402534</millis>
  <sequence>8959</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>357</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T04:23:22</date>
  <millis>1478809402556</millis>
  <sequence>8960</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending: @ light2")
        gpio.write(gpio7, gpio.HIGH)
    end
    if data == "OFF" then
        print("received message: OFF @ light2")
        gpio.write(gpio7, gpio.LOW)
    end
    
  end
     
end)

-- send0/publish chip ID

m:connect(mconf.HOST, mconf.PO</message>
</record>
<record>
  <date>2016-11-11T04:23:22</date>
  <millis>1478809402588</millis>
  <sequence>8961</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>357</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T04:23:22</date>
  <millis>1478809402607</millis>
  <sequence>8962</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:RT, 0, function(conn)

    print("connected")
    print("Your ID: " ..node.chipid())
    -- subscribe both topic

    m:subscribe({["Light1"]=0, ["Light2"]=0}, function(conn) 
        print("subscribe Light 1 and 2 success")
    end)
            
    m:p</message>
</record>
<record>
  <date>2016-11-11T04:23:22</date>
  <millis>1478809402637</millis>
  <sequence>8963</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>357</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T04:23:22</date>
  <millis>1478809402653</millis>
  <sequence>8964</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ublish("ID is: ", node.chipid(),0,0, function(conn) 
        print("sent ID") 
    end)

end, function(client, reason) print("failed reason: "..reason) end)

    m:subscribe({["Light1"]=0, ["Light2"]=0}, function(conn) 
        print("subscribe Light 1 a</message>
</record>
<record>
  <date>2016-11-11T04:23:22</date>
  <millis>1478809402684</millis>
  <sequence>8965</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>357</thread>
  <message>recv:&gt;</message>
</record>
<record>
  <date>2016-11-11T04:23:22</date>
  <millis>1478809402685</millis>
  <sequence>8966</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>357</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T04:23:22</date>
  <millis>1478809402698</millis>
  <sequence>8967</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:nd 2 success")
    end)

--m:publish("Read", adc.read(0),0,0, function(conn) print("sent adc read") end)
</message>
</record>
<record>
  <date>2016-11-11T04:23:22</date>
  <millis>1478809402715</millis>
  <sequence>8968</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>357</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T04:23:22</date>
  <millis>1478809402727</millis>
  <sequence>8969</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_cmd_close</message>
</record>
<record>
  <date>2016-11-11T04:23:22</date>
  <millis>1478809402738</millis>
  <sequence>8970</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>357</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;-</message>
</record>
<record>
  <date>2016-11-11T04:23:22</date>
  <millis>1478809402739</millis>
  <sequence>8971</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>357</thread>
  <message>recv:-Done--&lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T04:23:22</date>
  <millis>1478809402740</millis>
  <sequence>8972</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>357</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T04:23:22</date>
  <millis>1478809402775</millis>
  <sequence>8973</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T04:23:22</date>
  <millis>1478809402777</millis>
  <sequence>8974</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>357</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T04:23:22</date>
  <millis>1478809402780</millis>
  <sequence>8975</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>357</thread>
  <message>recv:&gt; &lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T04:23:22</date>
  <millis>1478809402800</millis>
  <sequence>8976</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:dofile("mqtt.lua")</message>
</record>
<record>
  <date>2016-11-11T04:23:22</date>
  <millis>1478809402802</millis>
  <sequence>8977</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>357</thread>
  <message>recv:dof</message>
</record>
<record>
  <date>2016-11-11T04:23:22</date>
  <millis>1478809402805</millis>
  <sequence>8978</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>357</thread>
  <message>recv:ile("mqtt.lua")&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T04:23:23</date>
  <millis>1478809403065</millis>
  <sequence>8979</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>357</thread>
  <message>recv:Running file mqtt&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T04:23:23</date>
  <millis>1478809403247</millis>
  <sequence>8980</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>357</thread>
  <message>recv:mqt</message>
</record>
<record>
  <date>2016-11-11T04:23:23</date>
  <millis>1478809403248</millis>
  <sequence>8981</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>357</thread>
  <message>recv:t.lua:79: not c</message>
</record>
<record>
  <date>2016-11-11T04:23:23</date>
  <millis>1478809403250</millis>
  <sequence>8982</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>357</thread>
  <message>recv:onnected&lt;CR&gt;&lt;LF&gt;stack </message>
</record>
<record>
  <date>2016-11-11T04:23:23</date>
  <millis>1478809403251</millis>
  <sequence>8983</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>357</thread>
  <message>recv:traceback:&lt;CR&gt;&lt;LF&gt;	[C]</message>
</record>
<record>
  <date>2016-11-11T04:23:23</date>
  <millis>1478809403252</millis>
  <sequence>8984</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>357</thread>
  <message>recv:: in function </message>
</record>
<record>
  <date>2016-11-11T04:23:23</date>
  <millis>1478809403254</millis>
  <sequence>8985</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>357</thread>
  <message>recv:'subscribe'&lt;CR&gt;&lt;LF&gt;	m</message>
</record>
<record>
  <date>2016-11-11T04:23:23</date>
  <millis>1478809403255</millis>
  <sequence>8986</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>357</thread>
  <message>recv:qtt.lua:79: i</message>
</record>
<record>
  <date>2016-11-11T04:23:23</date>
  <millis>1478809403257</millis>
  <sequence>8987</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>357</thread>
  <message>recv:n main chunk&lt;CR&gt;&lt;LF&gt;	[C]: </message>
</record>
<record>
  <date>2016-11-11T04:23:23</date>
  <millis>1478809403258</millis>
  <sequence>8988</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>357</thread>
  <message>recv:in function 'd</message>
</record>
<record>
  <date>2016-11-11T04:23:23</date>
  <millis>1478809403261</millis>
  <sequence>8989</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>357</thread>
  <message>recv:ofile'&lt;CR&gt;&lt;LF&gt;	stdin:1: in main chunk</message>
</record>
<record>
  <date>2016-11-11T04:23:23</date>
  <millis>1478809403262</millis>
  <sequence>8990</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>357</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T04:23:23</date>
  <millis>1478809403294</millis>
  <sequence>8991</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>357</thread>
  <message>Operation done. Duration = 1429 ms</message>
</record>
<record>
  <date>2016-11-11T04:25:02</date>
  <millis>1478809502153</millis>
  <sequence>8992</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to load file mqtt.lua</message>
</record>
<record>
  <date>2016-11-11T04:25:02</date>
  <millis>1478809502168</millis>
  <sequence>8993</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Loading mqtt.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T04:25:02</date>
  <millis>1478809502169</millis>
  <sequence>8994</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>File reload: Success.</message>
</record>
<record>
  <date>2016-11-11T04:25:02</date>
  <millis>1478809502989</millis>
  <sequence>8995</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>We save known file mqtt.lua</message>
</record>
<record>
  <date>2016-11-11T04:25:02</date>
  <millis>1478809502990</millis>
  <sequence>8996</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to saving file mqtt.lua ...</message>
</record>
<record>
  <date>2016-11-11T04:25:02</date>
  <millis>1478809502992</millis>
  <sequence>8997</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Save file mqtt.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T04:25:03</date>
  <millis>1478809503000</millis>
  <sequence>8998</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP: Try to save file to ESP...</message>
</record>
<record>
  <date>2016-11-11T04:25:03</date>
  <millis>1478809503002</millis>
  <sequence>8999</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Try to save file to ESP in Turbo Mode...</message>
</record>
<record>
  <date>2016-11-11T04:25:03</date>
  <millis>1478809503010</millis>
  <sequence>9000</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>DataTurboSender: start "Smart Mode"</message>
</record>
<record>
  <date>2016-11-11T04:25:03</date>
  <millis>1478809503011</millis>
  <sequence>9001</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Starting...</message>
</record>
<record>
  <date>2016-11-11T04:25:03</date>
  <millis>1478809503168</millis>
  <sequence>9002</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local FILE="mqtt.lua" file.remove(FILE) file.open(FILE,"w+") uart.setup(0,115200,8,0,1,0)</message>
</record>
<record>
  <date>2016-11-11T04:25:03</date>
  <millis>1478809503171</millis>
  <sequence>9003</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>359</thread>
  <message>recv:loca</message>
</record>
<record>
  <date>2016-11-11T04:25:03</date>
  <millis>1478809503174</millis>
  <sequence>9004</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>359</thread>
  <message>recv:l FILE="mqtt.lua" file.remove(FI</message>
</record>
<record>
  <date>2016-11-11T04:25:03</date>
  <millis>1478809503175</millis>
  <sequence>9005</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>359</thread>
  <message>recv:LE) file.open(FILE</message>
</record>
<record>
  <date>2016-11-11T04:25:03</date>
  <millis>1478809503176</millis>
  <sequence>9006</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>359</thread>
  <message>recv:,"w+") uart.setu</message>
</record>
<record>
  <date>2016-11-11T04:25:03</date>
  <millis>1478809503179</millis>
  <sequence>9007</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>359</thread>
  <message>recv:p(0,115200,8,0,1,0)&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T04:25:03</date>
  <millis>1478809503372</millis>
  <sequence>9008</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>359</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T04:25:03</date>
  <millis>1478809503386</millis>
  <sequence>9009</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_Receiver=function(rcvBuf) if string.match(rcvBuf,"^ESP_cmd_close")==nil then file.write(string.gsub(rcvBuf, '\r', '')) uart.write(0, "&gt; ") else uart.on("data") </message>
</record>
<record>
  <date>2016-11-11T04:25:03</date>
  <millis>1478809503413</millis>
  <sequence>9010</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>359</thread>
  <message>recv:&gt;&gt;</message>
</record>
<record>
  <date>2016-11-11T04:25:03</date>
  <millis>1478809503414</millis>
  <sequence>9011</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>359</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T04:25:03</date>
  <millis>1478809503427</millis>
  <sequence>9012</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:file.flush() file.close() FILE=nil rcvBuf=nil ESP_Receiver=nil uart.setup(0,115200,8,0,1,1) str="\r\n--Done--\r\n&gt; " print(str) str=nil collectgarbage() end end uart.on("data",'\r',ESP_Receiver,0)</message>
</record>
<record>
  <date>2016-11-11T04:25:03</date>
  <millis>1478809503469</millis>
  <sequence>9013</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>359</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T04:25:03</date>
  <millis>1478809503481</millis>
  <sequence>9014</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:control = require "control"

mconf = require "mqtt_config"

print("Running file mqtt")
tmr.delay(100000)

control.status_LED(2000)

gpio6 = 6
gpio.mode(gpio6, gpio.OUTPUT)
gpio.write(gpio6, gpio.LOW)

gpio7 = 7
gpio.mode(gpio7, gpio.OUTPUT)
gpio.write(gp</message>
</record>
<record>
  <date>2016-11-11T04:25:03</date>
  <millis>1478809503510</millis>
  <sequence>9015</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>359</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T04:25:03</date>
  <millis>1478809503522</millis>
  <sequence>9016</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:io7, gpio.LOW)

--print (mconf.MQTTPASS)

-- init mqtt client with keepalive timer 120sec
m = mqtt.Client(mconf.ENDPOINT, 120, mconf.MQTTUSER, mconf.MQTTPASS)

-- setup Last Will and Testament (optional)
-- Broker will publish a message with qos = 0, ret</message>
</record>
<record>
  <date>2016-11-11T04:25:03</date>
  <millis>1478809503553</millis>
  <sequence>9017</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>359</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T04:25:03</date>
  <millis>1478809503564</millis>
  <sequence>9018</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ain = 0, data = "offline" 
-- to topic "/lwt" if client don't send keepalive packet
m:lwt("/lwt", "offline", 0, 0)

-- on / connect and offline event
m:on("connect", function(client) print ("device connected event") end)
m:on("offline", function(client) </message>
</record>
<record>
  <date>2016-11-11T04:25:03</date>
  <millis>1478809503595</millis>
  <sequence>9019</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>359</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T04:25:03</date>
  <millis>1478809503608</millis>
  <sequence>9020</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:print ("device offline event") end)

-- on / message event
m:on("message", function(conn, topic, data)
  print(topic.. " event registered" )
  if topic == "Light1" then
    if data == "ON" then
        print("received message: ON @ light1")
        gpio.</message>
</record>
<record>
  <date>2016-11-11T04:25:03</date>
  <millis>1478809503638</millis>
  <sequence>9021</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>359</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T04:25:03</date>
  <millis>1478809503650</millis>
  <sequence>9022</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:write(gpio6, gpio.HIGH)
    end
    if data == "OFF" then
        print("received message: OFF @ light1")
        gpio.write(gpio6, gpio.LOW)
    end
    
  end
    
  if topic == "Light2" then
    if data == "ON" then
        print("received message: ON</message>
</record>
<record>
  <date>2016-11-11T04:25:03</date>
  <millis>1478809503681</millis>
  <sequence>9023</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>359</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T04:25:03</date>
  <millis>1478809503693</millis>
  <sequence>9024</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending: @ light2")
        gpio.write(gpio7, gpio.HIGH)
    end
    if data == "OFF" then
        print("received message: OFF @ light2")
        gpio.write(gpio7, gpio.LOW)
    end
    
  end
     
end)

-- send0/publish chip ID

m:connect(mconf.HOST, mconf.PO</message>
</record>
<record>
  <date>2016-11-11T04:25:03</date>
  <millis>1478809503725</millis>
  <sequence>9025</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>359</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T04:25:03</date>
  <millis>1478809503736</millis>
  <sequence>9026</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:RT, 0, function(conn)

    print("connected")
    print("Your ID: " ..node.chipid())
    -- subscribe both topic

    m:subscribe({["Light1"]=0, ["Light2"]=0}, function(conn) 
        print("subscribe Light 1 and 2 success")
    end)
            
    m:p</message>
</record>
<record>
  <date>2016-11-11T04:25:03</date>
  <millis>1478809503767</millis>
  <sequence>9027</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>359</thread>
  <message>recv:&gt;</message>
</record>
<record>
  <date>2016-11-11T04:25:03</date>
  <millis>1478809503769</millis>
  <sequence>9028</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>359</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T04:25:03</date>
  <millis>1478809503784</millis>
  <sequence>9029</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ublish("ID is: ", node.chipid(),0,0, function(conn) 
        print("sent ID") 
    end)

end, function(client, reason) print("failed reason: "..reason) end)

    m:subscribe({["Light1"]=0, ["Light2"]=0}, function(conn) 
        print("subscribe Light 1 a</message>
</record>
<record>
  <date>2016-11-11T04:25:03</date>
  <millis>1478809503816</millis>
  <sequence>9030</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>359</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T04:25:03</date>
  <millis>1478809503829</millis>
  <sequence>9031</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:nd 2 success")
    end)

print (m:connect(mconf.HOST, mconf.PORT, 0, function(conn) end))
--m:publish("Read", adc.read(0),0,0, function(conn) print("sent adc read") end)
</message>
</record>
<record>
  <date>2016-11-11T04:25:03</date>
  <millis>1478809503855</millis>
  <sequence>9032</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>359</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T04:25:03</date>
  <millis>1478809503874</millis>
  <sequence>9033</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_cmd_close</message>
</record>
<record>
  <date>2016-11-11T04:25:03</date>
  <millis>1478809503887</millis>
  <sequence>9034</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>359</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T04:25:03</date>
  <millis>1478809503888</millis>
  <sequence>9035</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>359</thread>
  <message>recv:--Done--&lt;CR&gt;&lt;LF&gt;&gt; &lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T04:25:03</date>
  <millis>1478809503915</millis>
  <sequence>9036</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T04:25:03</date>
  <millis>1478809503917</millis>
  <sequence>9037</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>359</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;&gt;</message>
</record>
<record>
  <date>2016-11-11T04:25:03</date>
  <millis>1478809503920</millis>
  <sequence>9038</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>359</thread>
  <message>recv: &lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T04:25:03</date>
  <millis>1478809503938</millis>
  <sequence>9039</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:dofile("mqtt.lua")</message>
</record>
<record>
  <date>2016-11-11T04:25:03</date>
  <millis>1478809503940</millis>
  <sequence>9040</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>359</thread>
  <message>recv:dofi</message>
</record>
<record>
  <date>2016-11-11T04:25:03</date>
  <millis>1478809503944</millis>
  <sequence>9041</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>359</thread>
  <message>recv:le("mqtt.lua")&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T04:25:04</date>
  <millis>1478809504204</millis>
  <sequence>9042</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>359</thread>
  <message>recv:Ru</message>
</record>
<record>
  <date>2016-11-11T04:25:04</date>
  <millis>1478809504206</millis>
  <sequence>9043</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>359</thread>
  <message>recv:nning file mqtt&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T04:25:04</date>
  <millis>1478809504387</millis>
  <sequence>9044</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>359</thread>
  <message>recv:mq</message>
</record>
<record>
  <date>2016-11-11T04:25:04</date>
  <millis>1478809504392</millis>
  <sequence>9045</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>359</thread>
  <message>recv:tt.lua:79: not connected&lt;CR&gt;&lt;LF&gt;stack traceback:&lt;CR&gt;&lt;LF&gt;	[C]: in fun</message>
</record>
<record>
  <date>2016-11-11T04:25:04</date>
  <millis>1478809504399</millis>
  <sequence>9046</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>359</thread>
  <message>recv:ction 'subscribe'&lt;CR&gt;&lt;LF&gt;	mqtt.lua:79: in main chunk&lt;CR&gt;&lt;LF&gt;	[C]: in function 'dofile'&lt;CR&gt;&lt;LF&gt;	stdin:1: </message>
</record>
<record>
  <date>2016-11-11T04:25:04</date>
  <millis>1478809504403</millis>
  <sequence>9047</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>359</thread>
  <message>recv:in main chunk&lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T04:25:04</date>
  <millis>1478809504476</millis>
  <sequence>9048</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>359</thread>
  <message>Operation done. Duration = 1471 ms</message>
</record>
<record>
  <date>2016-11-11T04:25:20</date>
  <millis>1478809520949</millis>
  <sequence>9049</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>We save known file mqtt.lua</message>
</record>
<record>
  <date>2016-11-11T04:25:20</date>
  <millis>1478809520951</millis>
  <sequence>9050</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to saving file mqtt.lua ...</message>
</record>
<record>
  <date>2016-11-11T04:25:20</date>
  <millis>1478809520954</millis>
  <sequence>9051</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Save file mqtt.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T04:25:20</date>
  <millis>1478809520967</millis>
  <sequence>9052</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP: Try to save file to ESP...</message>
</record>
<record>
  <date>2016-11-11T04:25:20</date>
  <millis>1478809520968</millis>
  <sequence>9053</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Try to save file to ESP in Turbo Mode...</message>
</record>
<record>
  <date>2016-11-11T04:25:20</date>
  <millis>1478809520983</millis>
  <sequence>9054</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>DataTurboSender: start "Smart Mode"</message>
</record>
<record>
  <date>2016-11-11T04:25:20</date>
  <millis>1478809520985</millis>
  <sequence>9055</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Starting...</message>
</record>
<record>
  <date>2016-11-11T04:25:21</date>
  <millis>1478809521112</millis>
  <sequence>9056</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local FILE="mqtt.lua" file.remove(FILE) file.open(FILE,"w+") uart.setup(0,115200,8,0,1,0)</message>
</record>
<record>
  <date>2016-11-11T04:25:21</date>
  <millis>1478809521114</millis>
  <sequence>9057</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>361</thread>
  <message>recv:lo</message>
</record>
<record>
  <date>2016-11-11T04:25:21</date>
  <millis>1478809521122</millis>
  <sequence>9058</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>361</thread>
  <message>recv:cal FILE="mqtt.lua" file.remove(FILE) file.open(FILE,"w+") uart.setup(0,115200,8,0,1,0)&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T04:25:21</date>
  <millis>1478809521315</millis>
  <sequence>9059</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>361</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T04:25:21</date>
  <millis>1478809521338</millis>
  <sequence>9060</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_Receiver=function(rcvBuf) if string.match(rcvBuf,"^ESP_cmd_close")==nil then file.write(string.gsub(rcvBuf, '\r', '')) uart.write(0, "&gt; ") else uart.on("data") </message>
</record>
<record>
  <date>2016-11-11T04:25:21</date>
  <millis>1478809521365</millis>
  <sequence>9061</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>361</thread>
  <message>recv:&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T04:25:21</date>
  <millis>1478809521386</millis>
  <sequence>9062</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:file.flush() file.close() FILE=nil rcvBuf=nil ESP_Receiver=nil uart.setup(0,115200,8,0,1,1) str="\r\n--Done--\r\n&gt; " print(str) str=nil collectgarbage() end end uart.on("data",'\r',ESP_Receiver,0)</message>
</record>
<record>
  <date>2016-11-11T04:25:21</date>
  <millis>1478809521427</millis>
  <sequence>9063</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>361</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T04:25:21</date>
  <millis>1478809521440</millis>
  <sequence>9064</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:control = require "control"

mconf = require "mqtt_config"

print("Running file mqtt")
tmr.delay(100000)

control.status_LED(2000)

gpio6 = 6
gpio.mode(gpio6, gpio.OUTPUT)
gpio.write(gpio6, gpio.LOW)

gpio7 = 7
gpio.mode(gpio7, gpio.OUTPUT)
gpio.write(gp</message>
</record>
<record>
  <date>2016-11-11T04:25:21</date>
  <millis>1478809521469</millis>
  <sequence>9065</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>361</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T04:25:21</date>
  <millis>1478809521483</millis>
  <sequence>9066</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:io7, gpio.LOW)

--print (mconf.MQTTPASS)

-- init mqtt client with keepalive timer 120sec
m = mqtt.Client(mconf.ENDPOINT, 120, mconf.MQTTUSER, mconf.MQTTPASS)

-- setup Last Will and Testament (optional)
-- Broker will publish a message with qos = 0, ret</message>
</record>
<record>
  <date>2016-11-11T04:25:21</date>
  <millis>1478809521514</millis>
  <sequence>9067</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>361</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T04:25:21</date>
  <millis>1478809521526</millis>
  <sequence>9068</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ain = 0, data = "offline" 
-- to topic "/lwt" if client don't send keepalive packet
m:lwt("/lwt", "offline", 0, 0)

-- on / connect and offline event
m:on("connect", function(client) print ("device connected event") end)
m:on("offline", function(client) </message>
</record>
<record>
  <date>2016-11-11T04:25:21</date>
  <millis>1478809521557</millis>
  <sequence>9069</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>361</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T04:25:21</date>
  <millis>1478809521569</millis>
  <sequence>9070</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:print ("device offline event") end)

-- on / message event
m:on("message", function(conn, topic, data)
  print(topic.. " event registered" )
  if topic == "Light1" then
    if data == "ON" then
        print("received message: ON @ light1")
        gpio.</message>
</record>
<record>
  <date>2016-11-11T04:25:21</date>
  <millis>1478809521601</millis>
  <sequence>9071</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>361</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T04:25:21</date>
  <millis>1478809521613</millis>
  <sequence>9072</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:write(gpio6, gpio.HIGH)
    end
    if data == "OFF" then
        print("received message: OFF @ light1")
        gpio.write(gpio6, gpio.LOW)
    end
    
  end
    
  if topic == "Light2" then
    if data == "ON" then
        print("received message: ON</message>
</record>
<record>
  <date>2016-11-11T04:25:21</date>
  <millis>1478809521643</millis>
  <sequence>9073</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>361</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T04:25:21</date>
  <millis>1478809521656</millis>
  <sequence>9074</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending: @ light2")
        gpio.write(gpio7, gpio.HIGH)
    end
    if data == "OFF" then
        print("received message: OFF @ light2")
        gpio.write(gpio7, gpio.LOW)
    end
    
  end
     
end)

-- send0/publish chip ID

m:connect(mconf.HOST, mconf.PO</message>
</record>
<record>
  <date>2016-11-11T04:25:21</date>
  <millis>1478809521688</millis>
  <sequence>9075</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>361</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T04:25:21</date>
  <millis>1478809521700</millis>
  <sequence>9076</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:RT, 0, function(conn)

    print("connected")
    print("Your ID: " ..node.chipid())
    -- subscribe both topic

    m:subscribe({["Light1"]=0, ["Light2"]=0}, function(conn) 
        print("subscribe Light 1 and 2 success")
    end)
            
    m:p</message>
</record>
<record>
  <date>2016-11-11T04:25:21</date>
  <millis>1478809521731</millis>
  <sequence>9077</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>361</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T04:25:21</date>
  <millis>1478809521744</millis>
  <sequence>9078</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ublish("ID is: ", node.chipid(),0,0, function(conn) 
        print("sent ID") 
    end)

end, function(client, reason) print("failed reason: "..reason) end)


print (m:connect(mconf.HOST, mconf.PORT, 0, function(conn) end))
--m:publish("Read", adc.read(0</message>
</record>
<record>
  <date>2016-11-11T04:25:21</date>
  <millis>1478809521775</millis>
  <sequence>9079</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>361</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T04:25:21</date>
  <millis>1478809521788</millis>
  <sequence>9080</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:),0,0, function(conn) print("sent adc read") end)
</message>
</record>
<record>
  <date>2016-11-11T04:25:21</date>
  <millis>1478809521800</millis>
  <sequence>9081</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>361</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T04:25:21</date>
  <millis>1478809521815</millis>
  <sequence>9082</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_cmd_close</message>
</record>
<record>
  <date>2016-11-11T04:25:21</date>
  <millis>1478809521827</millis>
  <sequence>9083</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>361</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;-</message>
</record>
<record>
  <date>2016-11-11T04:25:21</date>
  <millis>1478809521828</millis>
  <sequence>9084</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>361</thread>
  <message>recv:-Done--&lt;CR&gt;&lt;LF&gt;&gt; &lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T04:25:21</date>
  <millis>1478809521846</millis>
  <sequence>9085</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T04:25:21</date>
  <millis>1478809521847</millis>
  <sequence>9086</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>361</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;&gt;</message>
</record>
<record>
  <date>2016-11-11T04:25:21</date>
  <millis>1478809521850</millis>
  <sequence>9087</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>361</thread>
  <message>recv: &lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T04:25:21</date>
  <millis>1478809521870</millis>
  <sequence>9088</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:dofile("mqtt.lua")</message>
</record>
<record>
  <date>2016-11-11T04:25:21</date>
  <millis>1478809521872</millis>
  <sequence>9089</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>361</thread>
  <message>recv:do</message>
</record>
<record>
  <date>2016-11-11T04:25:21</date>
  <millis>1478809521875</millis>
  <sequence>9090</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>361</thread>
  <message>recv:file("mqtt.lua")&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T04:25:22</date>
  <millis>1478809522133</millis>
  <sequence>9091</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>361</thread>
  <message>recv:Runnin</message>
</record>
<record>
  <date>2016-11-11T04:25:22</date>
  <millis>1478809522135</millis>
  <sequence>9092</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>361</thread>
  <message>recv:g file mqtt&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T04:25:22</date>
  <millis>1478809522255</millis>
  <sequence>9093</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>361</thread>
  <message>recv:tr</message>
</record>
<record>
  <date>2016-11-11T04:25:22</date>
  <millis>1478809522256</millis>
  <sequence>9094</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>361</thread>
  <message>recv:ue&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T04:25:22</date>
  <millis>1478809522258</millis>
  <sequence>9095</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>361</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T04:25:22</date>
  <millis>1478809522330</millis>
  <sequence>9096</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>361</thread>
  <message>Operation done. Duration = 1360 ms</message>
</record>
<record>
  <date>2016-11-11T04:25:54</date>
  <millis>1478809554328</millis>
  <sequence>9097</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>We save known file mqtt.lua</message>
</record>
<record>
  <date>2016-11-11T04:25:54</date>
  <millis>1478809554329</millis>
  <sequence>9098</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to saving file mqtt.lua ...</message>
</record>
<record>
  <date>2016-11-11T04:25:54</date>
  <millis>1478809554331</millis>
  <sequence>9099</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Save file mqtt.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T04:25:54</date>
  <millis>1478809554333</millis>
  <sequence>9100</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP: Try to save file to ESP...</message>
</record>
<record>
  <date>2016-11-11T04:25:54</date>
  <millis>1478809554334</millis>
  <sequence>9101</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Try to save file to ESP in Turbo Mode...</message>
</record>
<record>
  <date>2016-11-11T04:25:54</date>
  <millis>1478809554341</millis>
  <sequence>9102</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>DataTurboSender: start "Smart Mode"</message>
</record>
<record>
  <date>2016-11-11T04:25:54</date>
  <millis>1478809554343</millis>
  <sequence>9103</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Starting...</message>
</record>
<record>
  <date>2016-11-11T04:25:54</date>
  <millis>1478809554481</millis>
  <sequence>9104</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local FILE="mqtt.lua" file.remove(FILE) file.open(FILE,"w+") uart.setup(0,115200,8,0,1,0)</message>
</record>
<record>
  <date>2016-11-11T04:25:54</date>
  <millis>1478809554483</millis>
  <sequence>9105</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>363</thread>
  <message>recv:lo</message>
</record>
<record>
  <date>2016-11-11T04:25:54</date>
  <millis>1478809554484</millis>
  <sequence>9106</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>363</thread>
  <message>recv:cal FILE="mqtt.lu</message>
</record>
<record>
  <date>2016-11-11T04:25:54</date>
  <millis>1478809554487</millis>
  <sequence>9107</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>363</thread>
  <message>recv:a" file.remove(FILE) file.ope</message>
</record>
<record>
  <date>2016-11-11T04:25:54</date>
  <millis>1478809554489</millis>
  <sequence>9108</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>363</thread>
  <message>recv:n(FILE,"w+") uart.setup</message>
</record>
<record>
  <date>2016-11-11T04:25:54</date>
  <millis>1478809554490</millis>
  <sequence>9109</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>363</thread>
  <message>recv:(0,115200,8,0,</message>
</record>
<record>
  <date>2016-11-11T04:25:54</date>
  <millis>1478809554494</millis>
  <sequence>9110</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>363</thread>
  <message>recv:1,0)&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T04:25:54</date>
  <millis>1478809554671</millis>
  <sequence>9111</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>363</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T04:25:54</date>
  <millis>1478809554684</millis>
  <sequence>9112</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_Receiver=function(rcvBuf) if string.match(rcvBuf,"^ESP_cmd_close")==nil then file.write(string.gsub(rcvBuf, '\r', '')) uart.write(0, "&gt; ") else uart.on("data") </message>
</record>
<record>
  <date>2016-11-11T04:25:54</date>
  <millis>1478809554712</millis>
  <sequence>9113</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>363</thread>
  <message>recv:&gt;&gt;</message>
</record>
<record>
  <date>2016-11-11T04:25:54</date>
  <millis>1478809554714</millis>
  <sequence>9114</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>363</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T04:25:54</date>
  <millis>1478809554726</millis>
  <sequence>9115</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:file.flush() file.close() FILE=nil rcvBuf=nil ESP_Receiver=nil uart.setup(0,115200,8,0,1,1) str="\r\n--Done--\r\n&gt; " print(str) str=nil collectgarbage() end end uart.on("data",'\r',ESP_Receiver,0)</message>
</record>
<record>
  <date>2016-11-11T04:25:54</date>
  <millis>1478809554767</millis>
  <sequence>9116</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>363</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T04:25:54</date>
  <millis>1478809554779</millis>
  <sequence>9117</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:control = require "control"

mconf = require "mqtt_config"

print("Running file mqtt")
tmr.delay(100000)

control.status_LED(2000)

gpio6 = 6
gpio.mode(gpio6, gpio.OUTPUT)
gpio.write(gpio6, gpio.LOW)

gpio7 = 7
gpio.mode(gpio7, gpio.OUTPUT)
gpio.write(gp</message>
</record>
<record>
  <date>2016-11-11T04:25:54</date>
  <millis>1478809554808</millis>
  <sequence>9118</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>363</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T04:25:54</date>
  <millis>1478809554820</millis>
  <sequence>9119</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:io7, gpio.LOW)

--print (mconf.MQTTPASS)

-- init mqtt client with keepalive timer 120sec
m = mqtt.Client(mconf.ENDPOINT, 120, mconf.MQTTUSER, mconf.MQTTPASS)

-- setup Last Will and Testament (optional)
-- Broker will publish a message with qos = 0, ret</message>
</record>
<record>
  <date>2016-11-11T04:25:54</date>
  <millis>1478809554852</millis>
  <sequence>9120</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>363</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T04:25:54</date>
  <millis>1478809554864</millis>
  <sequence>9121</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ain = 0, data = "offline" 
-- to topic "/lwt" if client don't send keepalive packet
m:lwt("/lwt", "offline", 0, 0)

-- on / connect and offline event
m:on("connect", function(client) print ("device connected event") end)
m:on("offline", function(client) </message>
</record>
<record>
  <date>2016-11-11T04:25:54</date>
  <millis>1478809554895</millis>
  <sequence>9122</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>363</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T04:25:54</date>
  <millis>1478809554907</millis>
  <sequence>9123</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:print ("device offline event") end)

-- on / message event
m:on("message", function(conn, topic, data)
  print(topic.. " event registered" )
  if topic == "Light1" then
    if data == "ON" then
        print("received message: ON @ light1")
        gpio.</message>
</record>
<record>
  <date>2016-11-11T04:25:54</date>
  <millis>1478809554939</millis>
  <sequence>9124</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>363</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T04:25:54</date>
  <millis>1478809554951</millis>
  <sequence>9125</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:write(gpio6, gpio.HIGH)
    end
    if data == "OFF" then
        print("received message: OFF @ light1")
        gpio.write(gpio6, gpio.LOW)
    end
    
  end
    
  if topic == "Light2" then
    if data == "ON" then
        print("received message: ON</message>
</record>
<record>
  <date>2016-11-11T04:25:54</date>
  <millis>1478809554982</millis>
  <sequence>9126</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>363</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T04:25:54</date>
  <millis>1478809554995</millis>
  <sequence>9127</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending: @ light2")
        gpio.write(gpio7, gpio.HIGH)
    end
    if data == "OFF" then
        print("received message: OFF @ light2")
        gpio.write(gpio7, gpio.LOW)
    end
    
  end
     
end)

-- send0/publish chip ID

m:connect(mconf.HOST, mconf.PO</message>
</record>
<record>
  <date>2016-11-11T04:25:55</date>
  <millis>1478809555026</millis>
  <sequence>9128</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>363</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T04:25:55</date>
  <millis>1478809555045</millis>
  <sequence>9129</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:RT, 0, function(conn)

    print("connected")
    print("Your ID: " ..node.chipid())
    -- subscribe both topic

    m:subscribe({["Light1"]=0, ["Light2"]=0}, function(conn) 
        print("subscribe Light 1 and 2 success")
    end)
            
    m:p</message>
</record>
<record>
  <date>2016-11-11T04:25:55</date>
  <millis>1478809555077</millis>
  <sequence>9130</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>363</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T04:25:55</date>
  <millis>1478809555089</millis>
  <sequence>9131</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ublish("ID is: ", node.chipid(),0,0, function(conn) 
        print("sent ID") 
    end)

end, function(client, reason) print("failed reason: "..reason) end)


if m:connect(mconf.HOST, mconf.PORT, 0, function(conn) end) == true
    m:publish("ID is: ", no</message>
</record>
<record>
  <date>2016-11-11T04:25:55</date>
  <millis>1478809555120</millis>
  <sequence>9132</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>363</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T04:25:55</date>
  <millis>1478809555133</millis>
  <sequence>9133</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:de.chipid(),0,0, function(conn) 
        print("sent ID") 
    end)
end
--m:publish("Read", adc.read(0),0,0, function(conn) print("sent adc read") end)
</message>
</record>
<record>
  <date>2016-11-11T04:25:55</date>
  <millis>1478809555157</millis>
  <sequence>9134</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>363</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T04:25:55</date>
  <millis>1478809555169</millis>
  <sequence>9135</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_cmd_close</message>
</record>
<record>
  <date>2016-11-11T04:25:55</date>
  <millis>1478809555182</millis>
  <sequence>9136</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>363</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;--</message>
</record>
<record>
  <date>2016-11-11T04:25:55</date>
  <millis>1478809555183</millis>
  <sequence>9137</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>363</thread>
  <message>recv:Done--&lt;CR&gt;&lt;LF&gt;&gt; &lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T04:25:55</date>
  <millis>1478809555210</millis>
  <sequence>9138</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T04:25:55</date>
  <millis>1478809555212</millis>
  <sequence>9139</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>363</thread>
  <message>recv:&lt;CR&gt;</message>
</record>
<record>
  <date>2016-11-11T04:25:55</date>
  <millis>1478809555214</millis>
  <sequence>9140</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>363</thread>
  <message>recv:&lt;LF&gt;&gt; &lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T04:25:55</date>
  <millis>1478809555234</millis>
  <sequence>9141</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:dofile("mqtt.lua")</message>
</record>
<record>
  <date>2016-11-11T04:25:55</date>
  <millis>1478809555236</millis>
  <sequence>9142</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>363</thread>
  <message>recv:do</message>
</record>
<record>
  <date>2016-11-11T04:25:55</date>
  <millis>1478809555241</millis>
  <sequence>9143</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>363</thread>
  <message>recv:file("mqtt.lua")&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T04:25:55</date>
  <millis>1478809555318</millis>
  <sequence>9144</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>363</thread>
  <message>recv:mqt</message>
</record>
<record>
  <date>2016-11-11T04:25:55</date>
  <millis>1478809555319</millis>
  <sequence>9145</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>363</thread>
  <message>recv:t.lua:81: 'then'</message>
</record>
<record>
  <date>2016-11-11T04:25:55</date>
  <millis>1478809555322</millis>
  <sequence>9146</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>363</thread>
  <message>recv: expected near 'm'&lt;CR&gt;&lt;LF&gt;stack t</message>
</record>
<record>
  <date>2016-11-11T04:25:55</date>
  <millis>1478809555323</millis>
  <sequence>9147</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>363</thread>
  <message>recv:raceback:&lt;CR&gt;&lt;LF&gt;	[C]: </message>
</record>
<record>
  <date>2016-11-11T04:25:55</date>
  <millis>1478809555326</millis>
  <sequence>9148</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>363</thread>
  <message>recv:in function 'dofile'&lt;CR&gt;&lt;LF&gt;	stdin:1: in</message>
</record>
<record>
  <date>2016-11-11T04:25:55</date>
  <millis>1478809555327</millis>
  <sequence>9149</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>363</thread>
  <message>recv: main chunk&lt;CR&gt;</message>
</record>
<record>
  <date>2016-11-11T04:25:55</date>
  <millis>1478809555328</millis>
  <sequence>9150</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>363</thread>
  <message>recv:&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T04:25:55</date>
  <millis>1478809555399</millis>
  <sequence>9151</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>363</thread>
  <message>Operation done. Duration = 1063 ms</message>
</record>
<record>
  <date>2016-11-11T04:25:57</date>
  <millis>1478809557849</millis>
  <sequence>9152</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>We save known file mqtt.lua</message>
</record>
<record>
  <date>2016-11-11T04:25:57</date>
  <millis>1478809557849</millis>
  <sequence>9153</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to saving file mqtt.lua ...</message>
</record>
<record>
  <date>2016-11-11T04:25:57</date>
  <millis>1478809557851</millis>
  <sequence>9154</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Save file mqtt.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T04:25:57</date>
  <millis>1478809557853</millis>
  <sequence>9155</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP: Try to save file to ESP...</message>
</record>
<record>
  <date>2016-11-11T04:25:57</date>
  <millis>1478809557854</millis>
  <sequence>9156</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Try to save file to ESP in Turbo Mode...</message>
</record>
<record>
  <date>2016-11-11T04:25:57</date>
  <millis>1478809557861</millis>
  <sequence>9157</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>DataTurboSender: start "Smart Mode"</message>
</record>
<record>
  <date>2016-11-11T04:25:57</date>
  <millis>1478809557862</millis>
  <sequence>9158</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Starting...</message>
</record>
<record>
  <date>2016-11-11T04:25:57</date>
  <millis>1478809557986</millis>
  <sequence>9159</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local FILE="mqtt.lua" file.remove(FILE) file.open(FILE,"w+") uart.setup(0,115200,8,0,1,0)</message>
</record>
<record>
  <date>2016-11-11T04:25:57</date>
  <millis>1478809557989</millis>
  <sequence>9160</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>365</thread>
  <message>recv:loca</message>
</record>
<record>
  <date>2016-11-11T04:25:57</date>
  <millis>1478809557990</millis>
  <sequence>9161</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>365</thread>
  <message>recv:l FILE="mqtt.lua" fi</message>
</record>
<record>
  <date>2016-11-11T04:25:57</date>
  <millis>1478809557993</millis>
  <sequence>9162</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>365</thread>
  <message>recv:le.remove(FILE) file.ope</message>
</record>
<record>
  <date>2016-11-11T04:25:57</date>
  <millis>1478809557995</millis>
  <sequence>9163</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>365</thread>
  <message>recv:n(FILE,"w+") uart.setup(</message>
</record>
<record>
  <date>2016-11-11T04:25:57</date>
  <millis>1478809557996</millis>
  <sequence>9164</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>365</thread>
  <message>recv:0,1152</message>
</record>
<record>
  <date>2016-11-11T04:25:57</date>
  <millis>1478809557997</millis>
  <sequence>9165</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>365</thread>
  <message>recv:00,</message>
</record>
<record>
  <date>2016-11-11T04:25:57</date>
  <millis>1478809557998</millis>
  <sequence>9166</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>365</thread>
  <message>recv:8,0,1,0)&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T04:25:58</date>
  <millis>1478809558177</millis>
  <sequence>9167</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>365</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T04:25:58</date>
  <millis>1478809558193</millis>
  <sequence>9168</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_Receiver=function(rcvBuf) if string.match(rcvBuf,"^ESP_cmd_close")==nil then file.write(string.gsub(rcvBuf, '\r', '')) uart.write(0, "&gt; ") else uart.on("data") </message>
</record>
<record>
  <date>2016-11-11T04:25:58</date>
  <millis>1478809558220</millis>
  <sequence>9169</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>365</thread>
  <message>recv:&gt;&gt;</message>
</record>
<record>
  <date>2016-11-11T04:25:58</date>
  <millis>1478809558222</millis>
  <sequence>9170</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>365</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T04:25:58</date>
  <millis>1478809558236</millis>
  <sequence>9171</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:file.flush() file.close() FILE=nil rcvBuf=nil ESP_Receiver=nil uart.setup(0,115200,8,0,1,1) str="\r\n--Done--\r\n&gt; " print(str) str=nil collectgarbage() end end uart.on("data",'\r',ESP_Receiver,0)</message>
</record>
<record>
  <date>2016-11-11T04:25:58</date>
  <millis>1478809558276</millis>
  <sequence>9172</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>365</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T04:25:58</date>
  <millis>1478809558287</millis>
  <sequence>9173</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:control = require "control"

mconf = require "mqtt_config"

print("Running file mqtt")
tmr.delay(100000)

control.status_LED(2000)

gpio6 = 6
gpio.mode(gpio6, gpio.OUTPUT)
gpio.write(gpio6, gpio.LOW)

gpio7 = 7
gpio.mode(gpio7, gpio.OUTPUT)
gpio.write(gp</message>
</record>
<record>
  <date>2016-11-11T04:25:58</date>
  <millis>1478809558317</millis>
  <sequence>9174</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>365</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T04:25:58</date>
  <millis>1478809558328</millis>
  <sequence>9175</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:io7, gpio.LOW)

--print (mconf.MQTTPASS)

-- init mqtt client with keepalive timer 120sec
m = mqtt.Client(mconf.ENDPOINT, 120, mconf.MQTTUSER, mconf.MQTTPASS)

-- setup Last Will and Testament (optional)
-- Broker will publish a message with qos = 0, ret</message>
</record>
<record>
  <date>2016-11-11T04:25:58</date>
  <millis>1478809558360</millis>
  <sequence>9176</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>365</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T04:25:58</date>
  <millis>1478809558373</millis>
  <sequence>9177</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ain = 0, data = "offline" 
-- to topic "/lwt" if client don't send keepalive packet
m:lwt("/lwt", "offline", 0, 0)

-- on / connect and offline event
m:on("connect", function(client) print ("device connected event") end)
m:on("offline", function(client) </message>
</record>
<record>
  <date>2016-11-11T04:25:58</date>
  <millis>1478809558403</millis>
  <sequence>9178</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>365</thread>
  <message>recv:&gt;</message>
</record>
<record>
  <date>2016-11-11T04:25:58</date>
  <millis>1478809558405</millis>
  <sequence>9179</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>365</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T04:25:58</date>
  <millis>1478809558418</millis>
  <sequence>9180</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:print ("device offline event") end)

-- on / message event
m:on("message", function(conn, topic, data)
  print(topic.. " event registered" )
  if topic == "Light1" then
    if data == "ON" then
        print("received message: ON @ light1")
        gpio.</message>
</record>
<record>
  <date>2016-11-11T04:25:58</date>
  <millis>1478809558451</millis>
  <sequence>9181</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>365</thread>
  <message>recv:&gt;</message>
</record>
<record>
  <date>2016-11-11T04:25:58</date>
  <millis>1478809558452</millis>
  <sequence>9182</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>365</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T04:25:58</date>
  <millis>1478809558465</millis>
  <sequence>9183</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:write(gpio6, gpio.HIGH)
    end
    if data == "OFF" then
        print("received message: OFF @ light1")
        gpio.write(gpio6, gpio.LOW)
    end
    
  end
    
  if topic == "Light2" then
    if data == "ON" then
        print("received message: ON</message>
</record>
<record>
  <date>2016-11-11T04:25:58</date>
  <millis>1478809558495</millis>
  <sequence>9184</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>365</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T04:25:58</date>
  <millis>1478809558507</millis>
  <sequence>9185</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending: @ light2")
        gpio.write(gpio7, gpio.HIGH)
    end
    if data == "OFF" then
        print("received message: OFF @ light2")
        gpio.write(gpio7, gpio.LOW)
    end
    
  end
     
end)

-- send0/publish chip ID

m:connect(mconf.HOST, mconf.PO</message>
</record>
<record>
  <date>2016-11-11T04:25:58</date>
  <millis>1478809558539</millis>
  <sequence>9186</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>365</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T04:25:58</date>
  <millis>1478809558550</millis>
  <sequence>9187</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:RT, 0, function(conn)

    print("connected")
    print("Your ID: " ..node.chipid())
    -- subscribe both topic

    m:subscribe({["Light1"]=0, ["Light2"]=0}, function(conn) 
        print("subscribe Light 1 and 2 success")
    end)
            
    m:p</message>
</record>
<record>
  <date>2016-11-11T04:25:58</date>
  <millis>1478809558583</millis>
  <sequence>9188</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>365</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T04:25:58</date>
  <millis>1478809558594</millis>
  <sequence>9189</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ublish("ID is: ", node.chipid(),0,0, function(conn) 
        print("sent ID") 
    end)

end, function(client, reason) print("failed reason: "..reason) end)


if m:connect(mconf.HOST, mconf.PORT, 0, function(conn) end) == true then
    m:publish("ID is: </message>
</record>
<record>
  <date>2016-11-11T04:25:58</date>
  <millis>1478809558626</millis>
  <sequence>9190</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>365</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T04:25:58</date>
  <millis>1478809558639</millis>
  <sequence>9191</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:", node.chipid(),0,0, function(conn) 
        print("sent ID") 
    end)
end
--m:publish("Read", adc.read(0),0,0, function(conn) print("sent adc read") end)
</message>
</record>
<record>
  <date>2016-11-11T04:25:58</date>
  <millis>1478809558661</millis>
  <sequence>9192</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>365</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T04:25:58</date>
  <millis>1478809558672</millis>
  <sequence>9193</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_cmd_close</message>
</record>
<record>
  <date>2016-11-11T04:25:58</date>
  <millis>1478809558685</millis>
  <sequence>9194</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>365</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;--</message>
</record>
<record>
  <date>2016-11-11T04:25:58</date>
  <millis>1478809558686</millis>
  <sequence>9195</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>365</thread>
  <message>recv:Done--&lt;CR&gt;&lt;LF&gt;&gt; &lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T04:25:58</date>
  <millis>1478809558708</millis>
  <sequence>9196</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T04:25:58</date>
  <millis>1478809558709</millis>
  <sequence>9197</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>365</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T04:25:58</date>
  <millis>1478809558711</millis>
  <sequence>9198</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>365</thread>
  <message>recv:&gt; &lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T04:25:58</date>
  <millis>1478809558730</millis>
  <sequence>9199</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:dofile("mqtt.lua")</message>
</record>
<record>
  <date>2016-11-11T04:25:58</date>
  <millis>1478809558731</millis>
  <sequence>9200</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>365</thread>
  <message>recv:do</message>
</record>
<record>
  <date>2016-11-11T04:25:58</date>
  <millis>1478809558734</millis>
  <sequence>9201</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>365</thread>
  <message>recv:file("mqtt.lua")&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T04:25:58</date>
  <millis>1478809558786</millis>
  <sequence>9202</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>365</thread>
  <message>recv:Runn</message>
</record>
<record>
  <date>2016-11-11T04:25:58</date>
  <millis>1478809558788</millis>
  <sequence>9203</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>365</thread>
  <message>recv:ing file mqtt&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T04:25:58</date>
  <millis>1478809558980</millis>
  <sequence>9204</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>365</thread>
  <message>recv:mqtt.lua:81: not connected&lt;CR&gt;&lt;LF&gt;sta</message>
</record>
<record>
  <date>2016-11-11T04:25:58</date>
  <millis>1478809558987</millis>
  <sequence>9205</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>365</thread>
  <message>recv:ck traceback:&lt;CR&gt;&lt;LF&gt;	[C]: in function 'publish'&lt;CR&gt;&lt;LF&gt;	mqtt.lua:81: in main chunk&lt;CR&gt;&lt;LF&gt;	[C]: in function 'dofile'&lt;CR&gt;&lt;LF&gt;	stdin:1: in main chunk&lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T04:25:59</date>
  <millis>1478809559053</millis>
  <sequence>9206</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>365</thread>
  <message>Operation done. Duration = 1198 ms</message>
</record>
<record>
  <date>2016-11-11T04:26:15</date>
  <millis>1478809575149</millis>
  <sequence>9207</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:node.restart()&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T04:26:15</date>
  <millis>1478809575153</millis>
  <sequence>9208</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with saved baud 115200...</message>
</record>
<record>
  <date>2016-11-11T04:26:15</date>
  <millis>1478809575216</millis>
  <sequence>9209</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success. Now we waiting for ESP reboot...</message>
</record>
<record>
  <date>2016-11-11T04:26:17</date>
  <millis>1478809577217</millis>
  <sequence>9210</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to reconnect with baud 115200...</message>
</record>
<record>
  <date>2016-11-11T04:26:17</date>
  <millis>1478809577219</millis>
  <sequence>9211</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:print(uart.setup(0, 115200, 8, 0, 1, 1 ))&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T04:26:17</date>
  <millis>1478809577480</millis>
  <sequence>9212</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Reconnect: Success.</message>
</record>
<record>
  <date>2016-11-11T04:26:17</date>
  <millis>1478809577530</millis>
  <sequence>9213</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T04:26:17</date>
  <millis>1478809577532</millis>
  <sequence>9214</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>366</thread>
  <message>
Communication with MCU established.</message>
</record>
<record>
  <date>2016-11-11T04:27:43</date>
  <millis>1478809663397</millis>
  <sequence>9215</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>We save known file mqtt.lua</message>
</record>
<record>
  <date>2016-11-11T04:27:43</date>
  <millis>1478809663398</millis>
  <sequence>9216</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to saving file mqtt.lua ...</message>
</record>
<record>
  <date>2016-11-11T04:27:43</date>
  <millis>1478809663400</millis>
  <sequence>9217</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Save file mqtt.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T04:27:43</date>
  <millis>1478809663402</millis>
  <sequence>9218</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP: Try to save file to ESP...</message>
</record>
<record>
  <date>2016-11-11T04:27:43</date>
  <millis>1478809663403</millis>
  <sequence>9219</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Try to save file to ESP in Turbo Mode...</message>
</record>
<record>
  <date>2016-11-11T04:27:43</date>
  <millis>1478809663411</millis>
  <sequence>9220</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>DataTurboSender: start "Smart Mode"</message>
</record>
<record>
  <date>2016-11-11T04:27:43</date>
  <millis>1478809663412</millis>
  <sequence>9221</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Starting...</message>
</record>
<record>
  <date>2016-11-11T04:27:43</date>
  <millis>1478809663537</millis>
  <sequence>9222</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local FILE="mqtt.lua" file.remove(FILE) file.open(FILE,"w+") uart.setup(0,115200,8,0,1,0)</message>
</record>
<record>
  <date>2016-11-11T04:27:43</date>
  <millis>1478809663539</millis>
  <sequence>9223</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>367</thread>
  <message>recv:lo</message>
</record>
<record>
  <date>2016-11-11T04:27:43</date>
  <millis>1478809663540</millis>
  <sequence>9224</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>367</thread>
  <message>recv:cal FILE="mqtt.l</message>
</record>
<record>
  <date>2016-11-11T04:27:43</date>
  <millis>1478809663541</millis>
  <sequence>9225</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>367</thread>
  <message>recv:ua" file.r</message>
</record>
<record>
  <date>2016-11-11T04:27:43</date>
  <millis>1478809663542</millis>
  <sequence>9226</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>367</thread>
  <message>recv:emove(FILE)</message>
</record>
<record>
  <date>2016-11-11T04:27:43</date>
  <millis>1478809663543</millis>
  <sequence>9227</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>367</thread>
  <message>recv: file.open</message>
</record>
<record>
  <date>2016-11-11T04:27:43</date>
  <millis>1478809663544</millis>
  <sequence>9228</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>367</thread>
  <message>recv:(FILE,"w+")</message>
</record>
<record>
  <date>2016-11-11T04:27:43</date>
  <millis>1478809663544</millis>
  <sequence>9229</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>367</thread>
  <message>recv: uart.set</message>
</record>
<record>
  <date>2016-11-11T04:27:43</date>
  <millis>1478809663547</millis>
  <sequence>9230</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>367</thread>
  <message>recv:up(0,115200,8,0,1,0)&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T04:27:43</date>
  <millis>1478809663741</millis>
  <sequence>9231</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>367</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T04:27:43</date>
  <millis>1478809663754</millis>
  <sequence>9232</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_Receiver=function(rcvBuf) if string.match(rcvBuf,"^ESP_cmd_close")==nil then file.write(string.gsub(rcvBuf, '\r', '')) uart.write(0, "&gt; ") else uart.on("data") </message>
</record>
<record>
  <date>2016-11-11T04:27:43</date>
  <millis>1478809663780</millis>
  <sequence>9233</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>367</thread>
  <message>recv:&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T04:27:43</date>
  <millis>1478809663797</millis>
  <sequence>9234</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:file.flush() file.close() FILE=nil rcvBuf=nil ESP_Receiver=nil uart.setup(0,115200,8,0,1,1) str="\r\n--Done--\r\n&gt; " print(str) str=nil collectgarbage() end end uart.on("data",'\r',ESP_Receiver,0)</message>
</record>
<record>
  <date>2016-11-11T04:27:43</date>
  <millis>1478809663840</millis>
  <sequence>9235</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>367</thread>
  <message>recv:&gt;</message>
</record>
<record>
  <date>2016-11-11T04:27:43</date>
  <millis>1478809663842</millis>
  <sequence>9236</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>367</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T04:27:43</date>
  <millis>1478809663861</millis>
  <sequence>9237</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:control = require "control"

mconf = require "mqtt_config"

print("Running file mqtt")
tmr.delay(100000)

control.status_LED(2000)

gpio6 = 6
gpio.mode(gpio6, gpio.OUTPUT)
gpio.write(gpio6, gpio.LOW)

gpio7 = 7
gpio.mode(gpio7, gpio.OUTPUT)
gpio.write(gp</message>
</record>
<record>
  <date>2016-11-11T04:27:43</date>
  <millis>1478809663890</millis>
  <sequence>9238</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>367</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T04:27:43</date>
  <millis>1478809663903</millis>
  <sequence>9239</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:io7, gpio.LOW)

--print (mconf.MQTTPASS)

-- init mqtt client with keepalive timer 120sec
m = mqtt.Client(mconf.ENDPOINT, 120, mconf.MQTTUSER, mconf.MQTTPASS)

-- setup Last Will and Testament (optional)
-- Broker will publish a message with qos = 0, ret</message>
</record>
<record>
  <date>2016-11-11T04:27:43</date>
  <millis>1478809663937</millis>
  <sequence>9240</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>367</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T04:27:43</date>
  <millis>1478809663956</millis>
  <sequence>9241</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ain = 0, data = "offline" 
-- to topic "/lwt" if client don't send keepalive packet
m:lwt("/lwt", "offline", 0, 0)

-- on / connect and offline event
m:on("connect", function(client) print ("device connected event") end)
m:on("offline", function(client) </message>
</record>
<record>
  <date>2016-11-11T04:27:43</date>
  <millis>1478809663987</millis>
  <sequence>9242</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>367</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T04:27:44</date>
  <millis>1478809664005</millis>
  <sequence>9243</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:print ("device offline event") end)

-- on / message event
m:on("message", function(conn, topic, data)
  print(topic.. " event registered" )
  if topic == "Light1" then
    if data == "ON" then
        print("received message: ON @ light1")
        gpio.</message>
</record>
<record>
  <date>2016-11-11T04:27:44</date>
  <millis>1478809664036</millis>
  <sequence>9244</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>367</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T04:27:44</date>
  <millis>1478809664053</millis>
  <sequence>9245</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:write(gpio6, gpio.HIGH)
    end
    if data == "OFF" then
        print("received message: OFF @ light1")
        gpio.write(gpio6, gpio.LOW)
    end
    
  end
    
  if topic == "Light2" then
    if data == "ON" then
        print("received message: ON</message>
</record>
<record>
  <date>2016-11-11T04:27:44</date>
  <millis>1478809664084</millis>
  <sequence>9246</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>367</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T04:27:44</date>
  <millis>1478809664102</millis>
  <sequence>9247</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending: @ light2")
        gpio.write(gpio7, gpio.HIGH)
    end
    if data == "OFF" then
        print("received message: OFF @ light2")
        gpio.write(gpio7, gpio.LOW)
    end
    
  end
     
end)

-- send0/publish chip ID

m:connect(mconf.HOST, mconf.PO</message>
</record>
<record>
  <date>2016-11-11T04:27:44</date>
  <millis>1478809664132</millis>
  <sequence>9248</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>367</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T04:27:44</date>
  <millis>1478809664145</millis>
  <sequence>9249</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:RT, 0, function(conn)

    print("connected")
    print("Your ID: " ..node.chipid())
    -- subscribe both topic

    m:subscribe({["Light1"]=0, ["Light2"]=0}, function(conn) 
        print("subscribe Light 1 and 2 success")
    end)
            
    m:p</message>
</record>
<record>
  <date>2016-11-11T04:27:44</date>
  <millis>1478809664176</millis>
  <sequence>9250</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>367</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T04:27:44</date>
  <millis>1478809664189</millis>
  <sequence>9251</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ublish("ID is: ", node.chipid(),0,0, function(conn) 
        print("sent ID") 
    end)
    
    tmr.alarm(2, 1000, tmr.ALARM_AUTO, function()
        m:publish("ADCnow", adc.read(0),0,0, function(conn) 
            print("sent ID") 
        end)
    end</message>
</record>
<record>
  <date>2016-11-11T04:27:44</date>
  <millis>1478809664219</millis>
  <sequence>9252</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>367</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T04:27:44</date>
  <millis>1478809664234</millis>
  <sequence>9253</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:)

end, function(client, reason) print("failed reason: "..reason) end)


--m:publish("Read", adc.read(0),0,0, function(conn) print("sent adc read") end)
</message>
</record>
<record>
  <date>2016-11-11T04:27:44</date>
  <millis>1478809664255</millis>
  <sequence>9254</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>367</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T04:27:44</date>
  <millis>1478809664276</millis>
  <sequence>9255</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_cmd_close</message>
</record>
<record>
  <date>2016-11-11T04:27:44</date>
  <millis>1478809664288</millis>
  <sequence>9256</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>367</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;-</message>
</record>
<record>
  <date>2016-11-11T04:27:44</date>
  <millis>1478809664289</millis>
  <sequence>9257</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>367</thread>
  <message>recv:-Done--&lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T04:27:44</date>
  <millis>1478809664290</millis>
  <sequence>9258</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>367</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T04:27:44</date>
  <millis>1478809664312</millis>
  <sequence>9259</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T04:27:44</date>
  <millis>1478809664313</millis>
  <sequence>9260</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>367</thread>
  <message>recv:&lt;CR&gt;</message>
</record>
<record>
  <date>2016-11-11T04:27:44</date>
  <millis>1478809664315</millis>
  <sequence>9261</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>367</thread>
  <message>recv:&lt;LF&gt;&gt; &lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T04:27:44</date>
  <millis>1478809664351</millis>
  <sequence>9262</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:dofile("mqtt.lua")</message>
</record>
<record>
  <date>2016-11-11T04:27:44</date>
  <millis>1478809664353</millis>
  <sequence>9263</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>367</thread>
  <message>recv:d</message>
</record>
<record>
  <date>2016-11-11T04:27:44</date>
  <millis>1478809664354</millis>
  <sequence>9264</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>367</thread>
  <message>recv:ofile("mqtt.lua")&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T04:27:44</date>
  <millis>1478809664619</millis>
  <sequence>9265</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>367</thread>
  <message>recv:Run</message>
</record>
<record>
  <date>2016-11-11T04:27:44</date>
  <millis>1478809664627</millis>
  <sequence>9266</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>367</thread>
  <message>recv:ning file mqtt&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T04:27:44</date>
  <millis>1478809664738</millis>
  <sequence>9267</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>367</thread>
  <message>recv:&gt;</message>
</record>
<record>
  <date>2016-11-11T04:27:44</date>
  <millis>1478809664739</millis>
  <sequence>9268</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>367</thread>
  <message>recv: </message>
</record>
<record>
  <date>2016-11-11T04:27:44</date>
  <millis>1478809664806</millis>
  <sequence>9269</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>367</thread>
  <message>Operation done. Duration = 1401 ms</message>
</record>
<record>
  <date>2016-11-11T04:27:52</date>
  <millis>1478809672384</millis>
  <sequence>9270</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>We save known file mqtt.lua</message>
</record>
<record>
  <date>2016-11-11T04:27:52</date>
  <millis>1478809672385</millis>
  <sequence>9271</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to saving file mqtt.lua ...</message>
</record>
<record>
  <date>2016-11-11T04:27:52</date>
  <millis>1478809672388</millis>
  <sequence>9272</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Save file mqtt.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T04:27:52</date>
  <millis>1478809672391</millis>
  <sequence>9273</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP: Try to save file to ESP...</message>
</record>
<record>
  <date>2016-11-11T04:27:52</date>
  <millis>1478809672394</millis>
  <sequence>9274</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Try to save file to ESP in Turbo Mode...</message>
</record>
<record>
  <date>2016-11-11T04:27:52</date>
  <millis>1478809672404</millis>
  <sequence>9275</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>DataTurboSender: start "Smart Mode"</message>
</record>
<record>
  <date>2016-11-11T04:27:52</date>
  <millis>1478809672405</millis>
  <sequence>9276</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Starting...</message>
</record>
<record>
  <date>2016-11-11T04:27:52</date>
  <millis>1478809672529</millis>
  <sequence>9277</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local FILE="mqtt.lua" file.remove(FILE) file.open(FILE,"w+") uart.setup(0,115200,8,0,1,0)</message>
</record>
<record>
  <date>2016-11-11T04:27:52</date>
  <millis>1478809672531</millis>
  <sequence>9278</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>369</thread>
  <message>recv:local</message>
</record>
<record>
  <date>2016-11-11T04:27:52</date>
  <millis>1478809672537</millis>
  <sequence>9279</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>369</thread>
  <message>recv: FILE="mqtt.lua" file.remove(FILE) file.open(FILE,"w+") uart.setup(0,</message>
</record>
<record>
  <date>2016-11-11T04:27:52</date>
  <millis>1478809672539</millis>
  <sequence>9280</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>369</thread>
  <message>recv:115200,8,0,1,0)&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T04:27:52</date>
  <millis>1478809672719</millis>
  <sequence>9281</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>369</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T04:27:52</date>
  <millis>1478809672733</millis>
  <sequence>9282</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_Receiver=function(rcvBuf) if string.match(rcvBuf,"^ESP_cmd_close")==nil then file.write(string.gsub(rcvBuf, '\r', '')) uart.write(0, "&gt; ") else uart.on("data") </message>
</record>
<record>
  <date>2016-11-11T04:27:52</date>
  <millis>1478809672761</millis>
  <sequence>9283</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>369</thread>
  <message>recv:&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T04:27:52</date>
  <millis>1478809672777</millis>
  <sequence>9284</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:file.flush() file.close() FILE=nil rcvBuf=nil ESP_Receiver=nil uart.setup(0,115200,8,0,1,1) str="\r\n--Done--\r\n&gt; " print(str) str=nil collectgarbage() end end uart.on("data",'\r',ESP_Receiver,0)</message>
</record>
<record>
  <date>2016-11-11T04:27:52</date>
  <millis>1478809672818</millis>
  <sequence>9285</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>369</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T04:27:52</date>
  <millis>1478809672838</millis>
  <sequence>9286</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:control = require "control"

mconf = require "mqtt_config"

print("Running file mqtt")
tmr.delay(100000)

control.status_LED(2000)

gpio6 = 6
gpio.mode(gpio6, gpio.OUTPUT)
gpio.write(gpio6, gpio.LOW)

gpio7 = 7
gpio.mode(gpio7, gpio.OUTPUT)
gpio.write(gp</message>
</record>
<record>
  <date>2016-11-11T04:27:52</date>
  <millis>1478809672867</millis>
  <sequence>9287</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>369</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T04:27:52</date>
  <millis>1478809672883</millis>
  <sequence>9288</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:io7, gpio.LOW)

--print (mconf.MQTTPASS)

-- init mqtt client with keepalive timer 120sec
m = mqtt.Client(mconf.ENDPOINT, 120, mconf.MQTTUSER, mconf.MQTTPASS)

-- setup Last Will and Testament (optional)
-- Broker will publish a message with qos = 0, ret</message>
</record>
<record>
  <date>2016-11-11T04:27:52</date>
  <millis>1478809672914</millis>
  <sequence>9289</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>369</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T04:27:52</date>
  <millis>1478809672928</millis>
  <sequence>9290</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ain = 0, data = "offline" 
-- to topic "/lwt" if client don't send keepalive packet
m:lwt("/lwt", "offline", 0, 0)

-- on / connect and offline event
m:on("connect", function(client) print ("device connected event") end)
m:on("offline", function(client) </message>
</record>
<record>
  <date>2016-11-11T04:27:52</date>
  <millis>1478809672959</millis>
  <sequence>9291</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>369</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T04:27:52</date>
  <millis>1478809672976</millis>
  <sequence>9292</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:print ("device offline event") end)

-- on / message event
m:on("message", function(conn, topic, data)
  print(topic.. " event registered" )
  if topic == "Light1" then
    if data == "ON" then
        print("received message: ON @ light1")
        gpio.</message>
</record>
<record>
  <date>2016-11-11T04:27:53</date>
  <millis>1478809673008</millis>
  <sequence>9293</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>369</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T04:27:53</date>
  <millis>1478809673021</millis>
  <sequence>9294</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:write(gpio6, gpio.HIGH)
    end
    if data == "OFF" then
        print("received message: OFF @ light1")
        gpio.write(gpio6, gpio.LOW)
    end
    
  end
    
  if topic == "Light2" then
    if data == "ON" then
        print("received message: ON</message>
</record>
<record>
  <date>2016-11-11T04:27:53</date>
  <millis>1478809673052</millis>
  <sequence>9295</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>369</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T04:27:53</date>
  <millis>1478809673064</millis>
  <sequence>9296</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending: @ light2")
        gpio.write(gpio7, gpio.HIGH)
    end
    if data == "OFF" then
        print("received message: OFF @ light2")
        gpio.write(gpio7, gpio.LOW)
    end
    
  end
     
end)

-- send0/publish chip ID

m:connect(mconf.HOST, mconf.PO</message>
</record>
<record>
  <date>2016-11-11T04:27:53</date>
  <millis>1478809673095</millis>
  <sequence>9297</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>369</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T04:27:53</date>
  <millis>1478809673115</millis>
  <sequence>9298</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:RT, 0, function(conn)

    print("connected")
    print("Your ID: " ..node.chipid())
    -- subscribe both topic

    m:subscribe({["Light1"]=0, ["Light2"]=0}, function(conn) 
        print("subscribe Light 1 and 2 success")
    end)
            
    m:p</message>
</record>
<record>
  <date>2016-11-11T04:27:53</date>
  <millis>1478809673147</millis>
  <sequence>9299</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>369</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T04:27:53</date>
  <millis>1478809673160</millis>
  <sequence>9300</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ublish("ID is: ", node.chipid(),0,0, function(conn) 
        print("sent ID") 
    end)
    
    tmr.alarm(2, 1000, tmr.ALARM_AUTO, function()
        m:publish("ADCnow", adc.read(0),0,0, function(conn) 
            print("sent ID") 
        end)
    end</message>
</record>
<record>
  <date>2016-11-11T04:27:53</date>
  <millis>1478809673191</millis>
  <sequence>9301</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>369</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T04:27:53</date>
  <millis>1478809673208</millis>
  <sequence>9302</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:)

end, function(client, reason) print("failed reason: "..reason) end)
</message>
</record>
<record>
  <date>2016-11-11T04:27:53</date>
  <millis>1478809673223</millis>
  <sequence>9303</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>369</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T04:27:53</date>
  <millis>1478809673240</millis>
  <sequence>9304</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_cmd_close</message>
</record>
<record>
  <date>2016-11-11T04:27:53</date>
  <millis>1478809673253</millis>
  <sequence>9305</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>369</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;--D</message>
</record>
<record>
  <date>2016-11-11T04:27:53</date>
  <millis>1478809673255</millis>
  <sequence>9306</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>369</thread>
  <message>recv:one--&lt;CR&gt;&lt;LF&gt;&gt; &lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T04:27:53</date>
  <millis>1478809673277</millis>
  <sequence>9307</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T04:27:53</date>
  <millis>1478809673278</millis>
  <sequence>9308</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>369</thread>
  <message>recv:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T04:27:53</date>
  <millis>1478809673280</millis>
  <sequence>9309</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>369</thread>
  <message>recv:&gt; &lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T04:27:53</date>
  <millis>1478809673312</millis>
  <sequence>9310</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:dofile("mqtt.lua")</message>
</record>
<record>
  <date>2016-11-11T04:27:53</date>
  <millis>1478809673314</millis>
  <sequence>9311</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>369</thread>
  <message>recv:do</message>
</record>
<record>
  <date>2016-11-11T04:27:53</date>
  <millis>1478809673315</millis>
  <sequence>9312</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>369</thread>
  <message>recv:file("mqtt.lua"</message>
</record>
<record>
  <date>2016-11-11T04:27:53</date>
  <millis>1478809673317</millis>
  <sequence>9313</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>369</thread>
  <message>recv:)&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T04:27:53</date>
  <millis>1478809673369</millis>
  <sequence>9314</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>369</thread>
  <message>recv:Running </message>
</record>
<record>
  <date>2016-11-11T04:27:53</date>
  <millis>1478809673370</millis>
  <sequence>9315</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>369</thread>
  <message>recv:file mqtt&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T04:27:53</date>
  <millis>1478809673488</millis>
  <sequence>9316</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>369</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T04:27:53</date>
  <millis>1478809673548</millis>
  <sequence>9317</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>369</thread>
  <message>Operation done. Duration = 1153 ms</message>
</record>
<record>
  <date>2016-11-11T04:28:13</date>
  <millis>1478809693678</millis>
  <sequence>9318</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>We save known file mqtt.lua</message>
</record>
<record>
  <date>2016-11-11T04:28:13</date>
  <millis>1478809693679</millis>
  <sequence>9319</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Try to saving file mqtt.lua ...</message>
</record>
<record>
  <date>2016-11-11T04:28:13</date>
  <millis>1478809693681</millis>
  <sequence>9320</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>Save file mqtt.lua: Success.</message>
</record>
<record>
  <date>2016-11-11T04:28:13</date>
  <millis>1478809693684</millis>
  <sequence>9321</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP: Try to save file to ESP...</message>
</record>
<record>
  <date>2016-11-11T04:28:13</date>
  <millis>1478809693685</millis>
  <sequence>9322</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Try to save file to ESP in Turbo Mode...</message>
</record>
<record>
  <date>2016-11-11T04:28:13</date>
  <millis>1478809693698</millis>
  <sequence>9323</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>DataTurboSender: start "Smart Mode"</message>
</record>
<record>
  <date>2016-11-11T04:28:13</date>
  <millis>1478809693699</millis>
  <sequence>9324</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileSaveESP-Turbo: Starting...</message>
</record>
<record>
  <date>2016-11-11T04:28:13</date>
  <millis>1478809693823</millis>
  <sequence>9325</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:local FILE="mqtt.lua" file.remove(FILE) file.open(FILE,"w+") uart.setup(0,115200,8,0,1,0)</message>
</record>
<record>
  <date>2016-11-11T04:28:13</date>
  <millis>1478809693825</millis>
  <sequence>9326</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>371</thread>
  <message>recv:lo</message>
</record>
<record>
  <date>2016-11-11T04:28:13</date>
  <millis>1478809693827</millis>
  <sequence>9327</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>371</thread>
  <message>recv:cal FILE="mqtt.lua" file.re</message>
</record>
<record>
  <date>2016-11-11T04:28:13</date>
  <millis>1478809693828</millis>
  <sequence>9328</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>371</thread>
  <message>recv:move(FILE) f</message>
</record>
<record>
  <date>2016-11-11T04:28:13</date>
  <millis>1478809693829</millis>
  <sequence>9329</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>371</thread>
  <message>recv:ile.open(FI</message>
</record>
<record>
  <date>2016-11-11T04:28:13</date>
  <millis>1478809693830</millis>
  <sequence>9330</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>371</thread>
  <message>recv:LE,"w+") uar</message>
</record>
<record>
  <date>2016-11-11T04:28:13</date>
  <millis>1478809693831</millis>
  <sequence>9331</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>371</thread>
  <message>recv:t.setup(0,1152</message>
</record>
<record>
  <date>2016-11-11T04:28:13</date>
  <millis>1478809693832</millis>
  <sequence>9332</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>371</thread>
  <message>recv:00,8,0,1,</message>
</record>
<record>
  <date>2016-11-11T04:28:13</date>
  <millis>1478809693834</millis>
  <sequence>9333</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>371</thread>
  <message>recv:0)&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T04:28:14</date>
  <millis>1478809694025</millis>
  <sequence>9334</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>371</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T04:28:14</date>
  <millis>1478809694043</millis>
  <sequence>9335</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_Receiver=function(rcvBuf) if string.match(rcvBuf,"^ESP_cmd_close")==nil then file.write(string.gsub(rcvBuf, '\r', '')) uart.write(0, "&gt; ") else uart.on("data") </message>
</record>
<record>
  <date>2016-11-11T04:28:14</date>
  <millis>1478809694071</millis>
  <sequence>9336</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>371</thread>
  <message>recv:&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T04:28:14</date>
  <millis>1478809694090</millis>
  <sequence>9337</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:file.flush() file.close() FILE=nil rcvBuf=nil ESP_Receiver=nil uart.setup(0,115200,8,0,1,1) str="\r\n--Done--\r\n&gt; " print(str) str=nil collectgarbage() end end uart.on("data",'\r',ESP_Receiver,0)</message>
</record>
<record>
  <date>2016-11-11T04:28:14</date>
  <millis>1478809694132</millis>
  <sequence>9338</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>371</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T04:28:14</date>
  <millis>1478809694148</millis>
  <sequence>9339</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:control = require "control"

mconf = require "mqtt_config"

print("Running file mqtt")
tmr.delay(100000)

control.status_LED(2000)

gpio6 = 6
gpio.mode(gpio6, gpio.OUTPUT)
gpio.write(gpio6, gpio.LOW)

gpio7 = 7
gpio.mode(gpio7, gpio.OUTPUT)
gpio.write(gp</message>
</record>
<record>
  <date>2016-11-11T04:28:14</date>
  <millis>1478809694177</millis>
  <sequence>9340</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>371</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T04:28:14</date>
  <millis>1478809694193</millis>
  <sequence>9341</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:io7, gpio.LOW)

--print (mconf.MQTTPASS)

-- init mqtt client with keepalive timer 120sec
m = mqtt.Client(mconf.ENDPOINT, 120, mconf.MQTTUSER, mconf.MQTTPASS)

-- setup Last Will and Testament (optional)
-- Broker will publish a message with qos = 0, ret</message>
</record>
<record>
  <date>2016-11-11T04:28:14</date>
  <millis>1478809694225</millis>
  <sequence>9342</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>371</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T04:28:14</date>
  <millis>1478809694238</millis>
  <sequence>9343</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ain = 0, data = "offline" 
-- to topic "/lwt" if client don't send keepalive packet
m:lwt("/lwt", "offline", 0, 0)

-- on / connect and offline event
m:on("connect", function(client) print ("device connected event") end)
m:on("offline", function(client) </message>
</record>
<record>
  <date>2016-11-11T04:28:14</date>
  <millis>1478809694269</millis>
  <sequence>9344</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>371</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T04:28:14</date>
  <millis>1478809694283</millis>
  <sequence>9345</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:print ("device offline event") end)

-- on / message event
m:on("message", function(conn, topic, data)
  print(topic.. " event registered" )
  if topic == "Light1" then
    if data == "ON" then
        print("received message: ON @ light1")
        gpio.</message>
</record>
<record>
  <date>2016-11-11T04:28:14</date>
  <millis>1478809694315</millis>
  <sequence>9346</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>371</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T04:28:14</date>
  <millis>1478809694328</millis>
  <sequence>9347</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:write(gpio6, gpio.HIGH)
    end
    if data == "OFF" then
        print("received message: OFF @ light1")
        gpio.write(gpio6, gpio.LOW)
    end
    
  end
    
  if topic == "Light2" then
    if data == "ON" then
        print("received message: ON</message>
</record>
<record>
  <date>2016-11-11T04:28:14</date>
  <millis>1478809694359</millis>
  <sequence>9348</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>371</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T04:28:14</date>
  <millis>1478809694372</millis>
  <sequence>9349</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending: @ light2")
        gpio.write(gpio7, gpio.HIGH)
    end
    if data == "OFF" then
        print("received message: OFF @ light2")
        gpio.write(gpio7, gpio.LOW)
    end
    
  end
     
end)

-- send0/publish chip ID

m:connect(mconf.HOST, mconf.PO</message>
</record>
<record>
  <date>2016-11-11T04:28:14</date>
  <millis>1478809694404</millis>
  <sequence>9350</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>371</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T04:28:14</date>
  <millis>1478809694421</millis>
  <sequence>9351</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:RT, 0, function(conn)

    print("connected")
    print("Your ID: " ..node.chipid())
    -- subscribe both topic

    m:subscribe({["Light1"]=0, ["Light2"]=0}, function(conn) 
        print("subscribe Light 1 and 2 success")
    end)
            
    m:p</message>
</record>
<record>
  <date>2016-11-11T04:28:14</date>
  <millis>1478809694453</millis>
  <sequence>9352</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>371</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T04:28:14</date>
  <millis>1478809694470</millis>
  <sequence>9353</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ublish("ID is: ", node.chipid(),0,0, function(conn) 
        print("sent ID") 
    end)
    
    tmr.alarm(2, 5000, tmr.ALARM_AUTO, function()
        m:publish("ADCnow", adc.read(0),0,0, function(conn) 
            print("sent ADC") 
        end)
    en</message>
</record>
<record>
  <date>2016-11-11T04:28:14</date>
  <millis>1478809694500</millis>
  <sequence>9354</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>371</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T04:28:14</date>
  <millis>1478809694512</millis>
  <sequence>9355</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:d)

end, function(client, reason) print("failed reason: "..reason) end)
</message>
</record>
<record>
  <date>2016-11-11T04:28:14</date>
  <millis>1478809694528</millis>
  <sequence>9356</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>371</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T04:28:14</date>
  <millis>1478809694541</millis>
  <sequence>9357</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:ESP_cmd_close</message>
</record>
<record>
  <date>2016-11-11T04:28:14</date>
  <millis>1478809694554</millis>
  <sequence>9358</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>371</thread>
  <message>recv:&lt;CR&gt;</message>
</record>
<record>
  <date>2016-11-11T04:28:14</date>
  <millis>1478809694556</millis>
  <sequence>9359</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>371</thread>
  <message>recv:&lt;LF&gt;--Done--&lt;CR&gt;&lt;LF&gt;&gt; &lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T04:28:14</date>
  <millis>1478809694576</millis>
  <sequence>9360</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T04:28:14</date>
  <millis>1478809694578</millis>
  <sequence>9361</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>371</thread>
  <message>recv:&lt;CR&gt;</message>
</record>
<record>
  <date>2016-11-11T04:28:14</date>
  <millis>1478809694580</millis>
  <sequence>9362</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>371</thread>
  <message>recv:&lt;LF&gt;&gt; &lt;CR&gt;&lt;LF&gt;&gt; </message>
</record>
<record>
  <date>2016-11-11T04:28:14</date>
  <millis>1478809694611</millis>
  <sequence>9363</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>371</thread>
  <message>recv:se</message>
</record>
<record>
  <date>2016-11-11T04:28:14</date>
  <millis>1478809694612</millis>
  <sequence>9364</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>371</thread>
  <message>recv:nt ID&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T04:28:14</date>
  <millis>1478809694614</millis>
  <sequence>9365</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending:dofile("mqtt.lua")</message>
</record>
<record>
  <date>2016-11-11T04:28:14</date>
  <millis>1478809694616</millis>
  <sequence>9366</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>371</thread>
  <message>recv:d</message>
</record>
<record>
  <date>2016-11-11T04:28:14</date>
  <millis>1478809694617</millis>
  <sequence>9367</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>371</thread>
  <message>recv:ofile("m</message>
</record>
<record>
  <date>2016-11-11T04:28:14</date>
  <millis>1478809694619</millis>
  <sequence>9368</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>371</thread>
  <message>recv:qtt.lua")&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T04:28:14</date>
  <millis>1478809694672</millis>
  <sequence>9369</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>371</thread>
  <message>recv:Runn</message>
</record>
<record>
  <date>2016-11-11T04:28:14</date>
  <millis>1478809694673</millis>
  <sequence>9370</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>371</thread>
  <message>recv:ing file mqtt&lt;CR&gt;&lt;LF&gt;</message>
</record>
<record>
  <date>2016-11-11T04:28:14</date>
  <millis>1478809694791</millis>
  <sequence>9371</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>371</thread>
  <message>recv:&gt; </message>
</record>
<record>
  <date>2016-11-11T04:28:14</date>
  <millis>1478809694847</millis>
  <sequence>9372</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>371</thread>
  <message>Operation done. Duration = 1159 ms</message>
</record>
<record>
  <date>2016-11-11T04:28:48</date>
  <millis>1478809728893</millis>
  <sequence>9373</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileManager: Add EventListener: Success.</message>
</record>
<record>
  <date>2016-11-11T04:28:48</date>
  <millis>1478809728898</millis>
  <sequence>9374</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>FileManager: Starting...</message>
</record>
<record>
  <date>2016-11-11T04:28:49</date>
  <millis>1478809729020</millis>
  <sequence>9375</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>13</thread>
  <message>sending: _dir=function() local k,v,l print("~~~File ".."list START~~~") for k,v in pairs(file.list()) do l = string.format("%-15s",k) print(l.." : "..v.." bytes") end print("~~~File ".."list END~~~") end _dir() _dir=nil</message>
</record>
<record>
  <date>2016-11-11T04:28:49</date>
  <millis>1478809729192</millis>
  <sequence>9376</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>373</thread>
  <message>FileManager: File list found! Do parsing...</message>
</record>
<record>
  <date>2016-11-11T04:28:49</date>
  <millis>1478809729203</millis>
  <sequence>9377</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>373</thread>
  <message>FileManager found file config.txt</message>
</record>
<record>
  <date>2016-11-11T04:28:49</date>
  <millis>1478809729218</millis>
  <sequence>9378</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>373</thread>
  <message>FileManager found file control.lua</message>
</record>
<record>
  <date>2016-11-11T04:28:49</date>
  <millis>1478809729228</millis>
  <sequence>9379</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>373</thread>
  <message>FileManager found file init.lua</message>
</record>
<record>
  <date>2016-11-11T04:28:49</date>
  <millis>1478809729234</millis>
  <sequence>9380</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>373</thread>
  <message>FileManager found file misc.lua</message>
</record>
<record>
  <date>2016-11-11T04:28:49</date>
  <millis>1478809729246</millis>
  <sequence>9381</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>373</thread>
  <message>FileManager found file mqtt.lua</message>
</record>
<record>
  <date>2016-11-11T04:28:49</date>
  <millis>1478809729254</millis>
  <sequence>9382</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>373</thread>
  <message>FileManager found file mqtt_config.lua</message>
</record>
<record>
  <date>2016-11-11T04:28:49</date>
  <millis>1478809729257</millis>
  <sequence>9383</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>373</thread>
  <message>FileManager: File list parsing done, found 6 file(s).</message>
</record>
<record>
  <date>2016-11-11T04:28:49</date>
  <millis>1478809729289</millis>
  <sequence>9384</sequence>
  <logger>ESPlorer.ESPlorer</logger>
  <level>INFO</level>
  <class>ESPlorer.ESPlorer</class>
  <method>log</method>
  <thread>373</thread>
  <message>sending:r,u,t=file.fsinfo() print("Total : "..t.." bytes\r\nUsed  : "..u.." bytes\r\nRemain: "..r.." bytes\r\n") r=nil u=nil t=nil&lt;CR&gt;&lt;LF&gt;</message>
</record>
